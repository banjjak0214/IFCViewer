"use strict";var _slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var app=angular.module("app",["ui.router","routesModule","LocalStorageModule","uiGmapgoogle-maps","ngProgress","ui-notification","ngMap","ui.select","ui.select2","ngSanitize","color.picker","ui.bootstrap","datatables","ngTagsInput","ngFileUpload","infinite-scroll","ui.tree","angularMoment","btorfs.multiselect","htmlToPdfSave","dndLists","angular.chips","ui.bootstrap.contextMenu","cloudinary","FileSaver","moment-picker","ngDragToReorder"]);function config(NotificationProvider,uiGmapGoogleMapApiProvider,treeConfig,cloudinaryProvider){uiGmapGoogleMapApiProvider.configure({key:"AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",v:"3.exp",libraries:"places,weather,geometry,visualization"}),NotificationProvider.setOptions({delay:3e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"}),treeConfig.defaultCollapsed=!0,cloudinaryProvider.set("cloud_name","dktnhmsjx").set("upload_preset","cloudes_frontend")}function routeConfig($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("preLogin",{url:"/",templateUrl:"/partials/preLogin.html",controller:"preLoginCtrl as vm"}),$stateProvider.state("dashboard",{url:"/dashboard",templateUrl:"/partials/dashboard.html",controller:"dashboardCtrl as vm"}),$stateProvider.state("createProject",{url:"/create_project",templateUrl:"/partials/createProject.html",controller:"createProjectCtrl as vm"}),$stateProvider.state("visualPlanner",{url:"/visual_planner",templateUrl:"/partials/visualPlanner.html",controller:"visualPlannerCtrl as vm"}),$stateProvider.state("projects",{url:"/projects",templateUrl:"/partials/projects.html",controller:"projectCtrl as vm"}),$stateProvider.state("materials",{url:"/materials",templateUrl:"/partials/materials.html",controller:"materialCtrl as vm"}),$stateProvider.state("materialView",{url:"/material/:id",templateUrl:"/partials/materialView.html",controller:"materialViewCtrl as vm"}),$stateProvider.state("comboMaterialView",{url:"/combo_material/:id",templateUrl:"/partials/comboMaterialView.html",controller:"comboMaterialViewCtrl as vm"}),$stateProvider.state("equipments",{url:"/equipments",templateUrl:"/partials/equipments.html",controller:"equipmentCtrl as vm"}),$stateProvider.state("equipmentView",{url:"/equipmentView/:id",templateUrl:"/partials/equipmentView.html",controller:"equipmentViewCtrl as vm"}),$stateProvider.state("fileManager",{url:"/file_manager",templateUrl:"/partials/fileManager.html",controller:"fileManagerCtrl as vm"}),$stateProvider.state("fileManagerOld",{url:"/file_manager_old",templateUrl:"/partials/fileManager-old.html",controller:"fileManagerCtrl as vm"}),$stateProvider.state("payroll",{url:"/payroll",templateUrl:"/partials/payroll.html",controller:"payrollCtrl as vm"}),$stateProvider.state("calculation",{url:"/calculation",templateUrl:"/partials/calculation.html",controller:"calculationCtrl as vm"}),$stateProvider.state("report",{url:"/report",templateUrl:"/partials/reports.html",controller:"reportsCtrl as vm"}),$stateProvider.state("issues",{url:"/issues",templateUrl:"/partials/issues.html",controller:"issuesCtrl as vm"}),$stateProvider.state("issuesDetail",{url:"/issues_details/:id",templateUrl:"/partials/issues_details.html",controller:"issueDetailCtrl as vm"}),$stateProvider.state("reportsDetail",{url:"/reports_details/:id",templateUrl:"/partials/reportsdetails.html",controller:"reportDetailCtrl as vm"}),$stateProvider.state("billingArchive",{url:"/billing_archive",templateUrl:"/partials/billingArchive.html",controller:"billingArchiveCtrl as vm"}),$stateProvider.state("reportsListing",{url:"/reports_listing",templateUrl:"/partials/reportsListing.html",controller:"reportsListingCtrl as vm"}),$stateProvider.state("3dDashboard",{url:"/3d_dashboard",templateUrl:"/partials/3d-dashboard.html",controller:"_3dDashboardCtrl as vm"}),$stateProvider.state("setPassword",{url:"/set_password",templateUrl:"/partials/set_password.html",controller:"setPasswordCtrl as vm"}),$stateProvider.state("setting",{url:"/setting",templateUrl:"/partials/setting.html",controller:"settingCtrl as vm"}),$stateProvider.state("employees",{url:"/employees",templateUrl:"/partials/employee.html",controller:"employeesCtrl as vm"}),$stateProvider.state("3dviewer",{url:"/3dviewer",templateUrl:"/partials/3d-viewer.html",controller:"_3dviewerCtrl as vm"}),$stateProvider.state("clients",{url:"/clients",templateUrl:"/partials/clients.html",controller:"clientsCtrl as vm"}),$stateProvider.state("supplier",{url:"/supplier",templateUrl:"/partials/supplier.html",controller:"supplierCtrl as vm"}),$stateProvider.state("supplierDetail",{url:"/supplier_details/:id",templateUrl:"/partials/supplierdetails.html",controller:"supplierDetailCtrl as vm"}),$stateProvider.state("subcontractor",{url:"/subcontractor",templateUrl:"/partials/subcontractor.html",controller:"subcontractorCtrl as vm"}),$stateProvider.state("subcontractorDetail",{url:"/subcontractor_details/:id",templateUrl:"/partials/subcontractordetails.html",controller:"subcontractorDetailCtrl as vm"}),$stateProvider.state("meetingroom",{url:"/meetingroom",templateUrl:"/partials/meetingRoom.html",controller:"meetingRoomCtrl as vm"}),$stateProvider.state("calender",{url:"/calender",templateUrl:"/partials/calender.html",controller:"calenderCtrl as vm"}),$stateProvider.state("todo",{url:"/todo",templateUrl:"/partials/todo.html",controller:"todoCtrl as vm"}),$stateProvider.state("todoView",{url:"/todoView/:id",templateUrl:"/partials/todoView.html",controller:"todoViewCtrl as vm"}),$stateProvider.state("clientsDetail",{url:"/clients_detail/:id",templateUrl:"partials/clientsdetail.html",controller:"clientsDetailCtrl as vm"}),$stateProvider.state("systemtags",{url:"/systemtags",templateUrl:"partials/systemtags.html",controller:"systemTagsCtrl as vm"}),$stateProvider.state("economic",{url:"/economic",templateUrl:"/partials/economic.html",controller:"economicCtrl as vm"}),$stateProvider.state("createInvoice",{url:"/createInvoice",templateUrl:"/partials/createInvoice.html",controller:"createInvoiceCtrl as vm"}),$stateProvider.state("createVariationsOrder",{url:"/createVariationsOrder",templateUrl:"/partials/createVariationsOrder.html",controller:"createVariationsOrderCtrl as vm"}),$stateProvider.state("invoice",{url:"/invoice",templateUrl:"/partials/invoice.html",controller:"invoiceCtrl as vm"}),$stateProvider.state("invoiceList",{url:"/invoiceList",templateUrl:"/partials/invoiceList.html",controller:"invoiceListCtrl as vm"}),$stateProvider.state("supplierDetails",{url:"/supplierDetails",templateUrl:"/partials/supplierdetails.html",controller:"supplierDetailsCtrl as vm"}),$stateProvider.state("workingHours",{url:"/workingHours",templateUrl:"/partials/supplierdetails.html",controller:"workingHoursCtrl as vm"}),$stateProvider.state("economicPayroll",{url:"/economicPayroll",templateUrl:"/partials/economicPayroll.html",controller:"economicPayrollCtrl as vm"}),$stateProvider.state("AR",{url:"/AR",templateUrl:"/partials/AR.html",controller:"ARCtrl as vm"})}app.config(config),angular.module("routesModule",[]).config(routeConfig),function(){angular.module("app").factory("apiFactory",function($http,$state,$location,localStorageService,globals,Upload,Notification,$q){var _ref,url="https://api.staging.cloudes.eu",headers=function(method,token){return{"Content-Type":"GET"===method?void 0:"application/json","x-access-token":token?localStorageService.get("access-token"):void 0,platform:JSON.stringify({source:"web"})}},progress=globals.progress,logout=(globals.userStore,globals.logout);return _defineProperty(_ref={login:function(payload){var promise=this.progressify($http({url:url+"/authenticate",method:"POST",headers:headers("POST"),data:payload}));return promise},forgotPassword:function(payload){var promise=this.progressify($http({url:url+"/forgetPassword",method:"POST",headers:headers("POST"),data:payload}));return promise},registration:function(payload){var promise=this.progressify($http({url:url+"/dashboardRegistration",method:"POST",headers:headers("POST"),data:payload}));return promise},subscribe:function(payload){var promise=this.progressify($http({url:url+"/subscribe",method:"POST",headers:headers("POST"),data:payload}));return promise},getCompanyById:function(companyId){var promise=this.progressify($http({url:url+"/api/getCompanyById/"+companyId,method:"GET",headers:headers("GET",!0)}));return promise},listAllUsers:function(){var promise=this.progressify($http({url:url+"/api/getadminusers",method:"GET",headers:headers("GET",!0)}));return promise},listAllProjects:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllProjects"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllClients:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllClients"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllRoofers:function(){var promise=this.progressify($http({url:url+"/api/listAllRoofers",method:"GET",headers:headers("GET",!0)}));return promise},createProject:function(payload){var promise=this.progressify($http({url:url+"/api/createProject",method:"POST",headers:headers("POST",!0),data:payload}));return promise},createIssue:function(issueobj){console.log("in create issue api",issueobj);var promise=this.progressify(Upload.upload({url:url+"/api/createIssue",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},createIssueS3Upload:function(issueobj){var promise=this.progressify(Upload.upload({url:url+"/api/createIssueForS3",method:"POST",data:issueobj,headers:headers("POST",!0)}));return promise},getIssueById:function(issueID){var promise=this.progressify($http({url:url+"/api/getIssueById/"+issueID,method:"GET",headers:headers("GET",!0)}));return promise},getClientById:function(clientID){var promise=this.progressify($http({url:url+"/api/getClientById/"+clientID,method:"GET",headers:headers("GET",!0)}));return promise},updateIssue:function(issueobj,id){var promise=this.progressify(Upload.upload({url:url+"/api/updateIssue/"+id,method:"PUT",data:issueobj,headers:headers("PUT",!0)}));return promise},getProjectRoofPlans:function(projectId){var promise=this.progressify($http({url:url+"/api/getProjectRoofPlans/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise},saveRoofPlan:function(roofPlanId,payload){var promise=this.progressify($http({url:url+"/api/saveRoofPlan/"+roofPlanId,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},createMaterials:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createMaterial",data:payload,headers:headers("POST",!0)}));return promise},createEquipment:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createEquipment",data:payload,headers:headers("POST",!0)}));return promise},listAllMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllComboMaterials:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listComboMaterials"+query,method:"GET",headers:headers("GET",!0)}));return promise},listAllEquipments:function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllEquipments"+query,method:"GET",headers:headers("GET",!0)}));return promise},updateMaterialById:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateMaterialById/"+id,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},updateEquipmentById:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateEquipmentById/"+id,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise},getMaterialById:function(materialID){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+materialID,method:"GET",headers:headers("GET",!0)}));return promise},getComboMaterialById:function(comboId){var promise=this.progressify($http({url:url+"/api/getComboMaterialById/"+comboId,method:"GET",headers:headers("GET",!0)}));return promise},getEquipmentById:function(id){var promise=this.progressify($http({url:url+"/api/getEquipmentById/"+id,method:"GET",headers:headers("GET",!0)}));return promise},createComboMaterial:function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/createComboMaterial",method:"POST",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterialList:function(id,payload){var promise=this.progressify($http({url:url+"/api/updateComboMaterialList/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},updateComboMaterial:function(id,payload){var promise=this.progressify(Upload.upload({url:url+"/api/updateComboMaterial/"+id,method:"PUT",headers:headers("POST",!0),data:payload}));return promise},showConversionRate:function(payload){var promise=this.progressify($http({url:url+"/api/showConversionRate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}},"getMaterialById",function(id){var promise=this.progressify($http({url:url+"/api/getMaterialById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"progressify",function(promise){return new Promise(function(resolve,reject){progress.start(),promise.then(function(resp){progress.complete(),resolve(resp)}).catch(function(err){progress.complete(),401===err.status&&logout(),reject(err)})})}),_defineProperty(_ref,"listAllIssues",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listAllIssues"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getIssuesList",function(){var promise=this.progressify($http({url:url+"/api/allIssues",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"isTokenValid",function(payload){var promise=this.progressify($http({url:url+"/isTokenValid",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"setPassword",function(payload){var promise=this.progressify($http({url:url+"/resetPasswordAdmin",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"updateRoleBasedAccess",function(payload){var promise=this.progressify($http({url:url+"/api/updateRoleBasedAccess",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"addHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addHierarchy",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getHierarchyChildren",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/getHierarchyChildren/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchy",function(projectId){var promise=this.progressify($http({url:url+"/api/getHierarchy/"+projectId+"?depth=2",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"viewProjectAssets",function(projectId){var promise=this.progressify($http({url:url+"/api/viewProjectAssets/"+projectId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addFileToHierarchy",function(payload){var promise=this.progressify($http({url:url+"/api/addFileToHierarchy",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"viewHierarchy",function(hierarchyId){var promise=this.progressify($http({url:url+"/api/viewHierarchy/"+hierarchyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"cloneAssets",function(payload){var promise=this.progressify($http({url:url+"/api/cloneAssets",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"uploadFileInFileManager",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/uploadFileInFileManager",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"dragMoveNodes",function(payload){var promise=this.progressify($http({url:url+"/api/dragMoveNodes",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"moveAssets",function(payload){var promise=this.progressify($http({url:url+"/api/moveAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"deleteAssets",function(payload){var promise=this.progressify($http({url:url+"/api/deleteAssets",method:"PUT",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"get3DPage",function(){var token=localStorageService.get("access-token"),Data3D={"x-access-token":token,projectId:"5b697c030a7e97056835a94a"},promise=this.progressify($http({url:"https://cloudes-3d.com",method:"POST",data:Data3D}));return promise}),_defineProperty(_ref,"createClient",function(client){console.log("client in api factory",client);var promise=this.progressify($http({url:url+"/api/createClient",method:"POST",headers:headers("POST",!0),data:client}));return promise}),_defineProperty(_ref,"saveHierarchyTree",function(projectId,name){var promise=this.progressify($http({url:url+"/api/saveHierarchyTree/"+projectId,method:"PUT",headers:headers("POST",!0),data:name}));return promise}),_defineProperty(_ref,"getSystemTag",function(){var promise=this.progressify($http({url:url+"/api/getComboSystemTag",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"bookMarkProject",function(id,added){var promise=this.progressify($http({url:url+"/api/bookMarkProject",method:"PUT",data:{projectId:id,added:added},headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getBookmarks",function(){var promise=this.progressify($http({url:url+"/api/getBookmarks",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getHierarchyTemplate",function(){var promise=this.progressify($http({url:url+"/api/getHierarchyTemplate",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"loadHierarchyTree",function(payload){var promise=this.progressify($http({url:url+"/api/loadHierarchyTree",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newFileUpload",function(payload){var promise=this.progressify($http({url:url+"/api/newFileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/showProjectFiles"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"changeProjectTemplate",function(payload){var promise=this.progressify($http({url:url+"/api/changeProjectTemplate",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"showProjectFiles",function(id,limit){var promise=this.progressify($http({url:url+"/api/showProjectFiles/"+id+"?limit="+limit,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getProjectById",function(id){var promise=this.progressify($http({url:url+"/api/getProjectById/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"checkAssetDuplicate",function(payload){var promise=this.progressify($http({url:url+"/api/checkAssetDuplicate",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"createNewSupplier",function(supplier){var promise=this.progressify(Upload.upload({url:url+"/api/addsupplier",method:"POST",data:supplier,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getAllSuppliers",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listallsuppliers"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getAllSubcontractors",function(queryObj){var query=queryObj?Object.keys(queryObj).reduce(function(acc,v){var str=v+"="+queryObj[v]+"&";return acc+=str},"?"):"";query=query.slice(0,-1);var promise=this.progressify($http({url:url+"/api/listallsubcontractor"+query,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"addProjectRoofPlan",function(payload,projectId){var promise=this.progressify($http({url:url+"/api/addProjectRoofPlan",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"generateRoofPlans",function(payload){var promise=this.progressify($http({url:url+"/api/generateRoofPlans",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"addRoofPlansFromAsset",function(payload){var promise=this.progressify($http({url:url+"/api/addRoofPlansFromAsset",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"getSupplierById",function(supplierID){var promise=this.progressify($http({url:url+"/api/getsupplier/"+supplierID,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"createNewSubcontractor",function(subcontractor){var promise=this.progressify(Upload.upload({url:url+"/api/addsubcontractor",method:"POST",data:subcontractor,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getSubcontractorById",function(supplierID){var promise=this.progressify($http({url:url+"/api/getsubcontractor/"+supplierID,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"issueImage",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/issueImage",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newIssues3FileUpload",function(payload){console.log("IN S3 ISSUE FUNCTION");var promise=this.progressify($http({url:url+"/api/newIssues3FileUpload",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"postCommentForIssue",function(id,comment){console.log("Comment: ",comment);var promise=this.progressify($http({url:url+"/api/addcomment/"+id,method:"PUT",data:comment,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"saveLocalIssueAsset",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/saveLocalIssueAsset",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"postMarkImg",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/postmarkings",method:"POST",headers:headers("POST",!0),data:payload}));return promise}),_defineProperty(_ref,"reOpenIssueStatusUpdate",function(id){var promise=this.progressify($http({url:url+"/api/reopenStatus/"+id,method:"PUT",data:{completionStatus:"OPEN"},headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"getAllAtOnce",function(){var deferred=$q.defer(),infoPromise=$http({url:url+"/api/getadminusers",method:"GET",headers:headers("GET",!0)}),detailsPromise=$http({url:url+"/api/listAllRoofers",method:"GET",headers:headers("GET",!0)});$q.all([infoPromise,detailsPromise]).then(function(data){return deferred.resolve({fruitInfo:data[0],fruitDetails:data[1]}),deferred.promise})}),_defineProperty(_ref,"saveIssueAsComplete",function(id,object){console.log(object);var promise=this.progressify(Upload.upload({url:url+"/api/markissueascomplete/"+id,method:"PUT",data:object,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"addStaffMember",function(staff,id){var promise=this.progressify($http({url:url+"/api/addstaffmember/"+id,method:"PUT",data:staff,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"saveSystemTag",function(object){var promise=this.progressify($http({url:url+"/api/createTag",method:"POST",data:object,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getAllSystemTags",function(){var promise=this.progressify($http({url:url+"/api/getTagsList",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"deleteSystemTag",function(id){var promise=this.progressify($http({url:url+"/api/deletetag/"+id,method:"DELETE",headers:headers("DELETE",!0)}));return promise}),_defineProperty(_ref,"updateSubcontractor",function(subcontractor){var promise=this.progressify(Upload.upload({url:url+"/api/updatesubcontractor/"+subcontractor._id,method:"PUT",data:subcontractor,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"updateSupplier",function(supplier){console.log(supplier);var promise=this.progressify(Upload.upload({url:url+"/api/updatesupplier/"+supplier._id,method:"PUT",data:supplier,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"createTodoList",function(input){console.log(input);var promise=this.progressify($http({url:url+"/api/createTodo",method:"POST",data:input,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"listAllTodoList",function(id){var apiURL=id?"/api/getTodoList?todoId="+id:"/api/getTodoList",promise=this.progressify($http({url:url+apiURL,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"updateTodoList",function(id,object){var promise=this.progressify($http({url:url+"/api/updateTodoList/"+id,method:"PUT",data:object,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"getAllMembersInCurrentCompany",function(companyId){var promise=this.progressify($http({url:url+"/api/getCurrentCompanyMembers/"+companyId,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"createEvent",function(input){console.log(input);var promise=this.progressify(Upload.upload({url:url+"/api/createEvent",method:"POST",data:input,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"updateMyEvent",function(input,eventId){console.log(input);var promise=this.progressify($http({url:url+"/api/updateEvent/"+eventId,method:"PUT",data:input,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"getAllEvents",function(id){var apiURL=id?"/api/getAllEvents?eventId="+id:"/api/getAllEvents",promise=this.progressify($http({url:url+apiURL,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"getAccessMeetingRoomToken",function(){var promise=$http({url:url+"/api/getAccessMeetingRoomToken",method:"GET",headers:headers("GET",!0)});return promise}),_defineProperty(_ref,"inviteUsersToMeeting",function(payload){var promise=this.progressify($http({url:url+"/api/inviteUsersToMeeting",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"newMeetingFileMessage",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/newMeetingFileMessage",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"getMeetingTodo",function(payload){var promise=$http({url:url+"/api/getMeetingTodo",method:"POST",data:payload,headers:headers("POST",!0)});return promise}),_defineProperty(_ref,"changeCompanyCurrency",function(payload){var promise=this.progressify($http({url:url+"/api/changeCompanyCurrency",method:"PUT",data:payload,headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"getTwilioAccessToken",function(){var promise=this.progressify($http({url:url+"/api/getTwilioAccessToken",method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"createInvoice",function(payload){var promise=this.progressify($http({url:url+"/api/createInvoice",method:"POST",data:payload,headers:headers("POST",!0)}));return promise}),_defineProperty(_ref,"listAllProjectInvoice",function(projectTag){var promise=this.progressify($http({url:url+"/api/listAllProjectInvoice/"+projectTag,method:"GET",headers:headers("GET",!0)}));return promise}),_defineProperty(_ref,"editIssueMarkings",function(payload){var promise=this.progressify(Upload.upload({url:url+"/api/editIssueMarkings",method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"updateCompanyLogo",function(payload){this.progressify(Upload.upload({url:url+"/api/updateCompanyLogo",method:"POST",headers:headers("POST",!0),data:payload}))}),_defineProperty(_ref,"updateCompanyById",function(companyId,payload){var promise=this.progressify($http({url:url+"/api/updateCompanyById/"+companyId,method:"PUT",headers:headers("PUT",!0),data:payload}));return promise}),_defineProperty(_ref,"getAllSystemTags",function(){var promise=this.progressify($http({url:url+"/api/getAllSystemTags",method:"GET",headers:headers("PUT",!0)}));return promise}),_defineProperty(_ref,"listAllStaffs",function(id){var promise=this.progressify($http({url:url+"/api/getAllStaffs/"+id,method:"GET",headers:headers("GET",!0)}));return promise}),_ref})}(),function(){angular.module("app").factory("authFactory",function($http,$location,localStorageService){return{checkUser:function(){var token=localStorageService.get("access-token");return!(!token||""==token)},checkPrivilege:function(type,subType){var _localStorageService$=localStorageService.get("userData"),privilege=_localStorageService$.privilege,_localStorageService$2=localStorageService.get("companyData"),privileges=_localStorageService$2.privileges;return privilege<=privileges[type][subType]}}})}(),function(){angular.module("app").factory("fileManagerFactory",function(apiFactory,Notification){return{clipBoard:(items={type:0,data:[],source:null},{copy:function(item){items.source=null,items.type=0,items.data=[item]},cut:function(item,source){items.source=source,items.type=1,items.data=[item]},paste:function(destId){return new Promise(function(resolve,reject){if(items.data.length<1)return Notification.warning("Clipboard is empty"),void resolve(!1);var apiType=0===items.type?"cloneAssets":"moveAssets",payload={assetId:items.data.map(function(x){return x._id}),sourceId:0===items.type?void 0:items.source,destId:0===items.type?void 0:destId,hierarchyId:0===items.type?destId:void 0};apiFactory[apiType](payload).then(function(resp){Notification.success(resp.data.message),items={type:0,data:[],source:null},resolve(!0)}).catch(function(e){console.log(e),reject(!1)})})}}),navigationStack:function(){var stack=[],head=stack.length-1;return{push:function(item){stack.splice(head+1,stack.length,item),head=stack.length-1},forward:function(){if(stack.length&&head!==stack.length-1)return stack[++head]?(stack[head].toggle(),stack[head]):void 0},backward:function(){if(stack.length&&!(head<0))return stack[head]?(stack[head].toggle(),stack[--head]):void 0}}},breadCrumb:function(){var breadCrumbs=[];return{set:function(val){breadCrumbs.push(val)},get:function(){return breadCrumbs}}},splitDestination:function(filesArray){return filesArray.reduce(function(acc,x){return x.size<5e7&&("application/pdf"===x.type||/image*/.test(x.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})},resolveDestType:function(file){return file.size<5e7&&("application/pdf"===file.type||/image*/.test(file.type))?2:1},checkUploadCompletion:function(files){var bool=!0;return files.s3.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),files.cloudinary.forEach(function(x){x.completed||x.aborted||!bool||(bool=!1)}),bool},checkDuplicateFiles:function(files,destId){return new Promise(function(resolve,reject){apiFactory.checkAssetDuplicate({assetNames:files.map(function(x){return x.name}),destId:destId}).then(function(resp){var duplicateFiles=files.map(function(x){return x.action="rename",x.assetName=x.name,x}).reduce(function(acc,x){return-1===resp.data.duplicates.indexOf(x.name)?acc.uploadFiles.push(x):acc.duplicates.push(x),acc},{duplicates:[],uploadFiles:[]});resolve(duplicateFiles)}).catch(function(e){reject(e)})})},checkNameChange:function(files){return files.filter(function(x){return"rename"===x.action}).reduce(function(acc,x){return acc=acc||x.assetName===x.name},!1)},generateVersion:function(fileName){return fileName+" (v"+Date.now()+")"},generateThumbnail:function(file){var reader=new FileReader;reader.onload=function(){pdfjsLib.getDocument({url:reader.result}).then(function(doc){doc.getPage(1).then(function(page){console.log("page!!!",page);var viewport=page.getViewport(1),canvas=document.createElement("canvas"),context=canvas.getContext("2d");canvas.height=viewport.height,canvas.width=viewport.width;var task=page.render({canvasContext:context,viewport:viewport});task.promise.then(function(){var dataURL=canvas.toDataURL("image/png"),link=document.createElement("a");link.download="roofplan_image_"+Date.now(),link.href=dataURL,document.body.appendChild(link),link.click(),document.body.removeChild(link)})})})},reader.readAsDataURL(file)},splitFileDest:function(filesArray){return filesArray.reduce(function(acc,x){return x.file.size<5e7&&("application/pdf"===x.file.type||/image*/.test(x.file.type))?acc.cloudinary.push(x):acc.s3.push(x),acc},{s3:[],cloudinary:[]})}};var items})}(),function(){angular.module("app").factory("globals",function($http,$state,$location,ngProgressFactory,Notification,localStorageService){var throttler=(enabled=!0,function(fn){enabled&&(enabled=!1,setTimeout(function(){enabled=!0}),fn())});var enabled;return{progress:(progressbar=ngProgressFactory.createInstance(),progressbar),logout:function(){localStorageService.remove("access-token"),localStorageService.remove("userData"),localStorageService.remove("companyData"),localStorageService.set("currentProject",null),localStorageService.remove("inventoryState"),$state.go("preLogin"),throttler(function(){return Notification.error("Please login")})},userStore:(userData=localStorageService.get("userData")||{},{set:function(data){return data.privilege=["admin","manager","sub_contractor","team_leader","worker"].indexOf(data.designation),localStorageService.set("userData",data),userData=data},get:function(){return userData},reset:function(){localStorageService.remove("userData"),userData={}}}),companyStore:(companyData=localStorageService.get("companyData")||null,{set:function(data){return localStorageService.set("companyData",data),companyData=data},get:function(){return companyData},refetch:function(id){$http({method:"GET",headers:{"x-access-token":localStorageService.get("access-token"),platform:JSON.stringify({source:"web"})},url:"https://api.staging.cloudes.eu/api/getCompanyById/"+id}).then(function(resp){localStorageService.set("companyData",resp.data)}).catch(function(e){console.log(e)})},reset:function(){localStorageService.remove("companyData"),companyData={}}}),projectStore:function(){localStorageService.get("currentProject");return{set:function(data){return localStorageService.set("currentProject",data),data},get:function(){return localStorageService.get("currentProject")},reset:function(){localStorageService.remove("currentProject"),null}}}(),inventoryState:function(){var state=localStorageService.get("inventoryState")||{tab:0,searchText:"",page:{material:1,combo:1}};return{setPage:function(type,value){state.page[type]=value,localStorageService.set("inventoryState",state)},setTab:function(val){state.tab=val,localStorageService.set("inventoryState",state)},text:function(_text){state.searchText=_text,localStorageService.set("inventoryState",state)},get:function(){return state}}},mUnits:[{name:"mt",value:"mt"},{name:"sq.mt",value:"sq.mt"},{value:"cu.mt",name:"cu.mt"},{name:"ft",value:"ft"},{name:"sq.ft",value:"sq.ft"},{value:"cu.ft",name:"cu.ft"},{value:"unit",name:"unit"}],getCurrency:function(){return $http.get("/data/currencies.json")},getCountryCode:function(){return $http.get("/data/CountryCode.json")},getIndustry:function(){return $http.get("/data/industry.json")},debounce:function(rate){var timer=void 0;return function(fn,args){clearTimeout(timer),timer=setTimeout(function(){fn.apply(null,args)},rate)}},genericStore:function(){var item=void 0;return{store:function(val){item=val},get:function(){return item}}},extractPagesFromPdf:function(pdfLink,pageCount){return[].concat(_toConsumableArray(Array(pageCount).keys())).reduce(function(acc,_,i){var pageObj={pageNo:i,url:pdfLink.replace("/upload/","/upload/pg_"+(i+1)+"/").replace(/\.pdf$/,".png"),title:"title_"+Date.now(),selected:!1,description:""};return acc.push(pageObj),acc},[])},createPagesFromPdf:function(pdf){return new Promise(function(resolve,reject){pdfjsLib.getDocument(pdf.secure_url).promise.then(function(doc){Promise.all([].concat(_toConsumableArray(Array(doc.numPages).keys())).map(function(_,i){return doc.getPage(i+1)})).then(function(pages){resolve(pages.map(function(x,i){return x.pageNo=i,x.title="title_"+Date.now(),x.selected=!1,x.description="",x}))}).catch(function(e){reject(e)})}).catch(function(e){console.log(e),reject(e)})})},renderPage:function(page,canvas){var viewport=page.getViewport(canvas.width/page.getViewport(1).width),context=canvas.getContext("2d");canvas.height=viewport.height;page.render({canvasContext:context,viewport:viewport})}};var companyData;var userData;var progressbar})}(),function(){angular.module("app").factory("imageMarker",function($http,$location,$rootScope,localStorageService){var scope=null,state=null,color="rgba(0,0,0,1)",currentDrawing=null,stack=[],head=stack.length-1,methods={init:function(divId,initialSize,assetObj){scope={};var stage=void 0;if(assetObj.markingJson){(stage=Konva.Node.create(assetObj.markingJson,divId)).width(assetObj.width),stage.height(assetObj.height),scope.stage=stage,scope.layer=stage.get("#baseLayer")[0];var _imageObj=new Image;_imageObj.crossOrigin="Anonymous";var bgImage=scope.layer.find("#markingImage")[0];_imageObj.onload=function(){bgImage.image(_imageObj),scope.layer.draw()},_imageObj.src=assetObj.secure_url,bgImage.on("click",methods.imageClickHandler),bgImage.on("mousemove",methods.drawingHandler)}else{stage=new Konva.Stage({container:divId,x:1,y:1,width:initialSize.width,height:initialSize.height}),scope.stage=stage;var newlayer=new Konva.Layer({id:"baseLayer"});scope.stage.add(newlayer),scope.layer=newlayer;var imageObj=new Image;imageObj.crossOrigin="Anonymous",imageObj.src=assetObj.secure_url,imageObj.onload=function(){var bgImage=new Konva.Image({image:imageObj,name:"markingImage",id:"markingImage",height:scope.stage.height(),x:0,y:0,width:scope.stage.width(),opacity:1});bgImage.on("click",methods.imageClickHandler),bgImage.on("mousemove",methods.drawingHandler),scope.layer.add(bgImage),scope.layer.draw(),scope.layer.moveToBottom()}}return window.addEventListener("contextmenu",function(e){"CANVAS"===e.target.tagName&&(e.preventDefault(),document.body.style.cursor="default",scope.layer.draw(),methods.removeState())}),scope},getScope:function(){return scope},setState:function(drawState){document.body.style.cursor="crosshair",state=drawState},setColor:function(selectedColor){color=selectedColor},removeState:function(){state=null},getCanvasImage:function(){if(scope)return scope.stage.toDataURL("image/png")},serialize:function(){if(scope)return scope.stage.toJSON()},imageClickHandler:function(e){if(scope&&state){var position={x:scope.stage.getPointerPosition().x,y:scope.stage.getPointerPosition().y};currentDrawing?methods.endDrawing():methods["init_"+state](position)}else document.body.style.cursor="default"},drawingHandler:function(){if(state&&currentDrawing){var position={x:scope.stage.getPointerPosition().x,y:scope.stage.getPointerPosition().y};methods["draw_"+state](position)}},init_marker:function(position){var marker=new Konva.Circle({x:position.x,y:position.y,radius:5,stroke:color,name:"Circle",strokeWidth:1,fill:color,draggable:!0});return scope.layer.add(marker),scope.layer.draw(),$rootScope.$broadcast("saveDrawing"),methods.undoRedo().newItem(marker),marker},init_circle:function(position){var circle=new Konva.Circle({x:position.x,y:position.y,radius:1,fill:color,stroke:color,strokeWidth:4});scope.layer.add(circle),scope.layer.draw(),currentDrawing=circle},draw_circle:function(position){currentDrawing&&(currentDrawing.radius(Math.abs(position.x-currentDrawing.x())),scope.layer.draw())},init_line:function(position){var line=new Konva.Line({name:"lineSimple",points:[position.x,position.y],strokeWidth:1,stroke:color,draggable:!0});scope.layer.add(line),scope.layer.draw(),currentDrawing=line},draw_line:function(position){if(currentDrawing){var points=currentDrawing.points();points[2]=position.x,points[3]=position.y,currentDrawing.points(points),scope.layer.draw()}},endDrawing:function(){document.body.style.cursor="default",$rootScope.$broadcast("saveDrawing"),methods.undoRedo().newItem(currentDrawing),state=null,currentDrawing=null},fill_text:function(text){if(scope){var simpleText=new Konva.Text({x:scope.stage.getWidth()/2,y:15,text:text,fontSize:30,draggable:!0,fontFamily:"Calibri",fill:color});simpleText.setOffset({x:simpleText.getWidth()/2}),scope.layer.add(simpleText),scope.layer.draw(),methods.undoRedo().newItem(simpleText),$rootScope.$broadcast("saveDrawing")}},undoRedo:function(){var methods={newItem:function(item){stack.splice(head+1,stack.length,item),head=stack.length-1},undo:function(){head>-1&&(console.log("undo",stack[head]),stack[head].remove(),scope.layer.draw(),head--)},redo:function(){head<stack.length-1&&(head++,console.log("redo",stack[head]),scope.layer.add(stack[head]),scope.layer.draw())},reset:function(){head=(stack=[]).length-1}};return Object.freeze(methods)}};return methods})}(),function(){angular.module("app").factory("issuecreateFactory",function($http,$state,$location,localStorageService,globals,Upload,Notification,$q,apiFactory,uploadFactory,fileManagerFactory){var _globals,vm=this,s3FileObjets=[];return headers=function(method,token){return{"Content-Type":"GET"===method?void 0:"application/json","x-access-token":token?localStorageService.get("access-token"):void 0,platform:JSON.stringify({source:"web"})}},_globals=globals,progress=_globals.progress,userStore=_globals.userStore,logout=_globals.logout,{getAllAtOnce:function(object,filesarray){if(console.log("OBJECT: ",object),console.log("ARRAY OF FILES: ",filesarray),console.log("ARRAY OF FILES s3: ",filesarray.s3),console.log("ARRAY OF FILES cloudinary: ",filesarray.cloudinary),$q.defer(),filesarray.s3.length&&filesarray.s3.forEach(function(x,i,array){console.log(x,i),uploadFactory.start(function(evaporate){x.file.pause=uploadFactory.pause.bind(evaporate,x),x.file.resume=uploadFactory.resume.bind(evaporate,x),x.file.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.file.name,file:x.file,progress:function(p,stats){x.file.progress=x.file.progress>Math.round(100*p)?x.file.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(filesarray)},complete:function(_xhr,awsKey){x.file.completed=!0,console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){console.log(x);var payload={type:fileManagerFactory.resolveDestType(x.file),assetData:{assetName:x.file.name,assetdescription:x.comment,bucket:"3dfilesdata",key:"test/"+x.file.name,mimetype:x.file.type,bytes:x.file.size}};$http({url:url+"/api/newIssues3FileUpload",method:"POST",data:payload,headers:headers("POST",!0)}).then(function(resp){console.log("s3 resp: ",resp),s3FileObjets.push(resp),i==filesarray.s3.length-1&&(alert("alerts called"),console.log(i),console.log("array:",x))}).catch(function(e){console.log(e)})},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(filesarray)})})}),filesarray.cloudinary.length){var cloudinaryPayload={files:filesarray.cloudinary};Upload.upload({url:url+"/api/issueImage",method:"POST",data:cloudinaryPayload,headers:headers("POST",!0)}).then(function(resp){console.log("response of cloudinary: ",resp),vm.completedAll=fileManagerFactory.checkUploadCompletion(filesarray)}).catch(function(e){console.log(e)})}},sendData:function(object,files){console.log(object),console.log(files)}}})}(),function(){angular.module("app").factory("uploadFactory",function($http,$location,localStorageService,apiFactory,Upload,cloudinary,Notification){var config={signerUrl:"https://api.staging.cloudes.eu/signv4_auth",aws_key:"AKIAJMO3YJTPKYV5DN5A",bucket:"3dfilesdata/test",awsRegion:"ap-south-1",computeContentMd5:!0,allowS3ExistenceOptimization:!0,cryptoMd5Method:function(data){return AWS.util.crypto.md5(data,"base64")},cryptoHexEncodedHash256:function(data){return AWS.util.crypto.sha256(data,"hex")}};return{init:function(){return Evaporate.create(config)},start:function(handler){var fileUpload=this.init();fileUpload.then(handler).catch(function(e){console.log(e)})},pause:function(file){this.pause("3dfilesdata/test/"+file.name,{force:!0}).then(function(){file.isPaused=!0,console.log("Paused!")}).catch(function(e){console.log(e)})},resume:function(file){this.resume("3dfilesdata/test/"+file.name).then(function(){file.isPaused=!1,console.log("Resumed!")}).catch(function(e){console.log(e)})},abort:function(file){this.cancel("3dfilesdata/test/"+file.name).then(function(){console.log("Canceled!")}).catch(function(e){console.log(e)})}}})}(),function(){angular.module("app").factory("SBchannel",function($http,$location,localStorageService,apiFactory,SBcommon,Notification){var sb=SBcommon.getInstance();return{createChannel:function(channelName,user,project){return new Promise(function(resolve,reject){var params=new sb.GroupChannelParams;params.isPublic=!1,params.isEphemeral=!1,params.isDistinct=!1,params.addUserIds(user),params.operators=user,params.name=channelName,params.customType=project,sb.GroupChannel.createChannel(params,function(groupChannel,error){error?reject(err):resolve(groupChannel)})})},listChannels:function(projectId){return new Promise(function(resolve,reject){var channelListQuery=sb.GroupChannel.createMyGroupChannelListQuery();channelListQuery.includeEmpty=!0,channelListQuery.customTypesFilter=[projectId],channelListQuery.hasNext&&channelListQuery.next(function(channelList,error){error?reject(err):resolve(channelList)})})},inviteUsers:function(channel,users){return new Promise(function(resolve,reject){channel.inviteWithUserIds(users,function(resp,error){error?reject(error):resolve(resp)})})},getChannelMessages:function(channel){return new Promise(function(resolve,reject){var prevMessageListQuery=channel.createPreviousMessageListQuery();prevMessageListQuery.limit=30,prevMessageListQuery.reverse=!1,prevMessageListQuery.load(function(messages,error){error?reject(err):(channel.messages=messages,resolve(channel))})})},getChannelFiles:function(channel){return new Promise(function(resolve,reject){var prevMessageListQuery=channel.createPreviousMessageListQuery();prevMessageListQuery.limit=30,prevMessageListQuery.reverse=!0,prevMessageListQuery.messageTypeFilter=2,prevMessageListQuery.load(function(files,error){error?reject(err):(channel.files=files,resolve(channel))})})},sendMessage:function(channel,message){return new Promise(function(resolve,reject){channel.sendUserMessage(message,"meetingRoomMessage",function(message,error){error?reject(error):resolve(channel)})})},sendFileMessage:function(channel,files){var promiseArray=[],_loop=function(file){var promise=new Promise(function(resolve,reject){channel.sendFileMessage(file.secure_url,file.assetName,file.format,file.bytes,"","",function(fileMessage,error){error&&reject(error),resolve(fileMessage)})});promiseArray.push(promise)},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=files[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var file=_step.value;_loop(file)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return promiseArray}}})}(),function(){angular.module("app").factory("SBcommon",function($http,$location,localStorageService,Notification){var sb=new SendBird({appId:"C83D94E0-F82E-4F22-A7AD-F9922569AAB4"});return{getInstance:function(){return sb},connect:function(id,token){return new Promise(function(resolve,reject){sb.disconnect(function(){sb.connect(id,token,function(user,err){err?reject(err):resolve(user)})})})},disconnect:function(){return new Promise(function(resolve,reject){sb.disconnect(function(){resolve("Disconnected successfully")})})},store:function(){var data={user:null,currentMeeting:null};return{get:function(){var prop=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return prop?data[prop]:data},set:function(prop,val){data[prop]=val},reset:function(){data=Object.keys(data).reduce(function(acc,x){return acc[x]=null,acc},{})}}},error:function(e){Notification.error("Something went wrong"),console.log(e)}}})}(),function(){angular.module("app").factory("SBevents",function($http,$location,$rootScope,localStorageService,SBcommon,Notification){var sb=SBcommon.getInstance();return{init:function(){var newMessageHandler=new sb.ChannelHandler;newMessageHandler.onMessageReceived=function(channel,message){$rootScope.$broadcast("newMeeingRoomMessage",{channel:channel,message:message})},sb.addChannelHandler("messageReceived",newMessageHandler);var newUserJoined=new sb.ChannelHandler;newUserJoined.onUserJoined=function(channel,user){$rootScope.$broadcast("newChannelJoined",{channel:channel,user:user})},sb.addChannelHandler("newChannelJoined",newUserJoined);var typingStatusHandler=new sb.ChannelHandler;typingStatusHandler.onTypingStatusUpdated=function(channel){$rootScope.$broadcast("typingStatus",{channel:channel})},sb.addChannelHandler("typingStatus",typingStatusHandler)}}})}(),function(){angular.module("app").factory("commonVPFactory",function($rootScope){return{createStage:function(divId,initialSize,plannerData){var stage;plannerData&&plannerData.jsonString?((stage=Konva.Node.create(plannerData.jsonString,"stage")).width(initialSize.width),stage.height(initialSize.height)):stage=new Konva.Stage({container:divId,x:1,y:1,width:initialSize.width,height:initialSize.height});var getStageSize=this.getStageSize;return stage.on("windowResized",function(){var dimensions=getStageSize(divId);stage.width(dimensions.width),stage.height(dimensions.height),stage.draw()}),stage},getStageSize:function(divId){var el=document.getElementById(divId);return{height:el.clientHeight,width:el.clientWidth}},shapeId:function(){var defaultCount={shapes:{rectangle:0,square:0,circle:0,ellipse:0,calibrator:0,freeHand:0,polygon:0},markings:{line:0,singleArrow:0,doubleArrow:0,bezier:0,freehand:0,text:0,selection:0},measurement:{rectangle:0,square:0,circle:0,ellipse:0,calibrator:0,polygon:0,freeHand:0}},currentCount=defaultCount;return{load:function(count){currentCount=count},getCount:function(type,shape){return currentCount[type][shape]++,currentCount[type][shape]},get:function(){return currentCount},reset:function(){currentCount=defaultCount}}},drawState:function(){var initialDrawStates={shapes:{rectangle:!1,square:!1,circle:!1,ellipse:!1,calibrator:!1,polygon:!1},markings:{line:!1,singleArrow:!1,doubleArrow:!1,bezier:!1,freehand:!1,text:!1,selection:!1},measurement:{rectangle:!1,square:!1,circle:!1,ellipse:!1,calibrator:!1,polygon:!1,freeHand:!1}},drawStates=angular.copy(initialDrawStates);return{set:function(type){var keys=type.split(".");this.reset(),drawStates[keys[0]][keys[1]]=!0,$rootScope.$broadcast("drawStateChange",drawStates)},check:function(type){var keys=type?type.split("."):"";return type?drawStates[keys[0]][keys[1]]:drawStates},reset:function(){drawStates=angular.copy(initialDrawStates),$rootScope.$broadcast("drawStateChange",drawStates)}}},calibrationState:function(){var state={value:1,unit:"units"};return{set:function(obj){state=obj},get:function(){return state}}},actionStates:function(actions){var stack=actions||[],head=stack.length-1;return{push:function(val){stack.splice(head+1,stack.length,val),head=stack.length-1},show:function(){return stack},peek:function(){return stack[head]},undo:function(){head>-1&&(stack[head].delete(),head-=1)},redo:function(){head<stack.length&&(head=head===stack.length-1?head:head+1,stack[head].restore())}}},actionHandler:function(stage,entity,process,actionType,props){var entity=entity,stage=stage,process=process,props=props,handlers={create:{delete:function(){entity.remove(),stage.batchDraw()},restore:function(){process.add(entity),stage.batchDraw()}},move:{delete:function(){entity.position(props.start),stage.batchDraw()},restore:function(){entity.position(props.end),stage.batchDraw()}},delete:{delete:function(){process.add(entity),stage.batchDraw()},restore:function(){entity.remove(),stage.batchDraw()}},shapeProps:{delete:function(){for(var key in props.start)entity[key](props.start[key]);stage.batchDraw()},restore:function(){for(var key in props.end)entity[key](props.end[key]);stage.batchDraw()}}};return{entity:entity,restore:handlers[actionType].restore,delete:handlers[actionType].delete}},movement:function(){var start;return{add:function(position){if(start)return{start:start,end:position};start=position}}},shapePropertyHistory:function(){var start;return{add:function(props){if(start)return{start:start,end:props};start=props}}},transformers:function(layer){var layer=layer,transformers=[];return{add:function(transformer){transformers.push(transformer)},removeAll:function(){angular.forEach(transformers,function(x){x.remove()}),layer.draw()}}},dragOffset:function(stagePosition,layerOffset,stageScale){return{x:(stagePosition.x-layerOffset.x)/stageScale.x,y:(stagePosition.y-layerOffset.y)/stageScale.y}},selectedShape:function(shape){return{get:function(){return shape},set:function(val){shape=val},reset:function(){shape=void 0}}},selectionStore:function(){var selections=[];return{store:function(shapes){selections=shapes},get:function(){return selections},pull:function(shapeName){selections=selections.filter(function(shape){return shape.name()!==shapeName})},push:function(shape){var shapeNames=selections.map(function(shape){return shape.name()});shapeNames.indexOf(shape.name())>-1||selections.push(shape)},clear:function(){selections=[]}}},associations:function(){var associations={},methods={createAssociation:function(shapeId,entityId,type){var key=shapeId+"-"+entityId+"-"+Date.now();return associations[key]={shapeId:shapeId,entityId:entityId,type:type},key},getAssociations:function(key){return key?associations[key]:associations},getAssociationsForSave:function(){return Object.keys(associations).reduce(function(acc,x){var obj={shapeId:associations[x].shapeId,type:associations[x].type};switch(associations[x].type){case 1:obj.materialId=associations[x].entityId;break;case 2:obj.comboId=associations[x].entityId;break;case 3:obj.equipmentId=associations[x].entityId}return acc.push(obj),acc},[])},removeAssociation:function(key){associations[key]=void 0},reset:function(){associations={}}};return Object.freeze(methods)}}})}(),function(){angular.module("app").factory("eventsVPFactory",function($rootScope){return{windowEvents:function(windowObject){var entities=[];return windowObject.addEventListener("resize",function(ev){angular.forEach(entities,function(v){v.fire("windowResized")})}),{register:function(entity){entities.push(entity)},show:function(){}}},stageEvents:function(stage){var stage=stage,events=[];return{register:function(event,handler){stage&&(events.push(event),stage.on(event,handler))}}},shapeEvents:function(shape){var shape=shape,events=[];return{register:function(event,handler){events.indexOf(event)>-1||(events.push(event),shape.on(event,handler))}}},layerEvents:function(layer){var layer=layer,events=[];return{register:function(event,handler){events.indexOf(event)>-1||(events.push(event),layer.on(event,handler))}}}}})}(),function(){angular.module("app").factory("layersVPFactory",function($rootScope){return{createLayer:function(stage){var layer=new Konva.Layer;return stage.add(layer),layer},initiateProcess:function(stage,baseLayer){var head,processes=[];return{createProcess:function(){var group=new Konva.Group({name:"process-"+Date.now()});processes.push(group),head=processes.length-1,baseLayer.add(group)},getProcesses:function(){return processes},getCurrent:function(){return processes[head]},setCurrent:function(index){head=index},showProcess:function(index){void 0!==index?baseLayer.add(processes[index]):angular.forEach(processes,function(x){baseLayer.add(x)}),baseLayer.draw()},hideProcess:function(index){void 0!==index?processes[index].remove():angular.forEach(processes,function(x){x.remove()}),baseLayer.draw()},loadProcesses:function(processesFromJson){head=(processes=processesFromJson).length-1}}}}})}(),function(){angular.module("app").factory("shapesVPFactory",function($rootScope,eventsVPFactory,commonVPFactory,toolsVPFactory){var createdShape,shapeTools,shapeId=commonVPFactory.shapeId(),polygonOptions={init:!1,points:[],pointSet:!0};return{getShapeTools:function(obj){shapeTools=obj},loadShapeId:function(obj){shapeId.load(obj)},getShapeId:function(){return shapeId.get()},createShape:function(type,position){if(createdShape)return{start:!1,shape:createdShape};var shape,shapeProps=shapeTools.get();switch(type){case 0:shape=new Konva.Line({points:[position.x,position.y,position.x,position.y,position.x,position.y,position.x,position.y,position.x,position.y],stroke:shapeProps.stroke||"black",name:"Rect"+shapeId.getCount("shapes","rectangle"),strokeWidth:shapeProps.strokeWidth||1,fill:shapeProps.fill,draggable:!0,closed:!0});break;case 1:shape=new Konva.Ellipse({x:position.x,y:position.y,radius:{x:1,y:1},stroke:shapeProps.stroke||"black",name:"Ellipse"+shapeId.getCount("shapes","ellipse"),strokeWidth:shapeProps.strokeWidth||1,fill:shapeProps.fill,draggable:!0})}return{start:!0,shape:createdShape=shape}},drawShape:function(position,shapeLock,misc){if(createdShape)switch(createdShape.className){case"Line":this.drawRectangle(position,createdShape,shapeLock,misc);break;case"Ellipse":createdShape.radius({x:Math.abs(position.x-createdShape.x()),y:Math.abs(shapeLock?position.x-createdShape.x():position.y-createdShape.y())})}},drawRectangle:function(position,shape,shapelock,misc){var points=shape.points();switch(points[4]=position.x,points[5]=shapelock?Math.abs(points[1]+(position.x-points[0])):position.y,points[7]=shapelock?Math.abs(points[1]+(position.x-points[0])):position.y,points[2]=position.x,misc){case"grabber":shape.dash([10,10]);break;case"wrapper":shape.stroke("grey"),shape.draggable(!1)}shape.points(points)},destroyShape:function(){createdShape=void 0,polygonOptions={init:!1,points:[],pointSet:!0}},cancelDrawing:function(selection){var selectionPoints=createdShape.points();return document.body.style.cursor="default",createdShape&&createdShape.remove(),createdShape=void 0,polygonOptions={init:!1,points:[],pointSet:!0},selectionPoints},createPolygon:function(position,freeHand,freeHandMarker){if(!polygonOptions.init&&!createdShape){var shapeProps=shapeTools.get();return polygonOptions.points=[position.x,position.y],createdShape=freeHandMarker?new Konva.Line({name:"markerFreeHand"+shapeId.getCount("markings","freehand"),points:polygonOptions.points,fill:shapeProps.fill,stroke:shapeProps.stroke||"black",strokeWidth:shapeProps.strokeWidth||1}):new Konva.Line({name:freeHand?"freeHand"+shapeId.getCount("shapes","freeHand"):"polygon"+shapeId.getCount("shapes","polygon"),points:polygonOptions.points,fill:shapeProps.fill,stroke:shapeProps.stroke||"black",strokeWidth:shapeProps.strokeWidth||1}),polygonOptions.init=!0,{start:!0,polygon:createdShape}}return freeHandMarker?(polygonOptions.pointSet=!0,createdShape.draggable(!0),{start:!1,polygon:createdShape}):this.checkThreshold(position)?(polygonOptions.points.splice(-2),polygonOptions.points.push(polygonOptions.points[0],polygonOptions.points[1]),createdShape.points(polygonOptions.points),polygonOptions.pointSet=!0,createdShape.closed(!0),createdShape.draggable(!0),{start:!1,polygon:createdShape}):(polygonOptions.points.splice(-2),polygonOptions.points.push(position.x,position.y),createdShape.points(polygonOptions.points),void(polygonOptions.pointSet=!0))},drawPolygon:function(position,freeHand){createdShape&&(freeHand?(polygonOptions.points.push(position.x,position.y),createdShape.points(polygonOptions.points)):polygonOptions.pointSet?(polygonOptions.points.push(position.x,position.y),polygonOptions.pointSet=!1,createdShape.points(polygonOptions.points)):(polygonOptions.points[polygonOptions.points.length-2]=position.x,polygonOptions.points[polygonOptions.points.length-1]=position.y,createdShape.points(polygonOptions.points)))},createLine:function(position,type){if(createdShape)return{start:!1,line:createdShape};var line,shapeProps=shapeTools.get();switch(type){case"line":line=new Konva.Line({name:"lineSimple"+shapeId.getCount("markings","line"),points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",draggable:!0});break;case"singleArrow":line=new Konva.Arrow({name:"lineArrow"+shapeId.getCount("markings","singleArrow"),points:[position.x,position.y],strokeWidth:1,stroke:shapeProps.stroke||"black",fill:shapeProps.fill||"black",draggable:!0,pointerLength:10,pointerWidth:10});break;case"doubleArrow":line=new Konva.Arrow({name:"lineArrowDouble"+shapeId.getCount("markings","doubleArrow"),points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",fill:shapeProps.fill||"black",draggable:!0,pointerLength:10,pointerWidth:10,pointerAtBeginning:!0})}return{start:!0,line:createdShape=line}},drawLine:function(position){if(createdShape){var points=createdShape.points();points[2]=position.x,points[3]=position.y,createdShape.points(points)}},createBezierLine:function(position){if(createdShape){var createdPoints=createdShape.points(),q=[.5*(createdPoints[2]-createdPoints[0])+createdPoints[0],.5*(createdPoints[3]-createdPoints[1])+createdPoints[1]];createdPoints[2],createdPoints[0],createdPoints[0],createdPoints[3],createdPoints[1],createdPoints[1],createdPoints[2],createdPoints[0],createdPoints[0],createdPoints[3],createdPoints[1],createdPoints[1];return createdPoints.push(q[0],q[1]),createdShape.points(createdPoints),createdShape.tension(1.1),{start:!1,line:createdShape}}var shapeProps=shapeTools.get(),bezier=new Konva.Line({name:"bezier"+shapeId.getCount("markings","bezier"),lineJoin:"round",points:[position.x,position.y],strokeWidth:shapeProps.strokeWidth||1,stroke:shapeProps.stroke||"black",draggable:!0});return{start:!0,line:createdShape=bezier}},drawBezierLine:function(position){if(createdShape){var points=createdShape.points();points[2]=position.x,points[3]=position.y,createdShape.points(points)}},createText:function(props){var textShape=new Konva.Text({x:props.position.x,y:props.position.y,name:"text",text:"Placeholder text",width:props.width,fontSize:16,fontFamily:"Calibri",fill:"black"});return textShape},createTextGroup:function(){var textGroup=new Konva.Group({name:"textGroup"+shapeId.getCount("markings","text"),draggable:!0});return textGroup},calibrator:function(stage,layer){var line,points=[],isDone=!1,init=!0;return function(position,set,kill){if(kill)return line.destroy(),void layer.draw();position={x:position.x/stage.scale().x,y:position.y/stage.scale().y},isDone||(init&&set?(points.push(position.x,position.y),line=new Konva.Line({points:points,fill:"grey",stroke:"black",strokeWidth:1,dash:[5,1]}),init=!1,layer.add(line)):init||(set?(points[2]=position.x,points[3]=position.y,line.points(points),isDone=!0,$rootScope.$broadcast("calibrated",line)):(points[2]=position.x,points[3]=position.y,line.points(points)))),layer.draw()}},checkThreshold:function(position){var xUpperThreshold=polygonOptions.points[0]+10,yUpperThreshold=polygonOptions.points[1]+10,xLowerThreshold=polygonOptions.points[0]-10,yLowerThreshold=polygonOptions.points[1]-10;return xUpperThreshold>position.x&&xLowerThreshold<position.x&&yUpperThreshold>position.y&&yLowerThreshold<position.y},extractAllShapes:function(layer){var allShapes=layer.find("Group").reduce(function(acc,x){return/process*/.test(x.name())&&angular.forEach(x.getChildren(),function(child){acc.push(child)}),acc},[]);return allShapes},selectShapes:function(layer,points){var allShapes=this.extractAllShapes(layer),min=(points[0],points[1],points[4],points[5],{x:points[0]>points[4]?points[4]:points[0],y:points[1]>points[5]?points[5]:points[1]}),max={x:points[0]<points[4]?points[4]:points[0],y:points[1]<points[5]?points[5]:points[1]},checkSelection=this.checkSelection,selectedShapes=allShapes.filter(function(x){var shapeName=x.name();if(/Rect*/.test(shapeName)||/polygon*/.test(shapeName)||/freeHand*/.test(shapeName)||/markerFreeHand/.test(shapeName)){for(var points=x.points(),positionOffset=x.position(),vertices=[],i=0;i<points.length-2;i+=2)vertices.push([points[i]+positionOffset.x,points[i+1]+positionOffset.y]);return checkSelection({min:min,max:max},vertices,"rectangle")}if(/line*/.test(shapeName)){for(var points=x.points(),positionOffset=x.position(),vertices=[],i=0;i<points.length;i+=2)vertices.push([points[i]+positionOffset.x,points[i+1]+positionOffset.y]);return checkSelection({min:min,max:max},vertices,"rectangle")}return!!/Ellipse*/.test(shapeName)&&checkSelection({min:min,max:max},x.position(),"ellipse")});return selectedShapes},checkSelection:function(range,prop,type){if("rectangle"===type){for(var i=0;i<prop.length;i++)if(prop[i][0]>=range.min.x&&prop[i][0]<=range.max.x&&prop[i][1]>=range.min.y&&prop[i][1]<=range.max.y)return!0;return!1}if("ellipse"===type)return prop.x>=range.min.x&&prop.x<=range.max.x&&prop.y>=range.min.y&&prop.y<=range.max.y}}})}(),function(){angular.module("app").factory("toolsVPFactory",function($rootScope,eventsVPFactory){return{polygonArea:function(points,scale){for(var result,det=0,chunkedArray=[],chunk=[],i=0;i<points.length;i++)chunk.length<2?chunk.push(points[i]):(chunkedArray.push({x:chunk[0],y:chunk[1]}),(chunk=[]).push(points[i]));var l=chunkedArray.length;chunkedArray[0]!=chunkedArray[chunkedArray.length-1]&&(chunkedArray=chunkedArray.concat(chunkedArray[0]));for(var i=0;i<l;i++)det+=chunkedArray[i].x*chunkedArray[i+1].y-chunkedArray[i].y*chunkedArray[i+1].x;return result=scale?Math.abs(det)/2*scale:Math.abs(det)/2,Number.parseFloat(result).toFixed(2)},rectangleArea:function(height,width,scale){var area=height*width*scale;return area},ellipseArea:function(radii,scale){var area=Math.PI*radii.x*radii.y,result=scale?area*scale:area;return Number.parseFloat(result).toFixed(2)},ellipseTransfomer:function(stage,layer,ellipse){var vertices=[],group=new Konva.Group({name:"transformers"});return{set:function(radius){var ellipsePosition=ellipse.position();vertices.push([ellipsePosition.x-radius.x,ellipsePosition.y],[ellipsePosition.x+radius.x,ellipsePosition.y],[ellipsePosition.x,ellipsePosition.y+radius.y],[ellipsePosition.x,ellipsePosition.y-radius.y]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),dragBoundFunc:function(pos){return{x:$index>1?this.getAbsolutePosition().x:pos.x,y:$index<=1?this.getAbsolutePosition().y:pos.y}},draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(){var previousRadius=ellipse.radius(),selectedVertex=circle.name(),isNegative=!1;switch(selectedVertex){case"0,1":isNegative=ellipse.position().x-circle.x()<0,ellipse.radius({x:Math.abs(ellipse.position().x-circle.x()),y:previousRadius.y}),angular.forEach(group.children,function(z){"2,3"===z.name()&&(isNegative?z.x(ellipse.position().x-ellipse.radius().x):z.x(ellipse.position().x+ellipse.radius().x))});break;case"2,3":isNegative=ellipse.position().x-circle.x()<0,ellipse.radius({x:Math.abs(ellipse.position().x-circle.x()),y:previousRadius.y}),angular.forEach(group.children,function(z){"0,1"===z.name()&&(isNegative?z.x(ellipse.position().x-ellipse.radius().x):z.x(ellipse.position().x+ellipse.radius().x))});break;case"4,5":isNegative=ellipse.position().y-circle.y()<0,ellipse.radius({x:previousRadius.x,y:Math.abs(ellipse.position().y-circle.y())}),angular.forEach(group.children,function(z){"6,7"===z.name()&&(isNegative?z.y(ellipse.position().y-ellipse.radius().y):z.y(ellipse.position().y+ellipse.radius().y))});break;case"6,7":isNegative=ellipse.position().y-circle.y()<0,ellipse.radius({x:previousRadius.x,y:Math.abs(ellipse.position().y-circle.y())}),angular.forEach(group.children,function(z){"4,5"===z.name()&&(isNegative?z.y(ellipse.position().y-ellipse.radius().y):z.y(ellipse.position().y+ellipse.radius().y))})}layer.draw(),ellipse.fire("transformEllipse")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),ellipse.fire("transformEllipse"),!0,layer.add(group),group},getGroup:function(){return group},destroy:function(){group.destroy()}}},customTransformer:function(stage,layer,polygon,isRectangle){var vertices=[],group=new Konva.Group({name:"transformers"}),polygon=polygon;return{set:function(points){for(var i=0;i<points.length-2;i+=2)vertices.push([points[i],points[i+1]]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(e){if(isRectangle){var selectedVertex=circle.name();switch(selectedVertex){case"0,1":vertices[0]=[circle.x(),circle.y()],vertices[1][1]=circle.y(),vertices[3][0]=circle.x(),angular.forEach(group.children,function(z){"6,7"===z.name()&&z.x(circle.x()),"2,3"===z.name()&&z.y(circle.y())});break;case"2,3":vertices[1]=[circle.x(),circle.y()],vertices[0][1]=circle.y(),vertices[2][0]=circle.x(),angular.forEach(group.children,function(z){"4,5"===z.name()&&z.x(circle.x()),"0,1"===z.name()&&z.y(circle.y())});break;case"4,5":vertices[2]=[circle.x(),circle.y()],vertices[3][1]=circle.y(),vertices[1][0]=circle.x(),angular.forEach(group.children,function(z){"2,3"===z.name()&&z.x(circle.x()),"6,7"===z.name()&&z.y(circle.y())});break;case"6,7":vertices[3]=[circle.x(),circle.y()],vertices[2][1]=circle.y(),vertices[0][0]=circle.x(),angular.forEach(group.children,function(z){"0,1"===z.name()&&z.x(circle.x()),"4,5"===z.name()&&z.y(circle.y())})}}else{var temp=[];angular.forEach(group.children,function(x){temp.push([x.x(),x.y()])}),vertices=angular.copy(temp)}polygon.fire("transformPolygon")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),!0,layer.add(group),group},update:function(offset){group.x(offset.x),group.y(offset.y),layer.draw()},getPoints:function(){return vertices.reduce(function(acc,x,i){return acc.push(x[0],x[1]),i===vertices.length-1&&acc.push(vertices[0],vertices[1]),acc},[])},getGroup:function(){return group}}},bezierTransformer:function(stage,layer,bezier){var vertices=[],group=new Konva.Group({name:"transformers"}),bezier=bezier;return{set:function(points){for(var i=0;i<points.length;i+=2)vertices.push([points[i],points[i+1]]);var inc=0;return angular.forEach(vertices,function(x,$index){var circle=new Konva.Circle({x:x[0],y:x[1],radius:5/layer.scaleX(),name:($index+inc).toString()+","+($index+inc+1).toString(),fill:"white",stroke:"black",strokeWidth:3/layer.scaleX(),draggable:!0});inc++;var circleEvent=eventsVPFactory.shapeEvents(circle);circleEvent.register("dragmove.transformer",function(e){var temp=[];angular.forEach(group.children,function(x){temp.push([x.x(),x.y()])}),vertices=angular.copy(temp),bezier.fire("transformBezier")}),circleEvent.register("scaleOnZoom",function(e){e.target.radius(5/layer.scaleX()),e.target.strokeWidth(3/layer.scaleX()),layer.draw()}),circleEvent.register("mouseenter",function(e){document.body.style.cursor="move"}),circleEvent.register("mouseleave",function(e){document.body.style.cursor="default"}),group.add(circle)}),!0,layer.add(group),group},update:function(offset){group.x(offset.x),group.y(offset.y),layer.draw()},getPoints:function(){return vertices.reduce(function(acc,x,i){return acc.push(x[0],x[1]),i===vertices.length-1&&acc.push(vertices[0],vertices[1]),acc},[])},getGroup:function(){return group}}},scaleTransformerBasedOnZoom:function(baseLayer){var transformerGroup=baseLayer.find(".transformers");transformerGroup.length&&angular.forEach(transformerGroup[0].getChildren(),function(child){child.fire("scaleOnZoom")})},metrics:function(){var shapeInfo;return{setShapeInfo:function(info){shapeInfo=info},getShapeInfo:function(){return shapeInfo}}},colorPicker:function(){var props={stroke:"black",opacity:1,fill:"rgba(255, 255, 255, 0)",strokeWidth:1};return{set:function(obj){props=Object.assign(props,obj)},get:function(prop){return prop?props[prop]:props}}}}})}(),function(){angular.module("app").controller("_3dDashboardCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,localStorageService,globals,NgMap){this.loggedIn=!0;var logout=globals.logout;globals.userStore,globals.throttler;if(!authFactory.checkUser())return logout(),void(this.loggedIn=!1);this.logout=function(){logout()}})}(),function(){angular.module("app").controller("_3dviewerCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService,fileManagerFactory,uploadFactory){var logout=globals.logout,projectStore=(globals.userStore,globals.projectStore),genericStore=globals.genericStore,vm=(globals.breakcrumbStore,this);vm.fileName="No File Choose",vm.rootFolders=[];var rootFolderStore=genericStore();vm.nodeObj=rootFolderStore.get(),console.log(vm.nodeObj),authFactory.checkUser()||logout();vm.logout=function(){logout()},vm.fileUpdated=function(files,event){var fileObj=event.target.files;console.log(fileObj),vm.fileName=fileObj[0].name},vm.preUpload=function(files,folder){fileManagerFactory.checkDuplicateFiles(files,folder._id).then(function(processed){processed.duplicates.length?(vm.preUploadFiles=processed,console.log(vm.preUploadFiles),alert("File Name is Exist!")):(console.log(processed),vm.uploadFile(processed,projectStore.get()._id,folder))}).catch(function(e){console.log(e)})},vm.uploadFile=function(files,projectId,folder){if(fileManagerFactory.checkNameChange(files.duplicates))Notification.warning("File names can't be the same");else if(files=[].concat(_toConsumableArray(files.duplicates),_toConsumableArray(files.uploadFiles)),vm.uploadState=!0,vm.uploadViewFiles=fileManagerFactory.splitDestination(files),angular.forEach(vm.uploadViewFiles.s3,function(x){uploadFactory.start(function(evaporate){x.pause=uploadFactory.pause.bind(evaporate,x),x.resume=uploadFactory.resume.bind(evaporate,x),x.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.name,file:x,progress:function(p,stats){x.progress=x.progress>Math.round(100*p)?x.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})},complete:function(_xhr,awsKey){x.completed=!0,$timeout(function(){$scope.$apply()}),console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){var payload={type:fileManagerFactory.resolveDestType(x),projectId:projectStore.get()._id,folderId:folder._id,assetData:{assetName:x.assetName,bucket:"3dfilesdata",key:"test/"+x.name,mimetype:x.type,bytes:x.size,planDocument:x.plan}};apiFactory.newFileUpload(payload).then(function(resp){folder&&folder.files.push(resp.data.data)}).catch(function(e){console.log(e)}),Notification.success("File successfully uploaded"),console.log("File successfully uploaded to:",awsObjectKey)},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),console.log("File did not upload sucessfully:",reason)})})}),vm.uploadViewFiles.cloudinary.length){var cloudinaryPayload={files:vm.uploadViewFiles.cloudinary,assetNames:vm.uploadViewFiles.cloudinary.map(function(x){return x.assetName}),projectId:projectId,hierarchyId:folder._id};apiFactory.uploadFileInFileManager(cloudinaryPayload).then(function(resp){vm.uploadViewFiles.cloudinary=vm.uploadViewFiles.cloudinary.map(function(x){return x.completed=!0,x}),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),folder&&resp.data.data.forEach(function(x){folder.files.push(x)}),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})}}})}(),function(){angular.module("app").controller("ARCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.logout=function(){logout()},this.userData=userStore.get()})}(),function(){angular.module("app").controller("billingArchiveCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},"/payroll"==$location.path()&&$(".payrollMenu").css("display","block !important");$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("calculationCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();$scope.isEdit=!1,vm.userData=userStore.get(),vm.logout=function(){logout()},$scope.inputevent,$scope.isEdit=!1,$scope.outerIndex=0,$scope.innerIndex=0,$scope.openSelectBox=!1,$scope.tableInventory=[],$scope.Inventory=[],vm.addedColumn=!1,vm.globalinindex,vm.TampArray=[[{name:"material1",cost:[{code1:"material code1.1",code2:"level 3.1"}]},{name:"material2",cost:[{code1:"material code1.2",code2:"level 3.1"}]},{name:"material3",cost:[{code1:"material code1.3",code2:"level 3.1",code3:[{naming:"material naming"},{naming:"material naming1",codesubject:[{codesubject:"11111111111"}]}]}]}],[{name:"combomaterial1",cost:[{code1:"combomaterial code2.1",code2:"level 3.1"}]},{name:"combomaterial2",cost:[{code1:"combomaterial code2.2",code2:"level 3.1"}]},{name:"combomaterial3",cost:[{code1:"combomaterial code2.3",code2:"level 3.1"}]}],[{name:"equipment1",cost:[{code1:"equipment code3.1",code2:"level 3.1"}]},{name:"equipment2",cost:[{code1:"equipment code3.2",code2:"level 3.1"}]},{name:"equipment3",cost:[{code1:"equipment code3.3",code2:"level 3.1"}]}]],Promise.all([apiFactory.listAllMaterials(),apiFactory.listAllComboMaterials(),apiFactory.listAllEquipments()]).then(function(resp){return vm.itemList=[].concat(resp[0].data.list,resp[1].data.list,resp[2].data.list),$scope.getFirstInventory(),console.log("items all:",vm.itemList),new Promise(function(resolve,reject){resolve(vm.itemList)})}).catch(function(e){console.log(e)}),$scope.MakeTableEditable=function(){$scope.isEdit=!0},$scope.saveEditing=function(){$scope.isEdit=!1},$scope.Inventory1=[],$scope.getFirstInventory=function(){console.log(" n $scope.tableInventory: "),$scope.tableInventory=[[{},{},{},{}],[{},{},{},{}]],console.log("$scope.tableInventory: ",$scope.tableInventory)},$scope.openSelect=function(outindex){vm.addrowIndex=outindex,$scope.openSelectBox=!0},$scope.addedNewInventory=function(selected,index,childindex){console.log("parent: ",index),console.log("child: ",childindex),$scope.selectedMaterial=selected,$scope.tableInventory[index][childindex]=$scope.selectedMaterial,console.log("outer index changed...",$scope.tableInventory),$scope.filterCity=[],$scope.openSelectBox=!1,$scope.getTotal()},$scope.materialSelection=function(item){$scope.selectedMaterial=item},$(".payrollList").DataTable(),$scope.headers=[{name:" "},{name:"No"},{name:"Material Name"},{name:"Amount"},{name:"Unit"},{name:"Materials cost"},{name:"Labor cost"},{name:"Labor hrs"},{name:"Company cost"},{name:"Profit in %"},{name:"Profit"},{name:"Sales price"},{name:""}],$(document).ready(function(){$("#button_left").hide()}),$scope.leftClick=function(){$(".example-one-header").scrollLeft()<=100&&$("#button_left").hide(),$("#button_right").show(),$(".example-one-header").animate({scrollLeft:"-=100px"},"slow")},$scope.rightClick=function(){$(".example-one-header").scrollLeft()>=200&&$("#button_right").hide(),$("#button_left").show(),$(".example-one-header").animate({scrollLeft:"+=250px"},"slow")},vm.deleteInventory=function(index,array){console.log("index: ",index,"AND array : ",array),4==array.length?(array.splice(index,1),array.push({})):array.splice(index,1)},vm.editInventory=function(index,item){$scope.updateToInventory=item},vm.updateQuantity=function(quantity,item){item.matcost=item.materialCost.value*quantity,item.roofcost=item.rooferCost.value*quantity,console.log("updated: ,",item),$scope.getTotal()},$scope.addProjectPlan=function(){$scope.tableInventory.push([{},{},{},{}])},$scope.getTotal=function(){$scope.mattotal=0,$scope.rooftotal=0,$scope.tableInventory.length>0&&angular.forEach($scope.tableInventory,function(te){angular.forEach(te,function(e){$scope.mattotal=$scope.mattotal+e.matcost,$scope.rooftotal=$scope.rooftotal+e.roofcost})})},$scope.addColumn=function(word){$scope.headers.push({name:""})},vm.out,vm.in,$scope.searchFunction=function(searchText,parent,child){vm.out=parent,vm.in=child;var output=[];searchText.length>=3&&angular.forEach(vm.itemList,function(item){item.name.toLowerCase().indexOf(searchText.toLowerCase())>=0&&output.push(item)}),$scope.filterCity=output,!$scope.filterCity.length>0&&searchText.length>5&&(console.log("in not filter funtion: "),$scope.selectedMaterial={},$scope.selectedMaterial.Quantity=1,$scope.selectedMaterial.name=searchText,$scope.tableInventory[parent].push($scope.selectedMaterial),$scope.filterCity=[],$scope.openSelectBox=!1,$scope.getTotal())},$scope.selectedItem=function(item,index,array){item.Quantity=1,array[index]=item,$scope.filterCity=[]},$scope.openTree=function(index,icon){icon.collapsed?icon.toggle():(icon.collapsed=!1,icon.toggle())},$scope.openSubTree=function(index,icon){icon.collapsed?icon.toggle():(icon.collapsed=!1,icon.toggle())},$scope.addNewRow=function(index){$scope.newRow={},$scope.tableInventory[index].push($scope.newRow)},vm.liSelected,vm.indexList=-1,document.addEventListener("keydown",function(event){var ul=document.getElementById("calclistid");console.log("arrow key ",ul);var len=ul.getElementsByTagName("li").length-1;40===event.which?(vm.indexList++,vm.liSelected?(removeClass(vm.liSelected,"selected"),$scope.next=ul.getElementsByTagName("li")[vm.indexList],void 0!==_typeof($scope.next)&&vm.indexList<=len?vm.liSelected=$scope.next:(vm.indexList=0,vm.liSelected=ul.getElementsByTagName("li")[0]),addClass(vm.liSelected,"selected"),console.log(vm.indexList)):(vm.indexList=0,vm.liSelected=ul.getElementsByTagName("li")[0],addClass(vm.liSelected,"selected"))):38===event.which&&(vm.liSelected?(removeClass(vm.liSelected,"selected"),vm.indexList--,console.log(vm.indexList),$scope.next=ul.getElementsByTagName("li")[vm.indexList],void 0!==_typeof($scope.next)&&vm.indexList>=0?vm.liSelected=$scope.next:(vm.indexList=len,vm.liSelected=ul.getElementsByTagName("li")[len]),addClass(vm.liSelected,"selected")):(vm.indexList=0,vm.liSelected=ul.getElementsByTagName("li")[len],addClass(vm.liSelected,"selected")))},!1)})}(),function(){angular.module("app").controller("calenderCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload){$scope.invitees=[{id:"1",img:"/assets/images/user_pic2.png",name:"Lisa Guerrero",lb:!0,status:!1},{id:"2",img:"/assets/images/user_pic3.png",name:"Peter Gregor",lb:!1,status:!1},{id:"3",img:"/assets/images/user_pic2.png",name:"Lisa Guerrero",lb:!1,status:!1},{id:"4",img:"/assets/images/user_pic3.png",name:"Peter Gregor",lb:!1,status:!1}];var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();vm.logout=function(){logout()},vm.userData=userStore.get(),vm.tabChange=function(val){$(".eventmodal .nav-tabs li .nav-link").removeClass("active"),$(".eventmodal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".eventmodal .tab-content .tab-pane").removeClass("active"),$(".eventmodal .tab-content .tab-pane").removeClass("show"),$(".eventmodal .tab-content .tab-pane").eq(val).addClass("show"),$(".eventmodal .tab-content .tab-pane").eq(val).addClass("active")},vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU&libraries=places",markers:[],styles:[],center:"41,-87",zoom:3};var gObjLocation={coordinates:[],address:""};vm.placeMarker=function(map){console.log(this.getPlace());var placeData=this.getPlace().geometry.location;console.log(placeData),vm.gmap.markers=[[placeData.lat(),placeData.lng()]],vm.gmap.zoom=15,vm.gmap.center=placeData.lat()+","+placeData.lng(),gObjLocation.coordinates=[placeData.lat(),placeData.lng()],gObjLocation.address=this.getPlace().formatted_address,console.log(gObjLocation)},vm.inputImg=[],vm.uploadImg=[],vm.event={listAssets:[]},vm.inputFiles=[],vm.uploadFiles=[],vm.fileUpdated=function(files,event,modal){var fileObj=event.target.files;console.log(vm.fileNames),vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),console.log(vm.fileNames),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)vm.uploadFiles.push(x);else{var _duplicateImg=!1;angular.forEach(vm.uploadFiles,function(y){x.name!=y.name||(_duplicateImg=!0)}),_duplicateImg?Notification.error("File name already exist"):vm.uploadFiles.push(x)}})},NgMap.getMap().then(function(map){vm.map=map,map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoomControl:!0,zoom:1,center:{lat:0,lng:0}})}),vm.todayDate=moment(),vm.dateFormat="YYYY/MM/DD hh:mm:ss",vm.resetForm=function(res){vm.event={},vm.uploadImg=[],vm.uploadFiles=[],vm.getAllMembersInCurrentCompany()},vm.createNewEvent=function(formData){$("#new_event").modal("hide");var imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles),data=formData;data.date=moment(data.date).format("YYYY/MM/DD hh:mm:ss"),data.location=gObjLocation,data.listAssets=imgAndFiles,console.log(data),apiFactory.createEvent(data).then(function(resp){return Notification.success(resp.data.message),apiFactory.getAllEvents()}).then(listAllEventsData).catch(function(err){console.log(err),Notification.error(err.data.message)})},vm.updateEvent=function(formData){$("#event_details").modal("hide");var imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles),data=formData;data.location=gObjLocation,data.listAssets=imgAndFiles,apiFactory.updateMyEvent(data,formData._id).then(function(resp){return apiFactory.getAllEvents()}).then(listAllEventsData).catch(function(err){console.log(err),Notification.error(err.data.message)})},vm.deleteFile=function(indexVal,type){"image"==type?vm.uploadImg.splice(indexVal,1):vm.uploadFiles.splice(indexVal,1)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal};var gAryCompanyMembers=[];function listAllEventsData(resp){var calendar=$("#calendar"),lAryEventsData=[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=resp.data.data[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var v=_step2.value;lAryEventsData.push({title:v.name,start:v.date,_id:v._id,allDay:!1})}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}console.log(lAryEventsData,"lAryEventsData");calendar.fullCalendar({header:{left:"Calendar",center:"title,prev,next today",right:"month,agendaWeek,agendaDay,listWeek"},eventClick:function(calEvent,jsEvent,view){var getRes=resp.data.data.filter(function(res){return res._id===calEvent._id});vm.event=getRes[0],vm.event.view=moment(vm.event.date).format("YYYY/MM/DD hh:mm:ss"),vm.event.companyMembers=gAryCompanyMembers,vm.todayDate=vm.event.date,vm.uploadImg=vm.event.listAssets.images,vm.uploadFiles=vm.event.listAssets.docs,vm.event.location=vm.event.location.address,console.log(vm.event),angular.forEach(vm.event.listAssets,function(x,index){console.log(x),x.description=""}),$scope.$apply(),console.log(vm.event),console.log(vm.inputFiles),$("#event_details").modal("show")},defaultDate:new Date,editable:!0,events:lAryEventsData})}apiFactory.getAllEvents().then(listAllEventsData).catch(function(err){console.log(err),Notification.error(err.data.message)}),vm.getAllMembersInCurrentCompany=function(){apiFactory.getAllMembersInCurrentCompany(vm.userData.companyId).then(function(data1){return console.log(data1),gAryCompanyMembers=data1.data.data,vm.event=vm.event?vm.event:{},vm.event.companyMembers=gAryCompanyMembers,data1.data.data}).catch(function(err){console.log(err),Notification.error(err.data.message)})},vm.getAllMembersInCurrentCompany()})}(),function(){angular.module("app").controller("clientsCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,debounce=globals.debounce,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},$scope.$watch("vm.clientData.clientContact.dialCode",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),$(".clientsList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={toggleClient:{clientName:!1,phoneNo:!1,email:!1,primaryAdd:!1,created:!0}},vm.searchText="",vm.sortclients=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type],apiFactory.listAllClients({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allClients=resp.data.list,vm.clientCount=resp.data.total,$timeout(function(){$("#pagination").pagination({items:vm.clientCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllClients({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.allClients=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.searchText="";var searchDebounce=debounce(250);vm.searchClients=function(text){searchDebounce(function(){apiFactory.listAllClients({page:1,chunk:10,search:text,sort:"created",sortType:!1}).then(function(resp){vm.allClients=resp.data.list,vm.clientCount=resp.data.total,$timeout(function(){$("#pagination").pagination({items:vm.clientCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllClients({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allClients=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text])},vm.sortclients("created","toggleClient"),vm.dtOptions={paging:!1,info:!1,ordering:!1,searching:!1},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),globals.getIndustry().then(function(resp){vm.getIndustries=resp.data,vm.loadIndustry=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),globals.getCurrency().then(function(resp){vm.getCurrencies=resp.data,vm.loadCurrency=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.addNewClient=function(valid,clientdata){var client={},industries=[];null==clientdata&&Notification.error("Cannot save empty record"),void 0===clientdata.clientName?Notification.error("Please enter name of client"):client.clientName=clientdata.clientName,void 0===clientdata.clientContact?Notification.error("Please enter phone details"):client.clientContact={dialCode:clientdata.clientContact.dialCode[0].dialCode,phoneNumber:clientdata.clientContact.phoneNumber},null!=clientdata.description&&(client.description=clientdata.description),null!=clientdata.yearFounded&&(client.yearFounded=clientdata.yearFounded),null!=clientdata.clientWebsite&&(client.clientWebsite=clientdata.clientWebsite),null!=clientdata.email&&(client.email=clientdata.email),null!=clientdata.industry&&(clientdata.industry.forEach(function(element){industries.push(element.type)}),client.industry=industries),null!=clientdata.clientContactPerson&&(clientdata.clientContactPerson.dialCode?(console.log("dial code exist"),client.clientContactPerson={firstName:clientdata.clientContactPerson.firstName,middleName:clientdata.clientContactPerson.middleName,lastName:clientdata.clientContactPerson.lastName,email:clientdata.clientContactPerson.email,mobile:{dialCode:clientdata.clientContactPerson.dialCode[0].dialCode,phoneNumber:clientdata.clientContactPerson.phoneNumber}}):client.clientContactPerson={firstName:clientdata.clientContactPerson.firstName,middleName:clientdata.clientContactPerson.middleName,lastName:clientdata.clientContactPerson.lastName,email:clientdata.clientContactPerson.email,mobile:{phoneNumber:clientdata.clientContactPerson.phoneNumber}}),null!=clientdata.annualRevenue&&(clientdata.annualRevenue.currencyCode?client.annualRevenue={value:clientdata.annualRevenue.value,currencyCode:clientdata.annualRevenue.currencyCode[0].cc}:client.annualRevenue={value:clientdata.annualRevenue.value}),null!=clientdata.address2&&(clientdata.address2.countryCode?client.address2={line1:clientdata.address2.line1,line2:clientdata.address2.line2,line3:clientdata.address2.line3,city:clientdata.address2.city,postalCode:clientdata.address2.postalCode,countryCode:clientdata.address2.countryCode[0].code}:client.address2={line1:clientdata.address2.line1,line2:clientdata.address2.line2,line3:clientdata.address2.line3,city:clientdata.address2.city,postalCode:clientdata.address2.postalCode}),null!=clientdata.address1&&(clientdata.address1.countryCode?client.address1={line1:clientdata.address1.line1,line2:clientdata.address1.line2,line3:clientdata.address1.line3,city:clientdata.address1.city,postalCode:clientdata.address1.postalCode,countryCode:clientdata.address1.countryCode[0].code}:client.address1={line1:clientdata.address1.line1,line2:clientdata.address1.line2,line3:clientdata.address1.line3,city:clientdata.address1.city,postalCode:clientdata.address1.postalCode}),apiFactory.createClient(client).then(function(resp){Notification.success("Issue has been saved successfully"),vm.clientData={},$("#addClient").modal("hide"),vm.sortclients("created","toggleClient")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})}})}(),function(){angular.module("app").controller("clientsDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.clientId=$stateParams.id,$scope.getClientDetail=function(){apiFactory.getClientById(vm.clientId).then(function(resp){vm.ClientData=resp.data,console.log("client: ",vm.ClientData)})},$scope.getClientDetail(),vm.saveStaffMember=function(staff){console.log(staff),apiFactory.addStaffMember(staff,vm.clientId).then(function(resp){$("#add_member").modal("hide"),$scope.getClientDetail(),Notification.success("Member added successfully.")}).catch(function(e){Notification.error("could not add staff member.")})}})}(),function(){angular.module("app").controller("comboMaterialViewCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,globals,$location,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();function getComboMatDetail(){apiFactory.getComboMaterialById(vm.comboId).then(function(resp){vm.comboData=resp.data.data,vm.comboMmatrialName=vm.comboData.name,vm.description=vm.comboData.description,vm.uom=vm.comboData.unit,console.log(vm.comboData),angular.forEach(vm.comboData.comboMaterialList,function(item){vm.materialCost=item.materialId.currentRate.materialCost.value*item.quantity,vm.materialTotal=vm.materialTotal+vm.materialCost,vm.rooferCost=item.materialId.currentRate.rooferCost.value*item.quantity,vm.rooferTotal=vm.rooferTotal+vm.rooferCost}),console.log(vm.comboData),$timeout(imgSlider,1500)}).catch(function(e){console.log(e)})}function imgSlider(){$("#comboCarousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:75,itemMargin:5,asNavFor:"#comboSlider"}),$("#comboSlider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,sync:"#comboCarousel"})}vm.editFlag=!1,vm.comboId=$stateParams.id,vm.mUnits=globals.mUnits,vm.removedFiles=[],vm.comboMaterialList=[],vm.materialTotal=0,vm.rooferTotal=0,vm.userData=userStore.get(),apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.companyCurrency=angular.copy(vm.companyData.currentCurrency.currencyCode)}).then(function(e){console.log(e)}),getComboMatDetail(),vm.removeImg=function(img,type){"materialDocument"==type?(vm.removedFiles.push(vm.materialImg[img]._id),vm.materialImg.splice(img,1)):(vm.removedFiles.push(vm.materialFiles[img]._id),vm.materialFiles.splice(img,1))},vm.deleteFile=function(indexVal,type,newFile){"image"==type?vm.uploadImg.splice(indexVal,1):vm.uploadFiles.splice(indexVal,1)},vm.editComboMaterialList=function(item){vm.materialList=vm.comboData.comboMaterialList[item],vm.materialQty=vm.materialList.quantity,vm.selectedMaterialCost=vm.materialQty*vm.materialList.materialId.currentRate.materialCost.value,vm.selectedMaterialRooferCost=vm.materialQty*vm.materialList.materialId.currentRate.rooferCost.value,0!=vm.materialList.percentageAdditions.length&&null!=vm.materialList.percentageAdditions.length?vm.percentageAddition=vm.materialList.percentageAdditions:vm.percentageAddition=[],vm.materialIndex=item,$("#editComboMaterial").modal("show"),"new"==item?$("#editComboMaterial .modal-header h5").text("Add Combo Material Details"):$("#editComboMaterial .modal-header h5").text("Update Combo Material Details")},vm.materialCombination=function(material){var data=JSON.parse(material);console.log("material--",data),""!=data&&(vm.comboMaterialList.push({materialId:data._id,name:data.name,quantity:vm.comboList.quantity,materialCost:vm.comboList.materialCost,rooferCost:vm.comboList.rooferCost,percentageAdditions:vm.percentageAddition}),vm.percentageAddition=[],vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.editComboMaterial.comboMaterial="",$(".select2-choice .select2-chosen").text(""))},vm.addPercentageValue=function(){vm.percentageAddition.push({percentageType:"",value:""})},vm.removePercentageAddition=function(index){vm.percentageAddition.splice(index,1)},vm.fileUpdated=function(files,event,modal){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x);else{var _duplicateImg2=!1;angular.forEach([].concat(vm.uploadFiles,vm.uploadImg),function(y){x.name!=y.name||(_duplicateImg2=!0)}),_duplicateImg2?Notification.error("File name already exist"):/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x)}})},vm.tabChange=function(val,flag){function nextPrevTab(val){$(".dcp_modal .nav-tabs li .nav-link").removeClass("active"),$(".dcp_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("active")}1==val?vm.editComboMaterial.name?vm.selectedUnit?nextPrevTab(val):Notification.error("Please select material unit"):Notification.error("Please enter material name"):2==val&&0==vm.comboMaterialList.length&&0==vm.editComboMaterial.comboMaterialList.length?Notification.error("Please add Combination list"):nextPrevTab(val)},vm.unitSelect=function(data){vm.selectedUnit=data.name},vm.editCombo=function(val){if(1==val)vm.editFlag=!0,vm.editComboMaterial=angular.copy(vm.comboData),vm.selectedUnit=vm.editComboMaterial.unit,vm.materialImg=vm.editComboMaterial.files.images,vm.materialFiles=vm.editComboMaterial.files.docs,vm.percentageAddition=[],vm.uploadImg=[],vm.uploadFiles=[],$("#todo_modal.dcp_modal").modal("show");else if(2==val){$scope.imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles),$scope.uploadallFiles=[].concat(vm.uploadImg,vm.uploadFiles,vm.materialImg,vm.materialFiles);var description=[];(vm.uploadImg.length>0||vm.uploadFiles.length>0)&&$scope.imgAndFiles.map(function(x,i){description.push({assetDescription:x.description})});var combainedCMList=[].concat(vm.comboMaterialList,vm.editComboMaterial.comboMaterialList);console.log(combainedCMList);var cmList=[];combainedCMList.forEach(function(x){console.log("x====",x),cmList.push({_id:x._id,materialId:x.materialId,quantity:x.quantity,percentageAdditions:x.percentageAdditions})});var data={name:vm.editComboMaterial.name,unit:vm.selectedUnit,comboMaterialList:cmList,files:$scope.imgAndFiles,assetObj:description},comboListData={comboListArray:cmList,deletedComboList:vm.deletedComboList};console.log(data,"===data"),apiFactory.updateComboMaterialList(vm.comboData._id,comboListData).then(function(resp){apiFactory.updateComboMaterial(vm.comboData._id,data).then(function(resp){Notification.success(resp.data.message),$("#todo_modal.dcp_modal").modal("hide"),getComboMatDetail(),vm.fileNames=[],$timeout(imgSlider,1e3)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},vm.updateCombo=function(item,data){vm.comboData.comboMaterialList[item].quantity=vm.materialQty,vm.comboData.comboMaterialList[item].percentageAdditions=data,console.log(vm.comboData.comboMaterialList[item].percentageAdditions),$("#editComboMaterial").modal("hide")},apiFactory.listAllMaterials().then(function(resp){vm.allmaterilaList=resp.data.list,vm.comboList={quantity:1,materialCost:0,rooferCost:0}}).catch(function(e){console.log(e)}),vm.getMaterialInfo=function(material){var materialInfo=JSON.parse(material);material&&(vm.comboList.materialCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.rooferCost.value*100)/100),$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3"))},vm.deletedComboList=[],vm.removeMateril=function(item,flag){"new"==flag?vm.comboMaterialList.splice(item,1):(vm.deletedComboList.push(vm.editComboMaterial.comboMaterialList[item]._id),vm.editComboMaterial.comboMaterialList.splice(item,1))}})}(),function(){angular.module("app").controller("createInvoiceCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var vm=this,logout=globals.logout,userStore=globals.userStore,projectStore=(globals.debounce,globals.projectStore);if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.todayDate=new Date,vm.invoiceItems=[],vm.createInvoiceData={reference:"",date:vm.todayDate,dueDate:vm.todayDate,termsAndConditions:!0,calculatedProcess:!0,items:[{description:"",quantity:"",unitPrice:"",discountPercent:"",taxRate:"",sales:""},{description:"",quantity:"",unitPrice:"",discountPercent:"",taxRate:"",sales:""},{description:"",quantity:"",unitPrice:"",discountPercent:"",taxRate:"",sales:""},{description:"",quantity:"",unitPrice:"",discountPercent:"",taxRate:"",sales:""}]},apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data}).catch(function(e){console.log(e)}),vm.getAllStaffs=function(id){console.log(id),apiFactory.listAllStaffs(id).then(function(resp){console.log(resp.data),vm.staffsList=resp.data.data.staff,vm.staffsList.push({_id:id,email:vm.createInvoiceData.client.email}),console.log(vm.staffsList)}).catch(function(e){console.log(e)})},projectStore.get()&&apiFactory.getProjectById(projectStore.get()._id).then(function(resp){return vm.createInvoiceData.reference=resp.data.systemTag,apiFactory.listAllProjectInvoice(resp.data.systemTag)}).then(getInvoiceList).catch(function(e){console.log(e)});function getInvoiceList(resp){vm.invoiceList=resp.data.list,angular.forEach(vm.invoiceList,function(x){var amount=0;angular.forEach(x.items,function(y){amount+=y.sales}),x.totalValue=amount})}vm.addItem={quantity:1,discountPercent:0,taxRate:0},vm.clients=[],apiFactory.listAllClients().then(function(resp){vm.clients=resp.data.list,console.log(vm.clients,"clients")}).catch(function(e){console.log(e)}),Promise.all([apiFactory.listAllMaterials(),apiFactory.listAllComboMaterials(),apiFactory.listAllEquipments()]).then(function(resp){vm.itemList=[].concat(resp[0].data.list,resp[1].data.list,resp[2].data.list),vm.loadFilesToAutoComplete=function($query){return new Promise(function(resolve,reject){resolve(vm.itemList)})}}).catch(function(e){console.log(e)}),vm.selectedItem=function(data,index){console.log(data),console.log(index);var lBooleanCheckIsArray=Array.isArray(data);console.log(lBooleanCheckIsArray),lBooleanCheckIsArray&&(1==data.length?vm.createInvoiceData.items[index].unitPrice=data[0].currentRate?data[0].currentRate.materialCost.value+data[0].currentRate.rooferCost.value:1:data.length>1&&(Notification.error("you can add only one item at a time"),data.splice(1,data.length-1),vm.createInvoiceData.items[index].unitPrice=data[0].currentRate?data[0].currentRate.materialCost.value+data[0].currentRate.rooferCost.value:1))},vm.priceCalculate=function(qty,disc,tax,index){if(console.log(vm.createInvoiceData.items),0!=qty){if(vm.createInvoiceData.items[index].sales=vm.createInvoiceData.items[index].quantity*vm.createInvoiceData.items[index].unitPrice,console.log("Sales"+vm.createInvoiceData.items[index].sales),console.log("total sales"+vm.createInvoiceData.totalSales),disc&&0!=disc)if(disc>100)Notification.error("Please Enter less than 100");else{var discountPrice=vm.createInvoiceData.items[index].sales*disc/100;if(console.log(discountPrice,"discountPrice"),vm.createInvoiceData.items[index].sales=vm.createInvoiceData.items[index].sales-discountPrice,vm.createInvoiceData.items[index].discountPercent=disc,tax&&0!=tax)if(tax>100)Notification.error("Please Enter less than 100");else{var taxPrice=vm.createInvoiceData.items[index].sales*tax/100;console.log(taxPrice,"taxPrice"),vm.createInvoiceData.items[index].sales=vm.createInvoiceData.items[index].sales+taxPrice,vm.createInvoiceData.items[index].taxRate=tax,vm.createInvoiceData.totalTax=_.sumBy(vm.createInvoiceData.items,function(o){return o.taxRate}),console.log(vm.createInvoiceData.totalTax)}}vm.createInvoiceData.totalSales=_.sumBy(vm.createInvoiceData.items,function(o){return o.sales})}else Notification.error("Please Enter Quantity")},vm.createInvoiceData.grandTotal=function(){return parseFloat(this.totalSales)+parseFloat(this.totalTax)},vm.addInvoiceItem=function(data){vm.invoiceItems.push(data),vm.addItem={description:"",quantity:"",unitPrice:"",discountPercent:"",taxRate:"",sales:""},vm.selectedFiles=""},vm.removeInvoiceItem=function(index){vm.invoiceItems.splice(index,1)},vm.createInvoice=function(data){if(data.client)if(data.date)if(data.dueDate)if(data.termsAndConditions)if(data.calculatedProcess)if(data.items.length>0){var invoiceData={client:data.client._id,date:moment(data.date).format(),dueDate:moment(data.dueDate).format(),projectSystemTag:data.reference,termsAndConditions:data.termsAndConditions,calculatedProcess:data.calculatedProcess,items:data.items,email:data.client.email};apiFactory.createInvoice(invoiceData).then(function(resp){return Notification.success("Invoice created successfully"),apiFactory.listAllProjectInvoice(data.reference)}).then(getInvoiceList).catch(function(e){Notification.error("Something went wrong"),console.log(e)})}else Notification.error("Please add invoice Items");else Notification.error("Please check calculated process");else Notification.error("Please check terms and conditions");else Notification.error("Please select due date");else Notification.error("Please select date");else Notification.error("Please select client")},$scope.activeClass=function(path){return $location.path()===path?"active":""},vm.addInvoiceRow=function(){vm.createInvoiceData.items.push({description:"",quantity:"",unitPrice:"",discountPercent:"",taxRate:"",sales:""})},vm.removeInvoiceRow=function(index){if(vm.createInvoiceData.totalSales=vm.createInvoiceData.totalSales-vm.createInvoiceData.items[index].sales,vm.createInvoiceData.totalTax=vm.createInvoiceData.totalTax-vm.createInvoiceData.items[index].taxRate,vm.createInvoiceData.items.splice(index,1),vm.createInvoiceData.items.length<4)for(var lIntNoOfRows=4-vm.createInvoiceData.items.length,v=0;v<lIntNoOfRows;v++)vm.addInvoiceRow()}})}(),function(){angular.module("app").controller("createProjectCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals){var vm=this,logout=globals.logout;globals.userStore,globals.companyStore;authFactory.checkUser()||logout();if(!authFactory.checkPrivilege("project","createProject"))return Notification.warning("Insufficient permissions"),void $state.go("dashboard");vm.clients=[],$scope.$watch("vm.projectData.client",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),Promise.all([apiFactory.listAllClients(),apiFactory.getHierarchyTemplate()]).then(function(resp){vm.clients=resp[0].data.list,vm.templateList=resp[1].data.data;vm.templateList.filter(function(item){return"5b8910fbdd6fa81a20bfe745"==item._id});vm.filemanagerTemplate="5b8910fbdd6fa81a20bfe745"}).catch(function(e){console.log(e)}),vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU&libraries=places",markers:[],styles:[],center:"41,-87",zoom:3},vm.projectData={address:{}},$scope.select2Options={allowClear:!0},vm.placeMarker=function(map){var placeData=this.getPlace().geometry.location;vm.gmap.markers=[[placeData.lat(),placeData.lng()]],vm.gmap.zoom=15,vm.gmap.center=placeData.lat()+","+placeData.lng(),vm.projectData.address.loc={coordinates:[placeData.lat(),placeData.lng()]}},vm.addProject=function(formData){formData.client=formData.client._id,apiFactory.createProject(formData).then(function(resp){Notification.success("Project has been created successfully");var payload={projectId:resp.data._id,templateId:resp.data._id&&vm.filemanagerTemplate&&"false"!=vm.filemanagerTemplate?vm.filemanagerTemplate:"5b8910fbdd6fa81a20bfe745"};apiFactory.loadHierarchyTree(payload).then(function(resp){console.log(resp.data.message)}).catch(function(e){console.log(e)}),console.log("projectid",resp.data._id),$state.go("dashboard")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},vm.updateMarker=function(){var pos=this.getPosition();vm.projectData.address.loc={coordinates:[pos.lat(),pos.lng()]}},NgMap.getMap().then(function(map){vm.map=map,map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoomControl:!0,zoom:1,center:{lat:0,lng:0}})}),vm.logout=function(){logout()},vm.assignTemplate=function(){vm.filemanagerTemplate=vm.selectedTemplate._id,$("#assignTemplateModal").modal("hide")}})}(),function(){angular.module("app").controller("createVariationsOrderCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var logout=globals.logout,userStore=globals.userStore;globals.debounce;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),console.log(this.userData),this.logout=function(){logout()},$scope.activeClass=function(path){return $location.path()===path?"active":""}})}(),function(){angular.module("app").controller("dashboardCtrl",function($scope,$timeout,authFactory,$state,$window,$location,apiFactory,Notification,localStorageService,globals,NgMap){var vm=this;vm.loggedIn=!0;var logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore,projectStore=globals.projectStore;globals.throttler;if(!authFactory.checkUser())return logout(),void(vm.loggedIn=!1);vm.loader=!1,vm.userData=userStore.get(),vm.clientUrl="https://res.cloudinary.com/dktnhmsjx/image/upload/v1486129234/default/company.png",vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],markers:[]},Promise.all([apiFactory.getCompanyById(vm.userData.companyId),apiFactory.listAllProjects(),apiFactory.listAllClients(),apiFactory.listAllTodoList()]).then(function(data){var projectList,mxLat,mxLng,mnLat,mnLng,markers;companyStore.set(data[0].data),vm.gmap.markers=(projectList=data[1].data.list,mxLat=0,mxLng=0,mnLat=0,mnLng=0,markers=[],projectList.forEach(function(element){if(element.address&&(0!=element.address.loc.coordinates[0]||0!=element.address.loc.coordinates[1])){var mrkr={id:element._id,latitude:element.address.loc.coordinates[1],longitude:element.address.loc.coordinates[0]};mxLat=mxLat>mrkr.latitude?mrkr.latitude:mxLat,mnLat=mnLat<mrkr.latitude?mrkr.latitude:mnLat,mxLng=mxLng>mrkr.longitude?mrkr.longitude:mxLng,mnLng=mnLng<mrkr.longitude?mrkr.longitude:mnLng,markers.push([mrkr.latitude,mrkr.longitude])}}),markers),vm.dashboardData={company:data[0].data,projects:data[1].data.list,clients:data[2].data.list,todoLists:data[3].data.data}}).catch(function(e){console.log(e)}),NgMap.getMap().then(function(map){map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoom:1,center:{lat:0,lng:0}})});var enabled=!0,chunkSize=5;if(vm.projectSearch="",vm.enableLazyLoad=!1,vm.sortParams={field:"created",type:!1},vm.projectName="PROJECT",$scope.getBookmarkedProject=function(){apiFactory.getBookmarks().then(function(resp){vm.bookmarkedProject=resp.data.bookmarks,vm.bookmarkedProjectList=angular.copy(vm.bookmarkedProject),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"})}).catch(function(e){console.log(e)})},$scope.getBookmarkedProject(),vm.loadProjectFiles=function(id){apiFactory.showProjectFiles(id,5).then(function(resp){vm.projectFiles=resp.data.data})},vm.bookmarkFlag=!1,vm.selectedProject=function(project){"others"==project._id?apiFactory.listAllProjects().then(function(resp){vm.projectPickerData=resp.data.list,$("#chooseProject").modal("show")}).catch(function(e){console.log(e)}):(vm.bookmarkFlag=!1,angular.forEach(vm.bookmarkedProject,function(x){if(x._id==project._id)return vm.bookmarkFlag=!0}),vm.projectName=project.projectName,projectStore.set(project),vm.loadProjectFiles(project._id))},vm.chooseProject=function(project){var index=vm.bookmarkedProjectList.findIndex(function(x){return"others"==x._id});vm.bookmarkedProjectList.splice(index,1);var alreadyExist=!0;angular.forEach(vm.bookmarkedProject,function(x){x._id==project._id&&(alreadyExist=!1)}),alreadyExist&&vm.bookmarkedProjectList.push(project),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"}),vm.project=project,vm.projectName=project.projectName,vm.bookmarkFlag=!1,projectStore.set(project),$("#chooseProject").modal("hide")},localStorageService.get("currentProject")){var currentProject=localStorageService.get("currentProject");vm.project=currentProject,vm.projectName=currentProject.projectName,vm.loadProjectFiles(vm.project._id);var alreadyBookmarked=!1;angular.forEach(vm.bookmarkedProject,function(x){if(x._id==currentProject._id)return alreadyBookmarked=!0}),alreadyBookmarked||$timeout(function(){var index=vm.bookmarkedProjectList.findIndex(function(x){return"others"==x._id});vm.bookmarkedProjectList.splice(index,1),vm.bookmarkedProjectList.push(currentProject),vm.bookmarkedProjectList.push({_id:"others",projectName:"All Project List"})},1500)}$("#chooseProject").on("hide.bs.modal",function(){vm.enableLazyLoad=!1}),vm.closeProjectPicker=function(){$("#chooseProject").modal("hide"),vm.project=null,projectStore.set("")},vm.checkBookmark=function(data){var bookmark=!0,alreadyBookmarked=!1;angular.forEach(vm.bookmarkedProject,function(x){if(x._id==data._id)return alreadyBookmarked=!0}),bookmark=!alreadyBookmarked,apiFactory.bookMarkProject(projectStore.get()._id,bookmark).then(function(resp){if(bookmark)Notification.success("Project successfully bookmarked"),vm.bookmarkedProject.push(data),vm.bookmarkFlag=!0;else{Notification.success("Project successfully removed from bookmark list");var index=vm.bookmarkedProject.findIndex(function(x){return x._id==data._id});vm.bookmarkedProject.splice(index,1),vm.bookmarkFlag=!1}}).catch(function(err){console.log(err)})},vm.addMore=function(){enabled&&(enabled=!1,$timeout(function(){enabled=!0},500),chunkSize+=5,apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)}))},vm.filePickerOptions={filter:"pdf"},vm.searchProjects=function(text){apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)})},vm.sort=function(field){vm.sortParams.field===field?vm.sortParams.type=!vm.sortParams.type:(vm.sortParams.field=field,vm.sortParams.type=!0),apiFactory.listAllProjects({search:vm.projectSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.projectPickerData=resp.data.list}).catch(function(e){console.log(e)})},vm.logout=function(){logout()},$scope.redirectTo3D=function(){console.log("rediection called"),apiFactory.get3DPage().then(function(response){console.log("response:",response)})},vm.goToEconomic=function(){$state.go("economic")},vm.goToFileManager=function(){console.log("project",projectStore.get()),projectStore.get()?$state.go("fileManager"):(Notification.warning("Please select a project"),$("html, body").animate({scrollTop:$(".project").offset().top},500,function(){$("#selectProject").focus().addClass("blink"),setTimeout(function(){$("#selectProject").removeClass("blink")},1e3)}))},vm.planPickerPlans=[],vm.rootFolders=[],vm.openPlanPicker=function(){projectStore.get()?(apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans,$("#chooseRoofModal").modal("show")}).catch(function(e){console.log(e)}),apiFactory.getHierarchy(projectStore.get()._id).then(function(resp){vm.showTree=!0,vm.rootFolders=resp.data.data.hierarchies}).catch(function(e){console.log(e)})):Notification.warning("No project selected")},vm.choosePlan=function(plan){$("#chooseRoofModal").modal("hide"),localStorageService.set("selectedPlan",plan),$state.go("visualPlanner")},vm.allModalClose=function(){$("#chooseFile, #selectFileCanvas, #selectFile, #chooseRoofModal").modal("hide")},vm.fileChoose=function(){vm.pickerFolders=angular.copy(vm.rootFolders),$("#chooseFile").modal("show"),$("#chooseFile").css("display","block"),$("#chooseFile .modal-dialog").css({"-webkit-box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)","-moz-box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)","box-shadow":"0px 0px 47px 6px rgba(0, 0, 0, 0.75)"}),$(".rootFolder").show(),$(".childFolder").hide(),vm.moveto="move To",$scope.folderName="Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1},$scope.$on("loader",function(e,data){vm.loader=data,vm.loader?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),$scope.$on("selectedRoofPlanDoc",function(e,data){vm.selectedAssetForPlan=data,vm.roofplanBreadCrumb=data.breadCrumbs.reduce(function(acc,x){return acc+=x.name+" > "},"")+data.assetName,/cloudinary/.test(data.secure_url)?(vm.fileArray=globals.extractPagesFromPdf(data.secure_url,data.pages),vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFile").modal("show"),$("#selectFile").css("display","block"),vm.pdfFiles=angular.copy(vm.fileArray),console.log(vm.fileArray)):data.planDocument?($timeout(function(){$scope.$apply()}),vm.pdfPagesData=vm.pdfFiles=data.planImages.map(function(x,i){var obj={pageNo:i,title:"title_"+Date.now(),url:x,selected:!1,description:""};return obj}),vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFile").modal("show"),$("#selectFile").css("display","block")):globals.createPagesFromPdf(data).then(function(pages){$timeout(function(){$scope.$apply()}),vm.pdfPagesData=pages,vm.pdfFiles=pages,vm.loader=!1,$("#chooseRoofModal").css("visibility","hidden"),$("#selectFileCanvas").modal("show"),$("#selectFileCanvas").css("display","block")})}),vm.hideSelectFile=function(){$("#chooseRoofModal").css("visibility","visible"),$("#selectFile").css("display","none")},vm.selectedFileList=function(val,type,asset){if("submit"==val)if($("#chooseFile, #selectFile, #selectFileCanvas").css("display","none"),$("#chooseRoofModal").css("visibility","visible"),vm.selectedFiles=[],angular.forEach(vm.pdfFiles,function(x){x.selected&&vm.selectedFiles.push(x)}),1===type){var endpoint=!asset.planDocument&&/cloudinary/.test(asset.secure_url)?"addProjectRoofPlan":"addRoofPlansFromAsset",payload={assetId:asset._id,projectId:projectStore.get()._id,pages:vm.selectedFiles};apiFactory[endpoint](payload).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else{var _payload={assetId:asset._id,pdfUrl:asset.secure_url,projectId:projectStore.get()._id,pages:vm.selectedFiles.reduce(function(acc,x){var obj={title:x.title,description:x.description,pageNo:x.pageNo};return acc.push(obj),acc},[])};apiFactory.generateRoofPlans(_payload).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(projectStore.get()._id).then(function(resp){var roofPlans=resp.data.data;localStorageService.set("roofPlanProject",projectStore.get()._id),localStorageService.set("roofPlans",roofPlans),vm.planPickerPlans=roofPlans}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}else"close"==val&&($("#chooseFile, #selectFile, #selectFileCanvas").css("display","none"),$("#chooseRoofModal").css("visibility","visible"))},vm.goToMeetingRoom=function(){projectStore.get()?$state.go("meetingroom"):(Notification.warning("Please select a project"),$("html, body").animate({scrollTop:$(".project").offset().top},500,function(){$("#selectProject").focus().addClass("blink"),setTimeout(function(){$("#selectProject").removeClass("blink")},1e3)}))}})}(),function(){angular.module("app").controller("economicCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var vm=this,logout=globals.logout,userStore=globals.userStore;globals.debounce;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),console.log(vm.userData),vm.logout=function(){logout()},$scope.activeClass=function(path){return $location.path()===path?"active":""},vm.animateElements=function(){$(".progressbar").each(function(){var elementPos=$(this).offset().top,topOfWindow=$(window).scrollTop(),percent=$(this).find(".circle").attr("data-percent"),animate=(parseInt(percent,10),parseInt(100,10),$(this).data("animate"));elementPos<topOfWindow+$(window).height()-30&&!animate&&($(this).data("animate",!0),$(this).find(".circle").circleProgress({startAngle:-Math.PI/2,value:percent/100,size:180,thickness:8,emptyFill:"rgba(0,0,0, .2)",fill:{color:"#43f6fd"}}).on("circle-animation-progress",function(event,progress,stepValue){$(this).find("div").text((100*stepValue).toFixed(0))}).stop())})},vm.animateElements(),$(window).scroll(vm.animateElements())})}(),function(){angular.module("app").controller("economicPayrollCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var logout=globals.logout,userStore=globals.userStore;globals.debounce;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),console.log(this.userData),this.logout=function(){logout()},$scope.activeClass=function(path){return $location.path()===path?"active":""}})}(),function(){angular.module("app").controller("employeesCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var logout=globals.logout;authFactory.checkUser()||logout();this.logout=function(){logout()}})}(),function(){angular.module("app").controller("equipmentCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload,NgMap){$scope.equipment=[{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Car",tag:"NR. 99"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Car",tag:"NR. 99"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Car",tag:"NR. 99"},{img:"/assets/images/equipment.png",title:"Equipment ABC",subtitle:"EQ - 1234",work:"Worker ID",tag:"NNS1 - Kim Mosegaard"}],$scope.img_upload=[{img:"/assets/images/equipment3.png"},{img:"/assets/images/equipment3.png"},{img:"/assets/images/equipment3.png"}],$scope.equipdocuments=[{img:"/assets/images/pdf.png",type:"Document_1.pdf"},{img:"/assets/images/pdf.png",type:"Document_2.pdf"},{img:"/assets/images/pdf.png",type:"Document_3.pdf"}];var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();vm.inputFiles=[],vm.uploadFiles=[],$(".payrollMenu").hide(),vm.userData=userStore.get(),vm.logout=function(){logout()},vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU&libraries=places",markers:[],styles:[],center:"41,-87",zoom:3};var gAryLocation=[];vm.placeMarker=function(map){var placeData=this.getPlace().geometry.location;vm.gmap.markers=[[placeData.lat(),placeData.lng()]],vm.gmap.zoom=15,vm.gmap.center=placeData.lat()+","+placeData.lng(),gAryLocation=[placeData.lat(),placeData.lng()]},NgMap.getMap().then(function(map){vm.map=map,map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoomControl:!0,zoom:1,center:{lat:0,lng:0}})}),$(".materialList").DataTable(),apiFactory.listAllEquipments().then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)}),vm.dtOptions={paging:!1,info:!1,ordering:!1},$(".equipmentList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!1,name:!1},vm.searchText="",vm.sortEquipment=function(type){void 0===vm.toggleObj[type]?vm.toggleObj[type]=!0:vm.toggleObj[type]=!vm.toggleObj[type],apiFactory.listAllEquipments({page:1,chunk:10,sort:type,search:vm.searchText,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list,console.log(vm.equipment),vm.equipmentCount=resp.data.total,$timeout(function(){$("#equipmentPagination").pagination({items:vm.equipmentCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllEquipments({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.searchEquipment=function(text){apiFactory.listAllEquipments({page:1,chunk:10,search:text,sort:"createdDate",sortType:!1}).then(function(resp){vm.equipment=resp.data.list,vm.equipmentCount=resp.data.total,$timeout(function(){$("#equipmentPagination").pagination({items:vm.equipmentCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllEquipments({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.equipment=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.sortEquipment("createdAt"),vm.addEquipment={conversionFactor:1},vm.tabSettings={disable:!0},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addEquipment.currency=angular.copy(vm.companyData.currentCurrency.currencyCode),vm.companyCurrency=angular.copy(vm.companyData.currentCurrency.currencyCode),console.log(vm.addEquipment.currency),$("#currency").val(vm.addEquipment.currency).trigger("change.select2")}).then(function(e){console.log(e)}),vm.Equipment={},vm.showConversionRate=function(from,to){$(".loader").show();var currencyData={from:from,to:to};from&&to&&apiFactory.showConversionRate(currencyData).then(function(resp){vm.Equipment.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data}),vm.tabStyle=function(){void 0!==vm.addMaterial.materialName&&" "!==vm.addMaterial.materialName&&void 0!==vm.addMaterial.materialUnit&&" "!==vm.addMaterial.materialUnit&&void 0!==vm.addMaterial.currency&&""!==vm.addMaterial.currency&&void 0!==vm.addMaterial.conversionFactor&&""!==vm.addMaterial.conversionFactor?($("uib-tab-heading.info i.fa").attr("style","display: inline-block !important; color: #3cbdaa"),$("uib-tab-heading.info .number").hide(),$(".btn-success.next").attr("disabled",!1)):($("uib-tab-heading.info i.fa").attr("style","display: none !important; color: #3cbdaa"),$("uib-tab-heading.info .number").show(),$(".btn-success.next").attr("disabled",!0))},vm.addMaterialNext=function(){null!=vm.addMaterial.materialName&&" "!=vm.addMaterial.materialName?null!=vm.addMaterial.materialUnit&&" "!=vm.addMaterial.materialUnit?null!=vm.addMaterial.currency&&" "!=vm.addMaterial.currency?$scope.activeJustified=1:Notification.error("Please select Currency"):Notification.error("Please select material Unit"):Notification.error("Please enter material name")},vm.changeCost=function(cost,conversionRate){return cost*conversionRate},vm.fileUpdated=function(files,event,modal){console.log(vm.inputImg);var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x);else{var _duplicateImg3=!1;angular.forEach([].concat(vm.uploadFiles,vm.uploadImg),function(y){x.name!=y.name||(_duplicateImg3=!0)}),_duplicateImg3?Notification.error("File name already exist"):/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x)}}),console.log(vm.uploadImg)},vm.addMaterialDetails=function(){var formData={name:vm.addMaterial.materialName,unit:vm.addMaterial.materialUnit,equipmentCosts:{value:vm.changeCost(vm.addMaterial.equipmentCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},rooferCost:{value:vm.changeCost(vm.addMaterial.rooferCostValue,vm.addMaterial.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},files:vm.inputFiles};apiFactory.createEquipment(formData).then(function(resp){$("#addEquipments").modal("hide"),Notification.success(resp.data.message),vm.sortEquipment("createdAt"),vm.addMaterial={conversionFactor:1}}).catch(function(e){console.log(e)})},vm.uploadImg=[],vm.uploadFiles=[],vm.fileUpdated=function(files,event,modal){console.log(vm.inputImg);var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x);else{var _duplicateImg4=!1;angular.forEach([].concat(vm.uploadFiles,vm.uploadImg),function(y){x.name!=y.name||(_duplicateImg4=!0)}),_duplicateImg4?Notification.error("File name already exist"):/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x)}}),console.log(vm.uploadImg)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"image"==$scope.fileType?(vm.uploadImg[index].description=data,$("#closePopoverImg_"+index).trigger("click")):(vm.uploadFiles[index].description=data,$("#closePopoverFile_"+index).trigger("click"))},vm.deleteFile=function(indexVal,type){"image"==type?vm.uploadImg.splice(indexVal,1):vm.uploadFiles.splice(indexVal,1)},vm.addNewEquipment=function(Equipments){var files=$scope.imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles);console.log("Equipments: ",Equipments);var formData={name:Equipments.name,unit:Equipments.unit,files:files,equipmentCost:{value:vm.changeCost(Equipments.equipmentCost,Equipments.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},workers:Equipments.workers,rooferCost:{value:vm.changeCost(Equipments.rooferCost,Equipments.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},location:gAryLocation};console.log(formData),$("#equipment_modal").modal("hide"),apiFactory.updateEquipmentById(formData).then(function(resp){Notification.success(resp.data.message),vm.sortEquipment("createdAt")}).catch(function(e){console.log(e)})};var gAryCompanyMembers=[];apiFactory.getAllMembersInCurrentCompany(vm.userData.companyId).then(function(data1){console.log(data1),gAryCompanyMembers=data1.data.data,vm.companyMembers=gAryCompanyMembers}).catch(function(err){console.log(err),Notification.error(err.data.message)})})}(),function(){angular.module("app").controller("equipmentViewCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,$stateParams,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();vm.logout=function(){logout()},vm.userData=userStore.get(),vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data}),vm.addEquipment={conversionFactor:1},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addEquipment.currency=angular.copy(vm.companyData.currentCurrency.currencyCode),vm.companyCurrency=angular.copy(vm.companyData.currentCurrency.currencyCode),console.log(vm.addEquipment.currency),$("#currency").val(vm.addEquipment.currency).trigger("change.select2")}).then(function(e){console.log(e)});var gAryLocation=[];vm.placeMarker=function(map){console.log(this.getPlace());var placeData=this.getPlace().geometry.location;vm.gmap.markers=[[placeData.lat(),placeData.lng()]],vm.gmap.zoom=15,vm.gmap.center=placeData.lat()+","+placeData.lng(),gAryLocation=[placeData.lat(),placeData.lng()]},vm.showConversionRate=function(from,to){console.log(from,to),$(".loader").show();var currencyData={from:from,to:to};from&&to&&apiFactory.showConversionRate(currencyData).then(function(resp){vm.equipment.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU&libraries=places",markers:[],styles:[],center:"",zoom:8},vm.equipmentId=$stateParams.id,apiFactory.getEquipmentById(vm.equipmentId).then(function(resp){console.log(resp.data),$(".select2-choice .select2-chosen").text(""),vm.equipment=resp.data,vm.equipment.equipmentCost=resp.data.currentRate.equipmentCost.value,vm.equipment.rooferCost=resp.data.currentRate.rooferCost.value,vm.equipment.unit=resp.data.unit,vm.addEquipment.currency=resp.data.currentRate.equipmentCost.currencyCode,vm.showConversionRate(resp.data.currentRate.equipmentCost.currencyCode,resp.data.currentRate.equipmentCost.currencyCode),vm.gmap.center=resp.data.loc.coordinates,vm.uploadImg=resp.data.files.images,vm.uploadFiles=resp.data.files.docs}).catch(function(e){console.log(e)}),vm.editEquipment=function(companyCurrency,currentCurrency){$("#equipment_modal").modal(),vm.showConversionRate(companyCurrency,currentCurrency)},vm.unitSelect=function(data){vm.equipment.unit=data.name},vm.fileUpdated=function(files,event,modal){console.log(vm.inputImg);var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x);else{var _duplicateImg5=!1;angular.forEach([].concat(vm.uploadFiles,vm.uploadImg),function(y){x.name!=y.name||(_duplicateImg5=!0)}),_duplicateImg5?Notification.error("File name already exist"):/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x)}}),console.log(vm.uploadImg)},vm.deleteFile=function(indexVal,type){"image"==type?vm.uploadImg.splice(indexVal,1):vm.uploadFiles.splice(indexVal,1)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"image"==$scope.fileType?(vm.uploadImg[index].description=data,0==inventoryState.get().tab?$("#closePopoverImg_"+index).trigger("click"):$("#closePopoverDcpImg_"+index).trigger("click")):(vm.uploadFiles[index].description=data,0==inventoryState.get().tab?$("#closePopoverFile_"+index).trigger("click"):$("#closePopoverDcpFile_"+index).trigger("click"))},vm.updateEquipment=function(Equipments){var files=$scope.imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles);console.log("Equipments: ",Equipments);var formData={name:Equipments.name,unit:Equipments.unit,files:files,equipmentCost:{value:vm.changeCost(Equipments.equipmentCost,Equipments.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},workers:Equipments.workers,rooferCost:{value:vm.changeCost(Equipments.rooferCost,Equipments.conversionFactor),currencyCode:vm.companyData.currentCurrency.currencyCode},location:gAryLocation};console.log(formData),$("#equipment_modal").modal("hide"),apiFactory.updateEquipment(Equipments._id,formData).then(function(resp){Notification.success(resp.data.message),vm.sortEquipment("createdAt")}).catch(function(e){console.log(e)})};var gAryCompanyMembers=[];apiFactory.getAllMembersInCurrentCompany(vm.userData.companyId).then(function(data1){console.log(data1),gAryCompanyMembers=data1.data.data,vm.companyMembers=gAryCompanyMembers}).catch(function(err){console.log(err),Notification.error(err.data.message)}),$scope.slider2=[{img:"/assets/images/equipment2.jpg"},{img:"/assets/images/equipment2.jpg"},{img:"/assets/images/equipment2.jpg"}]})}(),function(){angular.module("app").controller("fileManagerCtrl",function($scope,$http,$window,$timeout,authFactory,$state,apiFactory,Notification,globals,fileManagerFactory,uploadFactory){$scope.navtab=[{title:"Sub Folder A",target:"tabpane1"},{title:"Sub Folder B",target:"tabpane2"},{title:"Sub Folder C",target:"tabpane3"},{title:"Sub Folder D",target:"tabpane4"},{title:"Sub Folder E",target:"tabpane5"}];var vm=this,logout=globals.logout,userStore=globals.userStore,projectStore=globals.projectStore,genericStore=globals.genericStore,clipBoard=(globals.breakcrumbStore,fileManagerFactory.clipBoard);if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data;var selectedProject=projectStore.get();vm.selectedProject=selectedProject._id,vm.getPrimaryFolders(selectedProject)}).catch(function(e){console.log(e)}),vm.rootFolders=[],vm.backupFolders=projectStore.get().backupFolders,vm.windowItems={folderData:"",folders:[],files:[]},vm.resolveAssetIcon=function(assetObj){var assetFormat=assetObj.format.trim(),icon=void 0;return/jp*g/.test(assetFormat)?icon="jpg":/png/.test(assetFormat)?icon="png":/pdf/.test(assetFormat)&&(icon="pdf"),icon},vm.showTree=!1,vm.getPrimaryFolders=function(selectedProject,list){list?projectStore.set(list.filter(function(x){return x._id===selectedProject})[0]):projectStore.set(selectedProject),vm.backupFolders=projectStore.get().backupFolders,Promise.all([apiFactory.getHierarchy(projectStore.get()._id),apiFactory.viewProjectAssets(projectStore.get()._id)]).then(function(resp){vm.showTree=!0,vm.rootFolders=resp[0].data.data.hierarchies,vm.projectFiles=resp[1].data.data,vm.loadFilesToAutoComplete=function($query){return new Promise(function(resolve,reject){resolve(vm.projectFiles)})}}).catch(function(e){console.log(e)})},vm.getFolder=function(id){apiFactory.getHierarchyChildren(id).then(function(resp){console.log(resp.data)}).catch(function(e){console.log(e)})};var fileDestination=genericStore();vm.treeOptions={accept:function(source,dest,destIndex){return!source.file||(fileDestination.store(dest),!1)},dragStop:function(event){var source=event.source;event.dest;if(source.nodeScope.file){var destination=fileDestination.get();if(!destination.$nodeScope)return;var payload={assetId:source.nodeScope.file._id,sourceId:source.nodeScope.$parent.$nodeScope.$modelValue._id,destId:destination.$nodeScope.$modelValue._id};apiFactory.moveAssets(payload).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)}),destination.$nodeScope.$modelValue.files?destination.$nodeScope.$modelValue.files.push(source.nodeScope.file):destination.$nodeScope.$modelValue.files=[source.nodeScope.file],source.nodeScope.$parent.$nodeScope.$modelValue.files=source.nodeScope.$parent.$nodeScope.$modelValue.files.filter(function(x){return x._id!==source.nodeScope.file._id})}},dropped:function(event){var source=event.source,dest=event.dest,payload=void 0;null===dest.nodesScope.$nodeScope&&null===source.nodeScope.$parentNodeScope||(payload=null===dest.nodesScope.$nodeScope&&null!==source.nodeScope.$parentNodeScope?{type:1,hierarchyId:source.nodeScope.$modelValue._id,parentId:source.nodeScope.$parentNodeScope.$modelValue._id,projectId:projectStore.get()._id}:null!==dest.nodesScope.$nodeScope&&null===source.nodeScope.$parentNodeScope?{type:2,hierarchyId:source.nodeScope.$modelValue._id,projectId:projectStore.get()._id,destId:dest.nodesScope.$nodeScope.$modelValue._id}:{type:3,hierarchyId:source.nodeScope.$modelValue._id,parentId:source.nodeScope.$parentNodeScope.$modelValue._id,destId:dest.nodesScope.$nodeScope.$modelValue._id},apiFactory.dragMoveNodes(payload).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)}))}};var rootFolderStore=genericStore();vm.setRootFolder=function(obj){rootFolderStore.store(obj)},vm.addModalActiveTab=0,$("#addModal").on("hide.bs.modal",function(){vm.fileNames=[],vm.addModalActiveTab=0}),vm.addPrimaryFolder=function(name,projectId){if(""!=vm.folderName&&null!=vm.folderName){var payload={name:name,isParent:!0,projectId:projectId},nodeObj=rootFolderStore.get();$("#addModal").modal("hide"),apiFactory.addHierarchy(payload).then(function(resp){nodeObj.$nodesScope.$modelValue.push(resp.data.data),Notification.success(resp.data.message),console.log("rootfolder",rootFolderStore.get())}).catch(function(e){console.log(e)})}else Notification.warning("Folder name can't be empty")},vm.openAddModal=function(source,obj){vm.addModalSource=source,vm.nodeObj=obj,$("#addModal").modal("show")},vm.showLoader=!1,vm.toggleFolder=function(folder,icon,node){folder.$modelValue.backup||($(folder.$treeScope.$element[0]).find(".folder-open").removeClass("folder-open"),$(folder.$element[0]).find(".row").first().addClass("folder-open"),vm.showLoader=!0,apiFactory.viewHierarchy(folder.$modelValue._id).then(function(resp){vm.windowItems={folderData:folder,folders:folder.$modelValue.children,files:resp.data.files},vm.breadCrumbList=resp.data.breadcrumbs,vm.showLoader=!1,folder.$modelValue.files=resp.data.files,navigationStack.push(folder)}).catch(function(e){console.log(e)}),folder.collapsed?folder.toggle():icon&&navigationStack.push(folder))};var navigationStack=fileManagerFactory.navigationStack();vm.navigate=function(forward){var folder=forward?navigationStack.forward():navigationStack.backward();folder&&(vm.showLoader=!0,apiFactory.viewHierarchy(folder.$modelValue._id).then(function(resp){vm.windowItems={folderData:folder,folders:folder.$modelValue.children,files:resp.data.files},vm.showLoader=!1,folder.$modelValue.files=resp.data.files}).catch(function(e){console.log(e)}))},vm.openFolder=function(id){var folderData=vm.windowItems.folderData.childNodes().reduce(function(acc,x){return x.$modelValue._id===id&&(acc=x),acc},null);vm.showLoader=!0,apiFactory.viewHierarchy(id).then(function(resp){navigationStack.push(folderData),vm.windowItems={folderData:folderData,folders:resp.data.folders,files:resp.data.files},vm.breadCrumbList=resp.data.breadcrumbs,vm.showLoader=!1}).catch(function(e){console.log(e)})},vm.addFolder=function(name,folder){if(""!=vm.folderName&&null!=vm.folderName){$("#addModal").modal("hide");var payload={name:name,isParent:!1,parent:folder};apiFactory.addHierarchy(payload).then(function(resp){folder.children.push(resp.data.data),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})}else Notification.warning("Folder name can't be empty")},vm.addFileToHierarchy=function(assets,folder){if(console.log(vm.selectedFiles),null!=vm.selectedFiles){$("#addModal").modal("hide");var assetId=assets.map(function(x){return x._id}),hierarchyId=folder._id;apiFactory.addFileToHierarchy({assetId:assetId,hierarchyId:hierarchyId}).then(function(resp){Notification.success(resp.data.message)}).catch(function(e){console.log(e)})}else Notification.warning("You need to select files to save")},vm.deleteFile=function(id,folderData){$("#fileView").modal("hide"),apiFactory.deleteAssets({assetId:id}).then(function(resp){vm.showLoader=!0,apiFactory.viewHierarchy(folderData.$modelValue._id).then(function(resp){vm.windowItems={folderData:folderData,folders:folderData.$modelValue.children,files:resp.data.files},vm.showLoader=!1,folderData.$modelValue.files=resp.data.files}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.uploadState=!1,vm.completedAll=!1,vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.uploadState=!1,vm.completedAll=!1,vm.fileNames=Object.keys(fileObj).map(function(x){var val=fileObj[x];return val.progress=0,val.isPaused=!1,val.completed=!1,val.aborted=!1,val.plan=!1,val})},vm.toggleUploadViewMaximize=function(val){vm.uploadViewMaximize=!val},vm.preUpload=function(files,folder){if(console.log(vm.uploadFiles),null==vm.uploadFiles)return Notification.warning("You need to uplaod files"),!1;$("#addModal").modal("hide"),fileManagerFactory.checkDuplicateFiles(files,folder._id).then(function(processed){processed.duplicates.length?(vm.preUploadFiles=processed,console.log(vm.preUploadFiles),$("#versioningModal").modal("show")):(console.log(processed),vm.uploadFile(processed,projectStore.get()._id,folder))}).catch(function(e){console.log(e)})},vm.processDuplicateFileName=function(file){"version"===file.action?file.assetName=fileManagerFactory.generateVersion(file.name):file.assetName=file.name},vm.uploadFile=function(files,projectId,folder){if(fileManagerFactory.checkNameChange(files.duplicates))Notification.warning("File names can't be the same");else if($("#versioningModal").modal("hide"),files=[].concat(_toConsumableArray(files.duplicates),_toConsumableArray(files.uploadFiles)),vm.uploadState=!0,$("#addModal").modal("hide"),vm.uploadViewFiles=fileManagerFactory.splitDestination(files),angular.forEach(vm.uploadViewFiles.s3,function(x){uploadFactory.start(function(evaporate){x.pause=uploadFactory.pause.bind(evaporate,x),x.resume=uploadFactory.resume.bind(evaporate,x),x.abort=uploadFactory.abort.bind(evaporate,x);var addConfig={name:x.name,file:x,progress:function(p,stats){x.progress=x.progress>Math.round(100*p)?x.progress:Math.round(100*p),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()})},complete:function(_xhr,awsKey){x.completed=!0,$timeout(function(){$scope.$apply()}),console.log("Complete!")}};evaporate.add(addConfig).then(function(awsObjectKey){var payload={type:fileManagerFactory.resolveDestType(x),projectId:projectStore.get()._id,folderId:folder._id,assetData:{assetName:x.assetName,bucket:"3dfilesdata",key:"test/"+x.name,mimetype:x.type,bytes:x.size,planDocument:x.plan}};apiFactory.newFileUpload(payload).then(function(resp){folder&&folder.files.push(resp.data.data)}).catch(function(e){console.log(e)}),Notification.success("File successfully uploaded"),console.log("File successfully uploaded to:",awsObjectKey)},function(reason){x.aborted=!0,vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),console.log("File did not upload sucessfully:",reason)})})}),vm.uploadViewFiles.cloudinary.length){var cloudinaryPayload={files:vm.uploadViewFiles.cloudinary,assetNames:vm.uploadViewFiles.cloudinary.map(function(x){return x.assetName}),projectId:projectId,hierarchyId:folder._id};apiFactory.uploadFileInFileManager(cloudinaryPayload).then(function(resp){vm.uploadViewFiles.cloudinary=vm.uploadViewFiles.cloudinary.map(function(x){return x.completed=!0,x}),vm.completedAll=fileManagerFactory.checkUploadCompletion(vm.uploadViewFiles),$timeout(function(){$scope.$apply()}),folder&&resp.data.data.forEach(function(x){folder.files.push(x)}),Notification.success(resp.data.message)}).catch(function(e){console.log(e)})}},vm.closeUploadView=function(){vm.uploadState=!1},vm.fileView=function(file){$("#fileView").modal("show"),vm.previewData=file,vm.previewData.customUrl="pdf"===file.format?file.secure_url.replace(/\.pdf/,".png"):file.secure_url},vm.editEnabled=!1,vm.toggleEdit=function(bool){vm.editEnabled=bool},$scope.backBtnView=!1,vm.contextMenuOptions={explorer:[{text:"Paste item(s)",click:function($itemScope,$event,modelValue,text,$li){vm.windowItems.folderData?clipBoard.paste(vm.windowItems.folderData.$modelValue._id).then(function(resp){resp&&apiFactory.viewHierarchy(vm.windowItems.folderData.$modelValue._id).then(function(resp){vm.windowItems={folderData:vm.windowItems.folderData,folders:resp.data.folders,files:resp.data.files}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}):Notification.warning("Cannot paste file in root location")}}],file:[{text:"Copy",click:function($itemScope,$event,modelValue,text,$li){clipBoard.copy($itemScope.file)}},{text:"Cut",click:function($itemScope,$event,modelValue,text,$li){clipBoard.cut($itemScope.file,vm.windowItems.folderData.$modelValue._id)}},{text:"Move to",click:function($itemScope){vm.pdfonly=!1,vm.pickerFolders=angular.copy(vm.rootFolders),vm.moveToSourceFile=$itemScope.file,$("#moveTo").modal("show"),$(".rootFolder").show(),$(".childFolder").hide(),vm.moveto="move To",$scope.folderName="Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}}]},vm.childFolderView=function(val){vm.childFolders=val.children,vm.moveto=val.name,$(".rootFolder").hide(),$(".childFolder").show()},$scope.backBtnView=!1,"Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1;vm.saveHierarchyTree=function(name){if(name){$("#saveTemplateModal").modal("hide");var data={name:name};apiFactory.saveHierarchyTree(projectStore.get()._id,data).then(function(resp){Notification.success(resp.data.message)}).console.log(function(e){console.log(e)})}else Notification.error("Please enter template name")},vm.selectedTemplate="",apiFactory.getHierarchyTemplate().then(function(resp){vm.templateList=resp.data.data}).catch(function(e){console.log(e)}),vm.assignTemplate=function(){var data={projectId:projectStore.get()._id,templateId:vm.selectedTemplate._id};$("#assignTemplateModal").modal("hide"),apiFactory.changeProjectTemplate(data).then(function(resp){Notification.success(resp.data.message),vm.getPrimaryFolders(projectStore.get()),apiFactory.getProjectById(projectStore.get()._id).then(function(resp){projectStore.set(resp.data),vm.backupFolders=projectStore.get().backupFolders}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.showBackupFiles=!1,vm.showRecentFiles=!1,vm.toggleBookmarks=function(val,key){vm[key]=!val},vm.loadProjectFiles=function(id){apiFactory.showProjectFiles(id,5).then(function(response){vm.projectFiles=response.data.data})},vm.loadProjectFiles(projectStore.get()._id)})}(),function(){angular.module("app").controller("invoiceCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var logout=globals.logout,userStore=globals.userStore;globals.debounce;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),console.log(this.userData),this.logout=function(){logout()},$scope.activeClass=function(path){return $location.path()===path?"active":""}})}(),function(){angular.module("app").controller("invoiceListCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var vm=this,logout=globals.logout,userStore=globals.userStore,projectStore=(globals.debounce,globals.projectStore);if(!authFactory.checkUser())return void logout();function getInvoiceList(resp){vm.invoiceList=resp.data.list,angular.forEach(vm.invoiceList,function(x){var amount=0;angular.forEach(x.items,function(y){amount+=y.sales}),x.totalValue=amount})}vm.userData=userStore.get(),vm.logout=function(){logout()},vm.todayDate=new Date,vm.invoiceItems=[],vm.createInvoiceData={reference:"",date:vm.todayDate,dueDate:vm.todayDate,termsAndConditions:!0,calculatedProcess:!0},apiFactory.getProjectById(projectStore.get()._id).then(function(resp){return vm.createInvoiceData.reference=resp.data.systemTag,apiFactory.listAllProjectInvoice(resp.data.systemTag)}).then(getInvoiceList).catch(function(e){console.log(e)}),vm.addItem={quantity:1,discountPercent:0,taxRate:0},vm.clients=[],apiFactory.listAllClients().then(function(resp){vm.clients=resp.data.list,console.log(vm.clients,"clients")}).catch(function(e){console.log(e)}),Promise.all([apiFactory.listAllMaterials(),apiFactory.listAllComboMaterials(),apiFactory.listAllEquipments()]).then(function(resp){vm.itemList=[].concat(resp[0].data.list,resp[1].data.list,resp[2].data.list),vm.loadFilesToAutoComplete=function($query){return new Promise(function(resolve,reject){resolve(vm.itemList)})}}).catch(function(e){console.log(e)}),vm.selectedItem=function(data){1==data.length?(vm.addItem.unitPrice=data[0].currentRate.materialCost.value+data[0].currentRate.rooferCost.value,vm.addItem.description=data[0].name):(Notification.error("you can add only one item at a time"),data.splice(1,data.length-1),vm.addItem.unitPrice=data[0].currentRate.materialCost.value+data[0].currentRate.rooferCost.value,vm.addItem.description=data[0].name)},vm.priceCalculate=function(qty,disc,tax){if(console.log(vm.addItem,"===addItem"),0!=qty){if(vm.addItem.sales=vm.addItem.quantity*vm.addItem.unitPrice,disc&&0!=disc)if(disc>100)Notification.error("Please Enter less than 100");else{var discountPrice=vm.addItem.sales*disc/100;if(console.log(discountPrice,"discountPrice"),vm.addItem.sales=vm.addItem.sales-discountPrice,vm.addItem.discountPercent=disc,tax&&0!=tax)if(tax>100)Notification.error("Please Enter less than 100");else{var taxPrice=vm.addItem.sales*tax/100;console.log(taxPrice,"taxPrice"),vm.addItem.sales=vm.addItem.sales+taxPrice,vm.addItem.taxRate=tax}}}else Notification.error("Please Enter Quantity")},vm.addInvoiceItem=function(data){vm.invoiceItems.push(data),vm.addItem={quantity:1,discountPercent:0,taxRate:0,unitPrice:0,description:"",sales:0},vm.selectedFiles=""},vm.removeInvoiceItem=function(index){vm.invoiceItems.splice(index,1)},vm.createInvoice=function(data){if(data.client)if(data.date)if(data.dueDate)if(data.termsAndConditions)if(data.calculatedProcess)if(vm.invoiceItems.length>0){var invoiceData={client:data.client,date:moment(data.date).format(),dueDate:moment(data.dueDate).format(),projectSystemTag:data.reference,termsAndConditions:data.termsAndConditions,calculatedProcess:data.calculatedProcess,items:vm.invoiceItems};apiFactory.createInvoice(invoiceData).then(function(resp){return Notification.success("Invoice created successfully"),apiFactory.listAllProjectInvoice(data.reference)}).then(getInvoiceList).catch(function(e){Notification.error("Something went wrong"),console.log(e)})}else Notification.error("Please add invoice Items");else Notification.error("Please check calculated process");else Notification.error("Please check terms and conditions");else Notification.error("Please select due date");else Notification.error("Please select date");else Notification.error("Please select client")},$scope.activeClass=function(path){return $location.path()===path?"active":""}})}(),function(){angular.module("app").controller("issueDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService,FileSaver,imageMarker){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.issueId=$stateParams.id,vm.ImageAssets=[],vm.DocumentAssets=[],$scope.currentPage=1,$scope.itemsPerPage=3,vm.getIssueDetail=function(){apiFactory.getIssueById(vm.issueId).then(function(resp){vm.issueData=resp.data,vm.planToMark=resp.data.markedImages.map(function(x,i){return x.active=0===i,x}),vm.totalItems=vm.issueData.comments.length,$scope.ArrayComments=vm.issueData.comments.reverse(),$scope.ArrayActivities=vm.issueData.issueActivity.reverse(),vm.allComments=$scope.ArrayComments.slice(0,3),vm.allActivities=$scope.ArrayActivities.slice(0,6),$timeout(function(){$("#pagination").pagination({items:vm.totalItems,itemsOnPage:$scope.itemsPerPage,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),function(page){var pagedData=vm.issueData.comments.slice((page-1)*$scope.itemsPerPage,page*$scope.itemsPerPage);vm.allComments=pagedData,$scope.$apply()}(page)}}),$("#paginationActivity").pagination({items:vm.issueData.issueActivity.length,itemsOnPage:7,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),function(page){var pagedData=vm.issueData.issueActivity.slice(7*(page-1),7*page);vm.allActivities=pagedData,$scope.$apply()}(page)}})}),vm.issueData.listAssets&&vm.issueData.listAssets.length&&vm.issueData.listAssets.map(function(x){"image/png"==x.mimetype||"image/jpg"==x.mimetype?vm.ImageAssets.push(x):vm.DocumentAssets.push(x)})})},vm.getIssueDetail(),vm.postComment=function(comment){console.log("comment: ",comment);var comment1=comment.replace(/\n\r?/g,"<br />");if(console.log("comment: ",comment1),null==comment)Notification.error("Please add comment.");else{var commentobj={comment:comment};apiFactory.postCommentForIssue(vm.issueId,commentobj).then(function(resp){console.log("esp:",resp),vm.getIssueDetail(),$("#commentarea").val(""),Notification.success("Comment added successfully..")}).catch(function(e){Notification.error("Couldn't update comment")})}},$scope.changeCompletionStatus=function(){alert("completion")},vm.downloadFile=function(docs){console.log("docs",docs);var blob=new Blob([docs],{type:docs.mimetype});console.log("blob",blob),saveAs(blob,docs.origionalname)},$scope.reOpenIssue=function(){apiFactory.reOpenIssueStatusUpdate(vm.issueId).then(function(resp){vm.getIssueDetail(),$("#confirmmodal").modal("hide"),Notification.success("Issue status is now open")}).catch(function(e){Notification.error("could not update Status")})},$scope.markIssueAsComplete=function(comment,imageFiles){console.log(comment),console.log(imageFiles);var editObject={comment:comment,Images:imageFiles};apiFactory.saveIssueAsComplete(vm.issueId,editObject).then(function(resp){vm.getIssueDetail(),$("#completionstatusmodal").modal("hide"),Notification.success("Issue is been marked as completed")}).catch(function(e){Notification.error("Something wrong happened. couldent update changes")})},vm.errorImage="assets/images/enduserissue.png",$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",vm.openEditMarking=function(){$("#konva_issue_marker").modal("show")},vm.markingColor="rgba(0,0,0,1)",vm.cpOptions={swatch:!0,format:"rgb",pos:"top right",case:"lower",alpha:!0},vm.cpEvents={onChange:function(api,color,$event){imageMarker.setColor(color)}},vm.currentMarkingImage=null;var actions=imageMarker.undoRedo();function saveExistingMarking(assetObj){return new Promise(function(resolve,reject){if(assetObj){var dataImage=imageMarker.getCanvasImage();fetch(dataImage).then(function(res){return res.blob()}).then(function(blob){var file=new File([blob],"detailfile");assetObj.fileObj=file,assetObj.markingJson=imageMarker.serialize(),resolve(null)})}else resolve(null)})}vm.actions=function(action){actions[action]()},vm.openSliderImage=function(image){image&&(actions.reset(),saveExistingMarking(vm.currentMarkingImage).then(function(_){var dimensions={};if(image.width>650){var offset=650/image.width;dimensions.height=image.height*offset,dimensions.width=650}else dimensions={height:image.height,width:image.width};imageMarker.init("slideCanvas",dimensions,image),vm.planToMark.forEach(function(x){x._id===image._id?x.active=!0:x.active=!1}),vm.currentMarkingImage=image,$timeout(function(){$scope.$apply()})}).catch(function(e){console.log(e)}))},vm.drawmarkerOnCanvas=function(){imageMarker.setState("marker")},vm.drawLineOnCanvas=function(){imageMarker.setState("line")},vm.drawCircleOnCanvas=function(){imageMarker.setState("circle")},vm.textState=!1,vm.fillTextOnCanvas=function(text){console.log("asdadas",vm.textState,text),vm.textState&&text&&(imageMarker.fill_text(text),vm.canvasText=""),vm.textState=!vm.textState},$scope.$on("saveDrawing",function(e){saveExistingMarking(vm.currentMarkingImage)}),vm.updateMarkingInfo=function(markings){$("#konva_issue_marker, #issue_modal").modal("hide");var payload=markings.reduce(function(acc,x){if(x.markingJson){var fileData={assetId:x._id,serializedData:x.markingJson};acc.fileData.push(fileData),acc.files.push(x.fileObj)}return acc},{fileData:[],files:[]});apiFactory.editIssueMarkings(payload).then(function(resp){Notification.success(resp.data.message),vm.getIssueDetail()}).catch(function(e){console.log(e)})},vm.modalClose=function(){$("#konva_issue_marker").modal("hide")}})}(),function(){angular.module("app").controller("issuesCtrl",function($scope,$rootScope,$timeout,authFactory,$state,$q,apiFactory,Notification,globals,fileManagerFactory,Upload,localStorageService,uploadFactory,imageMarker){var vm=this;vm.backImg;var logout=globals.logout,userStore=globals.userStore,debounce=(globals.projectStore,globals.debounce);if(vm.UploadFiles=[],vm.issueData={},$scope.issueModel={},$scope.file,$scope.comment="",$scope.openEdit=!1,$scope.filesToRemove=[],$scope.isSelectedBtn=!1,$scope.updateform=!1,$scope.UndoArray=[],$scope.redoArray=[],vm.planToMark=[],vm.LocalImgs=[],$scope.searchingText=!1,$scope.openFillColor=!1,$scope.colorpick="#0000ff",$scope.colorWell,$scope.fillWell,$scope.fillColor="transparent",$scope.textForm=!1,$scope.canvas=document.getElementById("slideCanvas"),vm.errorImage="assets/images/enduserissue.png",$scope.btnMarker="../assets/images/gps.png",$scope.btnCircle="../assets/images/circle-shape-outline.png",$scope.btnLine="../assets/images/lineicon.png",$scope.btnText="../assets/images/text-option-interface-symbol.png",!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],$(".issuesList").DataTable(),$scope.activeJustified=0,vm.currentPage=1,vm.toggleObj={toggleIssue:{systemTag:!1,title:!1,description:!1,projectName:!1,created:!0}},vm.searchText="",vm.sortissues=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type],apiFactory.listAllIssues({page:1,chunk:10,sort:"created",search:vm.searchText,sortType:!1}).then(function(resp){vm.allIssues=resp.data.list,console.log("all issues",vm.allIssues),vm.issueCount=resp.data.total,$timeout(function(){$scope.searchingText=!1,$("#pagination").pagination({items:vm.issueCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllIssues({page:page,chunk:10,sort:type,sortType:vm.toggleObj[type]}).then(function(resp){vm.allIssues=resp.data.list}).catch(function(e){console.log(e)})}}),$("#pagination ul li .prev").text("<<"),$("#pagination ul li .next").text(">>")})}).catch(function(e){console.log(e)})};var searchDebounce=debounce(250);function loadImagesInCarousel(resp){vm.planToMark=resp.map(function(x,i){return x.active=0===i,x.markingJson=null,x})}vm.searchIssues=function(text){searchDebounce(function(){apiFactory.listAllIssues({page:1,chunk:10,search:text,sort:"created",sortType:!1}).then(function(resp){vm.allIssues=resp.data.list,vm.issueCount=resp.data.total,$timeout(function(){$scope.searchingText=!0,$("#paging").pagination({items:vm.issueCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.listAllIssues({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.allIssues=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text])},vm.sortissues("created","toggleIssue"),vm.dtOptions={paging:!1,info:!1,ordering:!1,searching:!1},$scope.issueCategory=["Safety","Quality","Issue"],apiFactory.listAllUsers().then(function(resp){vm.allUsers=resp.data.list}),apiFactory.listAllRoofers().then(function(resp){vm.allRoofers=resp.data.list}),apiFactory.listAllProjects().then(function(resp){vm.allProjects=resp.data.list}),apiFactory.getIssuesList().then(function(resp){vm.listOfIssue=resp.data.list}),vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"image"==$scope.fileType?(vm.uploadImg[index].description=data,$("#closePopoverImg_"+index).trigger("click")):(vm.uploadFiles[index].description=data,$("#closePopoverFile_"+index).trigger("click"))},vm.fileAdded=function(files,event,modal){console.log(vm.inputImg);var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x);else{var _duplicateImg6=!1;angular.forEach([].concat(vm.uploadFiles,vm.uploadImg),function(y){x.name!=y.name||(_duplicateImg6=!0)}),_duplicateImg6?Notification.error("File name already exist"):/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x)}}),console.log(vm.uploadImg)},vm.deleteFile=function(indexVal,type){"image"==type?vm.uploadImg.splice(indexVal,1):vm.uploadFiles.splice(indexVal,1)},vm.addIssueDetails=function(){if(vm.issueData.category)if(vm.issueData.assignedTo)if(vm.issueData.owner){$scope.imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles),console.log($scope.imgAndFiles);var formData={title:vm.issueData.title,description:vm.issueData.description,projectId:vm.issueData.project,issueCategory:vm.issueData.category,assignedTo:vm.issueData.assignedTo,issueStatus:vm.issueData.issueStatus,ownerId:vm.issueData.owner,dependencyOn:vm.issueData.dependencyOn,deadLine:vm.issueData.deadLine,files:$scope.imgAndFiles,assetObj:$scope.imgAndFiles.map(function(x,i){return{assetDescription:x.description}})};apiFactory.createIssue(formData).then(function(resp){Notification.success(resp.data.message),$("#issue_modal").css("display","none"),$("#konva_issue_marker").modal("show"),vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],vm.issueData={},vm.createdIssue=resp.data.data,vm.toggleObj.toggleIssue.createdAt=!0}).catch(function(e){console.log(e)})}else Notification.error("Please Select issue owner");else Notification.error("Please Select assigned user");else Notification.error("Please Select issue Category")},vm.updateIssueDetails=function(formData){var issueObject={};null==vm.updateIssue?(console.log("update issue is undefined"),issueObject.Title=$scope.issueModel.title,issueObject.description=$scope.issueModel.description,issueObject.deadLine=$scope.issueModel.deadLine,issueObject.issueStatus=$scope.issueModel.issueStatus):(console.log("update isuue is not undfined so in esle case"),null==vm.updateIssue.title?issueObject.Title=$scope.issueModel.title:issueObject.Title=vm.updateIssue.title),vm.updateIssueDetails=function(formData){var issueObject={};null==vm.updateIssue?(console.log("update issue is undefined"),issueObject.Title=$scope.issueModel.title,issueObject.description=$scope.issueModel.description):issueObject.description=vm.updateIssue.description,null==vm.updateIssue.deadLine?issueObject.deadLine=$scope.issueModel.deadLine:issueObject.deadLine=vm.updateIssue.deadLine,null==vm.updateIssue.issueStatus?issueObject.issueStatus=$scope.issueModel.issueStatus:issueObject.issueStatus=vm.updateIssue.issueStatus},$scope.inputFiles.length>0&&(issueObject.files=$scope.inputFiles),$scope.filesToRemove.length>0&&(console.log("files to remove",$scope.filesToRemove),issueObject.removedFiles=$scope.filesToRemove),console.log("ISUUEOBJECT",issueObject),apiFactory.updateIssue(issueObject,$scope.issueModel._id).then(function(resp){Notification.success("Issue has been updated successfully"),$scope.inputFiles=[],$scope.filesToRemove=[],$scope.updateform=!1,$("#issuedetail").modal("hide"),vm.sortissues("created","toggleIssue")}).catch(function(e){console.log(e),$scope.inputFiles=[],$scope.filesToRemove=[],$scope.updateform=!1,Notification.error("Something went wrong")})},$scope.readImg=function(fileImg){var output=document.getElementById("blah");output.src=URL.createObjectURL(fileImg)},$scope.deleteImg=function(index,array){array.splice(index,1)},vm.localFiles=[],$("#issue_marker").on("hidden.bs.modal",function(e){$(this).removeData("bs.modal"),$("#chooseIssueRoofModal").is(":visible")?console.log("Modal is open"):(console.log("Modal is closed"),$(this).modal("show"))}),$scope.getImagesInCarosel=function(){apiFactory.getProjectRoofPlans("58eb9d2ec921d67036787832").then(function(resp){var ProjectPlans=resp.data.data;vm.planPickerPlans=ProjectPlans,console.log("planpicker: ",vm.planPickerPlans),$("#issue_marker").modal("hide"),$("#chooseIssueRoofModal").modal("show")}).catch(function(e){console.log(e)})},vm.choosePlanData=function(plan){vm.planToMark.push(plan.assetObj)},vm.choosePlanData1=function(plan){vm.planToMark.push(plan)},$scope.addToDetails=function(imgarray){$("#chooseIssueRoofModal").modal("hide"),$("#issue_marker").modal("show"),console.log("vm.plan to mrk:",vm.planToMark);imgarray.slice(-1);$("#carousellist").carousel("pause").removeData(),$("#carousellist").carousel(vm.planToMark)},$scope.getDetail=function(issue){$("#issuedetail").modal(),$scope.issueModel=issue,$scope.Title=$scope.issueModel.title,$scope.Description=$scope.issueModel.description,$scope.DeadLineDate=new Date($scope.issueModel.deadLine),document.getElementById("deadline").defaultValue=$scope.DeadLineDate,$scope.day=$scope.DeadLineDate.getDate()-1,$scope.month=$scope.DeadLineDate.getMonth()+1,$scope.year=$scope.DeadLineDate.getFullYear(),$scope.deadLineDate=$scope.month+"/"+$scope.day+"/"+$scope.year,$scope.Status=$scope.issueModel.issueStatus},$scope.addFileToUpdate=function(file,comment){$scope.inputFiles.push({file:file,comment:comment}),$scope.file="",$scope.comment=""},$scope.updateRequest=function(updateobj){$scope.updateform=!0,$scope.openEdit=!1},$scope.removeFiles=function(index,array,imageId){array.splice(index,1),$scope.filesToRemove.push(imageId)},vm.closeUpdteModel=function(){$scope.updateform=!1},$scope.openEditDate=function(){$scope.openEdit=!0},$scope.closeEditDate=function(){$scope.openEdit=!1},$scope.imageTempUrl="../assets/images/rooftestimages/image1.jpg",$scope.rooftestDemo=function(string){console.log("string",string),$scope.imageTempUrl=".."+string},$("#issue_marker").on("shown.bs.modal",function(e){$("#carousellist").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:200,itemMargin:3})}),vm.markingsArray=[],$scope.getFilesFromLocal=function(files,createdIssue){if(files){var payload={files:files,issueId:createdIssue._id};apiFactory.saveLocalIssueAsset(payload).then(function(resp){return resp.data.data}).then(loadImagesInCarousel).catch(function(e){Notification.error("couldnot load images please select images again.")})}else Notification.error("No Files selected.")},vm.removeImage=function(id){var index=vm.planToMark.findIndex(function(x){return x._id==id});vm.planToMark.splice(index,1)},$(document).on("click",".lightbox img",function(e){}),vm.currentMarkingImage=null;var actions=imageMarker.undoRedo();function saveExistingMarking(assetObj){return new Promise(function(resolve,reject){if(assetObj){var dataImage=imageMarker.getCanvasImage();fetch(dataImage).then(function(res){return res.blob()}).then(function(blob){var file=new File([blob],"detailfile");assetObj.fileObj=file,assetObj.markingJson=imageMarker.serialize(),console.log("Marking saved"),resolve(null)})}else resolve(null)})}vm.actions=function(action){actions[action]()},vm.openSliderImage=function(image){actions.reset(),saveExistingMarking(vm.currentMarkingImage).then(function(_){var dimensions={};if(image.width>650){var offset=650/image.width;dimensions.height=image.height*offset,dimensions.width=650}else dimensions={height:image.height,width:image.width};imageMarker.init("slideCanvas",dimensions,image),vm.planToMark.forEach(function(x){x._id===image._id?x.active=!0:x.active=!1}),vm.currentMarkingImage=image})},vm.drawmarkerOnCanvas=function(){imageMarker.setState("marker")},vm.drawLineOnCanvas=function(){imageMarker.setState("line")},vm.drawCircleOnCanvas=function(){imageMarker.setState("circle")},vm.textState=!1,vm.fillTextOnCanvas=function(text){console.log("asdadas",vm.textState,text),vm.textState&&text&&(imageMarker.fill_text(text),vm.canvasText=""),vm.textState=!vm.textState},$scope.$on("saveDrawing",function(e){saveExistingMarking(vm.currentMarkingImage)}),vm.saveMarkInfo=function(markings,createdIssue){$("#konva_issue_marker, #issue_modal").modal("hide");var payload=markings.reduce(function(acc,x){if(x.markingJson){var fileData={assetId:x._id,serializedData:x.markingJson};acc.fileData.push(fileData),acc.files.push(x.fileObj)}return acc},{fileData:[],files:[]});payload.issueId=createdIssue._id,apiFactory.postMarkImg(payload).then(function(resp){Notification.success("Markings are successfully saved"),vm.sortissues("created","toggleIssue")}).catch(function(e){console.log(e)})},vm.modalClose=function(){$("#konva_issue_marker").modal("hide"),$("#issue_modal").modal("hide")},vm.markingColor="rgba(0,0,0,1)",vm.cpOptions={swatch:!0,format:"rgb",pos:"top right",case:"lower",alpha:!0},vm.cpEvents={onChange:function(api,color,$event){imageMarker.setColor(color)}}})}(),function(){angular.module("app").controller("materialCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment){var vm=this,logout=globals.logout,userStore=globals.userStore,debounce=globals.debounce;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),console.log(vm.userData),vm.logout=function(){logout()},vm.timecheck=function(file){console.log(file)},vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],vm.dtOptions={retrieve:!0,paging:!1,info:!1,ordering:!1};var inventoryState=globals.inventoryState();vm.activeTab=inventoryState.get().tab,$(".tab-content .tab-pane").eq(inventoryState.get().tab).addClass("show"),vm.currentPage=1,vm.toggleTab=function(val){inventoryState.setTab(val)},vm.toggleObj={material:{systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!0,name:!1},combo:{systemTag:!0,materialCost:!1,rooferCost:!1,createdAt:!0,name:!1}},apiFactory.getAllSuppliers().then(function(resp){vm.suppliers=resp.data.list}).catch(function(e){console.log(e)}),vm.searchText=inventoryState.get().searchText,$scope.$watch("vm.searchText",function(text){inventoryState.text(text)},!0),vm.unitSelect=function(data){vm.selectedUnit=data.name},vm.sortDisplay=function(type,resource){if(type&&resource)return"Sorted By: "+type+" - "+(vm.toggleObj[resource][type]?"ASC":"DSC")},vm.sortMaterials=function(type,resource){void 0===vm.toggleObj[resource][type]?vm.toggleObj[resource][type]=!0:vm.toggleObj[resource][type]=!vm.toggleObj[resource][type];var apiName="material"===resource?"listAllMaterials":"listAllComboMaterials";apiFactory[apiName]({page:inventoryState.get().page[resource],chunk:10,sort:type,search:inventoryState.get().searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm[resource]=resp.data.list,vm[resource+"Count"]=resp.data.total,$timeout(function(){$("#"+resource+"Pagination").pagination({items:vm[resource+"Count"],itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:inventoryState.get().page[resource],onPageClick:function(page,event){event.preventDefault(),inventoryState.setPage(resource,page),apiFactory[apiName]({page:page,chunk:10,sort:type,search:inventoryState.get().searchText,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm[resource]=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})};var searchDebounce=debounce(250);vm.searchMaterials=function(text,resource){searchDebounce(function(){var apiName="material"===resource?"listAllMaterials":"listAllComboMaterials";apiFactory[apiName]({page:1,chunk:10,search:text,sort:"createdDate",sortType:!1}).then(function(resp){vm[resource]=resp.data.list,vm[resource+"Count"]=resp.data.total,$timeout(function(){$("#"+resource+"Pagination").pagination({items:vm[resource+"Count"],itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory[apiName]({page:page,chunk:10,sort:type,sortType:vm.toggleObj[resource][type]}).then(function(resp){vm.materials=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},[text,resource])},vm.sortMaterials("createdAt","material"),vm.sortMaterials("createdAt","combo");vm.addMaterial={conversionFactor:1,maintenancePeriod:90,maintenanceDate:moment().add(90,"days").format()},vm.changeMaintenancePeriod=function(days){vm.addMaterial.maintenanceDate=moment().add(days,"days").format()},vm.tabSettings={disable:!0},vm.tabChange=function(val,flag){if("combo"==flag){if(0==val)vm.tabChangeFun(val);else if(1==val){if(!vm.addComboMaterialForm.name)return void Notification.error("Please enter combo material name");if(!vm.selectedUnit)return void Notification.error("Please select unit");if(!vm.addComboMaterialForm.description)return void Notification.error("Please enter combo description");vm.tabChangeFun(val)}else if(2==val){if(0==vm.comboMaterialList.length)return void Notification.error("Please add Combination list");vm.TotalMC=0,vm.TotalRC=0,angular.forEach(vm.comboMaterialList,function(value){vm.TotalMC=parseFloat(vm.TotalMC)+parseFloat(value.materialCost),vm.TotalRC=parseFloat(vm.TotalRC)+parseFloat(value.rooferCost)}),vm.TotalMC=parseFloat(Math.round(100*vm.TotalMC)/100),vm.TotalRC=parseFloat(Math.round(100*vm.TotalRC)/100),vm.tabChangeFun(val)}}else if(0==val&&vm.tabChangeFun1(val),1==val){if(!vm.addMaterial.materialName)return void Notification.error("Please enter material name");if(!vm.selectedUnit)return void Notification.error("Please select material unit");vm.tabChangeFun1(val)}},vm.tabChangeFun=function(val){$(".dcp_modal .nav-tabs li .nav-link").removeClass("active"),$(".dcp_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("active"),$(".dcp_modal .tab-content .tab-pane").removeClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".dcp_modal .tab-content .tab-pane").eq(val).addClass("active")},vm.tabChangeFun1=function(val){$(".material_modal .nav-tabs li .nav-link").removeClass("active"),$(".material_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("active")},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.addMaterial.currency=angular.copy(vm.companyData.currentCurrency.currencyCode),vm.companyCurrency=angular.copy(vm.companyData.currentCurrency.currencyCode),console.log(vm.addMaterial.currency),$("#currency").val(vm.addMaterial.currency).trigger("change.select2")}).then(function(e){console.log(e)}),$scope.$watch("vm.addMaterial.currency",function(value){$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3")}),vm.showConversionRate=function(from,to){$(".loader").show();var currencyData={from:from,to:to};from&&to&&apiFactory.showConversionRate(currencyData).then(function(resp){vm.addMaterial.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.addMaterialNext=function(){console.log(vm.addMaterial.materialUnit),null!=vm.addMaterial.materialName||""!=vm.addMaterial.materialName?vm.addMaterial.materialUnit||""!=vm.addMaterial.materialUnit?null!=vm.addMaterial.currency||""!=vm.addMaterial.currency?$scope.activeJustified=1:Notification.error("Please select Currency"):Notification.error("Please select material Unit"):Notification.error("Please enter material name")},vm.changeCost=function(type,cost){if("both"!=type)return cost/vm.addMaterial.conversionFactor;vm.addMaterial.materialCostValue=vm.addMaterial.materialCostValue*vm.addMaterial.conversionFactor,vm.addMaterial.rooferCostValue=vm.addMaterial.rooferCostValue*vm.addMaterial.conversionFactor},vm.deleteFile=function(indexVal,type){"image"==type?vm.uploadImg.splice(indexVal,1):vm.uploadFiles.splice(indexVal,1)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"image"==$scope.fileType?(vm.uploadImg[index].description=data,0==inventoryState.get().tab?$("#closePopoverImg_"+index).trigger("click"):$("#closePopoverDcpImg_"+index).trigger("click")):(vm.uploadFiles[index].description=data,0==inventoryState.get().tab?$("#closePopoverFile_"+index).trigger("click"):$("#closePopoverDcpFile_"+index).trigger("click"))},vm.clearData=function(val){"dcp"==val?(vm.addComboMaterialForm={},vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],vm.selectedUnit=""):(vm.addMaterial={conversionFactor:1,maintenancePeriod:90,currency:angular.copy(vm.companyData.currentCurrency.currencyCode)},console.log(vm.addMaterial),vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],vm.selectedUnit="",$("#profile-tab, #dcp1").removeClass("active"),$("#home-tab, #material1").addClass("active"),$("#material1").addClass("show"),vm.changeMaintenancePeriod(vm.addMaterial.maintenancePeriod))},vm.addMaterialDetails=function(){if(vm.selectedUnit)if(vm.addMaterial.materialCostValue)if(vm.addMaterial.rooferCostValue){$scope.imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles),console.log($scope.imgAndFiles);var formData={name:vm.addMaterial.materialName,unit:vm.selectedUnit,materialCost:{value:vm.changeCost("material",vm.addMaterial.materialCostValue),currencyCode:vm.addMaterial.currency},rooferCost:{value:vm.changeCost("roofer",vm.addMaterial.rooferCostValue),currencyCode:vm.addMaterial.currency},maintenancePeriod:vm.addMaterial.maintenancePeriod,suppliers:vm.addMaterial.suppliers,files:$scope.imgAndFiles,assetObj:$scope.imgAndFiles.map(function(x,i){return{assetDescription:x.description}})};console.log(formData),apiFactory.createMaterials(formData).then(function(resp){$scope.tab=1,Notification.success(resp.data.message),$("#todo_modal").modal("hide"),$("#profile-tab, #dcp1").removeClass("active"),$("#home-tab, #material1").addClass("active"),$("#material1").addClass("show"),vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],vm.selectedUnit="",vm.toggleObj.material.createdAt=!0,vm.sortMaterials("createdAt","material"),vm.addMaterial={conversionFactor:1}}).catch(function(e){console.log(e)})}else Notification.error("Please Select roofer cost value");else Notification.error("Please Select material cost value");else Notification.error("Please Select Unit")},vm.getMaterialById=function(id){apiFactory.getMaterialById(id).then(function(resp){console.log(resp)}).catch(function(e){console.log(e)})},$("#addMaterial").on("hide.bs.modal",function(){$scope.activeJustified=0,vm.addMaterial={conversionFactor:1}}),vm.comboMaterialList=[],vm.addComboMaterialForm={},vm.percentageAddition=[],vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data,vm.loadCurrencies=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allmaterilaList=resp.data.list}).catch(function(e){console.log(e)}),vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.getMaterialInfo=function(material){var materialInfo=JSON.parse(material);material&&(vm.comboList.materialCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(vm.comboList.quantity*materialInfo.currentRate.rooferCost.value*100)/100),$("a.item-selected span").removeClass("glyphicon glyphicon-remove"),$("a.item-selected span").addClass("fas fa-times mr-3"))},vm.QtyChange=function(val,data){var material=JSON.parse(data);""==val||0==val?(vm.comboList.quantity=1,val=1,vm.comboList.materialCost=parseFloat(Math.round(val*material.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(val*material.currentRate.rooferCost.value*100)/100)):(vm.comboList.materialCost=parseFloat(Math.round(val*material.currentRate.materialCost.value*100)/100),vm.comboList.rooferCost=parseFloat(Math.round(val*material.currentRate.rooferCost.value*100)/100))},vm.addPercentageValue=function(){vm.percentageAddition.push({percentageType:"",value:""})},vm.removePercentageAddition=function(index){vm.percentageAddition.splice(index,1)},vm.materialCombination=function(material){var data=JSON.parse(material);console.log("material--",data),""!=data&&(vm.comboMaterialList.push({materialId:data._id,name:data.name,quantity:vm.comboList.quantity,materialCost:vm.comboList.materialCost,rooferCost:vm.comboList.rooferCost,percentageAdditions:vm.percentageAddition}),vm.percentageAddition=[],vm.comboList={quantity:1,materialCost:0,rooferCost:0},vm.addComboMaterialForm.comboMaterial="",$(".select2-choice .select2-chosen").text(""))},vm.fileUpdated=function(files,event,modal){console.log(vm.inputImg);var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){if(x.description="","image"==modal)if(0==vm.uploadImg.length)vm.uploadImg.push(x);else{var duplicateImg=!1;angular.forEach(vm.uploadImg,function(y){x.name!=y.name||(duplicateImg=!0)}),duplicateImg?Notification.error("File name already exist"):vm.uploadImg.push(x)}else if(0==vm.uploadFiles.length)/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x);else{var _duplicateImg7=!1;angular.forEach([].concat(vm.uploadFiles,vm.uploadImg),function(y){x.name!=y.name||(_duplicateImg7=!0)}),_duplicateImg7?Notification.error("File name already exist"):/image/.test(x.type)?vm.uploadImg.push(x):vm.uploadFiles.push(x)}}),console.log(vm.uploadImg)},vm.createComboMaterialList=function(){var cmList=[];$scope.imgAndFiles=[].concat(vm.uploadImg,vm.uploadFiles),vm.comboMaterialList.forEach(function(x){cmList.push({materialId:x.materialId,quantity:x.quantity,percentageAdditions:x.percentageAdditions})});var data={name:vm.addComboMaterialForm.name,unit:vm.selectedUnit,comboMaterialList:cmList,files:$scope.imgAndFiles,assetObj:$scope.imgAndFiles.map(function(x,i){return{assetDescription:x.description}})};apiFactory.getSystemTag().then(function(resp){data.systemTag=resp.data.comboTag,apiFactory.createComboMaterial(data).then(function(resp){Notification.success(resp.data.message),$("#todo_modal.dcp_modal").modal("hide"),$("#summary-tab, #dcp2-tab, #home-tab, #material2, #dcp2, #summary").removeClass("active"),$("#material2, #dcp2, #summary").removeClass("show"),$("#home-tab, #material2").addClass("active"),$("#material1").addClass("show"),vm.inputImg=[],vm.uploadImg=[],vm.inputFiles=[],vm.uploadFiles=[],vm.selectedUnit="",vm.addComboMaterialForm=""}).catch(function(e){Notification.error(e.data.message)})}).catch(function(e){Notification.error(e.data.message)})},vm.removeMateril=function(item){vm.comboMaterialList.splice(item,1)}})}(),function(){angular.module("app").controller("materialViewCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,globals,$location,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.inputImg=[],vm.inputFiles=[],vm.clearData=function(){vm.inputImg=[],vm.inputFiles=[],vm.selectedUnit="",$("#profile-tab, #dcp1").removeClass("active"),$("#home-tab, #material1").addClass("active"),$("#material1").addClass("show")},apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.currentCurrency=vm.companyData.currentCurrency.currencyCode,console.log(vm.currentCurrency,"---currentCurrency")}).then(function(e){console.log(e)}),vm.materialId=$stateParams.id,vm.mUnits=globals.mUnits,globals.getCurrency().then(function(resp){vm.currencies=resp.data,vm.loadCurrencies=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.changeCost=function(type,cost){if("both"!=type)return cost/vm.editMaterial.conversionFactor;vm.materialCostValue=vm.materialCostValue/vm.editMaterial.conversionFactor,vm.rooferCostValue=vm.rooferCostValue/vm.editMaterial.conversionFactor},vm.showConversionRate=function(from,to){$(".loader").show();var currencyData={from:from,to:to};from&&apiFactory.showConversionRate(currencyData).then(function(resp){vm.editMaterial.conversionFactor=resp.data.conversionFactor,$timeout(function(){$(".loader").hide()},500)}).catch(function(e){console.log(e)})},vm.tabChange=function(val){function changeTab(val){$(".material_modal .nav-tabs li .nav-link").removeClass("active"),$(".material_modal .nav-tabs li .nav-link").eq(val).addClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("active"),$(".material_modal .tab-content .tab-pane").removeClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("show"),$(".material_modal .tab-content .tab-pane").eq(val).addClass("active")}0==val?changeTab(val):1==val&&(vm.editMaterial.name?vm.selectedUnit?changeTab(val):Notification.error("Please select material unit"):Notification.error("Please enter material name"))},apiFactory.getAllSuppliers().then(function(resp){vm.suppliers=resp.data.list,console.log(vm.suppliers,"=---suppliers")}).catch(function(e){console.log(e)}),vm.editFlag=!1,vm.removedFiles=[],$scope.getMatDetail=function(){apiFactory.getMaterialById(vm.materialId).then(function(resp){vm.matrialData=resp.data,console.log(vm.matrialData),vm.matrialName=vm.matrialData.name,vm.matrialUnit=vm.matrialData.unit,vm.matrialCost=Number(vm.matrialData.currentRate.materialCost.value).toFixed(2),vm.matrialCurrencyCode=vm.matrialData.currentRate.materialCost.currencyCode,vm.matrialRooferCost=Number(vm.matrialData.currentRate.rooferCost.value).toFixed(2),vm.matrialRooferCurrencyCode=vm.matrialData.currentRate.rooferCost.currencyCode,vm.matrialCreatedBy=vm.matrialData.providerData.updatedBy.name,vm.matrialCreatedAt=vm.matrialData.createdAt,vm.matrialUpdatedAt=vm.matrialData.createdAt,$scope.gray_box=[{img:"/assets/images/Unit-Icon.png",title:"Unit",value:vm.matrialUnit},{img:"/assets/images/Dollar-Icon.png",title:"Material Cost",value:vm.matrialCost,currencyCode:vm.matrialCurrencyCode},{img:"/assets/images/Dollar-Icon.png",title:"Worker Cost",value:vm.matrialRooferCost,currencyCode:vm.matrialRooferCurrencyCode}],$scope.nextMaintanceDateCalc(vm.matrialData.createdAt,vm.matrialData.maintenancePeriod)}).catch(function(e){console.log(e)})},$scope.getMatDetail(),$scope.nextMaintanceDateCalc=function(createdAt,maintenancePeriod){var createdDate=moment(createdAt).format("X"),nextMaintanceDate=moment(createdAt).add(maintenancePeriod,"days").format("X");if(createdDate<nextMaintanceDate)vm.nextMaintenanceDate=moment(createdAt).add(maintenancePeriod,"days").format("MMM DD, YYYY");else{alert();var createdDate1=moment.utc(createdAt).add(maintenancePeriod,"days").format();$scope.nextMaintanceDateCalc(createdDate1,maintenancePeriod)}},vm.removeImg=function(indexVal,type){"materialImg"==type?(vm.removedFiles.push(vm.matrialData.files.images[indexVal]._id),vm.materialImg.splice(indexVal,1)):"image"==type?vm.inputImg.splice(indexVal,1):"materialDocument"==type?(vm.removedFiles.push(vm.matrialData.files.docs[indexVal]._id),vm.materialFiles.splice(indexVal,1)):"document"==type&&vm.inputFiles.splice(indexVal,1)},vm.descriptionPopover=function(indexVal,type){$scope.fileType=type,$scope.fileIndex=indexVal},vm.addDescription=function(index,data){"materialImg"==$scope.fileType?(vm.materialImg[index].description=data,vm.materialImg[index].assetDescription=data):"image"==$scope.fileType?vm.inputImg[index].description=data:"materialDocument"==$scope.fileType?(vm.materialFiles[index].description=data,vm.materialFiles[index].assetDescription=data):"document"==$scope.fileType&&(vm.inputFiles[index].description=data)},vm.changeMaintenancePeriod=function(days){vm.editMaterial.maintenanceDate=moment(vm.editMaterial.createdAt).add(days,"days").format()},vm.editMaterialFunction=function(val){if(1==val){vm.editFlag=!0,vm.editMaterial=angular.copy(vm.matrialData),vm.changeMaintenancePeriod(vm.matrialData.maintenancePeriod),vm.selectedUnit=vm.editMaterial.unit,vm.materialImg=vm.editMaterial.files.images,vm.materialFiles=vm.editMaterial.files.docs,vm.materialCostValue=vm.editMaterial.currentRate.materialCost.value,vm.rooferCostValue=vm.editMaterial.currentRate.rooferCost.value,vm.editMaterial.conversionFactor=1,vm.showConversionRate(vm.currentCurrency,vm.editMaterial.currency),angular.forEach(vm.materialImg,function(x,index){x.description=""}),angular.forEach(vm.materialFiles,function(x,index){x.description=""});var suppliers=vm.editMaterial.suppliers.map(function(x){return x._id});console.log(vm.editMaterial,"----editMaterial"),$("#currency").val(vm.currentCurrency).trigger("change.select2"),$("#suppliers").val(suppliers).trigger("change.select2"),$("#todo_modal.material_modal").modal("show"),$("#profile-tab, #dcp1").removeClass("active"),$("#home-tab, #material1").addClass("active"),$("#material1").addClass("show")}else if(2==val){console.log(vm.inputImg,vm.inputFiles),$scope.uploadFiles=[].concat(vm.inputImg,vm.inputFiles),$scope.uploadallFiles=[].concat(vm.inputImg,vm.inputFiles,vm.materialImg,vm.materialFiles),console.log($scope.uploadallFiles),vm.editFlag=!1;var description=[];(vm.inputImg.length>0||vm.inputFiles.length>0)&&$scope.uploadallFiles.map(function(x,i){description.push({assetDescription:x.description})});var materialupdatedata={name:vm.editMaterial.name,unit:vm.selectedUnit,removedFiles:vm.removedFiles,suppliers:vm.editMaterial.suppliers,maintenancePeriod:vm.editMaterial.maintenancePeriod,currentRate:{materialCost:{value:vm.changeCost("material",vm.materialCostValue),currencyCode:vm.editMaterial.currency},rooferCost:{value:vm.changeCost("roofer",vm.rooferCostValue),currencyCode:vm.editMaterial.currency}},files:$scope.uploadFiles,assetObj:description};apiFactory.updateMaterialById(vm.materialId,materialupdatedata).then(function(resp){Notification.success(resp.data.message),$("#todo_modal.material_modal").modal("hide"),$scope.getMatDetail(),vm.fileNames=[]}).catch(function(e){console.log(e)})}},vm.fileUpdated=function(files,event){var fileObj=event.target.files;vm.fileNames=Object.keys(fileObj).map(function(x){return fileObj[x].name}),angular.forEach(files,function(x,index){x.description=""})}})}(),function(){angular.module("app").controller("meetingRoomCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload,SBcommon,SBchannel,SBevents){var vm=this,logout=globals.logout,userStore=globals.userStore,projectStore=(globals.companyStore,globals.projectStore);if(!authFactory.checkUser())return void logout();vm.userData=userStore.get();var room=SBcommon,store=room.store();function updateChannelList(list){return vm.channelList=list,$timeout(function(){$scope.$apply()}),list}function updateMessages(channel){return vm.currentChannel=channel,$timeout(function(){$scope.$apply();var chatContainer=document.getElementsByClassName("chat-container")[0];chatContainer.scrollTop=chatContainer.scrollHeight}),channel}function listFiles(channel){vm.sharedFiles=channel.files.reduce(function(acc,x){return/png|jpg|jpeg|gif/.test(x.type)?acc.images.push(x):acc.docs.push(x),acc},{images:[],docs:[]}),$timeout(function(){$scope.$apply()})}function getMeetingTodo($event){if($event)return function(channel){apiFactory.getMeetingTodo({channelUrl:channel.url}).then(function(resp){vm.todoList=resp.data.todoList}).catch(room.error)}}console.log(vm.userData),apiFactory.getAccessMeetingRoomToken().then(function(resp){return resp.data.accessToken}).then(function(token){if(!token)throw new Error("Token unavailable");return room.connect(userStore.get()._id,token)}).then(function(connectedUser){return Notification.success("Connected to meeting room"),store.set("user",connectedUser),SBchannel.listChannels(projectStore.get()._id)}).then(updateChannelList).then(function(channels){if(channels.length>0)return SBchannel.getChannelMessages(channels[0])}).then(updateMessages).then(getMeetingTodo(!0)).catch(room.error),apiFactory.getAllMembersInCurrentCompany(userStore.get().companyId).then(function(resp){vm.companyUsers=resp.data.data}).catch(room.error),vm.newMeeting={},vm.createChannel=function(formData,meetingName){$("#newmeeting_popup").modal("hide"),store.get("user")&&SBchannel.createChannel(meetingName,userStore.get()._id,projectStore.get()._id).then(function(channel){return formData.channelUrl=channel.url,Promise.all([channel,formData.assignedTo,apiFactory.createTodoList(formData),apiFactory.inviteUsersToMeeting({users:formData.assignedTo})])}).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),channel=_ref3[0],users=_ref3[1];return SBchannel.inviteUsers(channel,users)}).then(function(_){return Notification.success("Meeting room created successfully!"),SBchannel.listChannels(projectStore.get()._id)}).then(updateChannelList).catch(room.error)},vm.viewChannel=function(channel,$event){channel.markAsRead(),SBchannel.getChannelMessages(channel).then(updateMessages).then(getMeetingTodo($event)).catch(room.error)},vm.startTyping=function(channel){channel.startTyping()},vm.sendMessage=function(channel,message){vm.messageBox="",channel.endTyping(),message&&message.trim()&&SBchannel.sendMessage(channel,message).then(function(channel){return SBchannel.getChannelMessages(channel)}).then(updateMessages).catch(room.error)},vm.sendMessageOnEnter=function(e){13===e.which&&vm.sendMessage.call(null,vm.currentChannel,vm.messageBox)},vm.sendFileMessage=function(channel,files){$("#attach_popup").modal("hide"),apiFactory.newMeetingFileMessage({files:files}).then(function(resp){return Promise.all(SBchannel.sendFileMessage(channel,resp.data.data))}).then(function(_){return Notification.success("Files uploaded successfully"),SBchannel.getChannelMessages(channel)}).then(updateMessages).catch(room.error)},vm.resolveTemplateUrl=function(m){return"user"===m.messageType?m._sender.userId===userStore.get()._id?"userMessage":"message":m._sender.userId===userStore.get()._id?"userFileMessage":"fileMessage"},vm.openInvitePopup=function(currentChannel,companyUsers){if($("#members_popup").modal("show"),currentChannel&&companyUsers){var currentChannelMembers=Object.keys(currentChannel.memberMap);vm.invitees=companyUsers.filter(function(x){return!(currentChannelMembers.indexOf(x._id)>-1)}).map(function(x){return x.checked=!1,x})}},vm.inviteUsers=function(channel,users){$("#members_popup").modal("hide"),users=users.filter(function(x){return x.checked}).map(function(x){return x._id}),apiFactory.inviteUsersToMeeting({users:users}).then(function(_){return SBchannel.inviteUsers(channel,users)}).then(function(_){return Notification.success("User(s) invited"),SBchannel.listChannels(projectStore.get()._id)}).then(updateChannelList).catch(room.error)},vm.openFileViewer=function(channel){$("#sharedfiles_popup").modal("show"),SBchannel.getChannelFiles(channel).then(listFiles).catch(room.error)},vm.checkReadStatus=function(channel){return channel.getReadMembers(channel.lastMessage,!0).reduce(function(acc,x){return acc=x.userId===userStore.get()._id||acc},!1)},vm.launchTodoPopup=function(){$("#todo_meeting").modal("show")},vm.createTodoList=function(formData,currentChannel,valid){valid?($("#todo_meeting").modal("hide"),formData.channelUrl=currentChannel.url,apiFactory.createTodoList(formData).then(function(resp){return Notification.success("Todo created successfully"),currentChannel}).then(getMeetingTodo(!0)).catch(room.error)):Notification.error("Please fill all the details")},SBevents.init(),$scope.$on("newMeeingRoomMessage",function(e,data){vm.currentChannel.url===data.channel.url?vm.viewChannel(data.channel):SBchannel.listChannels(projectStore.get()._id).then(updateChannelList).catch(room.error)}),$scope.$on("newChannelJoined",function(e,data){SBchannel.listChannels(projectStore.get()._id).then(updateChannelList).catch(room.error)}),$scope.$on("typingStatus",function(e,data){$timeout(function(){$scope.$apply()})}),vm.logout=function(){logout()};var twilio=Twilio;console.log(twilio,"===twilio");var Video=Twilio.Video,previewTracks=void 0,activeRoom=void 0,identity=void 0;function attachTracks(tracks,container){tracks.forEach(function(track){container.appendChild(track.attach())})}function attachParticipantTracks(participant,container){var tracks=Array.from(participant.tracks.values());attachTracks(tracks,container)}function detachTracks(tracks){tracks.forEach(function(track){console.log(track),track.detach().forEach(function(detachedElement){detachedElement.remove()})})}function detachParticipantTracks(participant){console.log(participant);var tracks=Array.from(participant.tracks.values());console.log(tracks),detachTracks(tracks)}function log(message){document.getElementById("log")}function roomJoined(room){window.room=activeRoom=room,log("Joined as '"+identity+"'"),document.getElementById("button-join").style.display="none",document.getElementById("button-leave").style.display="inline";var previewContainer=document.getElementById("local-media");previewContainer.querySelector("video")||attachParticipantTracks(room.localParticipant,previewContainer),room.participants.forEach(function(participant){log("Already in Room: '"+participant.identity+"'");var previewContainer=document.getElementById("remote-media");attachParticipantTracks(participant,previewContainer)}),room.on("participantConnected",function(participant){log("Joining: '"+participant.identity+"'")}),room.on("trackAdded",function(track,participant){log(participant.identity+" added track: "+track.kind);var previewContainer=document.getElementById("remote-media");attachTracks([track],previewContainer)}),room.on("trackRemoved",function(track,participant){log(participant.identity+" removed track: "+track.kind),detachTracks([track])}),room.on("participantDisconnected",function(participant){log("Participant '"+participant.identity+"' left the room"),detachParticipantTracks(participant)}),room.on("disconnected",function(){log("Left"),previewTracks&&(previewTracks.forEach(function(track){track.stop()}),previewTracks=null),detachParticipantTracks(room.localParticipant),room.participants.forEach(detachParticipantTracks),activeRoom=null,document.getElementById("button-join").style.display="inline",document.getElementById("button-leave").style.display="none"})}window.addEventListener("beforeunload",vm.leaveRoomIfJoined),vm.leaveRoomIfJoined=function(){$("#video_preview").modal("hide"),console.log(activeRoom),previewTracks&&(previewTracks.forEach(function(track){track.stop()}),previewTracks=null),detachParticipantTracks(activeRoom.localParticipant),console.log(activeRoom.participants),activeRoom.participants.forEach(detachParticipantTracks),activeRoom=null},vm.startVideoChat=function(){var localTracksPromise=previewTracks?Promise.resolve(previewTracks):Video.createLocalTracks();localTracksPromise.then(function(tracks){window.previewTracks=previewTracks=tracks,$("#video_preview").modal("show");var previewContainer=document.getElementById("local-media");previewContainer.querySelector("video")||attachTracks(tracks,previewContainer)},function(error){console.error("Unable to access local media",error),Notification.error("Unable to access Camera and Microphone")}).then(function(res){return new Promise(function(resolve,reject){apiFactory.getTwilioAccessToken().then(function(resp){resolve(resp.data)}).catch(function(e){reject(e)})})}).then(function(data){console.log(data),identity=data;var connectOptions={name:"roomName",logLevel:"debug"};previewTracks&&(connectOptions.tracks=previewTracks),Video.connect(data.token,connectOptions).then(roomJoined,function(error){console.log(error),Notification.error("Could not connect to Twilio: "+error.message)})})}})}(),function(){angular.module("app").controller("payrollCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()};$location.path();$(".payrollMenu").css("display","block !important"),$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("preLoginCtrl",function($scope,$timeout,$state,authFactory,apiFactory,globals,localStorageService,Notification,NgMap){var vm=this,userStore=(globals.progress,globals.logout,globals.userStore);if(vm.loggedIn=!1,authFactory.checkUser())return $state.go("dashboard"),void(vm.loggedIn=!0);vm.gmap={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA3MIA-mKWq_60q1K0zOHguraxT-1QPxNU",styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],markers:[[28.7041,77.1025],[13.0827,80.2707]]},NgMap.getMap().then(function(map){map.setOptions({styles:vm.gmap.styles,disableDefaultUI:!0,zoom:2,center:{lat:28.7041,lng:77.1025}})}),vm.regsiterModal=function(){$("#loginModal, #forgotPassModal").modal("hide"),$("#registerModal").modal("show")},vm.loginModal=function(){$("#registerModal, #forgotPassModal").modal("hide"),$("#loginModal").modal("show")},vm.forgotPassModal=function(){$("#loginModal").modal("hide"),$("#forgotPassModal").modal("show")},vm.login=function(isValid,formData){console.log(formData),apiFactory.login(formData).then(function(resp){$("#loginModal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").hide(),localStorageService.set("access-token",resp.data.token),userStore.set(resp.data.user),$state.go("dashboard"),Notification.success("Login success")}).catch(function(err){Notification.error(err.data.message)})},vm.forgotPass=function(isValid,formData){if(null==formData)Notification.error("please Valid mail Id");else{var data=formData;apiFactory.forgotPassword(data).then(function(resp){$("#forgotPassModal").modal("hide"),Notification.success(resp.data.message)}).catch(function(err){Notification.error(err.data.message)})}},vm.register=function(isValid,formData){apiFactory.registration(formData).then(function(resp){$("#registerModal").modal("hide"),Notification.success(resp.data.message)}).catch(function(err){$("#registerModal").modal("hide"),Notification.error(err.data.message)})},vm.subscribe=function(email){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)?apiFactory.subscribe({email:email}).then(function(resp){vm.subscribeEmail="",Notification.success(resp.data.message)}).catch(function(err){Notification.error(err.data.message)}):Notification.error("Invalid email")}})}(),function(){angular.module("app").controller("projectCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),apiFactory.listAllProjects().then(function(resp){console.log(resp.data)}).catch(function(e){console.log(e)}),this.logout=function(){logout()}})}(),function(){angular.module("app").controller("reportDetailCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this;$scope.image1="../assets/images/reportimgs/rep.jpg",$scope.image2="../assets/images/reportimgs/file.jpg";var logout=globals.logout;$scope.reportObj={},$scope.shwCommentSection=!1,$scope.ReportIssue={},$scope.issueToAdd=[],$scope.models={selected:null},authFactory.checkUser()||logout();vm.logout=function(){logout()},$scope.exportToPdf=function(){var img=new Image;img.src="../assets/images/reportimgs/rep.jpg";var img1=new Image;img1.src="../assets/images/reportimgs/file.jpg";var doc=new jsPDF("p");doc.addImage(img,"png",15,20,90,90),doc.addImage(img1,"png",110,20,90,90),doc.autoTable({html:"#statictable",margin:{top:120},pageBreak:"auto",tableWidth:"auto",showHeader:"everyPage"}),doc.setFontSize(25),doc.text(20,150,"Comments"),doc.setFontSize(10),doc.setFont("helvetica"),doc.text(20,160,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor"),doc.text(20,170,"incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco"),doc.text(20,180," laboris nisi ut aliquip ex ea commodo consequat."),doc.save("column8.pdf")};var enabled=!0,chunkSize=5;vm.issueSearch="",vm.enableLazyLoad=!1,vm.sortParams={field:"created",type:!1},$scope.openReportPicker=function(){vm.enableLazyLoad=!0,apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=[],$scope.issueToAdd.length>0&&$scope.issueToAdd.forEach(function(element){resp.data.list.forEach(function(resdata,index){element._id==resdata._id?resp.data.list.splice(index,1):console.log("false")})}),$timeout(function(){vm.issuePickerData=resp.data.list,$("#listissuesmodal").modal("hide"),$("#chooseIssueModal").modal("show"),$scope.EditMode=!1})}).catch(function(e){console.log(e)})},$("#chooseIssueModal").on("hide.bs.modal",function(){vm.enableLazyLoad=!1}),vm.closeIssuePicker=function(){$("#chooseIssueModal").modal("hide"),vm.issueSearch=""},$scope.addMore=function(){console.log("calling add more"),enabled&&(enabled=!1,$timeout(function(){enabled=!0},500),chunkSize+=5,apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=[],$scope.issueToAdd.length>0&&$scope.issueToAdd.forEach(function(element){resp.data.list.forEach(function(resdata,index){element._id==resdata._id&&resp.data.list.splice(index,1)})}),$timeout(function(){vm.issuePickerData=resp.data.list})}).catch(function(e){console.log(e)}))},vm.searchIssues=function(text){console.log("serchtext",text),apiFactory.listAllIssues({search:vm.issueSearch,chunk:chunkSize,page:1,sort:vm.sortParams.field,sortType:vm.sortParams.type}).then(function(resp){vm.issuePickerData=resp.data.list}).catch(function(e){console.log(e)})},$scope.remarkData=[],$scope.addRemark=function(title,value){null==title&&null==value||($scope.remarkData.push({Title:title,Value:value}),$("#remarktitle").val(""),$("#remarkvalue").val(""))},vm.chooseIssues=function(issue,index,array){issue?(array.splice(index,1),$scope.issueToAdd.push(issue),$("#chooseIssueModal").modal("hide"),$("#listissuesmodal").modal("show")):Notification.error("No selection")},vm.addToListIssuePicker=function(){$("#chooseIssueModal").modal("hide"),$("#listissuesmodal").modal("show")},$scope.sendIssueToPdf=function(){$("#listissuesmodal").modal("hide"),$scope.shwCommentSection=!0},$scope.coverPageModal=function(){$("#coverpagemodal").modal("show")},$scope.aboutUsModal=function(){$("#aboutusmodal").modal("show")},$scope.projectMetaModal=function(){$("#projectmetamodal").modal("show")},$scope.reportremarkModal=function(){$("#reportremarkmodal").modal("show")},$scope.listIssueModelClick=function(){$("#listissuesmodal").modal("show")},$scope.setReportObj=function(object){console.log(object),$scope.ReportIssue.title=object.title,$scope.ReportIssue.description=object.description,$scope.ReportIssue.companyName=object.companyName,$scope.ReportIssue.email=object.email,$scope.ReportIssue.website=object.website,$scope.ReportIssue.phone=object.phone,$scope.ReportIssue.projectName=object.projectName,$scope.ReportIssue.serialNo=object.serialNo,$scope.ReportIssue.enterprise=object.enterprise,$scope.issueToAdd.length>0&&($scope.ReportIssue.issueToAdd=$scope.issueToAdd),$scope.remarkData.length>0&&($scope.ReportIssue.remarkData=$scope.remarkData),$scope.ReportIssue.authorName=object.authorName,$scope.ReportIssue.remarkDate=object.remarkDate,$("#coverpagemodal").modal("hide"),$("#aboutusmodal").modal("hide"),$("#projectmetamodal").modal("hide"),$("#reportremarkmodal").modal("hide"),$("#chooseIssueModal").modal("hide")},$scope.EditMode=!1,$scope.EditIssueData=function(){$scope.EditMode=!0},$scope.removeFromIssueList=function(index,array){array.splice(index,1),console.log($scope.issueToAdd)}})}(),function(){angular.module("app").controller("reportsCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout;globals.userStore;authFactory.checkUser()||logout();$scope.currentUser=localStorageService.get("userData"),$scope.reportCategory=["issueReport","safetyReport","qaReport"],apiFactory.listAllUsers().then(function(resp){vm.allAdminUsers=resp.data.list}),apiFactory.listAllProjects().then(function(resp){vm.projectList=resp.data}).catch(function(e){console.log(e)}),vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("reportsListingCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),this.logout=function(){logout()},"/payroll"==$location.path()&&$(".payrollMenu").css("display","block !important");$(".payrollList").DataTable()})}(),function(){angular.module("app").controller("setPasswordCtrl",function($scope,$timeout,$location,authFactory,$state,apiFactory,Notification,globals){var vm=this,token=$location.search().token;if(!token)return;apiFactory.isTokenValid({token:token}).then(function(resp){console.log(resp.data),resp.data.tokenValid?(vm.user=resp.data.user,$(".forgotPassModal").modal("show")):(console.log("asdad"),$(".tokenInvalid").modal("show"))}).catch(function(e){console.log(e)}),vm.resetPass=function(isValid,data){if($(".forgotPassModal").modal("hide"),vm.resetPass.password===vm.resetPass.c_password){var data={password:vm.resetPass.password,user:vm.user};console.log(data),apiFactory.setPassword(data).then(function(resp){Notification.success(resp.data.message),$state.go("preLogin")}).catch(function(e){console.log(e)})}else Notification.error("Password Mismatch, Please enter same password")},vm.back=function(){$(".tokenInvalid").modal("hide"),$timeout(function(){$state.go("preLogin")})}})}(),function(){angular.module("app").controller("settingCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload){var vm=this,logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore;if(!authFactory.checkUser())return void logout();vm.userData=userStore.get(),companyStore.get()?(vm.companyData=companyStore.get(),vm.privileges=vm.companyData.privileges):apiFactory.getCompanyById(vm.userData.companyId).then(function(resp){vm.companyData=resp.data,vm.privileges=vm.companyData.privileges}).catch(function(e){console.log(e)});vm.submitRoleSettings=function(formData){apiFactory.updateRoleBasedAccess(formData).then(function(resp){Notification.success(resp.data.message),companyStore.refetch(vm.userData.companyId)}).catch(function(e){Notification.error("Something went wrong"),console.log(e)})},vm.goToDashboard=function(){$state.go("dashboard")},vm.logout=function(){logout()}})}(),function(){angular.module("app").controller("subcontractorCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this;vm.selectedMaterials=[],vm.members2=[];var logout=globals.logout;globals.debounce,globals.userStore;authFactory.checkUser()||logout();vm.getSubcontractors=function(type){apiFactory.getAllSubcontractors({page:1,chunk:10,sort:type}).then(function(resp){vm.allSubcontractor=resp.data.list,vm.subcontractorsCount=resp.data.total,console.log("suppliers are:",vm.allSubcontractor),$timeout(function(){$("#pagination").pagination({items:vm.subcontractorsCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.getAllSubcontractors({page:page,chunk:10,sort:type}).then(function(resp){vm.allSubcontractor=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.getSubcontractors("created"),vm.getTags=function(){apiFactory.getAllSystemTags().then(function(resp){vm.AllTags=resp.data.list,console.log(vm.AllTags)}).catch(function(e){})},vm.getTags(),vm.addSubcontractorNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSubcontractorPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},vm.openPopup=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile-tab").removeClass("active"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#contact-tab").removeClass("show"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active"))},$scope.deleteMaterial=function(index,array){array.splice(index,1)},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),vm.addMember=function(name,mail,code,phno){vm.members2.push({name:name,email:mail,contact:{dialCode:code,phoneNumber:phno}})},vm.addnewtagmodel=function(){$("#sub-contractor_modal").modal("hide"),$("#tagadd_modal").modal("show")},$scope.createSubcontractor=function(subcontractor,attribute){subcontractor.attributes=[],subcontractor.staff=[],attribute.length>0&&attribute.forEach(function(element){subcontractor.attributes.push(element._id)}),vm.members2.length>0&&vm.members2.forEach(function(element){subcontractor.staff.push(element)}),console.log("subcontractor",subcontractor),apiFactory.createNewSubcontractor(subcontractor).then(function(resp){Notification.success("Sub-contractor saved successfully"),vm.resetFields(),vm.openPopup(),subcontractor.attributes=[],$("#sub-contractor_modal").modal("hide"),vm.getSubcontractors("created")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},vm.resetFields=function(){if(vm.subcontractor={},vm.members2.length>0)for(;vm.members2.length>0;)vm.members2.pop();$("#tagselect").val(""),$("#tagselect").trigger("change"),$scope.FILEIMG=void 0,$("#tagselect").val("[]"),$("#membername").val(""),$("#memberemail").val(""),$("#memberdialCode").val(""),$("#memberphoneNumber").val("")},vm.createSystemTag=function(systemTag){console.log(systemTag),null==systemTag?Notification.error("please enter Tag name"):apiFactory.saveSystemTag(systemTag).then(function(resp){$("#tagadd_modal").modal("hide"),$("#sub-contractor_modal").modal("show"),vm.systemTag={},Notification.success("new system tag added."),vm.getTags()}).catch(function(e){Notification.error("something went wrong")})},$scope.contracts=[{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"}]})}(),function(){angular.module("app").controller("subcontractorDetailCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.logout=function(){logout()},vm.subcontractorId=$stateParams.id,$scope.getSubcontractorDetail=function(){apiFactory.getSubcontractorById(vm.subcontractorId).then(function(resp){vm.subcontractorData=resp.data,$scope.FILEIMG=vm.subcontractorData.profilePic,$("#editdial").select2("data",{id:vm.editSubcontractor.contact.dialCode}),console.log(vm.subcontractorData)})},$scope.getSubcontractorDetail(),vm.editSubcontractorNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.editSubcontractorPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},vm.openPopup=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile-tab").removeClass("active"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#contact-tab").removeClass("show"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active"))},vm.getTags=function(){apiFactory.getAllSystemTags().then(function(resp){vm.AllTags=resp.data.list,console.log(vm.AllTags)}).catch(function(e){})},vm.getTags(),globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.addMember=function(name,mail,code,phno){vm.subcontractorData.staff.push({name:name,email:mail,contact:{dialCode:code,phoneNumber:phno}})},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},$scope.updateSubcontractor=function(subcontractor,attributes){console.log(subcontractor),console.log(attributes),void 0!==attributes&&attributes.length>0&&(subcontractor.attributes.length>0?attributes.forEach(function(element){subcontractor.attributes.push(element._id)}):(subcontractor.attributes=[],attributes.forEach(function(element){subcontractor.attributes.push(element._id)}))),console.log("after change: ",subcontractor),apiFactory.updateSubcontractor(subcontractor).then(function(resp){Notification.success("update successfull."),$("#update_modal").modal("hide"),$scope.getSubcontractorDetail()}).catch(function(e){Notification.error("Couldn't update subcontractor.")})}})}(),function(){angular.module("app").controller("supplierCtrl",function($scope,$rootScope,$timeout,authFactory,$state,apiFactory,Notification,globals,fileManagerFactory,Upload,localStorageService){var vm=this;vm.selectedMaterials=[],vm.members2=[];var logout=globals.logout;globals.debounce,globals.userStore;$scope.activeJustified=0,authFactory.checkUser()||logout();vm.getSuppliers=function(type){apiFactory.getAllSuppliers({page:1,chunk:10,sort:type}).then(function(resp){vm.allSuppliers=resp.data.list,vm.suppiersCount=resp.data.total,console.log("suppliers are:",vm.allSuppliers),$timeout(function(){$("#pagination").pagination({items:vm.suppiersCount,itemsOnPage:10,cssStyle:"light-theme",hrefTextPrefix:"#",ordering:!1,currentPage:1,onPageClick:function(page,event){event.preventDefault(),apiFactory.getAllSuppliers({page:page,chunk:10}).then(function(resp){vm.allSuppliers=resp.data.list}).catch(function(e){console.log(e)})}})})}).catch(function(e){console.log(e)})},vm.getSuppliers("created"),$scope.onChange=function(files){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),vm.addMaterial=function(item){vm.selectedMaterials.push(item)},vm.addMember=function(name,mail,code,phno){vm.members2.push({name:name,email:mail,contact:{dialCode:code,phoneNumber:phno}})},vm.addSupplierNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSupplierPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},vm.openPopup=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile-tab").removeClass("active"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#contact-tab").removeClass("show"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active"))},$scope.deleteMaterial=function(index,array){array.splice(index,1)},$scope.deleteStaff=function(index,array){array.splice(index,1)},$scope.createSupplier=function(supplier,materials){supplier.supplies=[],supplier.staff=[],materials.length>0&&materials.forEach(function(element){supplier.supplies.push(element._id)}),vm.members2.length>0&&vm.members2.forEach(function(element){supplier.staff.push(element)}),console.log("supplier",supplier),apiFactory.createNewSupplier(supplier).then(function(resp){Notification.success("Supplier has been saved successfully"),vm.resetFields(),vm.openPopup(),supplier.supplies=[],supplier.staff=[],$("#supplier_modal").modal("hide"),vm.getSuppliers("created")}).catch(function(e){console.log(e),Notification.error("Something went wrong")})},vm.resetFields=function(){if(vm.supplier={},vm.members2.length>0)for(;vm.members2.length>0;)vm.members2.pop();vm.selectedMaterials=[],$("#materialselect").val(""),$("#materialselect").trigger("change"),$scope.FILEIMG=void 0,$("#tagselect").val("[]"),$("#membername").val(""),$("#memberemail").val(""),$("#memberdialCode").val(""),$("#memberphoneNumber").val("")},$scope.contracts=[{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"},{title:"Subcontractor A",time:"Sep 25, 2018 at 4:00 PM",img:"assets/images/suppliers/tree_logo.png"}]})}(),function(){angular.module("app").controller("supplierDetailsCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService,$location){var vm=this,logout=globals.logout,userStore=globals.userStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),$scope.activeClass=function(path){return $location.path()===path?"active":""},vm.logout=function(){logout()},vm.supplierId=$stateParams.id,$scope.getSupplierDetail=function(){apiFactory.getSupplierById(vm.supplierId).then(function(resp){vm.supplierData=resp.data,$scope.FILEIMG=vm.supplierData.profilePic,console.log(vm.supplierData)})},$scope.getSupplierDetail(),vm.addSupplierNext=function(){$("#home").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#home").removeClass("show"),$("#home").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active")):$("#profile-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#contact-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#contact").addClass("show"),$("#contact").addClass("active"))},vm.addSupplierPrevious=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#profile-tab").addClass("active"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#profile").addClass("show"),$("#profile").addClass("active"))},vm.openPopup=function(){$("#profile-tab").hasClass("active")?(console.log("home"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#profile").removeClass("show"),$("#profile-tab").removeClass("active"),$("#profile").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active")):$("#contact-tab").hasClass("active")&&(console.log("profile"),$("#navigation ul li a.active").removeClass("active"),$("#home-tab").addClass("active"),$("#contact-tab").removeClass("show"),$("#contact").removeClass("show"),$("#contact").removeClass("active"),$("#home").addClass("show"),$("#home").addClass("active"))},globals.getCountryCode().then(function(resp){vm.getCountryCode=resp.data,vm.loadCountryCode=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.addMember=function(name,mail,code,phno){vm.supplierData.staff&&vm.supplierData.staff.length>0?vm.supplierData.staff.push({name:name,email:mail,contact:{dialCode:code,phoneNumber:phno}}):(vm.supplierData.staff=[],vm.supplierData.staff.push({name:name,email:mail,contact:{dialCode:code,phoneNumber:phno}}))},$scope.deleteStaff=function(index,array){array.splice(index,1)},apiFactory.listAllMaterials().then(function(resp){vm.allMaterials=resp.data.list}),$scope.onChange=function(files,id){null!=files[0]&&($scope.FILEIMG=URL.createObjectURL(files[0]),$scope.fileExt=files[0].name.split(".").pop())},$scope.updateSupplier=function(supplier,materials){console.log(supplier),void 0!==materials&&materials.length>0&&(supplier.supplies.length>0?materials.forEach(function(element){supplier.supplies.push(element._id)}):(vm.supplierData.supplies=[],materials.forEach(function(element){supplier.supplies.push(element._id)}))),apiFactory.updateSupplier(supplier).then(function(resp){Notification.success("update successfull."),$("#updatesupplier_modal").modal("hide"),$scope.getSupplierDetail()}).catch(function(e){Notification.error("Couldn't update supplier.")})}})}(),function(){angular.module("app").controller("systemTagsCtrl",function($scope,$timeout,authFactory,$state,$stateParams,apiFactory,Notification,NgMap,globals,localStorageService){var vm=this,logout=globals.logout,userStore=globals.userStore,companyStore=globals.companyStore;authFactory.checkUser()||logout();vm.userData=userStore.get(),vm.ID,vm.logout=function(){logout()},vm.getTags=function(){apiFactory.getAllSystemTags().then(function(resp){vm.AllTags=resp.data.data,console.log("taggs",vm.AllTags)}).catch(function(e){})},vm.languages=["EN","FR"],vm.chosenLanguage="EN",vm.getTags(),vm.createTag=function(systemTag){console.log(systemTag),null==systemTag?Notification.error("please enter Tag name"):apiFactory.saveSystemTag(systemTag).then(function(resp){$("#tags_modal").modal("hide"),vm.systemTag={},Notification.success("new system tag added."),vm.getTags()}).catch(function(e){Notification.error("something went wrong")})},vm.deleteTag=function(id){vm.ID=id,$("#tagdelete_modal").modal("show")},vm.deleteSystemTag=function(){apiFactory.deleteSystemTag(vm.ID).then(function(resp){$("#tagdelete_modal").modal("hide"),Notification.success("system tag deleted successfully."),vm.getTags()}).catch(function(e){Notification.error("Something went wrong")})},globals.getCurrency().then(function(resp){vm.currencies=resp.data,vm.loadCurrencies=function($query){return new Promise(function(resolve,reject){resolve(resp.data)})}}),vm.chosenCompanyCurrency=companyStore.get().currentCurrency.currencyCode,vm.changeCompanyCurrency=function(currency){apiFactory.showConversionRate({from:companyStore.get().currentCurrency.currencyCode,to:currency}).then(function(resp){return resp.data.conversionFactor}).then(function(conversionFactor){return Notification.success("Company currency has been updated successfully"),apiFactory.changeCompanyCurrency({conversionFactor:conversionFactor,currencyCode:currency})}).then(function(resp){var updatedData=Object.assign(companyStore.get(),{currentCurrency:{currencyCode:currency}});companyStore.set(updatedData)}).catch(function(e){console.log(e)})}})}(),function(){angular.module("app").controller("todoCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,Upload,moment){var vm=this,logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();function listTodos(resp){$scope.todo_list=resp.data.data}vm.logout=function(){logout()},vm.userData=userStore.get(),vm.dummy=[{name:"select 1."},{name:"select 2."},{name:"select 3."},{name:"select 4."},{name:"select 5."}],vm.todayDate=moment(),vm.dateFormat="YYYY/MM/DD hh:mm:ss",vm.createTodoList=function(formData,valid){if(valid){$("#todo_modal").modal("hide");var data=formData;data.date=moment(data.date).format("YYYY/MM/DD hh:mm:ss"),apiFactory.createTodoList(data).then(function(resp){return apiFactory.listAllTodoList()}).then(listTodos).catch(function(err){Notification.error(err.data.message)})}else Notification.error("Please fill all the details")},vm.todayDate=new Date,vm.resetForm=function(res){vm.todoData={}},apiFactory.getAllMembersInCurrentCompany(userStore.get().companyId).then(function(resp){vm.companyUsers=resp.data.data,console.log(vm.companyUsers)}).catch(function(err){Notification.error(err.data.message)}),apiFactory.listAllTodoList().then(listTodos).catch(function(err){Notification.error(err.data.message)})})}(),function(){angular.module("app").controller("todoViewCtrl",function($scope,$timeout,authFactory,$state,apiFactory,$stateParams,Notification,globals,Upload){$scope.todo_list=[{img:"/assets/images/To-Do-Icon.png",subtitle:"1.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Hour",classname:"red-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"2.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Day",classname:"yellow-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"3.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 1 Week",classname:"green-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"4.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 2 Weeks",classname:"gray-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"5.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 3 Weeks",classname:"gray-color"},{img:"/assets/images/To-Do-Icon.png",subtitle:"6.",title:"Lorem ipsum dolor sit amet,consectetur adipisicing elit,sed do eiusmod tempor.",work:"In 4 Weeks",classname:"gray-color"}];var logout=globals.logout,userStore=globals.userStore;if(!authFactory.checkUser())return void logout();this.logout=function(){logout()},this.userData=userStore.get();var todoListId=$stateParams.id;apiFactory.listAllTodoList(todoListId).then(function(resp){$scope.todo=resp.data.data}).catch(function(err){Notification.error(err.data.message)}),this.updateTodo=function(formData){var data=formData;console.log(data),apiFactory.updateTodoList(todoListId,data).then(function(resp){$scope.todo=resp.data.data,Notification.success("Updated successfully")}).catch(function(err){Notification.error(err.data.message)})}})}(),function(){angular.module("app").controller("visualPlannerCtrl",function($scope,$timeout,$state,$location,globals,authFactory,apiFactory,Notification,commonVPFactory,toolsVPFactory,shapesVPFactory,localStorageService,eventsVPFactory,layersVPFactory){var logout=globals.logout;globals.userStore;if(!authFactory.checkUser())return void logout();if($(".drag_element").mousedown(function(){!function(elmnt,e){var pos1=0,pos2=0,pos3=0,pos4=0;function dragMouseDown(e){(e=e||window.event).preventDefault(),pos3=e.clientX,pos4=e.clientY,document.onmouseup=closeDragElement,document.onmousemove=elementDrag}function elementDrag(e){(e=e||window.event).preventDefault(),pos1=pos3-e.clientX,pos2=pos4-e.clientY,pos3=e.clientX,pos4=e.clientY,elmnt.style.top=elmnt.offsetTop-pos2+"px",elmnt.style.left=elmnt.offsetLeft-pos1+"px"}function closeDragElement(){document.onmouseup=null,document.onmousemove=null}document.getElementById(elmnt.id+"header")?document.getElementById(elmnt.id+"header").onmousedown=dragMouseDown:elmnt.onmousedown=dragMouseDown}(document.getElementById($(this).closest("div").attr("id")))}),!authFactory.checkUser())return;var vm=this;function loadPlanner(roofPlan){var loadFromJson=!!roofPlan.plannerData&&!!roofPlan.plannerData.initialized,selectedShape=commonVPFactory.selectedShape(),colorPicker=toolsVPFactory.colorPicker();shapesVPFactory.getShapeTools(colorPicker),vm.shapeProps={colorType:"strokeColor",strokeColor:"rgba(0 ,0 , 0 , 1)",fillColor:"rgba(255, 255, 255, 0.57)",strokeWidth:1},vm.cpOptions={swatch:!0,inputClass:"h-30",format:"rgb",case:"lower",alpha:!0},vm.cpEvents={onChange:function(api,color,$event){var obj={};obj.stroke=vm.shapeProps.strokeColor,obj.fill=vm.shapeProps.fillColor,colorPicker.set(obj)}},vm.changeStrokeWidth=function(){colorPicker.set({strokeWidth:vm.shapeProps.strokeWidth})};var stage=commonVPFactory.createStage("stage",{height:window.innerHeight,width:window.innerWidth},roofPlan.plannerData),stageEvents=eventsVPFactory.stageEvents(stage);stageEvents.register("mousemove",function(){vm.pointerPosition={x:stage.getPointerPosition().x,y:stage.getPointerPosition().y},$scope.$apply()});var drawState=commonVPFactory.drawState();$scope.$on("drawStateChange",function(e,drawStates){vm.currentDrawState=drawStates});var baseLayer=loadFromJson?stage.getChildren()[0]:layersVPFactory.createLayer(stage),processStore=layersVPFactory.initiateProcess(stage,baseLayer),selectionStore=commonVPFactory.selectionStore(),transformerStore=commonVPFactory.transformers(baseLayer),calibrator=shapesVPFactory.calibrator(stage,baseLayer),calibrationState=commonVPFactory.calibrationState(),metrics=toolsVPFactory.metrics();if(vm.showPanel=!1,vm.zoomLevel=100,vm.shapeInfo,loadFromJson){if(roofPlan.plannerData&&roofPlan.plannerData.calibration){calibrationState.set(roofPlan.plannerData.calibration);var loadedProcesses=stage.getChildren()[0].getChildren().filter(function(x){return!!/process*/.test(x.name())});loadedProcesses.length>0?processStore.loadProcesses(loadedProcesses):processStore.createProcess()}roofPlan.plannerData&&roofPlan.plannerData.countData&&shapesVPFactory.loadShapeId(roofPlan.plannerData.countData)}else processStore.createProcess();vm.calibrationData=calibrationState.get(),vm.formatCalibration=function(val){return val.toFixed(3)},vm.processes=processStore.getProcesses(),vm.associations=commonVPFactory.associations();var imageObj=new Image;imageObj.crossOrigin="Anonymous",roofPlan.plannerData&&roofPlan.plannerData.jsonString?(imageObj.src=roofPlan.assetObj.url,imageObj.onload=function(){var imageContainer=baseLayer.get("#bgImage")[0];imageContainer.image(imageObj),vm.imageProps={x:Math.round(imageContainer.width()),y:Math.round(imageContainer.height())},stage.draw()}):(imageObj.src=roofPlan.assetObj.url,imageObj.onload=function(){var imageHeight=Math.round(stage.height()-75),aspectRatio=imageObj.height/imageHeight,imageWidth=Math.round(imageObj.width/aspectRatio);vm.imageProps={x:imageWidth,y:imageHeight};var bgImage=new Konva.Image({image:imageObj,name:"bgImage",id:"bgImage",height:imageHeight,shadowOffsetX:1,shadowOffsetY:1,shadowOpacity:.5,x:stage.width()/2-imageWidth/2,y:20,width:imageWidth});bgImage.on("click",function(e){transformerStore.removeAll()}),baseLayer.add(bgImage),baseLayer.draw(),baseLayer.moveToBottom()});var actionStates=commonVPFactory.actionStates(),windowEvent=eventsVPFactory.windowEvents(window);windowEvent.register(stage),vm.historyPos={x:void 0,y:void 0},window.addEventListener("wheel",function(e){"visualPlanner"===$state.$current.name&&!/modal-open/.test(document.getElementsByTagName("body")[0].className)&&e.preventDefault();Math.round(stage.height()/2),Math.round(stage.width()/2);if(e.ctrlKey){var oldScale=baseLayer.scaleX(),mousePointTo={x:stage.getPointerPosition().x/oldScale-baseLayer.x()/oldScale,y:stage.getPointerPosition().y/oldScale-baseLayer.y()/oldScale},newScale=e.deltaY<0?1.15*oldScale:oldScale/1.15;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-stage.getPointerPosition().x/newScale)*newScale,y:-(mousePointTo.y-stage.getPointerPosition().y/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,vm.zoomLevel=Math.round(100*baseLayer.scale().x),toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),$scope.$apply(),baseLayer.position(newPos),stage.batchDraw()}}),window.addEventListener("contextmenu",function(e){"CANVAS"===e.target.tagName&&(e.preventDefault(),shapesVPFactory.cancelDrawing(),baseLayer.draw(),drawState.reset())}),vm.zoomButton=function(type){var centerY=Math.round(stage.height()/2),centerX=Math.round(stage.width()/2),oldScale=baseLayer.scaleX(),mousePointTo={x:centerX/oldScale-baseLayer.x()/oldScale,y:centerY/oldScale-baseLayer.y()/oldScale},newScale=type>0?1.15*oldScale:oldScale/1.15;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-centerX/newScale)*newScale,y:-(mousePointTo.y-centerY/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),vm.zoomLevel=Math.round(100*baseLayer.scale().x),baseLayer.position(newPos),stage.batchDraw()},vm.zoomSlider=function(percentage){var centerY=Math.round(stage.height()/2),centerX=Math.round(stage.width()/2),oldScale=baseLayer.scaleX(),mousePointTo={x:centerX/oldScale-baseLayer.x()/oldScale,y:centerY/oldScale-baseLayer.y()/oldScale},newScale=percentage/100;baseLayer.scale({x:newScale,y:newScale});var newPos={x:-(mousePointTo.x-centerX/newScale)*newScale,y:-(mousePointTo.y-centerY/newScale)*newScale},imageProps={y:Math.round(baseLayer.find("#bgImage")[0].height()*newScale),x:Math.round(baseLayer.find("#bgImage")[0].width()*newScale)};vm.imageProps=imageProps,toolsVPFactory.scaleTransformerBasedOnZoom(baseLayer),vm.zoomLevel=Math.round(100*baseLayer.scale().x),baseLayer.position(newPos),stage.batchDraw()},vm.resetZoom=function(){vm.zoomLevel=100,baseLayer.position({x:0,y:0}),baseLayer.scale({x:1,y:1}),stage.batchDraw()};var baseLayerEvent=eventsVPFactory.layerEvents(baseLayer);function rectangleEventWrapper(shapeObject,shapeType,process){var rectangleEvent=eventsVPFactory.shapeEvents(shapeObject.shape);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.shape),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,shapeObject.shape,!0);customTransformer.set(shapeObject.shape.points()),transformerStore.add(customTransformer.getGroup()),rectangleEvent.register("dragmove."+shapeType,function(e){customTransformer.update({x:shapeObject.shape.x(),y:shapeObject.shape.y()})}),rectangleEvent.register("transformPolygon",function(){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.shape.points(),scale),unit:calibrationState.get().unit}),$scope.$apply(),vm.shapeInfo=metrics.getShapeInfo(),shapeObject.shape.points(customTransformer.getPoints())}),rectangleEvent.register("click."+shapeType,function(){shapeObject.shape.moveToTop(),selectedShape.set(shapeObject.shape),baseLayer.draw(),customTransformer.update({x:shapeObject.shape.x(),y:shapeObject.shape.y()}),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.shape.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),baseLayer.draw()});var movement=commonVPFactory.movement();rectangleEvent.register("dragstart."+shapeType,function(e){movement.add(e.target.getPosition())}),rectangleEvent.register("dragend."+shapeType,function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}function ellipseEventWrapper(shapeObject,shapeType,process){var ellipseEvent=eventsVPFactory.shapeEvents(shapeObject.shape);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.shape),currentProcess.moveToTop()}var ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape);ellipseTransfomer.set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup()),ellipseEvent.register("dragmove.ellipse",function(e){ellipseTransfomer.destroy(),(ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape)).set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup())}),ellipseEvent.register("click.ellipse",function(e){shapeObject.shape.moveToTop(),baseLayer.draw(),transformerStore.removeAll(),selectedShape.set(shapeObject.shape),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.ellipseArea(shapeObject.shape.radius(),scale),unit:calibrationState.get().unit}),ellipseTransfomer.destroy(),(ellipseTransfomer=toolsVPFactory.ellipseTransfomer(stage,baseLayer,shapeObject.shape)).set(shapeObject.shape.radius()),transformerStore.add(ellipseTransfomer.getGroup()),baseLayer.draw(),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,$timeout(function(){$scope.$apply()})}),ellipseEvent.register("transformEllipse",function(e){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.ellipseArea(shapeObject.shape.radius(),scale),unit:calibrationState.get().unit}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0});var movement=commonVPFactory.movement();ellipseEvent.register("dragstart.ellipse",function(e){movement.add(e.target.getPosition())}),ellipseEvent.register("dragend.ellipse",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}function polygonEventWrapper(shapeObject,process){var polygonEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,shapeObject.polygon,!1);customTransformer.set(shapeObject.polygon.points()),transformerStore.add(customTransformer.getGroup()),polygonEvent.register("dragmove.polygon",function(e){customTransformer.update({x:shapeObject.polygon.x(),y:shapeObject.polygon.y()})}),polygonEvent.register("click.polygon",function(e){customTransformer.update({x:shapeObject.polygon.x(),y:shapeObject.polygon.y()})});var movement=commonVPFactory.movement();polygonEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),polygonEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),polygonEvent.register("transformPolygon",function(){var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),shapeObject.polygon.points(customTransformer.getPoints())}),polygonEvent.register("click",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$scope.$apply(),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),baseLayer.draw()})}function freeHandEventWrapper(shapeObject,process){var freeHandEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var movement=commonVPFactory.movement();freeHandEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),freeHandEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),freeHandEvent.register("click",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.polygon.points(),scale),unit:calibrationState.get().unit}),$timeout(function(){$scope.$apply()}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.draw()})}function lineEventWrapper(shapeObject,process){var lineEvent=eventsVPFactory.shapeEvents(shapeObject.line);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.line),currentProcess.moveToTop()}var movement=commonVPFactory.movement();lineEvent.register("dragstart.line",function(e){movement.add(e.target.getPosition())}),lineEvent.register("dragend.line",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),lineEvent.register("click",function(){shapeObject.line.moveToTop(),selectedShape.set(shapeObject.line),vm.openInfoWidget(),transformerStore.removeAll(),baseLayer.draw()})}function freeHandMarkerWrapper(shapeObject,process){var freeHandEvent=eventsVPFactory.shapeEvents(shapeObject.polygon);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.polygon),currentProcess.moveToTop()}var movement=commonVPFactory.movement();freeHandEvent.register("dragstart.freeHandMarker",function(e){movement.add(e.target.getPosition())}),freeHandEvent.register("dragend.freeHandMarker",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),freeHandEvent.register("click.freeHandMarker",function(){shapeObject.polygon.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.polygon),vm.openInfoWidget(),transformerStore.removeAll(),baseLayer.draw()})}function textEventWrapper(group,process){var textEvent=eventsVPFactory.shapeEvents(group);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(group),currentProcess.moveToTop()}var customTransformer=toolsVPFactory.customTransformer(stage,baseLayer,group,!0),wrapper=group.getChildren()[0],text=group.getChildren()[1];customTransformer.set(wrapper.points()),transformerStore.add(customTransformer.getGroup()),textEvent.register("dragmove.textGroup",function(e){customTransformer.update({x:group.x(),y:group.y()})}),textEvent.register("transformPolygon",function(){wrapper.points(customTransformer.getPoints());var updatedPoints=wrapper.points();text.width(Math.abs(updatedPoints[0]-updatedPoints[2])-10),text.position({x:updatedPoints[0]+5,y:updatedPoints[1]+5}),baseLayer.draw()}),textEvent.register("click.textGroup",function(){group.moveToTop(),selectedShape.set(text),baseLayer.draw(),customTransformer.update({x:group.x(),y:group.y()}),$timeout(function(){$scope.$apply()}),transformerStore.removeAll(),baseLayer.add(customTransformer.getGroup()),wrapper.stroke("grey"),baseLayer.draw(),vm.openTextInfoWidget()});var movement=commonVPFactory.movement();textEvent.register("dragstart.textGroup",function(e){movement.add(e.target.getPosition())}),textEvent.register("dragend.textGroup",function(e){actionStates.push(commonVPFactory.actionHandler(stage,group,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))})}baseLayerEvent.register("click",function(e){"Image"===e.target.className&&(transformerStore.removeAll(),vm.closeInfoWidget(),vm.closeTextInfoWidget(),selectedShape.reset())}),loadFromJson&&(angular.forEach(baseLayer.getChildren(),function(x){/process*/.test(x.name())&&angular.forEach(x.getChildren(),function(child){if("Ellipse"===child.className)ellipseEventWrapper({shape:child},"ellipse",!0);else if("Line"===child.className||"Arrow"===child.className){var shapeName=child.name();/Rect*/.test(shapeName)?rectangleEventWrapper({shape:child},"rectangle",!0):/polygon*/.test(shapeName)?polygonEventWrapper({polygon:child},!0):/line*/.test(shapeName)?lineEventWrapper({line:child},!0):/freeHand*/.test(shapeName)?freeHandEventWrapper({polygon:child},!0):/markerFreeHand*/.test(shapeName)&&freeHandMarkerWrapper({polygon:child},!0)}else/textGroup*/.test(child.name())&&textEventWrapper(child,!0)})}),transformerStore.removeAll()),vm.rectangle=function(square){var shapeType=square?"square":"rectangle";drawState.set("shapes."+shapeType),document.body.style.cursor="crosshair",console.log(vm.currentDrawState.shapes.square),baseLayerEvent.register("click."+shapeType,function(){if(drawState.check("shapes."+shapeType)){var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject.start?(baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create")),baseLayer.draw()):(rectangleEventWrapper(shapeObject,shapeType),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())}}),baseLayerEvent.register("mousemove."+shapeType,function(){drawState.check("shapes."+shapeType)&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),square),baseLayer.draw())})},vm.ellipse=function(circle){var shapeType=circle?"circle":"ellipse";drawState.set("shapes."+shapeType),document.body.style.cursor="crosshair",baseLayerEvent.register("click."+shapeType,function(){if(drawState.check("shapes."+shapeType)){var shapeObject=shapesVPFactory.createShape(1,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject.start?(baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create")),baseLayer.draw()):(document.body.style.cursor="default",ellipseEventWrapper(shapeObject,shapeType),drawState.reset(),shapesVPFactory.destroyShape())}}),baseLayerEvent.register("mousemove."+shapeType,function(){drawState.check("shapes."+shapeType)&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),circle),baseLayer.draw())})},vm.polygon=function(){drawState.set("shapes.polygon"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.polygon",function(){if(drawState.check("shapes.polygon")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(polygonEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.polygon",function(){drawState.check("shapes.polygon")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.freeHand=function(){drawState.set("measurement.freeHand"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.freehand",function(){if(drawState.check("measurement.freeHand")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(freeHandEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.freehand",function(){drawState.check("measurement.freeHand")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0),baseLayer.draw())})},vm.simpleLine=function(type){drawState.set("markings."+type),document.body.style.cursor="crosshair",baseLayerEvent.register("click."+type,function(){if(drawState.check("markings."+type)){var shapeObject=shapesVPFactory.createLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),type);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.line),baseLayer.draw()):(lineEventWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove."+type,function(){drawState.check("markings."+type)&&(shapesVPFactory.drawLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.bezierLine=function(){drawState.set("markings.bezier"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.bezier",function(){if(drawState.check("markings.bezier")){var shapeObject=shapesVPFactory.createBezierLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.line),baseLayer.draw()):(!function(shapeObject,process){var bezierEvent=eventsVPFactory.shapeEvents(shapeObject.line);if(!process){var currentProcess=processStore.getCurrent();currentProcess.add(shapeObject.line),currentProcess.moveToTop()}var bezierTransformer=toolsVPFactory.bezierTransformer(stage,baseLayer,shapeObject.line);bezierTransformer.set(shapeObject.line.points()),transformerStore.add(bezierTransformer.getGroup()),bezierEvent.register("dragmove.polygon",function(e){bezierTransformer.update({x:shapeObject.line.x(),y:shapeObject.line.y()})}),bezierEvent.register("click.polygon",function(e){bezierTransformer.update({x:shapeObject.line.x(),y:shapeObject.line.y()})});var movement=commonVPFactory.movement();bezierEvent.register("dragstart.polygon",function(e){movement.add(e.target.getPosition())}),bezierEvent.register("dragend.polygon",function(e){actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.line,processStore.getCurrent(),"move",movement.add(e.target.getPosition())))}),bezierEvent.register("transformBezier",function(){shapeObject.line.points(bezierTransformer.getPoints())}),bezierEvent.register("click",function(){shapeObject.line.moveToTop(),baseLayer.draw(),selectedShape.set(shapeObject.line),vm.openInfoWidget();var scale=0===calibrationState.get().value?void 0:calibrationState.get().value;metrics.setShapeInfo({area:toolsVPFactory.polygonArea(shapeObject.line.points(),scale),unit:calibrationState.get().unit}),vm.shapeInfo=metrics.getShapeInfo(),vm.showPanel=!0,transformerStore.removeAll(),baseLayer.add(bezierTransformer.getGroup()),baseLayer.draw()})}(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.bezier",function(){drawState.check("markings.bezier")&&(shapesVPFactory.drawBezierLine(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale())),baseLayer.draw())})},vm.freehandMarker=function(){drawState.set("shapes.freeHand"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.freehand",function(){if(drawState.check("shapes.freeHand")){var shapeObject=shapesVPFactory.createPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0,!0);shapeObject&&(shapeObject.start?(actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.polygon,processStore.getCurrent(),"create")),baseLayer.add(shapeObject.polygon)):(freeHandMarkerWrapper(shapeObject),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape())),baseLayer.draw()}}),baseLayerEvent.register("mousemove.freehand",function(){drawState.check("shapes.freeHand")&&(shapesVPFactory.drawPolygon(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0),baseLayer.draw())})},vm.textWidget=function(){drawState.set("shapes.text"),document.body.style.cursor="crosshair",baseLayerEvent.register("click.textWrapper",function(){if(drawState.check("shapes.text")){var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));if(shapeObject.start)baseLayer.add(shapeObject.shape),actionStates.push(commonVPFactory.actionHandler(stage,shapeObject.shape,processStore.getCurrent(),"create"));else{var textGroup=shapesVPFactory.createTextGroup();textGroup.add(shapeObject.shape);var points=shapeObject.shape.points(),textProps={position:{x:points[0]+10,y:points[1]+10},width:Math.abs(points[0]-points[2])-10},textObj=shapesVPFactory.createText(textProps);textGroup.add(textObj),textEventWrapper(textGroup),document.body.style.cursor="default",drawState.reset(),shapesVPFactory.destroyShape(),baseLayer.draw()}}}),baseLayerEvent.register("mousemove.textWrapper",function(){drawState.check("shapes.text")&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1,"wrapper"),baseLayer.draw())})},vm.manualSelection=function(shapeObj){transformerStore.removeAll(),selectedShape.reset();selectedShape.set(shapeObj);shapeObj.fire("click")},vm.dragSelection=function(){drawState.set("markings.selection"),document.body.style.cursor="crosshair",baseLayerEvent.register("mousedown.selection",function(){if(drawState.check("markings.selection")){vm.selectAllShapes(!1);var shapeObject=shapesVPFactory.createShape(0,commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()));baseLayer.add(shapeObject.shape),baseLayer.draw()}}),baseLayerEvent.register("mouseup.selection",function(){if(drawState.check("markings.selection")){document.body.style.cursor="default",drawState.reset();var selectionPoints=shapesVPFactory.cancelDrawing(),selectedShapes=shapesVPFactory.selectShapes(baseLayer,selectionPoints),selectedShapeNames=selectedShapes.map(function(x){return x.name()});selectionStore.store(selectedShapes),angular.forEach(vm.processes,function(process){angular.forEach(process.getChildren(),function(child){selectedShapeNames.indexOf(child.name())>-1&&(child.selected=!0)})}),baseLayer.draw()}}),baseLayerEvent.register("mousemove.selection",function(){drawState.check("markings.selection")&&(shapesVPFactory.drawShape(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1,"grabber"),baseLayer.draw())})},vm.selectAllShapes=function(toggleValue){var allShapes=shapesVPFactory.extractAllShapes(baseLayer);toggleValue?selectionStore.store(allShapes):selectionStore.clear(),angular.forEach(allShapes,function(x){x.selected=!!toggleValue})},vm.toggleShapeVisibility=function(shape){transformerStore.removeAll(),shape.visible(!shape.visible()),baseLayer.draw()},vm.calibrator=function(){drawState.set("measurement.calibrator"),calibrator=shapesVPFactory.calibrator(stage,baseLayer),baseLayerEvent.register("click.calibrator",function(){drawState.check("measurement.calibrator")&&calibrator(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!0)}),baseLayerEvent.register("mousemove.calibrator",function(){drawState.check("measurement.calibrator")&&calibrator(commonVPFactory.dragOffset(stage.getPointerPosition(),baseLayer.getPosition(),baseLayer.scale()),!1)})},$scope.$on("calibrated",function(e,calibratedLine){$("#calibrateModal").modal("show");var points=calibratedLine.points(),distance=Math.sqrt(Math.pow(points[0]-points[2],2)+Math.pow(points[1]-points[3],2));vm.calibrationDistance=distance,vm.saveCalibration=function(){var scale,value=vm.calibrationScale.value;scale=parseInt(value)/distance,calibrationState.set({value:scale,unit:vm.calibrationScale.unit}),vm.calibrationData=calibrationState.get(),vm.showPanel=!0,vm.shapeInfo=metrics.getShapeInfo(),calibratedLine.destroy(),baseLayer.draw(),$("#calibrateModal").modal("hide")},$("#calibrateModal").on("hide.bs.modal",function(e){calibratedLine.destroy(),baseLayer.draw()})}),vm.deleteShape=function(shapeObj){var shape=shapeObj||selectedShape.get();shape&&(transformerStore.removeAll(),actionStates.push(commonVPFactory.actionHandler(stage,shape,shape.getParent(),"delete")),shape.remove(),baseLayer.draw(),vm.closeInfoWidget(),vm.closeTextInfoWidget(),selectedShape.reset())},vm.openInfoWidget=function(){var shape=selectedShape.get();vm.infoWidgetProps={name:shape.name(),colorType:"stroke",stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()},vm.shapeInfoWidget=!0},vm.colorTypes=[{type:"Stroke",value:"stroke"},{type:"Fill",value:"fill"}],vm.textColorTypes=[{type:"Background",value:"stroke"},{type:"Font",value:"fill"}],vm.fontStyles=[{type:"Normal",value:"normal"},{type:"Bold",value:"bold"},{type:"Italic",value:"italic"}],vm.webSafeFonts=["Arial","Calibri","Helvetica","Times New Roman","Times","Courier New","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"],vm.openTextInfoWidget=function(){var shape=selectedShape.get();vm.textInfoWidgetProps={colorType:"stroke",text:shape.text(),fontSize:shape.fontSize(),fontStyle:shape.fontStyle(),fontFamily:shape.fontFamily(),stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()},vm.textInfoWidget=!0,$scope.$apply()},vm.changeTextInfo=function(prop,value){var shape=selectedShape.get();shape[prop](value),baseLayer.draw()},vm.infoWidgetStroke=function(val){var shape=selectedShape.get();shape.strokeWidth(val),baseLayer.draw()};var shapePropHistory=commonVPFactory.shapePropertyHistory();vm.infoWidgetEvents={onChange:function(api,color,$event){var shape=selectedShape.get();"fill"===vm.infoWidgetProps.colorType?shape.fill(color):"stroke"===vm.infoWidgetProps.colorType&&shape.stroke(color),baseLayer.draw()},onOpen:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};shapePropHistory.add(props)},onClose:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};actionStates.push(commonVPFactory.actionHandler(stage,shape,processStore.getCurrent(),"shapeProps",shapePropHistory.add(props))),shapePropHistory=commonVPFactory.shapePropertyHistory()}},vm.textInfoWidgetEvents={onChange:function(api,color,$event){var shape=selectedShape.get();if("fill"===vm.textInfoWidgetProps.colorType)shape.fill(color);else if("stroke"===vm.textInfoWidgetProps.colorType){var wrapper=shape.getParent().find("Line");wrapper.fill(color)}baseLayer.draw()},onOpen:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};shapePropHistory.add(props)},onClose:function(api,color,$event){var shape=selectedShape.get(),props={stroke:shape.stroke(),fill:shape.fill(),strokeWidth:shape.strokeWidth()};actionStates.push(commonVPFactory.actionHandler(stage,shape,processStore.getCurrent(),"shapeProps",shapePropHistory.add(props))),shapePropHistory=commonVPFactory.shapePropertyHistory()}},vm.closeInfoWidget=function(){vm.shapeInfoWidget=!1},vm.closeTextInfoWidget=function(){var text=selectedShape.get();if(text&&"text"===text.name()){var group=text.getParent(),wrapper=group.find("Line")[0];wrapper.stroke(null),baseLayer.draw(),transformerStore.removeAll()}vm.textInfoWidget=!1},vm.currentPanState=!0,vm.panImage=function(){vm.currentPanState=baseLayer.draggable(),vm.currentPanState?document.body.style.cursor="default":document.body.style.cursor="move",baseLayer.draggable(!vm.currentPanState),baseLayer.draw()},vm.undoOrRedo=function(type){transformerStore.removeAll(),1===type?actionStates.redo():actionStates.undo()},vm.downloadImage=function(){var dataURL=stage.toDataURL(),link=document.createElement("a");link.download="roofplan_image_"+Date.now(),link.href=dataURL,document.body.appendChild(link),link.click(),document.body.removeChild(link)},vm.downloadFile=function(){var json=stage.toJSON(),file=new Blob([json],{type:"application/json"}),link=document.createElement("a");link.href=URL.createObjectURL(file),link.download="roofplan_json_"+Date.now(),document.body.appendChild(link),link.click(),document.body.removeChild(link)},vm.saveRoofPlan=function(){transformerStore.removeAll();var json=stage.toJSON();apiFactory.saveRoofPlan(roofPlan._id,{jsonString:json,calibration:calibrationState.get(),countData:shapesVPFactory.getShapeId(),associations:vm.associations.getAssociationsForSave()}).then(function(resp){Notification.success(resp.data.message),apiFactory.getProjectRoofPlans(localStorageService.get("roofPlanProject")).then(function(resp){localStorageService.set("roofPlans",resp.data.data)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},vm.hideProcess=function(index){transformerStore.removeAll(),processStore.hideProcess(index)},vm.showProcess=function(index){processStore.showProcess(index)},vm.addProcess=function(){processStore.createProcess(),vm.processes=processStore.getProcesses()},vm.selectLayer=function(i){vm.selectedIndex=i,processStore.setCurrent(i)},vm.selectLayer(0),vm.selectOrUnselect=function(shape){shape.selected?selectionStore.push(shape):selectionStore.pull(shape.name())},vm.layerIconName=function(shapeName){return/Rect*/.test(shapeName)?"square":/Ellipse*/.test(shapeName)?"circle":/polygon*/.test(shapeName)?"polygon":/line*/.test(shapeName)?"line":/textGroup*/.test(shapeName)?"text":/freeHand*/.test(shapeName)?"pencil":void 0},vm.hideSelection=function(){var selectedShapes=selectionStore.get();console.log(selectedShapes),transformerStore.removeAll(),angular.forEach(selectedShapes,function(shape){shape.visible(!1)}),baseLayer.draw()},vm.deleteSelection=function(){var selectedShapes=selectionStore.get();transformerStore.removeAll(),angular.forEach(selectedShapes,function(shape){actionStates.push(commonVPFactory.actionHandler(stage,shape,shape.getParent(),"delete")),shape.remove()}),baseLayer.draw()},vm.loadMaterial=function(shapeProp){$("#loadMaterial").modal("show")},vm.createAssociation=function(shapeId,entityId,type){vm.associations.createAssociation(shapeId,entityId,type),$("#loadMaterial").modal("hide")},$scope.$on("selectedMaterial",function(e,data){console.log("selectedMaterial----",data)})}vm.hideInitModal=!1,vm.roofPlans=localStorageService.get("roofPlans"),vm.selectPlan=function(plan){vm.selectedPlan=plan._id,loadPlanner(plan),vm.hideInitModal=!0},vm.selectPlan(localStorageService.get("selectedPlan")),vm.closeVisualPlanner=function(){document.body.style.cursor="default",$("#chooseRoofModal").modal("hide"),$state.go("dashboard")}})}(),function(){angular.module("app").controller("workingHoursCtrl",function($scope,$timeout,authFactory,$state,apiFactory,Notification,globals,NgMap,Upload,moment,$location){var logout=globals.logout,userStore=globals.userStore;globals.debounce;if(!authFactory.checkUser())return void logout();this.userData=userStore.get(),console.log(this.userData),this.logout=function(){logout()},$scope.activeClass=function(path){return $location.path()===path?"active":""}})}(),function(){angular.module("app").directive("canvasPdf",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"A",scope:{current:"="},link:function($scope,elem,attrs){globals.renderPage($scope.current,elem[0]),$timeout(function(){$scope.$apply()})}}})}(),function(){angular.module("app").directive("chatMessage",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",scope:{m:"=",type:"@"},template:'<ng-include src="type"></ng-include>',link:function($scope,elem,attrs){globals.projectStore;$scope.showPreview=function(format){return/png|jpeg|gif|jpg/.test(format)}}}})}(),function(){angular.module("app").directive("filePicker",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",templateUrl:"/partials/filePicker.html",scope:{folders:"=",options:"=",source:"=",sourcefile:"=",sourcedir:"="},link:function($scope,elem,attrs){var folderPaths=[],projectStore=globals.projectStore;$scope.files=[],$scope.folderName="Root Folder",$scope.currentFolder="",$scope.selectedFolder=null,$scope.backBtnView=!1,$scope.viewFolder=function(folder){var name=folder.name;folderPaths.push(folder),$scope.selectedFolder,apiFactory.viewHierarchy(folder._id).then(function(resp){$scope.selectedFolder=folder,$scope.currentFolder=folder.name,$scope.folders=resp.data.folders,$scope.files=resp.data.files,$scope.breadCrumbs=resp.data.breadcrumbs,$scope.folderName=name,"Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}).catch(function(e){console.log(e)})},$scope.selectFile=function(file,breadCrumbs){file.breadCrumbs=breadCrumbs,$rootScope.$broadcast("loader",!0),$rootScope.$broadcast("selectedRoofPlanDoc",file)},$scope.back=function(){folderPaths.pop();var previous=folderPaths[folderPaths.length-1],apiName=previous?"viewHierarchy":"getHierarchy",param=previous?previous._id:projectStore.get()._id;apiFactory[apiName](param).then(function(resp){$scope.selectedFolder=previous||null,$scope.currentFolder=previous?previous.name:null,$scope.folders=previous?resp.data.folders:resp.data.data.hierarchies,$scope.files=previous?resp.data.files:[],$scope.folderName=previous?previous.name:"Root Folder","Root Folder"==$scope.folderName?$scope.backBtnView=!0:$scope.backBtnView=!1}).catch(function(e){console.log(e)})},$scope.moveTo=function(folder,source){if(folder){var payload={assetId:$scope.sourcefile._id,sourceId:source.$modelValue._id,destId:folder._id};apiFactory.moveAssets(payload).then(function(resp){$scope.sourcedir&&($scope.sourcedir=$scope.sourcedir.filter(function(x){return x._id!==$scope.sourcefile._id})),Notification.success("File Moved Successfully"),$("#moveTo").modal("hide")}).catch(function(e){console.log(e)})}}}}})}(),angular.module("app").directive("autoComplete",function($timeout){return function(scope,iElement,iAttrs){iElement.autocomplete({source:scope[iAttrs.uiItems],select:function(){$timeout(function(){iElement.trigger("input")},0)}})}}),angular.module("app").directive("errSrc",function(){return{link:function(scope,element,attrs){element.bind("error",function(){attrs.src!=attrs.errSrc&&attrs.$set("src",attrs.errSrc)})}}}),function(){angular.module("app").directive("materialPicker",function($rootScope,apiFactory,$timeout,globals,Notification){return{restrict:"E",templateUrl:"/partials/materialPicker.html",scope:{materialType:"=",selectedMaterial:"=",currentShape:"=",associations:"="},link:function($scope,elem,attrs){$scope.materialList=[],$scope.entityType=1,apiFactory.listAllMaterials().then(function(resp){$scope.materialList=resp.data.list,$scope.selectedMaterial=angular.copy($scope.materialList[0])}).catch(function(e){}),$scope.dcpList=[],apiFactory.listAllComboMaterials().then(function(resp){$scope.dcpList=resp.data.list}).catch(function(e){}),$scope.equipmentList=[],apiFactory.listAllEquipments().then(function(resp){$scope.equipmentList=resp.data.list}).catch(function(e){}),$scope.selectedMaterialInfo=function(material){$rootScope.$broadcast("selectedMaterial",material),console.log(material),$scope.materialImages=material},$scope.materialSelection=function(item){$scope.selectedMaterial=item},$scope.resetSelectedMaterial=function(val){$scope.selectedMaterial&&(console.log($scope.currentShape),0==val?($scope.selectedMaterial=angular.copy($scope.materialList[0]),$scope.entityType=val+1):1==val?($scope.selectedMaterial=angular.copy($scope.dcpList[0]),$scope.entityType=val+1):($scope.selectedMaterial=angular.copy($scope.equipmentList[0]),$scope.entityType=val+1))},$scope.assignMaterial=function(shapeId,entityId,type){$("#loadMaterial").modal("hide"),$scope.associations.createAssociation(shapeId,entityId,type)}}}})}(),function(){angular.module("app").filter("convertCurrency",function(){return function(input,conversionRate){return input?input*conversionRate:0}}),angular.module("app").filter("roundNum",function(){return function(input,place){return input?Number(input).toFixed(place):0}}),angular.module("app").filter("roundNumb",function(){return function(input,place){return input?Number(input).toFixed(place):""}}),angular.module("app").filter("fetchThumbnail",function(){return function(input){if(input)return/cloudinary/.test(input.secure_url)?input.secure_url.replace(/\.pdf/,".png"):input.thumbnail}}),angular.module("app").filter("parseTypingMembers",function(){return function(input){if(input&&input.length)return input.length>1?input.length+" people are typing..":input[0].nickname+" is typing.."}}),angular.module("app").filter("sumOfColumn",function(){return function(collection,column){var total=0;return collection.forEach(function(item){total+=parseInt(item[column])}),total}}),angular.module("app").filter("searchFor",function(){return function(arr,searchString){if(!searchString)return arr;var result=[];return searchString=searchString.toLowerCase(),angular.forEach(arr,function(item){-1!==item.name.toLowerCase().indexOf(searchString)?result.push(item):result.push(searchString)}),result}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJyb3V0ZXMubW9kdWxlLmpzIiwiYXBpLmZhY3RvcnkuanMiLCJhdXRoLmZhY3RvcnkuanMiLCJmaWxlTWFuYWdlci5mYWN0b3J5LmpzIiwiZ2xvYmFscy5mYWN0b3J5LmpzIiwiaW1hZ2VNYXJrZXIuZmFjdG9yeS5qcyIsImlzc3VlY3JlYXRpb24uZmFjdG9yeS5qcyIsInMzd3JhcHBlci5mYWN0b3J5LmpzIiwibWVldGluZ1Jvb20vU0JjaGFubmVsLmZhY3RvcnkuanMiLCJtZWV0aW5nUm9vbS9TQmNvbW1vbi5mYWN0b3J5LmpzIiwibWVldGluZ1Jvb20vU0JldmVudHMuZmFjdG9yeS5qcyIsInZpc3VhbF9wbGFubmVyL2NvbW1vbi5mYWN0b3J5LmpzIiwidmlzdWFsX3BsYW5uZXIvZXZlbnRzLmZhY3RvcnkuanMiLCJ2aXN1YWxfcGxhbm5lci9sYXllcnMuZmFjdG9yeS5qcyIsInZpc3VhbF9wbGFubmVyL3NoYXBlcy5mYWN0b3J5LmpzIiwidmlzdWFsX3BsYW5uZXIvdG9vbHMuZmFjdG9yeS5qcyIsIjNkLWRhc2hib2FyZC5jb250cm9sbGVyLmpzIiwiM2R2aWV3ZXIuY29udHJvbGxlci5qcyIsIkFSLmNvbnRyb2xsZXIuanMiLCJiaWxsaW5nQXJjaGl2ZS5jb250cm9sbGVyLmpzIiwiY2FsY3VsYXRpb24uY29udHJvbGxlci5qcyIsImNhbGVuZGVyLmNvbnRyb2xsZXIuanMiLCJjbGllbnRzLmNvbnRyb2xsZXIuanMiLCJjbGllbnRzRGV0YWlsLmNvbnRyb2xsZXIuanMiLCJjb21ib01hdGVyaWFsVmlldy5jb250cm9sbGVyLmpzIiwiY3JlYXRlSW52b2ljZS5jb250cm9sbGVyLmpzIiwiY3JlYXRlUHJvamVjdC5jb250cm9sbGVyLmpzIiwiY3JlYXRlVmFyaWF0aW9uc09yZGVyLmNvbnRyb2xsZXIuanMiLCJkYXNoYm9hcmQuY29udHJvbGxlci5qcyIsImVjb25vbWljLmNvbnRyb2xsZXIuanMiLCJlY29ub21pY1BheXJvbGwuY29udHJvbGxlci5qcyIsImVtcGxveWVlcy5jb250cm9sbGVyLmpzIiwiZXF1aXBtZW50LmNvbnRyb2xsZXIuanMiLCJlcXVpcG1lbnRWaWV3LmNvbnRyb2xsZXIuanMiLCJmaWxlTWFuYWdlci5jb250cm9sbGVyLmpzIiwiaW52b2ljZS5jb250cm9sbGVyLmpzIiwiaW52b2ljZUxpc3QuY29udHJvbGxlci5qcyIsImlzc3VlRGV0YWlscy5jb250cm9sbGVyLmpzIiwiaXNzdWVzLmNvbnRyb2xsZXIuanMiLCJtYXRlcmlhbHMuY29udHJvbGxlci5qcyIsIm1hdGVyaWFsVmlldy5jb250cm9sbGVyLmpzIiwibWVldGluZ1Jvb20uY29udHJvbGxlci5qcyIsInBheXJvbGwuY29udHJvbGxlci5qcyIsInByZUxvZ2luLmNvbnRyb2xsZXIuanMiLCJwcm9qZWN0LmNvbnRyb2xsZXIuanMiLCJyZXBvcnREZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJyZXBvcnRzLmNvbnRyb2xsZXIuanMiLCJyZXBvcnRzTGlzdGluZy5jb250cm9sbGVyLmpzIiwic2V0UGFzc3dvcmQuY29udHJvbGxlci5qcyIsInNldHRpbmcuY29udHJvbGxlci5qcyIsInN1YmNvbnRyYWN0b3IuY29udHJvbGxlci5qcyIsInN1YmNvbnRyYWN0b3JEZXRhaWwuY29udHJvbGxlci5qcyIsInN1cHBsaWVyLmNvbnRyb2xsZXIuanMiLCJzdXBwbGllckRldGFpbC5jb250cm9sbGVyLmpzIiwic3lzdGVtVGFncy5jb250cm9sbGVyLmpzIiwidG9kby5jb250cm9sbGVyLmpzIiwidG9kb1ZpZXcuY29udHJvbGxlci5qcyIsInZpc3VhbF9wbGFubmVyLmNvbnRyb2xsZXIuanMiLCJ3b3JraW5nSG91cnMuY29udHJvbGxlci5qcyIsImNhbnZhc1BkZi5kaXJlY3RpdmUuanMiLCJjaGF0TWVzc2FnZS5kaXJlY3RpdmUuanMiLCJmaWxlUGlja2VyLmRpcmVjdGl2ZS5qcyIsImluZGV4LmRpcmVjdGl2ZS5qcyIsIm1hdGVyaWFsUGlja2VyLmRpcmVjdGl2ZS5qcyIsImluZGV4LmZpbHRlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiTm90aWZpY2F0aW9uUHJvdmlkZXIiLCJ1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciIsInRyZWVDb25maWciLCJjbG91ZGluYXJ5UHJvdmlkZXIiLCJjb25maWd1cmUiLCJrZXkiLCJ2IiwibGlicmFyaWVzIiwic2V0T3B0aW9ucyIsImRlbGF5Iiwic3RhcnRUb3AiLCJzdGFydFJpZ2h0IiwidmVydGljYWxTcGFjaW5nIiwiaG9yaXpvbnRhbFNwYWNpbmciLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJkZWZhdWx0Q29sbGFwc2VkIiwic2V0Iiwicm91dGVDb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiZmFjdG9yeSIsIiRodHRwIiwiJHN0YXRlIiwiJGxvY2F0aW9uIiwibG9jYWxTdG9yYWdlU2VydmljZSIsImdsb2JhbHMiLCJVcGxvYWQiLCJOb3RpZmljYXRpb24iLCIkcSIsIl9yZWYiLCJoZWFkZXJzIiwibWV0aG9kIiwidG9rZW4iLCJDb250ZW50LVR5cGUiLCJ1bmRlZmluZWQiLCJ4LWFjY2Vzcy10b2tlbiIsImdldCIsInBsYXRmb3JtIiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZSIsInByb2dyZXNzIiwibG9nb3V0IiwidXNlclN0b3JlIiwiX2RlZmluZVByb3BlcnR5IiwibG9naW4iLCJwYXlsb2FkIiwicHJvbWlzZSIsInRoaXMiLCJwcm9ncmVzc2lmeSIsImRhdGEiLCJmb3Jnb3RQYXNzd29yZCIsInJlZ2lzdHJhdGlvbiIsInN1YnNjcmliZSIsImdldENvbXBhbnlCeUlkIiwiY29tcGFueUlkIiwibGlzdEFsbFVzZXJzIiwibGlzdEFsbFByb2plY3RzIiwicXVlcnlPYmoiLCJxdWVyeSIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJzdHIiLCJzbGljZSIsImxpc3RBbGxDbGllbnRzIiwibGlzdEFsbFJvb2ZlcnMiLCJjcmVhdGVQcm9qZWN0IiwiY3JlYXRlSXNzdWUiLCJpc3N1ZW9iaiIsImNvbnNvbGUiLCJsb2ciLCJ1cGxvYWQiLCJjcmVhdGVJc3N1ZVMzVXBsb2FkIiwiZ2V0SXNzdWVCeUlkIiwiaXNzdWVJRCIsImdldENsaWVudEJ5SWQiLCJjbGllbnRJRCIsInVwZGF0ZUlzc3VlIiwiaWQiLCJnZXRQcm9qZWN0Um9vZlBsYW5zIiwicHJvamVjdElkIiwic2F2ZVJvb2ZQbGFuIiwicm9vZlBsYW5JZCIsImNyZWF0ZU1hdGVyaWFscyIsImNyZWF0ZUVxdWlwbWVudCIsImxpc3RBbGxNYXRlcmlhbHMiLCJsaXN0QWxsQ29tYm9NYXRlcmlhbHMiLCJsaXN0QWxsRXF1aXBtZW50cyIsInVwZGF0ZU1hdGVyaWFsQnlJZCIsInVwZGF0ZUVxdWlwbWVudEJ5SWQiLCJnZXRNYXRlcmlhbEJ5SWQiLCJtYXRlcmlhbElEIiwiZ2V0Q29tYm9NYXRlcmlhbEJ5SWQiLCJjb21ib0lkIiwiZ2V0RXF1aXBtZW50QnlJZCIsImNyZWF0ZUNvbWJvTWF0ZXJpYWwiLCJ1cGRhdGVDb21ib01hdGVyaWFsTGlzdCIsInVwZGF0ZUNvbWJvTWF0ZXJpYWwiLCJzaG93Q29udmVyc2lvblJhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXJ0IiwidGhlbiIsInJlc3AiLCJjb21wbGV0ZSIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiaGllcmFyY2h5SWQiLCJEYXRhM0QiLCJjbGllbnQiLCJuYW1lIiwiYWRkZWQiLCJsaW1pdCIsInN1cHBsaWVyIiwic3VwcGxpZXJJRCIsInN1YmNvbnRyYWN0b3IiLCJjb21tZW50IiwiY29tcGxldGlvblN0YXR1cyIsImRlZmVycmVkIiwiZGVmZXIiLCJpbmZvUHJvbWlzZSIsImRldGFpbHNQcm9taXNlIiwiYWxsIiwiZnJ1aXRJbmZvIiwiZnJ1aXREZXRhaWxzIiwib2JqZWN0Iiwic3RhZmYiLCJfaWQiLCJpbnB1dCIsImFwaVVSTCIsImV2ZW50SWQiLCJwcm9qZWN0VGFnIiwiY2hlY2tVc2VyIiwiY2hlY2tQcml2aWxlZ2UiLCJ0eXBlIiwic3ViVHlwZSIsIl9sb2NhbFN0b3JhZ2VTZXJ2aWNlJCIsInByaXZpbGVnZSIsIl9sb2NhbFN0b3JhZ2VTZXJ2aWNlJDIiLCJwcml2aWxlZ2VzIiwiYXBpRmFjdG9yeSIsImNsaXBCb2FyZCIsIml0ZW1zIiwiY29weSIsIml0ZW0iLCJjdXQiLCJwYXN0ZSIsImRlc3RJZCIsImxlbmd0aCIsIndhcm5pbmciLCJhcGlUeXBlIiwiYXNzZXRJZCIsIm1hcCIsIngiLCJzb3VyY2VJZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZSIsIm5hdmlnYXRpb25TdGFjayIsInN0YWNrIiwiaGVhZCIsInB1c2giLCJzcGxpY2UiLCJmb3J3YXJkIiwidG9nZ2xlIiwiYmFja3dhcmQiLCJicmVhZENydW1iIiwiYnJlYWRDcnVtYnMiLCJ2YWwiLCJzcGxpdERlc3RpbmF0aW9uIiwiZmlsZXNBcnJheSIsInNpemUiLCJ0ZXN0IiwiY2xvdWRpbmFyeSIsInMzIiwicmVzb2x2ZURlc3RUeXBlIiwiZmlsZSIsImNoZWNrVXBsb2FkQ29tcGxldGlvbiIsImZpbGVzIiwiYm9vbCIsImZvckVhY2giLCJjb21wbGV0ZWQiLCJhYm9ydGVkIiwiY2hlY2tEdXBsaWNhdGVGaWxlcyIsImNoZWNrQXNzZXREdXBsaWNhdGUiLCJhc3NldE5hbWVzIiwiZHVwbGljYXRlRmlsZXMiLCJhY3Rpb24iLCJhc3NldE5hbWUiLCJkdXBsaWNhdGVzIiwiaW5kZXhPZiIsInVwbG9hZEZpbGVzIiwiY2hlY2tOYW1lQ2hhbmdlIiwiZmlsdGVyIiwiZ2VuZXJhdGVWZXJzaW9uIiwiZmlsZU5hbWUiLCJEYXRlIiwibm93IiwiZ2VuZXJhdGVUaHVtYm5haWwiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicGRmanNMaWIiLCJnZXREb2N1bWVudCIsInJlc3VsdCIsImRvYyIsImdldFBhZ2UiLCJwYWdlIiwidmlld3BvcnQiLCJnZXRWaWV3cG9ydCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGVpZ2h0Iiwid2lkdGgiLCJ0YXNrIiwicmVuZGVyIiwiY2FudmFzQ29udGV4dCIsImRhdGFVUkwiLCJ0b0RhdGFVUkwiLCJsaW5rIiwiZG93bmxvYWQiLCJocmVmIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJlYWRBc0RhdGFVUkwiLCJzcGxpdEZpbGVEZXN0IiwibmdQcm9ncmVzc0ZhY3RvcnkiLCJ0aHJvdHRsZXIiLCJlbmFibGVkIiwiZm4iLCJzZXRUaW1lb3V0IiwicHJvZ3Jlc3NiYXIiLCJjcmVhdGVJbnN0YW5jZSIsInJlbW92ZSIsImdvIiwiZXJyb3IiLCJ1c2VyRGF0YSIsImRlc2lnbmF0aW9uIiwicmVzZXQiLCJjb21wYW55U3RvcmUiLCJjb21wYW55RGF0YSIsInJlZmV0Y2giLCJwcm9qZWN0U3RvcmUiLCJpbnZlbnRvcnlTdGF0ZSIsInRhYiIsInNlYXJjaFRleHQiLCJtYXRlcmlhbCIsImNvbWJvIiwic2V0UGFnZSIsInZhbHVlIiwic2V0VGFiIiwidGV4dCIsIl90ZXh0IiwibVVuaXRzIiwiZ2V0Q3VycmVuY3kiLCJnZXRDb3VudHJ5Q29kZSIsImdldEluZHVzdHJ5IiwiZGVib3VuY2UiLCJyYXRlIiwidGltZXIiLCJhcmdzIiwiY2xlYXJUaW1lb3V0IiwiYXBwbHkiLCJnZW5lcmljU3RvcmUiLCJzdG9yZSIsImV4dHJhY3RQYWdlc0Zyb21QZGYiLCJwZGZMaW5rIiwicGFnZUNvdW50IiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiQXJyYXkiLCJfIiwiaSIsInBhZ2VPYmoiLCJwYWdlTm8iLCJyZXBsYWNlIiwidGl0bGUiLCJzZWxlY3RlZCIsImRlc2NyaXB0aW9uIiwiY3JlYXRlUGFnZXNGcm9tUGRmIiwicGRmIiwic2VjdXJlX3VybCIsIm51bVBhZ2VzIiwicGFnZXMiLCJyZW5kZXJQYWdlIiwiJHJvb3RTY29wZSIsInNjb3BlIiwiY29sb3IiLCJjdXJyZW50RHJhd2luZyIsIm1ldGhvZHMiLCJpbml0IiwiZGl2SWQiLCJpbml0aWFsU2l6ZSIsImFzc2V0T2JqIiwic3RhZ2UiLCJtYXJraW5nSnNvbiIsIktvbnZhIiwiTm9kZSIsImNyZWF0ZSIsImxheWVyIiwiaW1hZ2VPYmoiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiYmdJbWFnZSIsImZpbmQiLCJpbWFnZSIsImRyYXciLCJzcmMiLCJvbiIsImltYWdlQ2xpY2tIYW5kbGVyIiwiZHJhd2luZ0hhbmRsZXIiLCJTdGFnZSIsImNvbnRhaW5lciIsInkiLCJuZXdsYXllciIsIkxheWVyIiwiYWRkIiwib3BhY2l0eSIsIm1vdmVUb0JvdHRvbSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJ0YWdOYW1lIiwicHJldmVudERlZmF1bHQiLCJzdHlsZSIsImN1cnNvciIsInJlbW92ZVN0YXRlIiwiZ2V0U2NvcGUiLCJzZXRTdGF0ZSIsImRyYXdTdGF0ZSIsInNldENvbG9yIiwic2VsZWN0ZWRDb2xvciIsImdldENhbnZhc0ltYWdlIiwic2VyaWFsaXplIiwidG9KU09OIiwicG9zaXRpb24iLCJnZXRQb2ludGVyUG9zaXRpb24iLCJlbmREcmF3aW5nIiwiaW5pdF9tYXJrZXIiLCJtYXJrZXIiLCJDaXJjbGUiLCJyYWRpdXMiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImZpbGwiLCJkcmFnZ2FibGUiLCIkYnJvYWRjYXN0IiwidW5kb1JlZG8iLCJuZXdJdGVtIiwiaW5pdF9jaXJjbGUiLCJjaXJjbGUiLCJkcmF3X2NpcmNsZSIsIk1hdGgiLCJhYnMiLCJpbml0X2xpbmUiLCJsaW5lIiwiTGluZSIsInBvaW50cyIsImRyYXdfbGluZSIsImZpbGxfdGV4dCIsInNpbXBsZVRleHQiLCJUZXh0IiwiZ2V0V2lkdGgiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJzZXRPZmZzZXQiLCJ1bmRvIiwicmVkbyIsImZyZWV6ZSIsInVwbG9hZEZhY3RvcnkiLCJmaWxlTWFuYWdlckZhY3RvcnkiLCJfZ2xvYmFscyIsInZtIiwiczNGaWxlT2JqZXRzIiwiZ2V0QWxsQXRPbmNlIiwiZmlsZXNhcnJheSIsImFycmF5IiwiZXZhcG9yYXRlIiwicGF1c2UiLCJiaW5kIiwicmVzdW1lIiwiYWJvcnQiLCJhZGRDb25maWciLCJwIiwic3RhdHMiLCJyb3VuZCIsImNvbXBsZXRlZEFsbCIsIl94aHIiLCJhd3NLZXkiLCJhd3NPYmplY3RLZXkiLCJhc3NldERhdGEiLCJhc3NldGRlc2NyaXB0aW9uIiwiYnVja2V0IiwibWltZXR5cGUiLCJieXRlcyIsImFsZXJ0IiwicmVhc29uIiwiY2xvdWRpbmFyeVBheWxvYWQiLCJzZW5kRGF0YSIsInNpZ25lclVybCIsImF3c19rZXkiLCJhd3NSZWdpb24iLCJjb21wdXRlQ29udGVudE1kNSIsImFsbG93UzNFeGlzdGVuY2VPcHRpbWl6YXRpb24iLCJjcnlwdG9NZDVNZXRob2QiLCJBV1MiLCJ1dGlsIiwiY3J5cHRvIiwibWQ1IiwiY3J5cHRvSGV4RW5jb2RlZEhhc2gyNTYiLCJzaGEyNTYiLCJFdmFwb3JhdGUiLCJoYW5kbGVyIiwiZmlsZVVwbG9hZCIsImZvcmNlIiwiaXNQYXVzZWQiLCJjYW5jZWwiLCJTQmNvbW1vbiIsInNiIiwiZ2V0SW5zdGFuY2UiLCJjcmVhdGVDaGFubmVsIiwiY2hhbm5lbE5hbWUiLCJ1c2VyIiwicHJvamVjdCIsInBhcmFtcyIsIkdyb3VwQ2hhbm5lbFBhcmFtcyIsImlzUHVibGljIiwiaXNFcGhlbWVyYWwiLCJpc0Rpc3RpbmN0IiwiYWRkVXNlcklkcyIsIm9wZXJhdG9ycyIsImN1c3RvbVR5cGUiLCJHcm91cENoYW5uZWwiLCJncm91cENoYW5uZWwiLCJsaXN0Q2hhbm5lbHMiLCJjaGFubmVsTGlzdFF1ZXJ5IiwiY3JlYXRlTXlHcm91cENoYW5uZWxMaXN0UXVlcnkiLCJpbmNsdWRlRW1wdHkiLCJjdXN0b21UeXBlc0ZpbHRlciIsImhhc05leHQiLCJuZXh0IiwiY2hhbm5lbExpc3QiLCJpbnZpdGVVc2VycyIsImNoYW5uZWwiLCJ1c2VycyIsImludml0ZVdpdGhVc2VySWRzIiwiZ2V0Q2hhbm5lbE1lc3NhZ2VzIiwicHJldk1lc3NhZ2VMaXN0UXVlcnkiLCJjcmVhdGVQcmV2aW91c01lc3NhZ2VMaXN0UXVlcnkiLCJyZXZlcnNlIiwibG9hZCIsIm1lc3NhZ2VzIiwiZ2V0Q2hhbm5lbEZpbGVzIiwibWVzc2FnZVR5cGVGaWx0ZXIiLCJzZW5kTWVzc2FnZSIsInNlbmRVc2VyTWVzc2FnZSIsInNlbmRGaWxlTWVzc2FnZSIsInByb21pc2VBcnJheSIsIl9sb29wIiwiZm9ybWF0IiwiZmlsZU1lc3NhZ2UiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJkb25lIiwicmV0dXJuIiwiU2VuZEJpcmQiLCJhcHBJZCIsImNvbm5lY3QiLCJkaXNjb25uZWN0IiwiY3VycmVudE1lZXRpbmciLCJwcm9wIiwiYXJndW1lbnRzIiwibmV3TWVzc2FnZUhhbmRsZXIiLCJDaGFubmVsSGFuZGxlciIsIm9uTWVzc2FnZVJlY2VpdmVkIiwiYWRkQ2hhbm5lbEhhbmRsZXIiLCJuZXdVc2VySm9pbmVkIiwib25Vc2VySm9pbmVkIiwidHlwaW5nU3RhdHVzSGFuZGxlciIsIm9uVHlwaW5nU3RhdHVzVXBkYXRlZCIsImNyZWF0ZVN0YWdlIiwicGxhbm5lckRhdGEiLCJqc29uU3RyaW5nIiwiZ2V0U3RhZ2VTaXplIiwiZGltZW5zaW9ucyIsImVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGllbnRIZWlnaHQiLCJjbGllbnRXaWR0aCIsInNoYXBlSWQiLCJkZWZhdWx0Q291bnQiLCJzaGFwZXMiLCJyZWN0YW5nbGUiLCJzcXVhcmUiLCJlbGxpcHNlIiwiY2FsaWJyYXRvciIsImZyZWVIYW5kIiwicG9seWdvbiIsIm1hcmtpbmdzIiwic2luZ2xlQXJyb3ciLCJkb3VibGVBcnJvdyIsImJlemllciIsImZyZWVoYW5kIiwic2VsZWN0aW9uIiwibWVhc3VyZW1lbnQiLCJjdXJyZW50Q291bnQiLCJjb3VudCIsImdldENvdW50Iiwic2hhcGUiLCJpbml0aWFsRHJhd1N0YXRlcyIsImRyYXdTdGF0ZXMiLCJzcGxpdCIsImNoZWNrIiwiY2FsaWJyYXRpb25TdGF0ZSIsInVuaXQiLCJvYmoiLCJhY3Rpb25TdGF0ZXMiLCJhY3Rpb25zIiwic2hvdyIsInBlZWsiLCJkZWxldGUiLCJyZXN0b3JlIiwiYWN0aW9uSGFuZGxlciIsImVudGl0eSIsInByb2Nlc3MiLCJhY3Rpb25UeXBlIiwicHJvcHMiLCJoYW5kbGVycyIsImJhdGNoRHJhdyIsIm1vdmUiLCJlbmQiLCJzaGFwZVByb3BzIiwibW92ZW1lbnQiLCJzaGFwZVByb3BlcnR5SGlzdG9yeSIsInRyYW5zZm9ybWVycyIsInRyYW5zZm9ybWVyIiwicmVtb3ZlQWxsIiwiZHJhZ09mZnNldCIsInN0YWdlUG9zaXRpb24iLCJsYXllck9mZnNldCIsInN0YWdlU2NhbGUiLCJzZWxlY3RlZFNoYXBlIiwic2VsZWN0aW9uU3RvcmUiLCJzZWxlY3Rpb25zIiwicHVsbCIsInNoYXBlTmFtZSIsInNoYXBlTmFtZXMiLCJjbGVhciIsImFzc29jaWF0aW9ucyIsImNyZWF0ZUFzc29jaWF0aW9uIiwiZW50aXR5SWQiLCJnZXRBc3NvY2lhdGlvbnMiLCJnZXRBc3NvY2lhdGlvbnNGb3JTYXZlIiwibWF0ZXJpYWxJZCIsImVxdWlwbWVudElkIiwicmVtb3ZlQXNzb2NpYXRpb24iLCJ3aW5kb3dFdmVudHMiLCJ3aW5kb3dPYmplY3QiLCJlbnRpdGllcyIsImV2IiwiZmlyZSIsInJlZ2lzdGVyIiwic3RhZ2VFdmVudHMiLCJldmVudHMiLCJldmVudCIsInNoYXBlRXZlbnRzIiwibGF5ZXJFdmVudHMiLCJjcmVhdGVMYXllciIsImluaXRpYXRlUHJvY2VzcyIsImJhc2VMYXllciIsInByb2Nlc3NlcyIsImNyZWF0ZVByb2Nlc3MiLCJncm91cCIsIkdyb3VwIiwiZ2V0UHJvY2Vzc2VzIiwiZ2V0Q3VycmVudCIsInNldEN1cnJlbnQiLCJpbmRleCIsInNob3dQcm9jZXNzIiwiaGlkZVByb2Nlc3MiLCJsb2FkUHJvY2Vzc2VzIiwicHJvY2Vzc2VzRnJvbUpzb24iLCJldmVudHNWUEZhY3RvcnkiLCJjb21tb25WUEZhY3RvcnkiLCJ0b29sc1ZQRmFjdG9yeSIsImNyZWF0ZWRTaGFwZSIsInNoYXBlVG9vbHMiLCJwb2x5Z29uT3B0aW9ucyIsInBvaW50U2V0IiwiZ2V0U2hhcGVUb29scyIsImxvYWRTaGFwZUlkIiwiZ2V0U2hhcGVJZCIsImNyZWF0ZVNoYXBlIiwiY2xvc2VkIiwiRWxsaXBzZSIsImRyYXdTaGFwZSIsInNoYXBlTG9jayIsIm1pc2MiLCJjbGFzc05hbWUiLCJkcmF3UmVjdGFuZ2xlIiwic2hhcGVsb2NrIiwiZGFzaCIsImRlc3Ryb3lTaGFwZSIsImNhbmNlbERyYXdpbmciLCJzZWxlY3Rpb25Qb2ludHMiLCJjcmVhdGVQb2x5Z29uIiwiZnJlZUhhbmRNYXJrZXIiLCJjaGVja1RocmVzaG9sZCIsImRyYXdQb2x5Z29uIiwiY3JlYXRlTGluZSIsIkFycm93IiwicG9pbnRlckxlbmd0aCIsInBvaW50ZXJXaWR0aCIsInBvaW50ZXJBdEJlZ2lubmluZyIsImRyYXdMaW5lIiwiY3JlYXRlQmV6aWVyTGluZSIsImNyZWF0ZWRQb2ludHMiLCJxIiwidGVuc2lvbiIsImxpbmVKb2luIiwiZHJhd0JlemllckxpbmUiLCJjcmVhdGVUZXh0IiwidGV4dFNoYXBlIiwiY3JlYXRlVGV4dEdyb3VwIiwidGV4dEdyb3VwIiwiaXNEb25lIiwia2lsbCIsImRlc3Ryb3kiLCJzY2FsZSIsInhVcHBlclRocmVzaG9sZCIsInlVcHBlclRocmVzaG9sZCIsInhMb3dlclRocmVzaG9sZCIsInlMb3dlclRocmVzaG9sZCIsImV4dHJhY3RBbGxTaGFwZXMiLCJhbGxTaGFwZXMiLCJnZXRDaGlsZHJlbiIsImNoaWxkIiwic2VsZWN0U2hhcGVzIiwibWluIiwibWF4IiwiY2hlY2tTZWxlY3Rpb24iLCJzZWxlY3RlZFNoYXBlcyIsInBvc2l0aW9uT2Zmc2V0IiwidmVydGljZXMiLCJyYW5nZSIsInBvbHlnb25BcmVhIiwiZGV0IiwiY2h1bmtlZEFycmF5IiwiY2h1bmsiLCJsIiwiTnVtYmVyIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJyZWN0YW5nbGVBcmVhIiwiYXJlYSIsImVsbGlwc2VBcmVhIiwicmFkaWkiLCJQSSIsImVsbGlwc2VUcmFuc2ZvbWVyIiwiZWxsaXBzZVBvc2l0aW9uIiwiaW5jIiwiJGluZGV4Iiwic2NhbGVYIiwidG9TdHJpbmciLCJkcmFnQm91bmRGdW5jIiwicG9zIiwiZ2V0QWJzb2x1dGVQb3NpdGlvbiIsImNpcmNsZUV2ZW50IiwicHJldmlvdXNSYWRpdXMiLCJzZWxlY3RlZFZlcnRleCIsImlzTmVnYXRpdmUiLCJjaGlsZHJlbiIsInoiLCJnZXRHcm91cCIsImN1c3RvbVRyYW5zZm9ybWVyIiwiaXNSZWN0YW5nbGUiLCJ0ZW1wIiwidXBkYXRlIiwib2Zmc2V0IiwiZ2V0UG9pbnRzIiwiYmV6aWVyVHJhbnNmb3JtZXIiLCJzY2FsZVRyYW5zZm9ybWVyQmFzZWRPblpvb20iLCJ0cmFuc2Zvcm1lckdyb3VwIiwibWV0cmljcyIsInNoYXBlSW5mbyIsInNldFNoYXBlSW5mbyIsImluZm8iLCJnZXRTaGFwZUluZm8iLCJjb2xvclBpY2tlciIsImFzc2lnbiIsIiRzY29wZSIsIiR0aW1lb3V0IiwiYXV0aEZhY3RvcnkiLCJOZ01hcCIsImxvZ2dlZEluIiwiYnJlYWtjcnVtYlN0b3JlIiwicm9vdEZvbGRlcnMiLCJyb290Rm9sZGVyU3RvcmUiLCJub2RlT2JqIiwiZmlsZVVwZGF0ZWQiLCJmaWxlT2JqIiwicHJlVXBsb2FkIiwiZm9sZGVyIiwicHJvY2Vzc2VkIiwicHJlVXBsb2FkRmlsZXMiLCJ1cGxvYWRGaWxlIiwidXBsb2FkU3RhdGUiLCJ1cGxvYWRWaWV3RmlsZXMiLCIkYXBwbHkiLCJmb2xkZXJJZCIsInBsYW5Eb2N1bWVudCIsInBsYW4iLCJuZXdGaWxlVXBsb2FkIiwidXBsb2FkRmlsZUluRmlsZU1hbmFnZXIiLCJwYXRoIiwiJCIsImNzcyIsIkRhdGFUYWJsZSIsImlzRWRpdCIsImlucHV0ZXZlbnQiLCJvdXRlckluZGV4IiwiaW5uZXJJbmRleCIsIm9wZW5TZWxlY3RCb3giLCJ0YWJsZUludmVudG9yeSIsIkludmVudG9yeSIsImFkZGVkQ29sdW1uIiwiZ2xvYmFsaW5pbmRleCIsIlRhbXBBcnJheSIsImNvc3QiLCJjb2RlMSIsImNvZGUyIiwiY29kZTMiLCJuYW1pbmciLCJjb2Rlc3ViamVjdCIsIml0ZW1MaXN0IiwibGlzdCIsImdldEZpcnN0SW52ZW50b3J5IiwiTWFrZVRhYmxlRWRpdGFibGUiLCJzYXZlRWRpdGluZyIsIkludmVudG9yeTEiLCJvcGVuU2VsZWN0Iiwib3V0aW5kZXgiLCJhZGRyb3dJbmRleCIsImFkZGVkTmV3SW52ZW50b3J5IiwiY2hpbGRpbmRleCIsInNlbGVjdGVkTWF0ZXJpYWwiLCJmaWx0ZXJDaXR5IiwiZ2V0VG90YWwiLCJtYXRlcmlhbFNlbGVjdGlvbiIsInJlYWR5IiwiaGlkZSIsImxlZnRDbGljayIsInNjcm9sbExlZnQiLCJhbmltYXRlIiwicmlnaHRDbGljayIsImRlbGV0ZUludmVudG9yeSIsImVkaXRJbnZlbnRvcnkiLCJ1cGRhdGVUb0ludmVudG9yeSIsInVwZGF0ZVF1YW50aXR5IiwicXVhbnRpdHkiLCJtYXRjb3N0IiwibWF0ZXJpYWxDb3N0Iiwicm9vZmNvc3QiLCJyb29mZXJDb3N0IiwiYWRkUHJvamVjdFBsYW4iLCJtYXR0b3RhbCIsInJvb2Z0b3RhbCIsInRlIiwiYWRkQ29sdW1uIiwid29yZCIsIm91dCIsImluIiwic2VhcmNoRnVuY3Rpb24iLCJwYXJlbnQiLCJvdXRwdXQiLCJ0b0xvd2VyQ2FzZSIsIlF1YW50aXR5Iiwic2VsZWN0ZWRJdGVtIiwib3BlblRyZWUiLCJpY29uIiwiY29sbGFwc2VkIiwib3BlblN1YlRyZWUiLCJhZGROZXdSb3ciLCJuZXdSb3ciLCJsaVNlbGVjdGVkIiwiaW5kZXhMaXN0IiwidWwiLCJsZW4iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIndoaWNoIiwicmVtb3ZlQ2xhc3MiLCJfdHlwZW9mIiwiYWRkQ2xhc3MiLCJpbnZpdGVlcyIsImltZyIsImxiIiwidGFiQ2hhbmdlIiwiZXEiLCJnbWFwIiwibWFya2VycyIsInN0eWxlcyIsImNlbnRlciIsInpvb20iLCJnT2JqTG9jYXRpb24iLCJjb29yZGluYXRlcyIsImFkZHJlc3MiLCJwbGFjZU1hcmtlciIsImdldFBsYWNlIiwicGxhY2VEYXRhIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiaW5wdXRJbWciLCJ1cGxvYWRJbWciLCJsaXN0QXNzZXRzIiwiaW5wdXRGaWxlcyIsIm1vZGFsIiwiZmlsZU5hbWVzIiwiZHVwbGljYXRlSW1nIiwiZ2V0TWFwIiwiZGlzYWJsZURlZmF1bHRVSSIsInpvb21Db250cm9sIiwidG9kYXlEYXRlIiwibW9tZW50IiwiZGF0ZUZvcm1hdCIsInJlc2V0Rm9ybSIsInJlcyIsImdldEFsbE1lbWJlcnNJbkN1cnJlbnRDb21wYW55IiwiY3JlYXRlTmV3RXZlbnQiLCJmb3JtRGF0YSIsImltZ0FuZEZpbGVzIiwiZGF0ZSIsImNyZWF0ZUV2ZW50IiwiZ2V0QWxsRXZlbnRzIiwibGlzdEFsbEV2ZW50c0RhdGEiLCJ1cGRhdGVFdmVudCIsInVwZGF0ZU15RXZlbnQiLCJkZWxldGVGaWxlIiwiaW5kZXhWYWwiLCJkZXNjcmlwdGlvblBvcG92ZXIiLCJmaWxlVHlwZSIsImZpbGVJbmRleCIsImdBcnlDb21wYW55TWVtYmVycyIsImNhbGVuZGFyIiwibEFyeUV2ZW50c0RhdGEiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJhbGxEYXkiLCJmdWxsQ2FsZW5kYXIiLCJoZWFkZXIiLCJsZWZ0IiwicmlnaHQiLCJldmVudENsaWNrIiwiY2FsRXZlbnQiLCJqc0V2ZW50IiwidmlldyIsImdldFJlcyIsImNvbXBhbnlNZW1iZXJzIiwiaW1hZ2VzIiwiZG9jcyIsImRlZmF1bHREYXRlIiwiZWRpdGFibGUiLCJkYXRhMSIsIiR3YXRjaCIsImFjdGl2ZUp1c3RpZmllZCIsImN1cnJlbnRQYWdlIiwidG9nZ2xlT2JqIiwidG9nZ2xlQ2xpZW50IiwiY2xpZW50TmFtZSIsInBob25lTm8iLCJlbWFpbCIsInByaW1hcnlBZGQiLCJjcmVhdGVkIiwic29ydGNsaWVudHMiLCJyZXNvdXJjZSIsInNvcnQiLCJzZWFyY2giLCJzb3J0VHlwZSIsImFsbENsaWVudHMiLCJjbGllbnRDb3VudCIsInRvdGFsIiwicGFnaW5hdGlvbiIsIml0ZW1zT25QYWdlIiwiY3NzU3R5bGUiLCJocmVmVGV4dFByZWZpeCIsIm9yZGVyaW5nIiwib25QYWdlQ2xpY2siLCJzZWFyY2hEZWJvdW5jZSIsInNlYXJjaENsaWVudHMiLCJkdE9wdGlvbnMiLCJwYWdpbmciLCJzZWFyY2hpbmciLCJsb2FkQ291bnRyeUNvZGUiLCIkcXVlcnkiLCJnZXRJbmR1c3RyaWVzIiwibG9hZEluZHVzdHJ5IiwiZ2V0Q3VycmVuY2llcyIsImxvYWRDdXJyZW5jeSIsImFkZE5ld0NsaWVudCIsInZhbGlkIiwiY2xpZW50ZGF0YSIsImluZHVzdHJpZXMiLCJjbGllbnRDb250YWN0IiwiZGlhbENvZGUiLCJwaG9uZU51bWJlciIsInllYXJGb3VuZGVkIiwiY2xpZW50V2Vic2l0ZSIsImluZHVzdHJ5IiwiZWxlbWVudCIsImNsaWVudENvbnRhY3RQZXJzb24iLCJmaXJzdE5hbWUiLCJtaWRkbGVOYW1lIiwibGFzdE5hbWUiLCJtb2JpbGUiLCJhbm51YWxSZXZlbnVlIiwiY3VycmVuY3lDb2RlIiwiY2MiLCJhZGRyZXNzMiIsImNvdW50cnlDb2RlIiwibGluZTEiLCJsaW5lMiIsImxpbmUzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb2RlIiwiYWRkcmVzczEiLCJjcmVhdGVDbGllbnQiLCJjbGllbnREYXRhIiwiJHN0YXRlUGFyYW1zIiwiY2xpZW50SWQiLCJnZXRDbGllbnREZXRhaWwiLCJDbGllbnREYXRhIiwic2F2ZVN0YWZmTWVtYmVyIiwiYWRkU3RhZmZNZW1iZXIiLCJnZXRDb21ib01hdERldGFpbCIsImNvbWJvRGF0YSIsImNvbWJvTW1hdHJpYWxOYW1lIiwidW9tIiwiY29tYm9NYXRlcmlhbExpc3QiLCJjdXJyZW50UmF0ZSIsIm1hdGVyaWFsVG90YWwiLCJyb29mZXJUb3RhbCIsImltZ1NsaWRlciIsImZsZXhzbGlkZXIiLCJhbmltYXRpb24iLCJjb250cm9sTmF2IiwiYW5pbWF0aW9uTG9vcCIsInNsaWRlc2hvdyIsIml0ZW1XaWR0aCIsIml0ZW1NYXJnaW4iLCJhc05hdkZvciIsInN5bmMiLCJlZGl0RmxhZyIsInJlbW92ZWRGaWxlcyIsImNvbXBhbnlDdXJyZW5jeSIsImN1cnJlbnRDdXJyZW5jeSIsInJlbW92ZUltZyIsIm1hdGVyaWFsSW1nIiwibWF0ZXJpYWxGaWxlcyIsIm5ld0ZpbGUiLCJlZGl0Q29tYm9NYXRlcmlhbExpc3QiLCJtYXRlcmlhbExpc3QiLCJtYXRlcmlhbFF0eSIsInNlbGVjdGVkTWF0ZXJpYWxDb3N0Iiwic2VsZWN0ZWRNYXRlcmlhbFJvb2ZlckNvc3QiLCJwZXJjZW50YWdlQWRkaXRpb25zIiwicGVyY2VudGFnZUFkZGl0aW9uIiwibWF0ZXJpYWxJbmRleCIsIm1hdGVyaWFsQ29tYmluYXRpb24iLCJwYXJzZSIsImNvbWJvTGlzdCIsImVkaXRDb21ib01hdGVyaWFsIiwiY29tYm9NYXRlcmlhbCIsImFkZFBlcmNlbnRhZ2VWYWx1ZSIsInBlcmNlbnRhZ2VUeXBlIiwicmVtb3ZlUGVyY2VudGFnZUFkZGl0aW9uIiwiZmxhZyIsIm5leHRQcmV2VGFiIiwic2VsZWN0ZWRVbml0IiwidW5pdFNlbGVjdCIsImVkaXRDb21ibyIsInVwbG9hZGFsbEZpbGVzIiwiYXNzZXREZXNjcmlwdGlvbiIsImNvbWJhaW5lZENNTGlzdCIsImNtTGlzdCIsImNvbWJvTGlzdERhdGEiLCJjb21ib0xpc3RBcnJheSIsImRlbGV0ZWRDb21ib0xpc3QiLCJ1cGRhdGVDb21ibyIsImFsbG1hdGVyaWxhTGlzdCIsImdldE1hdGVyaWFsSW5mbyIsIm1hdGVyaWFsSW5mbyIsInJlbW92ZU1hdGVyaWwiLCJpbnZvaWNlSXRlbXMiLCJjcmVhdGVJbnZvaWNlRGF0YSIsInJlZmVyZW5jZSIsImR1ZURhdGUiLCJ0ZXJtc0FuZENvbmRpdGlvbnMiLCJjYWxjdWxhdGVkUHJvY2VzcyIsInVuaXRQcmljZSIsImRpc2NvdW50UGVyY2VudCIsInRheFJhdGUiLCJzYWxlcyIsInByb2plY3RMaXN0IiwiZ2V0QWxsU3RhZmZzIiwibGlzdEFsbFN0YWZmcyIsInN0YWZmc0xpc3QiLCJnZXRQcm9qZWN0QnlJZCIsInN5c3RlbVRhZyIsImxpc3RBbGxQcm9qZWN0SW52b2ljZSIsImdldEludm9pY2VMaXN0IiwiaW52b2ljZUxpc3QiLCJhbW91bnQiLCJ0b3RhbFZhbHVlIiwiYWRkSXRlbSIsImNsaWVudHMiLCJsb2FkRmlsZXNUb0F1dG9Db21wbGV0ZSIsImxCb29sZWFuQ2hlY2tJc0FycmF5IiwiaXNBcnJheSIsInByaWNlQ2FsY3VsYXRlIiwicXR5IiwiZGlzYyIsInRheCIsInRvdGFsU2FsZXMiLCJkaXNjb3VudFByaWNlIiwidGF4UHJpY2UiLCJ0b3RhbFRheCIsInN1bUJ5IiwibyIsImdyYW5kVG90YWwiLCJhZGRJbnZvaWNlSXRlbSIsInNlbGVjdGVkRmlsZXMiLCJyZW1vdmVJbnZvaWNlSXRlbSIsImNyZWF0ZUludm9pY2UiLCJpbnZvaWNlRGF0YSIsInByb2plY3RTeXN0ZW1UYWciLCJhY3RpdmVDbGFzcyIsImFkZEludm9pY2VSb3ciLCJyZW1vdmVJbnZvaWNlUm93IiwibEludE5vT2ZSb3dzIiwiZ2V0SGllcmFyY2h5VGVtcGxhdGUiLCJ0ZW1wbGF0ZUxpc3QiLCJmaWxlbWFuYWdlclRlbXBsYXRlIiwicHJvamVjdERhdGEiLCJzZWxlY3QyT3B0aW9ucyIsImFsbG93Q2xlYXIiLCJsb2MiLCJhZGRQcm9qZWN0IiwidGVtcGxhdGVJZCIsImxvYWRIaWVyYXJjaHlUcmVlIiwidXBkYXRlTWFya2VyIiwiZ2V0UG9zaXRpb24iLCJhc3NpZ25UZW1wbGF0ZSIsInNlbGVjdGVkVGVtcGxhdGUiLCIkd2luZG93IiwibG9hZGVyIiwiY2xpZW50VXJsIiwiZWxlbWVudFR5cGUiLCJzdHlsZXJzIiwidmlzaWJpbGl0eSIsImZlYXR1cmVUeXBlIiwibGlzdEFsbFRvZG9MaXN0IiwibXhMYXQiLCJteExuZyIsIm1uTGF0IiwibW5MbmciLCJtcmtyIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJkYXNoYm9hcmREYXRhIiwiY29tcGFueSIsInByb2plY3RzIiwidG9kb0xpc3RzIiwiY2h1bmtTaXplIiwicHJvamVjdFNlYXJjaCIsImVuYWJsZUxhenlMb2FkIiwic29ydFBhcmFtcyIsImZpZWxkIiwicHJvamVjdE5hbWUiLCJnZXRCb29rbWFya2VkUHJvamVjdCIsImdldEJvb2ttYXJrcyIsImJvb2ttYXJrZWRQcm9qZWN0IiwiYm9va21hcmtzIiwiYm9va21hcmtlZFByb2plY3RMaXN0IiwibG9hZFByb2plY3RGaWxlcyIsInNob3dQcm9qZWN0RmlsZXMiLCJwcm9qZWN0RmlsZXMiLCJib29rbWFya0ZsYWciLCJzZWxlY3RlZFByb2plY3QiLCJwcm9qZWN0UGlja2VyRGF0YSIsImNob29zZVByb2plY3QiLCJmaW5kSW5kZXgiLCJhbHJlYWR5RXhpc3QiLCJjdXJyZW50UHJvamVjdCIsImFscmVhZHlCb29rbWFya2VkIiwiY2xvc2VQcm9qZWN0UGlja2VyIiwiY2hlY2tCb29rbWFyayIsImJvb2ttYXJrIiwiYm9va01hcmtQcm9qZWN0IiwiYWRkTW9yZSIsImZpbGVQaWNrZXJPcHRpb25zIiwic2VhcmNoUHJvamVjdHMiLCJyZWRpcmVjdFRvM0QiLCJnZXQzRFBhZ2UiLCJyZXNwb25zZSIsImdvVG9FY29ub21pYyIsImdvVG9GaWxlTWFuYWdlciIsInNjcm9sbFRvcCIsInRvcCIsImZvY3VzIiwicGxhblBpY2tlclBsYW5zIiwib3BlblBsYW5QaWNrZXIiLCJyb29mUGxhbnMiLCJnZXRIaWVyYXJjaHkiLCJzaG93VHJlZSIsImhpZXJhcmNoaWVzIiwiY2hvb3NlUGxhbiIsImFsbE1vZGFsQ2xvc2UiLCJmaWxlQ2hvb3NlIiwicGlja2VyRm9sZGVycyIsIi13ZWJraXQtYm94LXNoYWRvdyIsIi1tb3otYm94LXNoYWRvdyIsImJveC1zaGFkb3ciLCJtb3ZldG8iLCJmb2xkZXJOYW1lIiwiYmFja0J0blZpZXciLCIkb24iLCJzZWxlY3RlZEFzc2V0Rm9yUGxhbiIsInJvb2ZwbGFuQnJlYWRDcnVtYiIsImZpbGVBcnJheSIsInBkZkZpbGVzIiwicGRmUGFnZXNEYXRhIiwicGxhbkltYWdlcyIsImhpZGVTZWxlY3RGaWxlIiwic2VsZWN0ZWRGaWxlTGlzdCIsImFzc2V0IiwiZW5kcG9pbnQiLCJwZGZVcmwiLCJnZW5lcmF0ZVJvb2ZQbGFucyIsImdvVG9NZWV0aW5nUm9vbSIsImFuaW1hdGVFbGVtZW50cyIsImVhY2giLCJlbGVtZW50UG9zIiwidG9wT2ZXaW5kb3ciLCJwZXJjZW50IiwiYXR0ciIsInBhcnNlSW50IiwiY2lyY2xlUHJvZ3Jlc3MiLCJzdGFydEFuZ2xlIiwidGhpY2tuZXNzIiwiZW1wdHlGaWxsIiwic3RlcFZhbHVlIiwic3RvcCIsInNjcm9sbCIsImVxdWlwbWVudCIsInN1YnRpdGxlIiwid29yayIsInRhZyIsImltZ191cGxvYWQiLCJlcXVpcGRvY3VtZW50cyIsImdBcnlMb2NhdGlvbiIsImNyZWF0ZWRBdCIsInNvcnRFcXVpcG1lbnQiLCJlcXVpcG1lbnRDb3VudCIsInNlYXJjaEVxdWlwbWVudCIsImFkZEVxdWlwbWVudCIsImNvbnZlcnNpb25GYWN0b3IiLCJ0YWJTZXR0aW5ncyIsImRpc2FibGUiLCJjdXJyZW5jeSIsInRyaWdnZXIiLCJFcXVpcG1lbnQiLCJmcm9tIiwidG8iLCJjdXJyZW5jeURhdGEiLCJjdXJyZW5jaWVzIiwidGFiU3R5bGUiLCJhZGRNYXRlcmlhbCIsIm1hdGVyaWFsTmFtZSIsIm1hdGVyaWFsVW5pdCIsImFkZE1hdGVyaWFsTmV4dCIsImNoYW5nZUNvc3QiLCJjb252ZXJzaW9uUmF0ZSIsImFkZE1hdGVyaWFsRGV0YWlscyIsImVxdWlwbWVudENvc3RzIiwiZXF1aXBtZW50Q29zdFZhbHVlIiwicm9vZmVyQ29zdFZhbHVlIiwiYWRkRGVzY3JpcHRpb24iLCJhZGROZXdFcXVpcG1lbnQiLCJFcXVpcG1lbnRzIiwiZXF1aXBtZW50Q29zdCIsIndvcmtlcnMiLCJlZGl0RXF1aXBtZW50IiwidXBkYXRlRXF1aXBtZW50Iiwic2xpZGVyMiIsIm5hdnRhYiIsImdldFByaW1hcnlGb2xkZXJzIiwiYmFja3VwRm9sZGVycyIsIndpbmRvd0l0ZW1zIiwiZm9sZGVyRGF0YSIsImZvbGRlcnMiLCJyZXNvbHZlQXNzZXRJY29uIiwiYXNzZXRGb3JtYXQiLCJ0cmltIiwidmlld1Byb2plY3RBc3NldHMiLCJnZXRGb2xkZXIiLCJnZXRIaWVyYXJjaHlDaGlsZHJlbiIsImZpbGVEZXN0aW5hdGlvbiIsInRyZWVPcHRpb25zIiwiYWNjZXB0IiwiZGVzdCIsImRlc3RJbmRleCIsImRyYWdTdG9wIiwibm9kZVNjb3BlIiwiZGVzdGluYXRpb24iLCIkbm9kZVNjb3BlIiwiJHBhcmVudCIsIiRtb2RlbFZhbHVlIiwibW92ZUFzc2V0cyIsImRyb3BwZWQiLCJub2Rlc1Njb3BlIiwiJHBhcmVudE5vZGVTY29wZSIsInBhcmVudElkIiwiZHJhZ01vdmVOb2RlcyIsInNldFJvb3RGb2xkZXIiLCJhZGRNb2RhbEFjdGl2ZVRhYiIsImFkZFByaW1hcnlGb2xkZXIiLCJpc1BhcmVudCIsImFkZEhpZXJhcmNoeSIsIiRub2Rlc1Njb3BlIiwib3BlbkFkZE1vZGFsIiwiYWRkTW9kYWxTb3VyY2UiLCJzaG93TG9hZGVyIiwidG9nZ2xlRm9sZGVyIiwibm9kZSIsImJhY2t1cCIsIiR0cmVlU2NvcGUiLCIkZWxlbWVudCIsImZpcnN0Iiwidmlld0hpZXJhcmNoeSIsImJyZWFkQ3J1bWJMaXN0IiwiYnJlYWRjcnVtYnMiLCJuYXZpZ2F0ZSIsIm9wZW5Gb2xkZXIiLCJjaGlsZE5vZGVzIiwiYWRkRm9sZGVyIiwiYWRkRmlsZVRvSGllcmFyY2h5IiwiYXNzZXRzIiwiZGVsZXRlQXNzZXRzIiwidG9nZ2xlVXBsb2FkVmlld01heGltaXplIiwidXBsb2FkVmlld01heGltaXplIiwicHJvY2Vzc0R1cGxpY2F0ZUZpbGVOYW1lIiwiY2xvc2VVcGxvYWRWaWV3IiwiZmlsZVZpZXciLCJwcmV2aWV3RGF0YSIsImN1c3RvbVVybCIsImVkaXRFbmFibGVkIiwidG9nZ2xlRWRpdCIsImNvbnRleHRNZW51T3B0aW9ucyIsImV4cGxvcmVyIiwiJGl0ZW1TY29wZSIsIiRldmVudCIsIm1vZGVsVmFsdWUiLCIkbGkiLCJwZGZvbmx5IiwibW92ZVRvU291cmNlRmlsZSIsImNoaWxkRm9sZGVyVmlldyIsImNoaWxkRm9sZGVycyIsInNhdmVIaWVyYXJjaHlUcmVlIiwiY2hhbmdlUHJvamVjdFRlbXBsYXRlIiwic2hvd0JhY2t1cEZpbGVzIiwic2hvd1JlY2VudEZpbGVzIiwidG9nZ2xlQm9va21hcmtzIiwiRmlsZVNhdmVyIiwiaW1hZ2VNYXJrZXIiLCJpc3N1ZUlkIiwiSW1hZ2VBc3NldHMiLCJEb2N1bWVudEFzc2V0cyIsIml0ZW1zUGVyUGFnZSIsImdldElzc3VlRGV0YWlsIiwiaXNzdWVEYXRhIiwicGxhblRvTWFyayIsIm1hcmtlZEltYWdlcyIsImFjdGl2ZSIsInRvdGFsSXRlbXMiLCJjb21tZW50cyIsIkFycmF5Q29tbWVudHMiLCJBcnJheUFjdGl2aXRpZXMiLCJpc3N1ZUFjdGl2aXR5IiwiYWxsQ29tbWVudHMiLCJhbGxBY3Rpdml0aWVzIiwicGFnZWREYXRhIiwic2V0UGFnaW5nRGF0YSIsInNldEFjdGl2aXR5UGFnaW5nRGF0YSIsInBvc3RDb21tZW50IiwiY29tbWVudDEiLCJjb21tZW50b2JqIiwicG9zdENvbW1lbnRGb3JJc3N1ZSIsImNoYW5nZUNvbXBsZXRpb25TdGF0dXMiLCJkb3dubG9hZEZpbGUiLCJibG9iIiwiQmxvYiIsInNhdmVBcyIsIm9yaWdpb25hbG5hbWUiLCJyZU9wZW5Jc3N1ZSIsInJlT3Blbklzc3VlU3RhdHVzVXBkYXRlIiwibWFya0lzc3VlQXNDb21wbGV0ZSIsImltYWdlRmlsZXMiLCJlZGl0T2JqZWN0IiwiSW1hZ2VzIiwic2F2ZUlzc3VlQXNDb21wbGV0ZSIsImVycm9ySW1hZ2UiLCJidG5NYXJrZXIiLCJidG5DaXJjbGUiLCJidG5MaW5lIiwiYnRuVGV4dCIsIm9wZW5FZGl0TWFya2luZyIsIm1hcmtpbmdDb2xvciIsImNwT3B0aW9ucyIsInN3YXRjaCIsImNhc2UiLCJhbHBoYSIsImNwRXZlbnRzIiwib25DaGFuZ2UiLCJhcGkiLCJjdXJyZW50TWFya2luZ0ltYWdlIiwic2F2ZUV4aXN0aW5nTWFya2luZyIsImRhdGFJbWFnZSIsImZldGNoIiwiRmlsZSIsIm9wZW5TbGlkZXJJbWFnZSIsImRyYXdtYXJrZXJPbkNhbnZhcyIsImRyYXdMaW5lT25DYW52YXMiLCJkcmF3Q2lyY2xlT25DYW52YXMiLCJ0ZXh0U3RhdGUiLCJmaWxsVGV4dE9uQ2FudmFzIiwiY2FudmFzVGV4dCIsInVwZGF0ZU1hcmtpbmdJbmZvIiwiZmlsZURhdGEiLCJzZXJpYWxpemVkRGF0YSIsImVkaXRJc3N1ZU1hcmtpbmdzIiwibW9kYWxDbG9zZSIsImJhY2tJbWciLCJVcGxvYWRGaWxlcyIsImlzc3VlTW9kZWwiLCJvcGVuRWRpdCIsImZpbGVzVG9SZW1vdmUiLCJpc1NlbGVjdGVkQnRuIiwidXBkYXRlZm9ybSIsIlVuZG9BcnJheSIsInJlZG9BcnJheSIsIkxvY2FsSW1ncyIsInNlYXJjaGluZ1RleHQiLCJvcGVuRmlsbENvbG9yIiwiY29sb3JwaWNrIiwiY29sb3JXZWxsIiwiZmlsbFdlbGwiLCJmaWxsQ29sb3IiLCJ0ZXh0Rm9ybSIsInRvZ2dsZUlzc3VlIiwic29ydGlzc3VlcyIsImxpc3RBbGxJc3N1ZXMiLCJhbGxJc3N1ZXMiLCJpc3N1ZUNvdW50IiwibG9hZEltYWdlc0luQ2Fyb3VzZWwiLCJzZWFyY2hJc3N1ZXMiLCJpc3N1ZUNhdGVnb3J5IiwiYWxsVXNlcnMiLCJhbGxSb29mZXJzIiwiYWxsUHJvamVjdHMiLCJnZXRJc3N1ZXNMaXN0IiwibGlzdE9mSXNzdWUiLCJmaWxlQWRkZWQiLCJhZGRJc3N1ZURldGFpbHMiLCJjYXRlZ29yeSIsImFzc2lnbmVkVG8iLCJvd25lciIsImlzc3VlU3RhdHVzIiwib3duZXJJZCIsImRlcGVuZGVuY3lPbiIsImRlYWRMaW5lIiwiY3JlYXRlZElzc3VlIiwidXBkYXRlSXNzdWVEZXRhaWxzIiwiaXNzdWVPYmplY3QiLCJUaXRsZSIsInJlYWRJbWciLCJmaWxlSW1nIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZGVsZXRlSW1nIiwibG9jYWxGaWxlcyIsInJlbW92ZURhdGEiLCJpcyIsImdldEltYWdlc0luQ2Fyb3NlbCIsIlByb2plY3RQbGFucyIsImNob29zZVBsYW5EYXRhIiwiY2hvb3NlUGxhbkRhdGExIiwiYWRkVG9EZXRhaWxzIiwiaW1nYXJyYXkiLCJjYXJvdXNlbCIsImdldERldGFpbCIsImlzc3VlIiwiRGVzY3JpcHRpb24iLCJEZWFkTGluZURhdGUiLCJkZWZhdWx0VmFsdWUiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJnZXRGdWxsWWVhciIsImRlYWRMaW5lRGF0ZSIsIlN0YXR1cyIsImFkZEZpbGVUb1VwZGF0ZSIsInVwZGF0ZVJlcXVlc3QiLCJ1cGRhdGVvYmoiLCJyZW1vdmVGaWxlcyIsImltYWdlSWQiLCJjbG9zZVVwZHRlTW9kZWwiLCJvcGVuRWRpdERhdGUiLCJjbG9zZUVkaXREYXRlIiwiaW1hZ2VUZW1wVXJsIiwicm9vZnRlc3REZW1vIiwic3RyaW5nIiwibWFya2luZ3NBcnJheSIsImdldEZpbGVzRnJvbUxvY2FsIiwic2F2ZUxvY2FsSXNzdWVBc3NldCIsInJlbW92ZUltYWdlIiwic2F2ZU1hcmtJbmZvIiwicG9zdE1hcmtJbWciLCJ0aW1lY2hlY2siLCJyZXRyaWV2ZSIsImFjdGl2ZVRhYiIsInRvZ2dsZVRhYiIsImdldEFsbFN1cHBsaWVycyIsInN1cHBsaWVycyIsInNvcnREaXNwbGF5Iiwic29ydE1hdGVyaWFscyIsImFwaU5hbWUiLCJzZWFyY2hNYXRlcmlhbHMiLCJtYXRlcmlhbHMiLCJtYWludGVuYW5jZVBlcmlvZCIsIm1haW50ZW5hbmNlRGF0ZSIsImNoYW5nZU1haW50ZW5hbmNlUGVyaW9kIiwiZGF5cyIsInRhYkNoYW5nZUZ1biIsImFkZENvbWJvTWF0ZXJpYWxGb3JtIiwiVG90YWxNQyIsIlRvdGFsUkMiLCJ0YWJDaGFuZ2VGdW4xIiwibWF0ZXJpYWxDb3N0VmFsdWUiLCJjbGVhckRhdGEiLCJsb2FkQ3VycmVuY2llcyIsIlF0eUNoYW5nZSIsImNyZWF0ZUNvbWJvTWF0ZXJpYWxMaXN0IiwiZ2V0U3lzdGVtVGFnIiwiY29tYm9UYWciLCJlZGl0TWF0ZXJpYWwiLCJjaGFuZ2VUYWIiLCJnZXRNYXREZXRhaWwiLCJtYXRyaWFsRGF0YSIsIm1hdHJpYWxOYW1lIiwibWF0cmlhbFVuaXQiLCJtYXRyaWFsQ29zdCIsIm1hdHJpYWxDdXJyZW5jeUNvZGUiLCJtYXRyaWFsUm9vZmVyQ29zdCIsIm1hdHJpYWxSb29mZXJDdXJyZW5jeUNvZGUiLCJtYXRyaWFsQ3JlYXRlZEJ5IiwicHJvdmlkZXJEYXRhIiwidXBkYXRlZEJ5IiwibWF0cmlhbENyZWF0ZWRBdCIsIm1hdHJpYWxVcGRhdGVkQXQiLCJncmF5X2JveCIsIm5leHRNYWludGFuY2VEYXRlQ2FsYyIsImNyZWF0ZWREYXRlIiwibmV4dE1haW50YW5jZURhdGUiLCJuZXh0TWFpbnRlbmFuY2VEYXRlIiwiY3JlYXRlZERhdGUxIiwidXRjIiwiZWRpdE1hdGVyaWFsRnVuY3Rpb24iLCJtYXRlcmlhbHVwZGF0ZWRhdGEiLCJTQmNoYW5uZWwiLCJTQmV2ZW50cyIsInJvb20iLCJ1cGRhdGVDaGFubmVsTGlzdCIsInVwZGF0ZU1lc3NhZ2VzIiwiY3VycmVudENoYW5uZWwiLCJjaGF0Q29udGFpbmVyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNjcm9sbEhlaWdodCIsImxpc3RGaWxlcyIsInNoYXJlZEZpbGVzIiwiZ2V0TWVldGluZ1RvZG8iLCJjaGFubmVsVXJsIiwidG9kb0xpc3QiLCJnZXRBY2Nlc3NNZWV0aW5nUm9vbVRva2VuIiwiYWNjZXNzVG9rZW4iLCJFcnJvciIsImNvbm5lY3RlZFVzZXIiLCJjaGFubmVscyIsImNvbXBhbnlVc2VycyIsIm5ld01lZXRpbmciLCJtZWV0aW5nTmFtZSIsImNyZWF0ZVRvZG9MaXN0IiwiaW52aXRlVXNlcnNUb01lZXRpbmciLCJfcmVmMiIsIl9yZWYzIiwiX3NsaWNlZFRvQXJyYXkiLCJ2aWV3Q2hhbm5lbCIsIm1hcmtBc1JlYWQiLCJzdGFydFR5cGluZyIsIm1lc3NhZ2VCb3giLCJlbmRUeXBpbmciLCJzZW5kTWVzc2FnZU9uRW50ZXIiLCJjYWxsIiwibmV3TWVldGluZ0ZpbGVNZXNzYWdlIiwicmVzb2x2ZVRlbXBsYXRlVXJsIiwibSIsIm1lc3NhZ2VUeXBlIiwiX3NlbmRlciIsInVzZXJJZCIsIm9wZW5JbnZpdGVQb3B1cCIsImN1cnJlbnRDaGFubmVsTWVtYmVycyIsIm1lbWJlck1hcCIsImNoZWNrZWQiLCJvcGVuRmlsZVZpZXdlciIsImNoZWNrUmVhZFN0YXR1cyIsImdldFJlYWRNZW1iZXJzIiwibGFzdE1lc3NhZ2UiLCJsYXVuY2hUb2RvUG9wdXAiLCJ0d2lsaW8iLCJUd2lsaW8iLCJWaWRlbyIsInByZXZpZXdUcmFja3MiLCJhY3RpdmVSb29tIiwiaWRlbnRpdHkiLCJhdHRhY2hUcmFja3MiLCJ0cmFja3MiLCJ0cmFjayIsImF0dGFjaCIsImF0dGFjaFBhcnRpY2lwYW50VHJhY2tzIiwicGFydGljaXBhbnQiLCJ2YWx1ZXMiLCJkZXRhY2hUcmFja3MiLCJkZXRhY2giLCJkZXRhY2hlZEVsZW1lbnQiLCJkZXRhY2hQYXJ0aWNpcGFudFRyYWNrcyIsInJvb21Kb2luZWQiLCJkaXNwbGF5IiwicHJldmlld0NvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJsb2NhbFBhcnRpY2lwYW50IiwicGFydGljaXBhbnRzIiwia2luZCIsImxlYXZlUm9vbUlmSm9pbmVkIiwic3RhcnRWaWRlb0NoYXQiLCJsb2NhbFRyYWNrc1Byb21pc2UiLCJjcmVhdGVMb2NhbFRyYWNrcyIsImdldFR3aWxpb0FjY2Vzc1Rva2VuIiwiY29ubmVjdE9wdGlvbnMiLCJsb2dMZXZlbCIsInJlZ3NpdGVyTW9kYWwiLCJsb2dpbk1vZGFsIiwiZm9yZ290UGFzc01vZGFsIiwiaXNWYWxpZCIsImZvcmdvdFBhc3MiLCJzdWJzY3JpYmVFbWFpbCIsImltYWdlMSIsImltYWdlMiIsInJlcG9ydE9iaiIsInNod0NvbW1lbnRTZWN0aW9uIiwiUmVwb3J0SXNzdWUiLCJpc3N1ZVRvQWRkIiwibW9kZWxzIiwiZXhwb3J0VG9QZGYiLCJpbWcxIiwianNQREYiLCJhZGRJbWFnZSIsImF1dG9UYWJsZSIsImh0bWwiLCJtYXJnaW4iLCJwYWdlQnJlYWsiLCJ0YWJsZVdpZHRoIiwic2hvd0hlYWRlciIsInNldEZvbnRTaXplIiwic2V0Rm9udCIsInNhdmUiLCJpc3N1ZVNlYXJjaCIsIm9wZW5SZXBvcnRQaWNrZXIiLCJpc3N1ZVBpY2tlckRhdGEiLCJyZXNkYXRhIiwiRWRpdE1vZGUiLCJjbG9zZUlzc3VlUGlja2VyIiwicmVtYXJrRGF0YSIsImFkZFJlbWFyayIsIlZhbHVlIiwiY2hvb3NlSXNzdWVzIiwiYWRkVG9MaXN0SXNzdWVQaWNrZXIiLCJzZW5kSXNzdWVUb1BkZiIsImNvdmVyUGFnZU1vZGFsIiwiYWJvdXRVc01vZGFsIiwicHJvamVjdE1ldGFNb2RhbCIsInJlcG9ydHJlbWFya01vZGFsIiwibGlzdElzc3VlTW9kZWxDbGljayIsInNldFJlcG9ydE9iaiIsImNvbXBhbnlOYW1lIiwid2Vic2l0ZSIsInBob25lIiwic2VyaWFsTm8iLCJlbnRlcnByaXNlIiwiYXV0aG9yTmFtZSIsInJlbWFya0RhdGUiLCJFZGl0SXNzdWVEYXRhIiwicmVtb3ZlRnJvbUlzc3VlTGlzdCIsImN1cnJlbnRVc2VyIiwicmVwb3J0Q2F0ZWdvcnkiLCJhbGxBZG1pblVzZXJzIiwiaXNUb2tlblZhbGlkIiwidG9rZW5WYWxpZCIsInJlc2V0UGFzcyIsInBhc3N3b3JkIiwiY19wYXNzd29yZCIsInNldFBhc3N3b3JkIiwiYmFjayIsInN1Ym1pdFJvbGVTZXR0aW5ncyIsInVwZGF0ZVJvbGVCYXNlZEFjY2VzcyIsImdvVG9EYXNoYm9hcmQiLCJzZWxlY3RlZE1hdGVyaWFscyIsIm1lbWJlcnMyIiwiZ2V0U3ViY29udHJhY3RvcnMiLCJnZXRBbGxTdWJjb250cmFjdG9ycyIsImFsbFN1YmNvbnRyYWN0b3IiLCJzdWJjb250cmFjdG9yc0NvdW50IiwiZ2V0VGFncyIsImdldEFsbFN5c3RlbVRhZ3MiLCJBbGxUYWdzIiwiYWRkU3ViY29udHJhY3Rvck5leHQiLCJoYXNDbGFzcyIsImFkZFN1YmNvbnRyYWN0b3JQcmV2aW91cyIsIm9wZW5Qb3B1cCIsImRlbGV0ZU1hdGVyaWFsIiwiZGVsZXRlU3RhZmYiLCJGSUxFSU1HIiwiZmlsZUV4dCIsInBvcCIsImFsbE1hdGVyaWFscyIsImFkZE1lbWJlciIsIm1haWwiLCJwaG5vIiwiY29udGFjdCIsImFkZG5ld3RhZ21vZGVsIiwiY3JlYXRlU3ViY29udHJhY3RvciIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZXMiLCJjcmVhdGVOZXdTdWJjb250cmFjdG9yIiwicmVzZXRGaWVsZHMiLCJjcmVhdGVTeXN0ZW1UYWciLCJzYXZlU3lzdGVtVGFnIiwiY29udHJhY3RzIiwidGltZSIsInN1YmNvbnRyYWN0b3JJZCIsImdldFN1YmNvbnRyYWN0b3JEZXRhaWwiLCJnZXRTdWJjb250cmFjdG9yQnlJZCIsInN1YmNvbnRyYWN0b3JEYXRhIiwicHJvZmlsZVBpYyIsInNlbGVjdDIiLCJlZGl0U3ViY29udHJhY3RvciIsImVkaXRTdWJjb250cmFjdG9yTmV4dCIsImVkaXRTdWJjb250cmFjdG9yUHJldmlvdXMiLCJ1cGRhdGVTdWJjb250cmFjdG9yIiwiZ2V0U3VwcGxpZXJzIiwiYWxsU3VwcGxpZXJzIiwic3VwcGllcnNDb3VudCIsImFkZFN1cHBsaWVyTmV4dCIsImFkZFN1cHBsaWVyUHJldmlvdXMiLCJjcmVhdGVTdXBwbGllciIsInN1cHBsaWVzIiwiY3JlYXRlTmV3U3VwcGxpZXIiLCJzdXBwbGllcklkIiwiZ2V0U3VwcGxpZXJEZXRhaWwiLCJnZXRTdXBwbGllckJ5SWQiLCJzdXBwbGllckRhdGEiLCJ1cGRhdGVTdXBwbGllciIsIklEIiwibGFuZ3VhZ2VzIiwiY2hvc2VuTGFuZ3VhZ2UiLCJjcmVhdGVUYWciLCJkZWxldGVUYWciLCJkZWxldGVTeXN0ZW1UYWciLCJjaG9zZW5Db21wYW55Q3VycmVuY3kiLCJjaGFuZ2VDb21wYW55Q3VycmVuY3kiLCJ1cGRhdGVkRGF0YSIsImxpc3RUb2RvcyIsInRvZG9fbGlzdCIsImR1bW15IiwidG9kb0RhdGEiLCJjbGFzc25hbWUiLCJ0b2RvTGlzdElkIiwidG9kbyIsInVwZGF0ZVRvZG8iLCJ1cGRhdGVUb2RvTGlzdCIsInNoYXBlc1ZQRmFjdG9yeSIsImxheWVyc1ZQRmFjdG9yeSIsIm1vdXNlZG93biIsImVsbW50IiwicG9zMSIsInBvczIiLCJwb3MzIiwicG9zNCIsImRyYWdNb3VzZURvd24iLCJjbGllbnRYIiwiY2xpZW50WSIsIm9ubW91c2V1cCIsImNsb3NlRHJhZ0VsZW1lbnQiLCJvbm1vdXNlbW92ZSIsImVsZW1lbnREcmFnIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsIm9ubW91c2Vkb3duIiwiZHJhZ0VsZW1lbnQiLCJjbG9zZXN0IiwibG9hZFBsYW5uZXIiLCJyb29mUGxhbiIsImxvYWRGcm9tSnNvbiIsImluaXRpYWxpemVkIiwiY29sb3JUeXBlIiwic3Ryb2tlQ29sb3IiLCJpbnB1dENsYXNzIiwiY2hhbmdlU3Ryb2tlV2lkdGgiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJwb2ludGVyUG9zaXRpb24iLCJjdXJyZW50RHJhd1N0YXRlIiwicHJvY2Vzc1N0b3JlIiwidHJhbnNmb3JtZXJTdG9yZSIsInNob3dQYW5lbCIsInpvb21MZXZlbCIsImNhbGlicmF0aW9uIiwibG9hZGVkUHJvY2Vzc2VzIiwiY291bnREYXRhIiwiY2FsaWJyYXRpb25EYXRhIiwiZm9ybWF0Q2FsaWJyYXRpb24iLCJpbWFnZUNvbnRhaW5lciIsImltYWdlUHJvcHMiLCJpbWFnZUhlaWdodCIsImFzcGVjdFJhdGlvIiwiaW1hZ2VXaWR0aCIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwic2hhZG93T3BhY2l0eSIsIndpbmRvd0V2ZW50IiwiaGlzdG9yeVBvcyIsIiRjdXJyZW50IiwiY3RybEtleSIsIm9sZFNjYWxlIiwibW91c2VQb2ludFRvIiwibmV3U2NhbGUiLCJkZWx0YVkiLCJuZXdQb3MiLCJ6b29tQnV0dG9uIiwiY2VudGVyWSIsImNlbnRlclgiLCJ6b29tU2xpZGVyIiwicGVyY2VudGFnZSIsInJlc2V0Wm9vbSIsImJhc2VMYXllckV2ZW50IiwicmVjdGFuZ2xlRXZlbnRXcmFwcGVyIiwic2hhcGVPYmplY3QiLCJzaGFwZVR5cGUiLCJyZWN0YW5nbGVFdmVudCIsImN1cnJlbnRQcm9jZXNzIiwibW92ZVRvVG9wIiwib3BlbkluZm9XaWRnZXQiLCJlbGxpcHNlRXZlbnRXcmFwcGVyIiwiZWxsaXBzZUV2ZW50IiwicG9seWdvbkV2ZW50V3JhcHBlciIsInBvbHlnb25FdmVudCIsImZyZWVIYW5kRXZlbnRXcmFwcGVyIiwiZnJlZUhhbmRFdmVudCIsImxpbmVFdmVudFdyYXBwZXIiLCJsaW5lRXZlbnQiLCJmcmVlSGFuZE1hcmtlcldyYXBwZXIiLCJ0ZXh0RXZlbnRXcmFwcGVyIiwidGV4dEV2ZW50Iiwid3JhcHBlciIsInVwZGF0ZWRQb2ludHMiLCJvcGVuVGV4dEluZm9XaWRnZXQiLCJjbG9zZUluZm9XaWRnZXQiLCJjbG9zZVRleHRJbmZvV2lkZ2V0Iiwic2ltcGxlTGluZSIsImJlemllckxpbmUiLCJiZXppZXJFdmVudCIsImJlemllckV2ZW50V3JhcHBlciIsImZyZWVoYW5kTWFya2VyIiwidGV4dFdpZGdldCIsInRleHRQcm9wcyIsInRleHRPYmoiLCJtYW51YWxTZWxlY3Rpb24iLCJzaGFwZU9iaiIsImRyYWdTZWxlY3Rpb24iLCJzZWxlY3RBbGxTaGFwZXMiLCJzZWxlY3RlZFNoYXBlTmFtZXMiLCJ0b2dnbGVWYWx1ZSIsInRvZ2dsZVNoYXBlVmlzaWJpbGl0eSIsInZpc2libGUiLCJjYWxpYnJhdGVkTGluZSIsImRpc3RhbmNlIiwic3FydCIsInBvdyIsImNhbGlicmF0aW9uRGlzdGFuY2UiLCJzYXZlQ2FsaWJyYXRpb24iLCJjYWxpYnJhdGlvblNjYWxlIiwiZGVsZXRlU2hhcGUiLCJnZXRQYXJlbnQiLCJpbmZvV2lkZ2V0UHJvcHMiLCJzaGFwZUluZm9XaWRnZXQiLCJjb2xvclR5cGVzIiwidGV4dENvbG9yVHlwZXMiLCJmb250U3R5bGVzIiwid2ViU2FmZUZvbnRzIiwidGV4dEluZm9XaWRnZXRQcm9wcyIsImZvbnRTdHlsZSIsInRleHRJbmZvV2lkZ2V0IiwiY2hhbmdlVGV4dEluZm8iLCJpbmZvV2lkZ2V0U3Ryb2tlIiwic2hhcGVQcm9wSGlzdG9yeSIsImluZm9XaWRnZXRFdmVudHMiLCJvbk9wZW4iLCJvbkNsb3NlIiwidGV4dEluZm9XaWRnZXRFdmVudHMiLCJjdXJyZW50UGFuU3RhdGUiLCJwYW5JbWFnZSIsInVuZG9PclJlZG8iLCJkb3dubG9hZEltYWdlIiwianNvbiIsImFkZFByb2Nlc3MiLCJzZWxlY3RMYXllciIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3RPclVuc2VsZWN0IiwibGF5ZXJJY29uTmFtZSIsImhpZGVTZWxlY3Rpb24iLCJkZWxldGVTZWxlY3Rpb24iLCJsb2FkTWF0ZXJpYWwiLCJzaGFwZVByb3AiLCJoaWRlSW5pdE1vZGFsIiwic2VsZWN0UGxhbiIsInNlbGVjdGVkUGxhbiIsImNsb3NlVmlzdWFsUGxhbm5lciIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwiY3VycmVudCIsImVsZW0iLCJhdHRycyIsInRlbXBsYXRlIiwic2hvd1ByZXZpZXciLCJvcHRpb25zIiwic291cmNlZmlsZSIsInNvdXJjZWRpciIsImZvbGRlclBhdGhzIiwiY3VycmVudEZvbGRlciIsInNlbGVjdGVkRm9sZGVyIiwidmlld0ZvbGRlciIsInNlbGVjdEZpbGUiLCJwcmV2aW91cyIsInBhcmFtIiwibW92ZVRvIiwiaUVsZW1lbnQiLCJpQXR0cnMiLCJhdXRvY29tcGxldGUiLCJ1aUl0ZW1zIiwic2VsZWN0IiwiZXJyU3JjIiwiJHNldCIsIm1hdGVyaWFsVHlwZSIsImN1cnJlbnRTaGFwZSIsImVudGl0eVR5cGUiLCJkY3BMaXN0IiwiZXF1aXBtZW50TGlzdCIsInNlbGVjdGVkTWF0ZXJpYWxJbmZvIiwibWF0ZXJpYWxJbWFnZXMiLCJyZXNldFNlbGVjdGVkTWF0ZXJpYWwiLCJhc3NpZ25NYXRlcmlhbCIsInBsYWNlIiwidGh1bWJuYWlsIiwibmlja25hbWUiLCJjb2xsZWN0aW9uIiwiY29sdW1uIiwiYXJyIiwic2VhcmNoU3RyaW5nIl0sIm1hcHBpbmdzIjoia2hDQUFBLElBQUFBLElBQUFDLFFBQUFDLE9BQUEsTUFBQSxDQUNBLFlBQ0EsZUFDQSxxQkFDQSxvQkFDQSxhQUNBLGtCQUNBLFFBQ0EsWUFDQSxhQUNBLGFBQ0EsZUFDQSxlQUNBLGFBQ0EsY0FDQSxlQUNBLGtCQUNBLFVBQ0EsZ0JBQ0EscUJBQ0EsZ0JBQ0EsV0FDQSxnQkFDQSwyQkFDQSxhQUNBLFlBQ0EsZ0JBQ0Esb0JBSUEsU0FBQUMsT0FDQUMscUJBQ0FDLDJCQUNBQyxXQUNBQyxvQkFJQUYsMkJBQUFHLFVBQUEsQ0FDQUMsSUFBQSwwQ0FDQUMsRUFBQSxRQUNBQyxVQUFBLDBDQUtBUCxxQkFBQVEsV0FBQSxDQUNBQyxNQUFBLElBQ0FDLFNBQUEsR0FDQUMsV0FBQSxHQUNBQyxnQkFBQSxHQUNBQyxrQkFBQSxHQUNBQyxVQUFBLFFBQ0FDLFVBQUEsUUFJQWIsV0FBQWMsa0JBQUEsRUFHQWIsbUJBQ0FjLElBQUEsYUFBQSxhQUNBQSxJQUFBLGdCQUFBLG9CQzdEQSxTQUFBQyxZQUFBQyxlQUFBQyxvQkFDQUEsbUJBQUFDLFVBQUEsS0FFQUYsZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsSUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx1QkFHQU4sZUFBQUcsTUFBQSxZQUFBLENBQ0FDLElBQUEsYUFDQUMsWUFBQSwyQkFDQUMsV0FBQSx3QkFTQU4sZUFBQUcsTUFBQSxnQkFBQSxDQUNBQyxJQUFBLGtCQUNBQyxZQUFBLCtCQUNBQyxXQUFBLDRCQUdBTixlQUFBRyxNQUFBLGdCQUFBLENBQ0FDLElBQUEsa0JBQ0FDLFlBQUEsK0JBQ0FDLFdBQUEsNEJBR0FOLGVBQUFHLE1BQUEsV0FBQSxDQUNBQyxJQUFBLFlBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsc0JBR0FOLGVBQUFHLE1BQUEsWUFBQSxDQUNBQyxJQUFBLGFBQ0FDLFlBQUEsMkJBQ0FDLFdBQUEsdUJBR0FOLGVBQUFHLE1BQUEsZUFBQSxDQUNBQyxJQUFBLGdCQUNBQyxZQUFBLDhCQUNBQyxXQUFBLDJCQUdBTixlQUFBRyxNQUFBLG9CQUFBLENBQ0FDLElBQUEsc0JBQ0FDLFlBQUEsbUNBQ0FDLFdBQUEsZ0NBR0FOLGVBQUFHLE1BQUEsYUFBQSxDQUNBQyxJQUFBLGNBQ0FDLFlBQUEsNEJBQ0FDLFdBQUEsd0JBR0FOLGVBQUFHLE1BQUEsZ0JBQUEsQ0FDQUMsSUFBQSxxQkFDQUMsWUFBQSwrQkFDQUMsV0FBQSw0QkFHQU4sZUFBQUcsTUFBQSxjQUFBLENBQ0FDLElBQUEsZ0JBQ0FDLFlBQUEsNkJBQ0FDLFdBQUEsMEJBR0FOLGVBQUFHLE1BQUEsaUJBQUEsQ0FDQUMsSUFBQSxvQkFDQUMsWUFBQSxpQ0FDQUMsV0FBQSwwQkFHQU4sZUFBQUcsTUFBQSxVQUFBLENBQ0FDLElBQUEsV0FDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxjQUFBLENBQ0FDLElBQUEsZUFDQUMsWUFBQSw2QkFDQUMsV0FBQSwwQkFHQU4sZUFBQUcsTUFBQSxTQUFBLENBQ0FDLElBQUEsVUFDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxTQUFBLENBQ0FDLElBQUEsVUFDQUMsWUFBQSx3QkFDQUMsV0FBQSxxQkFFQU4sZUFBQUcsTUFBQSxlQUFBLENBQ0FDLElBQUEsc0JBQ0FDLFlBQUEsZ0NBQ0FDLFdBQUEsMEJBR0FOLGVBQUFHLE1BQUEsZ0JBQUEsQ0FDQUMsSUFBQSx1QkFDQUMsWUFBQSxnQ0FDQUMsV0FBQSwyQkFHQU4sZUFBQUcsTUFBQSxpQkFBQSxDQUNBQyxJQUFBLG1CQUNBQyxZQUFBLGdDQUNBQyxXQUFBLDZCQUdBTixlQUFBRyxNQUFBLGlCQUFBLENBQ0FDLElBQUEsbUJBQ0FDLFlBQUEsZ0NBQ0FDLFdBQUEsNkJBR0FOLGVBQUFHLE1BQUEsY0FBQSxDQUNBQyxJQUFBLGdCQUNBQyxZQUFBLDhCQUNBQyxXQUFBLDJCQUdBTixlQUFBRyxNQUFBLGNBQUEsQ0FDQUMsSUFBQSxnQkFDQUMsWUFBQSw4QkFDQUMsV0FBQSwwQkFFQU4sZUFBQUcsTUFBQSxVQUFBLENBQ0FDLElBQUEsV0FDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxZQUFBLENBQ0FDLElBQUEsYUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx3QkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsWUFDQUMsWUFBQSwyQkFDQUMsV0FBQSx3QkFHQU4sZUFBQUcsTUFBQSxVQUFBLENBQ0FDLElBQUEsV0FDQUMsWUFBQSx5QkFDQUMsV0FBQSxzQkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsWUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx1QkFFQU4sZUFBQUcsTUFBQSxpQkFBQSxDQUNBQyxJQUFBLHdCQUNBQyxZQUFBLGlDQUNBQyxXQUFBLDZCQUdBTixlQUFBRyxNQUFBLGdCQUFBLENBQ0FDLElBQUEsaUJBQ0FDLFlBQUEsK0JBQ0FDLFdBQUEsNEJBR0FOLGVBQUFHLE1BQUEsc0JBQUEsQ0FDQUMsSUFBQSw2QkFDQUMsWUFBQSxzQ0FDQUMsV0FBQSxrQ0FHQU4sZUFBQUcsTUFBQSxjQUFBLENBQ0FDLElBQUEsZUFDQUMsWUFBQSw2QkFDQUMsV0FBQSwwQkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsWUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx1QkFHQU4sZUFBQUcsTUFBQSxPQUFBLENBQ0FDLElBQUEsUUFDQUMsWUFBQSxzQkFDQUMsV0FBQSxtQkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsZ0JBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsdUJBR0FOLGVBQUFHLE1BQUEsZ0JBQUEsQ0FDQUMsSUFBQSxzQkFDQUMsWUFBQSw4QkFDQUMsV0FBQSw0QkFHQU4sZUFBQUcsTUFBQSxhQUFBLENBQ0FDLElBQUEsY0FDQUMsWUFBQSwyQkFDQUMsV0FBQSx5QkFHQU4sZUFBQUcsTUFBQSxXQUFBLENBQ0FDLElBQUEsWUFDQUMsWUFBQSwwQkFDQUMsV0FBQSx1QkFHQU4sZUFBQUcsTUFBQSxnQkFBQSxDQUNBQyxJQUFBLGlCQUNBQyxZQUFBLCtCQUNBQyxXQUFBLDRCQUdBTixlQUFBRyxNQUFBLHdCQUFBLENBQ0FDLElBQUEseUJBQ0FDLFlBQUEsdUNBQ0FDLFdBQUEsb0NBR0FOLGVBQUFHLE1BQUEsVUFBQSxDQUNBQyxJQUFBLFdBQ0FDLFlBQUEseUJBQ0FDLFdBQUEsc0JBR0FOLGVBQUFHLE1BQUEsY0FBQSxDQUNBQyxJQUFBLGVBQ0FDLFlBQUEsNkJBQ0FDLFdBQUEsMEJBR0FOLGVBQUFHLE1BQUEsa0JBQUEsQ0FDQUMsSUFBQSxtQkFDQUMsWUFBQSxpQ0FDQUMsV0FBQSw4QkFHQU4sZUFBQUcsTUFBQSxlQUFBLENBQ0FDLElBQUEsZ0JBQ0FDLFlBQUEsaUNBQ0FDLFdBQUEsMkJBR0FOLGVBQUFHLE1BQUEsa0JBQUEsQ0FDQUMsSUFBQSxtQkFDQUMsWUFBQSxpQ0FDQUMsV0FBQSw4QkFFQU4sZUFBQUcsTUFBQSxLQUFBLENBQ0FDLElBQUEsTUFDQUMsWUFBQSxvQkFDQUMsV0FBQSxpQkRyUEE3QixJQUFBRyxPQUFBQSxRQzdCQUYsUUFBQUMsT0FBQSxlQUFBLElBQUFDLE9BQUFtQixhQ0FBLFdBQ0FyQixRQUFBQyxPQUFBLE9BQUE0QixRQUFBLGFBRUEsU0FDQUMsTUFDQUMsT0FDQUMsVUFDQUMsb0JBQ0FDLFFBQ0FDLE9BQ0FDLGFBQ0FDLElBQ0EsSUFBQUMsS0FFQVosSUFBQSxpQ0FHQWEsUUFBQSxTQUFBQyxPQUFBQyxPQUNBLE1BQUEsQ0FDQUMsZUFBQSxRQUFBRixZQUFBRyxFQUFBLG1CQUNBQyxpQkFBQUgsTUFDQVIsb0JBQUFZLElBQUEscUJBQ0FGLEVBQ0FHLFNBQUFDLEtBQUFDLFVBQUEsQ0FDQUMsT0FBQSxVQWFBQyxTQUFBaEIsUUFBQWdCLFNBQUFDLFFBQUFqQixRQUFBa0IsVUFBQWxCLFFBQUFpQixRQUVBLE9BQUFFLGdCQUFBZixLQUFBLENBQ0FnQixNQUFBLFNBQUFDLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxnQkFDQWMsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBRUFJLGVBQUEsU0FBQUwsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGtCQUNBYyxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FHQUssYUFBQSxTQUFBTixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEseUJBQ0FjLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxTQUdBTSxVQUFBLFNBQUFQLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxhQUNBYyxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FHQU8sZUFBQSxTQUFBQyxXQUNBLElBQUFSLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsdUJBQUFzQyxVQUNBeEIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsU0FHQVMsYUFBQSxXQUNBLElBQUFULFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEscUJBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBcUJBVSxnQkFBQSxTQUFBQyxVQUNBLElBQUFDLE1BQUFELFNBRUFFLE9BQUFDLEtBQUFILFVBQUFJLE9BQUEsU0FBQUMsSUFBQS9ELEdBQ0EsSUFBQWdFLElBQUFoRSxFQUFBLElBQUEwRCxTQUFBMUQsR0FBQSxJQUVBLE9BREErRCxLQUFBQyxLQUVBLEtBTEEsR0FNQUwsTUFBQUEsTUFBQU0sTUFBQSxHQUFBLEdBQ0EsSUFBQWxCLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsdUJBQUEwQyxNQUNBNUIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsU0FHQW1CLGVBQUEsU0FBQVIsVUFTQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUEvRCxHQUNBLElBQUFnRSxJQUFBaEUsRUFBQSxJQUFBMEQsU0FBQTFELEdBQUEsSUFFQSxPQURBK0QsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHNCQUFBMEMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0FvQixlQUFBLFdBQ0EsSUFBQXBCLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsc0JBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0FxQixjQUFBLFNBQUF0QixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEscUJBQ0FjLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FzQixZQUFBLFNBQUFDLFVBQ0FDLFFBQUFDLElBQUEsc0JBQUFGLFVBQ0EsSUFBQXZCLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSxtQkFDQWMsT0FBQSxPQUNBbUIsS0FBQW9CLFNBQ0F4QyxRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsU0FFQTJCLG9CQUFBLFNBQUFKLFVBQ0EsSUFBQXZCLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSx3QkFDQWMsT0FBQSxPQUNBbUIsS0FBQW9CLFNBQ0F4QyxRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsU0FHQTRCLGFBQUEsU0FBQUMsU0FDQSxJQUFBN0IsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxxQkFBQTJELFFBQ0E3QyxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUVBOEIsY0FBQSxTQUFBQyxVQUNBLElBQUEvQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHNCQUFBNkQsU0FDQS9DLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0FnQyxZQUFBLFNBQUFULFNBQUFVLElBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSxvQkFBQStELEdBQ0FqRCxPQUFBLE1BQ0FtQixLQUFBb0IsU0FDQXhDLFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBa0Msb0JBQUEsU0FBQUMsV0FDQSxJQUFBbkMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw0QkFBQWlFLFVBQ0FuRCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBb0MsYUFBQSxTQUFBQyxXQUFBdEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUFBbUUsV0FDQXJELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FzQyxnQkFBQSxTQUFBdkMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsc0JBQ0FpQyxLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFNBR0F1QyxnQkFBQSxTQUFBeEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsdUJBQ0FpQyxLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFNBR0F3QyxpQkFBQSxTQUFBN0IsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUEvRCxHQUNBLElBQUFnRSxJQUFBaEUsRUFBQSxJQUFBMEQsU0FBQTFELEdBQUEsSUFFQSxPQURBK0QsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHdCQUFBMEMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0F5QyxzQkFBQSxTQUFBOUIsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUEvRCxHQUNBLElBQUFnRSxJQUFBaEUsRUFBQSxJQUFBMEQsU0FBQTFELEdBQUEsSUFFQSxPQURBK0QsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDBCQUFBMEMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0EwQyxrQkFBQSxTQUFBL0IsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUEvRCxHQUNBLElBQUFnRSxJQUFBaEUsRUFBQSxJQUFBMEQsU0FBQTFELEdBQUEsSUFFQSxPQURBK0QsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHlCQUFBMEMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFNBR0EyQyxtQkFBQSxTQUFBVixHQUFBbEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsMkJBQUErRCxHQUNBakQsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FHQTRDLG9CQUFBLFNBQUFYLEdBQUFsQyxTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSw0QkFBQStELEdBQ0FqRCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxTQUdBNkMsZ0JBQUEsU0FBQUMsWUFDQSxJQUFBOUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx3QkFBQTRFLFdBQ0E5RCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBK0MscUJBQUEsU0FBQUMsU0FDQSxJQUFBaEQsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw2QkFBQThFLFFBQ0FoRSxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixTQUdBaUQsaUJBQUEsU0FBQWhCLElBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEseUJBQUErRCxHQUNBakQsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsU0FFQWtELG9CQUFBLFNBQUFuRCxTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSwyQkFDQWMsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsU0FFQW1ELHdCQUFBLFNBQUFsQixHQUFBbEMsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGdDQUFBK0QsR0FDQWpELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBR0FvRCxvQkFBQSxTQUFBbkIsR0FBQWxDLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQXZCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLDRCQUFBK0QsR0FDQWpELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFNBRUFxRCxtQkFBQSxTQUFBdEQsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDBCQUNBYyxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQS9aQSxrQkErYUEsU0FBQWlDLElBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsd0JBQUErRCxHQUNBakQsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUF2YkFILGdCQUFBZixLQUFBLGNBMGJBLFNBQUFrQixTQUNBLE9BQUEsSUFBQXNELFFBQUEsU0FBQUMsUUFBQUMsUUFDQTlELFNBQUErRCxRQUNBekQsUUFDQTBELEtBQUEsU0FBQUMsTUFDQWpFLFNBQUFrRSxXQUNBTCxRQUFBSSxRQUVBRSxNQUFBLFNBQUFDLEtBQ0FwRSxTQUFBa0UsV0FDQSxNQUFBRSxJQUFBQyxRQUNBcEUsU0FFQTZELE9BQUFNLFdBdmNBakUsZ0JBQUFmLEtBQUEsZ0JBNGNBLFNBQUE2QixVQUNBLElBQUFDLE1BQUFELFNBRUFFLE9BQUFDLEtBQUFILFVBQUFJLE9BQUEsU0FBQUMsSUFBQS9ELEdBQ0EsSUFBQWdFLElBQUFoRSxFQUFBLElBQUEwRCxTQUFBMUQsR0FBQSxJQUVBLE9BREErRCxLQUFBQyxLQUVBLEtBTEEsR0FNQUwsTUFBQUEsTUFBQU0sTUFBQSxHQUFBLEdBQ0EsSUFBQWxCLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEscUJBQUEwQyxNQUNBNUIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUE1ZEFILGdCQUFBZixLQUFBLGdCQStkQSxXQUNBLElBQUFrQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGlCQUNBYyxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQXZlQUgsZ0JBQUFmLEtBQUEsZUF5ZUEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxnQkFDQWMsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUFsZkFILGdCQUFBZixLQUFBLGNBcWZBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsc0JBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBOWZBSCxnQkFBQWYsS0FBQSx3QkFpZ0JBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsNkJBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBMWdCQUgsZ0JBQUFmLEtBQUEsZUE4Z0JBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsb0JBQ0FjLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBdmhCQUgsZ0JBQUFmLEtBQUEsdUJBeWhCQSxTQUFBa0YsYUFDQSxJQUFBaEUsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw2QkFBQThGLFlBQ0FoRixPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQWppQkFILGdCQUFBZixLQUFBLGVBbWlCQSxTQUFBcUQsV0FDQSxJQUFBbkMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxxQkFBQWlFLFVBQUEsV0FDQW5ELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBM2lCQUgsZ0JBQUFmLEtBQUEsb0JBNmlCQSxTQUFBcUQsV0FDQSxJQUFBbkMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSwwQkFBQWlFLFVBQ0FuRCxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQXJqQkFILGdCQUFBZixLQUFBLHFCQXdqQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSwwQkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUFqa0JBSCxnQkFBQWYsS0FBQSxnQkFva0JBLFNBQUFrRixhQUNBLElBQUFoRSxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHNCQUFBOEYsWUFDQWhGLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBNWtCQUgsZ0JBQUFmLEtBQUEsY0Era0JBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsbUJBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBeGxCQUgsZ0JBQUFmLEtBQUEsMEJBMGxCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsK0JBQ0FjLE9BQUEsT0FDQW1CLEtBQUFKLFFBQ0FoQixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUFubUJBSCxnQkFBQWYsS0FBQSxnQkFzbUJBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEscUJBQ0FjLE9BQUEsTUFDQW1CLEtBQUFKLFFBQ0FoQixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUEvbUJBSCxnQkFBQWYsS0FBQSxhQWtuQkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxrQkFDQWMsT0FBQSxNQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQTNuQkFILGdCQUFBZixLQUFBLGVBOG5CQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLG9CQUNBYyxPQUFBLE1BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBdm9CQUgsZ0JBQUFmLEtBQUEsWUEyb0JBLFdBQ0EsSUFBQUcsTUFBQVIsb0JBQUFZLElBQUEsZ0JBRUE0RSxPQUFBLENBQ0E3RSxpQkFBQUgsTUFDQWtELFVBQUEsNEJBRUFuQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBLHlCQUNBYyxPQUFBLE9BQ0FtQixLQUFBOEQsVUFHQSxPQUFBakUsVUF6cEJBSCxnQkFBQWYsS0FBQSxlQTZwQkEsU0FBQW9GLFFBQ0ExQyxRQUFBQyxJQUFBLHdCQUFBeUMsUUFDQSxJQUFBbEUsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxvQkFDQWMsT0FBQSxPQUNBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUErRCxVQUdBLE9BQUFsRSxVQXZxQkFILGdCQUFBZixLQUFBLG9CQTBxQkEsU0FBQXFELFVBQUFnQyxNQUNBLElBQUFuRSxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDBCQUFBaUUsVUFDQW5ELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBZ0UsUUFHQSxPQUFBbkUsVUFuckJBSCxnQkFBQWYsS0FBQSxlQXNyQkEsV0FDQSxJQUFBa0IsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx5QkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUE5ckJBSCxnQkFBQWYsS0FBQSxrQkFnc0JBLFNBQUFtRCxHQUFBbUMsT0FDQSxJQUFBcEUsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx1QkFDQWMsT0FBQSxNQUNBbUIsS0FBQSxDQUNBZ0MsVUFBQUYsR0FDQW1DLE1BQUFBLE9BRUFyRixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUE1c0JBSCxnQkFBQWYsS0FBQSxlQThzQkEsV0FDQSxJQUFBa0IsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxvQkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUF0dEJBSCxnQkFBQWYsS0FBQSx1QkF3dEJBLFdBQ0EsSUFBQWtCLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsNEJBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBaHVCQUgsZ0JBQUFmLEtBQUEsb0JBbXVCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHlCQUNBYyxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBNXVCQUgsZ0JBQUFmLEtBQUEsZ0JBOHVCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUNBYyxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBdnZCQUgsZ0JBQUFmLEtBQUEsbUJBMHZCQSxTQUFBNkIsVUFDQSxJQUFBQyxNQUFBRCxTQUVBRSxPQUFBQyxLQUFBSCxVQUFBSSxPQUFBLFNBQUFDLElBQUEvRCxHQUNBLElBQUFnRSxJQUFBaEUsRUFBQSxJQUFBMEQsU0FBQTFELEdBQUEsSUFFQSxPQURBK0QsS0FBQUMsS0FFQSxLQUxBLEdBTUFMLE1BQUFBLE1BQUFNLE1BQUEsR0FBQSxHQUNBLElBQUFsQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHdCQUFBMEMsTUFDQTVCLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBMXdCQUgsZ0JBQUFmLEtBQUEsd0JBNHdCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDZCQUNBYyxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBcnhCQUgsZ0JBQUFmLEtBQUEsbUJBdXhCQSxTQUFBbUQsR0FBQW9DLE9BQ0EsSUFBQXJFLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEseUJBQUErRCxHQUFBLFVBQUFvQyxNQUNBckYsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUEveEJBSCxnQkFBQWYsS0FBQSxpQkFpeUJBLFNBQUFtRCxJQUNBLElBQUFqQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHVCQUFBK0QsR0FDQWpELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBenlCQUgsZ0JBQUFmLEtBQUEsc0JBMnlCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDJCQUNBYyxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQXB6QkFILGdCQUFBZixLQUFBLG9CQXN6QkEsU0FBQXdGLFVBQ0EsSUFBQXRFLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSxtQkFDQWMsT0FBQSxPQUNBbUIsS0FBQW1FLFNBQ0F2RixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUEvekJBSCxnQkFBQWYsS0FBQSxrQkFrMEJBLFNBQUE2QixVQUNBLElBQUFDLE1BQUFELFNBRUFFLE9BQUFDLEtBQUFILFVBQUFJLE9BQUEsU0FBQUMsSUFBQS9ELEdBQ0EsSUFBQWdFLElBQUFoRSxFQUFBLElBQUEwRCxTQUFBMUQsR0FBQSxJQUVBLE9BREErRCxLQUFBQyxLQUVBLEtBTEEsR0FNQUwsTUFBQUEsTUFBQU0sTUFBQSxHQUFBLEdBQ0EsSUFBQWxCLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsd0JBQUEwQyxNQUNBNUIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFsMUJBSCxnQkFBQWYsS0FBQSx1QkFxMUJBLFNBQUE2QixVQUNBLElBQUFDLE1BQUFELFNBRUFFLE9BQUFDLEtBQUFILFVBQUFJLE9BQUEsU0FBQUMsSUFBQS9ELEdBQ0EsSUFBQWdFLElBQUFoRSxFQUFBLElBQUEwRCxTQUFBMUQsR0FBQSxJQUVBLE9BREErRCxLQUFBQyxLQUVBLEtBTEEsR0FNQUwsTUFBQUEsTUFBQU0sTUFBQSxHQUFBLEdBQ0EsSUFBQWxCLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsNEJBQUEwQyxNQUNBNUIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFyMkJBSCxnQkFBQWYsS0FBQSxxQkF3MkJBLFNBQUFpQixRQUFBb0MsV0FDQSxJQUFBbkMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSwwQkFDQWMsT0FBQSxPQUVBRCxRQUFBQSxRQUFBLFFBQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUFsM0JBSCxnQkFBQWYsS0FBQSxvQkFxM0JBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEseUJBQ0FjLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBOTNCQUgsZ0JBQUFmLEtBQUEsd0JBaTRCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDZCQUNBYyxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQTE0QkFILGdCQUFBZixLQUFBLGtCQTY0QkEsU0FBQXlGLFlBQ0EsSUFBQXZFLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsb0JBQUFxRyxXQUNBdkYsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFyNUJBSCxnQkFBQWYsS0FBQSx5QkF3NUJBLFNBQUEwRixlQUNBLElBQUF4RSxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsd0JBQ0FjLE9BQUEsT0FDQW1CLEtBQUFxRSxjQUNBekYsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBajZCQUgsZ0JBQUFmLEtBQUEsdUJBbzZCQSxTQUFBeUYsWUFDQSxJQUFBdkUsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx5QkFBQXFHLFdBQ0F2RixPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQTU2QkFILGdCQUFBZixLQUFBLGFBKzZCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsa0JBQ0FjLE9BQUEsT0FDQW1CLEtBQUFKLFFBQ0FoQixRQUFBQSxRQUFBLFFBQUEsTUFHQSxPQUFBaUIsVUF4N0JBSCxnQkFBQWYsS0FBQSx1QkEyN0JBLFNBQUFpQixTQUNBeUIsUUFBQUMsSUFBQSx3QkFDQSxJQUFBekIsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw0QkFDQWMsT0FBQSxPQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXI4QkFILGdCQUFBZixLQUFBLHNCQXc4QkEsU0FBQW1ELEdBQUF3QyxTQUNBakQsUUFBQUMsSUFBQSxZQUFBZ0QsU0FDQSxJQUFBekUsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxtQkFBQStELEdBQ0FqRCxPQUFBLE1BQ0FtQixLQUFBc0UsUUFDQTFGLFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQWw5QkFILGdCQUFBZixLQUFBLHNCQXE5QkEsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQXZCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLDJCQUNBYyxPQUFBLE9BQ0FELFFBQUFBLFFBQUEsUUFBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQTk5QkFILGdCQUFBZixLQUFBLGNBaStCQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsb0JBQ0FjLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixXQUdBLE9BQUFDLFVBMStCQUgsZ0JBQUFmLEtBQUEsMEJBNitCQSxTQUFBbUQsSUFDQSxJQUNBakMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxxQkFBQStELEdBQ0FqRCxPQUFBLE1BQ0FtQixLQUxBLENBQUF1RSxpQkFBQSxRQU1BM0YsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBdi9CQUgsZ0JBQUFmLEtBQUEsZUEwL0JBLFdBRUEsSUFBQTZGLFNBQUE5RixHQUFBK0YsUUFHQUMsWUFBQXZHLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxxQkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsS0FFQStGLGVBQUF4RyxNQUFBLENBQ0FKLElBQUFBLElBQUEsc0JBQ0FjLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLEtBSUFGLEdBQUFrRyxJQUFBLENBQUFGLFlBQUFDLGlCQUFBcEIsS0FBQSxTQUFBdkQsTUFNQSxPQUxBd0UsU0FBQXBCLFFBQUEsQ0FDQXlCLFVBQUE3RSxLQUFBLEdBQ0E4RSxhQUFBOUUsS0FBQSxLQUdBd0UsU0FBQTNFLFlBamhDQUgsZ0JBQUFmLEtBQUEsc0JBcWhDQSxTQUFBbUQsR0FBQWlELFFBQ0ExRCxRQUFBQyxJQUFBeUQsUUFDQSxJQUFBbEYsUUFBQUMsS0FBQUMsWUFDQXZCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLDRCQUFBK0QsR0FDQWpELE9BQUEsTUFDQW1CLEtBQUErRSxPQUNBbkcsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBL2hDQUgsZ0JBQUFmLEtBQUEsaUJBa2lDQSxTQUFBcUcsTUFBQWxELElBQ0EsSUFBQWpDLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsdUJBQUErRCxHQUNBakQsT0FBQSxNQUNBbUIsS0FBQWdGLE1BQ0FwRyxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUEzaUNBSCxnQkFBQWYsS0FBQSxnQkE4aUNBLFNBQUFvRyxRQUNBLElBQUFsRixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGlCQUNBYyxPQUFBLE9BQ0FtQixLQUFBK0UsT0FDQW5HLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXZqQ0FILGdCQUFBZixLQUFBLG1CQTBqQ0EsV0FDQSxJQUFBa0IsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxtQkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFsa0NBSCxnQkFBQWYsS0FBQSxrQkFxa0NBLFNBQUFtRCxJQUNBLElBQUFqQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGtCQUFBK0QsR0FDQWpELE9BQUEsU0FDQUQsUUFBQUEsUUFBQSxVQUFBLE1BR0EsT0FBQWlCLFVBN2tDQUgsZ0JBQUFmLEtBQUEsc0JBZ2xDQSxTQUFBMEYsZUFDQSxJQUFBeEUsUUFBQUMsS0FBQUMsWUFDQXZCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLDRCQUFBc0csY0FBQVksSUFDQXBHLE9BQUEsTUFDQW1CLEtBQUFxRSxjQUNBekYsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBemxDQUgsZ0JBQUFmLEtBQUEsaUJBMmxDQSxTQUFBd0YsVUFDQTlDLFFBQUFDLElBQUE2QyxVQUNBLElBQUF0RSxRQUFBQyxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEsdUJBQUFvRyxTQUFBYyxJQUNBcEcsT0FBQSxNQUNBbUIsS0FBQW1FLFNBQ0F2RixRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFybUNBSCxnQkFBQWYsS0FBQSxpQkF3bUNBLFNBQUF1RyxPQUNBN0QsUUFBQUMsSUFBQTRELE9BQ0EsSUFBQXJGLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsa0JBQ0FjLE9BQUEsT0FDQW1CLEtBQUFrRixNQUNBdEcsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBbG5DQUgsZ0JBQUFmLEtBQUEsa0JBcW5DQSxTQUFBbUQsSUFDQSxJQUFBcUQsT0FBQXJELEdBQ0EsMkJBQUFBLEdBQ0EsbUJBQ0FqQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBb0gsT0FFQXRHLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBam9DQUgsZ0JBQUFmLEtBQUEsaUJBb29DQSxTQUFBbUQsR0FBQWlELFFBQ0EsSUFBQWxGLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsdUJBQUErRCxHQUNBakQsT0FBQSxNQUNBbUIsS0FBQStFLE9BQ0FuRyxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUE3b0NBSCxnQkFBQWYsS0FBQSxnQ0Erb0NBLFNBQUEwQixXQUNBLElBQUFSLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsaUNBQUFzQyxVQUNBeEIsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUF2cENBSCxnQkFBQWYsS0FBQSxjQXlwQ0EsU0FBQXVHLE9BQ0E3RCxRQUFBQyxJQUFBNEQsT0FDQSxJQUFBckYsUUFBQUMsS0FBQUMsWUFDQXZCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLG1CQUNBYyxPQUFBLE9BQ0FtQixLQUFBa0YsTUFDQXRHLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQW5xQ0FILGdCQUFBZixLQUFBLGdCQXNxQ0EsU0FBQXVHLE1BQUFFLFNBQ0EvRCxRQUFBQyxJQUFBNEQsT0FDQSxJQUFBckYsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxvQkFBQXFILFFBQ0F2RyxPQUFBLE1BQ0FtQixLQUFBa0YsTUFDQXRHLFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQWhyQ0FILGdCQUFBZixLQUFBLGVBb3JDQSxTQUFBbUQsSUFDQSxJQUFBcUQsT0FBQXJELEdBQ0EsNkJBQUFBLEdBQ0Esb0JBQ0FqQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBb0gsT0FDQXRHLE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBL3JDQUgsZ0JBQUFmLEtBQUEsNEJBa3NDQSxXQUNBLElBQUFrQixRQUFBMUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLGlDQUNBYyxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxLQUVBLE9BQUFpQixVQXhzQ0FILGdCQUFBZixLQUFBLHVCQTJzQ0EsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSw0QkFDQWMsT0FBQSxPQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXB0Q0FILGdCQUFBZixLQUFBLHdCQXN0Q0EsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQXZCLE9BQUErQyxPQUFBLENBQ0F4RCxJQUFBQSxJQUFBLDZCQUNBYyxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLE1BR0EsT0FBQWlCLFVBL3RDQUgsZ0JBQUFmLEtBQUEsaUJBaXVDQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBMUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHNCQUNBYyxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLEtBRUEsT0FBQWlCLFVBeHVDQUgsZ0JBQUFmLEtBQUEsd0JBMHVDQSxTQUFBaUIsU0FDQSxJQUFBQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDZCQUNBYyxPQUFBLE1BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBbnZDQUgsZ0JBQUFmLEtBQUEsdUJBcXZDQSxXQUNBLElBQUFrQixRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLDRCQUNBYyxPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxNQUdBLE9BQUFpQixVQTd2Q0FILGdCQUFBZixLQUFBLGdCQWd3Q0EsU0FBQWlCLFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSxxQkFDQWMsT0FBQSxPQUNBbUIsS0FBQUosUUFDQWhCLFFBQUFBLFFBQUEsUUFBQSxNQUdBLE9BQUFpQixVQXp3Q0FILGdCQUFBZixLQUFBLHdCQTJ3Q0EsU0FBQTBHLFlBQ0EsSUFBQXhGLFFBQUFDLEtBQUFDLFlBQ0E1QixNQUFBLENBQ0FKLElBQUFBLElBQUEsOEJBQUFzSCxXQUNBeEcsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUFueENBSCxnQkFBQWYsS0FBQSxvQkFxeENBLFNBQUFpQixTQUNBLElBQUFDLFFBQUFDLEtBQUFDLFlBQ0F2QixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSx5QkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsR0FDQW9CLEtBQUFKLFdBR0EsT0FBQUMsVUE5eENBSCxnQkFBQWYsS0FBQSxvQkFneUNBLFNBQUFpQixTQUNBRSxLQUFBQyxZQUNBdkIsT0FBQStDLE9BQUEsQ0FDQXhELElBQUFBLElBQUEseUJBQ0FjLE9BQUEsT0FDQUQsUUFBQUEsUUFBQSxRQUFBLEdBQ0FvQixLQUFBSixhQXR5Q0FGLGdCQUFBZixLQUFBLG9CQTB5Q0EsU0FBQTBCLFVBQUFULFNBQ0EsSUFBQUMsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSwwQkFBQXNDLFVBQ0F4QixPQUFBLE1BQ0FELFFBQUFBLFFBQUEsT0FBQSxHQUNBb0IsS0FBQUosV0FHQSxPQUFBQyxVQW56Q0FILGdCQUFBZixLQUFBLG1CQXF6Q0EsV0FDQSxJQUFBa0IsUUFBQUMsS0FBQUMsWUFDQTVCLE1BQUEsQ0FDQUosSUFBQUEsSUFBQSx3QkFDQWMsT0FBQSxNQUNBRCxRQUFBQSxRQUFBLE9BQUEsTUFHQSxPQUFBaUIsVUE3ekNBSCxnQkFBQWYsS0FBQSxnQkErekNBLFNBQUFtRCxJQUNBLElBQUFqQyxRQUFBQyxLQUFBQyxZQUNBNUIsTUFBQSxDQUNBSixJQUFBQSxJQUFBLHFCQUFBK0QsR0FDQWpELE9BQUEsTUFDQUQsUUFBQUEsUUFBQSxPQUFBLE1BR0EsT0FBQWlCLFVBdjBDQWxCLE9BdkNBLEdDQUEsV0FDQXRDLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsY0FFQSxTQUFBQyxNQUFBRSxVQUFBQyxxQkFDQSxNQUFBLENBQ0FnSCxVQUFBLFdBQ0EsSUFBQXhHLE1BQUFSLG9CQUFBWSxJQUFBLGdCQUNBLFNBQUFKLE9BQUEsSUFBQUEsUUFNQXlHLGVBQUEsU0FBQUMsS0FBQUMsU0FBQSxJQUFBQyxzQkFDQXBILG9CQUFBWSxJQUFBLFlBQUF5RyxVQURBRCxzQkFDQUMsVUFEQUMsdUJBRUF0SCxvQkFBQVksSUFBQSxlQUFBMkcsV0FGQUQsdUJBRUFDLFdBRUEsT0FBQUYsV0FBQUUsV0FBQUwsTUFBQUMsYUFqQkEsR0NBQSxXQUNBcEosUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxxQkFFQSxTQUFBNEgsV0FBQXJILGNBQ0EsTUFBQSxDQUNBc0gsV0FFQUMsTUFBQSxDQUNBUixLQUFBLEVBQ0F4RixLQUFBLEdBQ0FWLE9BQUEsTUFFQSxDQUNBMkcsS0FBQSxTQUFBQyxNQUNBRixNQUFBMUcsT0FBQSxLQUNBMEcsTUFBQVIsS0FBQSxFQUNBUSxNQUFBaEcsS0FBQSxDQUFBa0csT0FFQUMsSUFBQSxTQUFBRCxLQUFBNUcsUUFDQTBHLE1BQUExRyxPQUFBQSxPQUNBMEcsTUFBQVIsS0FBQSxFQUNBUSxNQUFBaEcsS0FBQSxDQUFBa0csT0FFQUUsTUFBQSxTQUFBQyxRQUNBLE9BQUEsSUFBQWxELFFBQUEsU0FBQUMsUUFBQUMsUUFDQSxHQUFBMkMsTUFBQWhHLEtBQUFzRyxPQUFBLEVBR0EsT0FGQTdILGFBQUE4SCxRQUFBLDJCQUNBbkQsU0FBQSxHQUlBLElBQUFvRCxRQUFBLElBQUFSLE1BQUFSLEtBQUEsY0FBQSxhQUdBNUYsUUFBQSxDQUNBNkcsUUFBQVQsTUFBQWhHLEtBQUEwRyxJQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQTFCLE1BQ0EyQixTQUFBLElBQUFaLE1BQUFSLFVBQUF4RyxFQUFBZ0gsTUFBQTFHLE9BQ0ErRyxPQUFBLElBQUFMLE1BQUFSLFVBQUF4RyxFQUFBcUgsT0FDQXhDLFlBQUEsSUFBQW1DLE1BQUFSLEtBQUFhLFlBQUFySCxHQUdBOEcsV0FBQVUsU0FBQTVHLFNBQ0EyRCxLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FFQWQsTUFBQSxDQUNBUixLQUFBLEVBQ0F4RixLQUFBLEdBQ0FWLE9BQUEsTUFFQThELFNBQUEsS0FFQU0sTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixHQUNBMUQsUUFBQSxVQU9BMkQsZ0JBQUEsV0FDQSxJQUFBQyxNQUFBLEdBQ0FDLEtBQUFELE1BQUFYLE9BQUEsRUFNQSxNQUFBLENBQ0FhLEtBQUEsU0FBQWpCLE1BQ0FlLE1BQUFHLE9BQUFGLEtBQUEsRUFBQUQsTUFBQVgsT0FBQUosTUFDQWdCLEtBQUFELE1BQUFYLE9BQUEsR0FFQWUsUUFBQSxXQUVBLEdBQUFKLE1BQUFYLFFBSUFZLE9BQUFELE1BQUFYLE9BQUEsRUFNQSxPQUFBVyxRQURBQyxPQUVBRCxNQUFBQyxNQUFBSSxTQUNBTCxNQUFBQyxZQUZBLEdBTUFLLFNBQUEsV0FFQSxHQUFBTixNQUFBWCxVQUtBWSxLQUFBLEdBSUEsT0FBQUQsTUFBQUMsT0FDQUQsTUFBQUMsTUFBQUksU0FFQUwsUUFEQUMsWUFGQSxLQVVBTSxXQUFBLFdBQ0EsSUFBQUMsWUFBQSxHQUNBLE1BQUEsQ0FDQWhLLElBQUEsU0FBQWlLLEtBQ0FELFlBQUFOLEtBQUFPLE1BRUF4SSxJQUFBLFdBQ0EsT0FBQXVJLGVBVUFFLGlCQUFBLFNBQUFDLFlBQ0EsT0FBQUEsV0FBQWhILE9BQ0EsU0FBQUMsSUFBQThGLEdBVUEsT0FSQUEsRUFBQWtCLEtBQUEsTUFDQSxvQkFBQWxCLEVBQUFuQixNQUFBLFNBQUFzQyxLQUFBbkIsRUFBQW5CLE9BRUEzRSxJQUFBa0gsV0FBQVosS0FBQVIsR0FHQTlGLElBQUFtSCxHQUFBYixLQUFBUixHQUVBOUYsS0FFQSxDQUFBbUgsR0FBQSxHQUFBRCxXQUFBLE1BU0FFLGdCQUFBLFNBQUFDLE1BQ0EsT0FDQUEsS0FBQUwsS0FBQSxNQUNBLG9CQUFBSyxLQUFBMUMsTUFBQSxTQUFBc0MsS0FBQUksS0FBQTFDLE9BRUEsRUFFQSxHQU9BMkMsc0JBQUEsU0FBQUMsT0FDQSxJQUFBQyxNQUFBLEVBV0EsT0FWQUQsTUFBQUosR0FBQU0sUUFBQSxTQUFBM0IsR0FDQUEsRUFBQTRCLFdBQUE1QixFQUFBNkIsVUFBQUgsT0FDQUEsTUFBQSxLQUdBRCxNQUFBTCxXQUFBTyxRQUFBLFNBQUEzQixHQUNBQSxFQUFBNEIsV0FBQTVCLEVBQUE2QixVQUFBSCxPQUNBQSxNQUFBLEtBR0FBLE1BUUFJLG9CQUFBLFNBQUFMLE1BQUEvQixRQUNBLE9BQUEsSUFBQWxELFFBQUEsU0FBQUMsUUFBQUMsUUFDQXlDLFdBQ0E0QyxvQkFBQSxDQUNBQyxXQUFBUCxNQUFBMUIsSUFBQSxTQUFBQyxHQUFBLE9BQUFBLEVBQUEzQyxPQUNBcUMsT0FBQUEsU0FFQTlDLEtBQUEsU0FBQUMsTUFFQSxJQUFBb0YsZUFBQVIsTUFDQTFCLElBQUEsU0FBQUMsR0FHQSxPQUZBQSxFQUFBa0MsT0FBQSxTQUNBbEMsRUFBQW1DLFVBQUFuQyxFQUFBM0MsS0FDQTJDLElBRUEvRixPQUNBLFNBQUFDLElBQUE4RixHQUtBLE9BSkEsSUFBQW5ELEtBQUF4RCxLQUFBK0ksV0FBQUMsUUFBQXJDLEVBQUEzQyxNQUNBbkQsSUFBQW9JLFlBQUE5QixLQUFBUixHQUNBOUYsSUFBQWtJLFdBQUE1QixLQUFBUixHQUVBOUYsS0FFQSxDQUFBa0ksV0FBQSxHQUFBRSxZQUFBLEtBR0E3RixRQUFBd0Ysa0JBRUFsRixNQUFBLFNBQUFxRCxHQUNBMUQsT0FBQTBELFFBVUFtQyxnQkFBQSxTQUFBZCxPQUNBLE9BQUFBLE1BQUFlLE9BQUEsU0FBQXhDLEdBQUEsTUFBQSxXQUFBQSxFQUFBa0MsU0FBQWpJLE9BQUEsU0FBQUMsSUFBQThGLEdBRUEsT0FEQTlGLElBQUFBLEtBQUE4RixFQUFBbUMsWUFBQW5DLEVBQUEzQyxPQUVBLElBUUFvRixnQkFBQSxTQUFBQyxVQUNBLE9BQUFBLFNBQUEsTUFBQUMsS0FBQUMsTUFBQSxLQUtBQyxrQkFBQSxTQUFBdEIsTUFDQSxJQUFBdUIsT0FBQSxJQUFBQyxXQUNBRCxPQUFBRSxPQUFBLFdBQ0FDLFNBQUFDLFlBQUEsQ0FBQTlMLElBQUEwTCxPQUFBSyxTQUFBdkcsS0FBQSxTQUFBd0csS0FDQUEsSUFBQUMsUUFBQSxHQUFBekcsS0FBQSxTQUFBMEcsTUFDQTVJLFFBQUFDLElBQUEsVUFBQTJJLE1BQ0EsSUFDQUMsU0FBQUQsS0FBQUUsWUFEQSxHQUVBQyxPQUFBQyxTQUFBQyxjQUFBLFVBQ0FDLFFBQUFILE9BQUFJLFdBQUEsTUFDQUosT0FBQUssT0FBQVAsU0FBQU8sT0FDQUwsT0FBQU0sTUFBQVIsU0FBQVEsTUFFQSxJQUFBQyxLQUFBVixLQUFBVyxPQUFBLENBQ0FDLGNBQUFOLFFBQ0FMLFNBQUFBLFdBRUFTLEtBQUE5SyxRQUFBMEQsS0FBQSxXQUNBLElBQUF1SCxRQUFBVixPQUFBVyxVQUFBLGFBQ0FDLEtBQUFYLFNBQUFDLGNBQUEsS0FDQVUsS0FBQUMsU0FBQSxrQkFBQTNCLEtBQUFDLE1BQ0F5QixLQUFBRSxLQUFBSixRQUNBVCxTQUFBYyxLQUFBQyxZQUFBSixNQUNBQSxLQUFBSyxRQUNBaEIsU0FBQWMsS0FBQUcsWUFBQU4sYUFNQXZCLE9BQUE4QixjQUFBckQsT0FFQXNELGNBQUEsU0FBQTVELFlBQ0EsT0FBQUEsV0FBQWhILE9BQ0EsU0FBQUMsSUFBQThGLEdBU0EsT0FQQUEsRUFBQXVCLEtBQUFMLEtBQUEsTUFDQSxvQkFBQWxCLEVBQUF1QixLQUFBMUMsTUFBQSxTQUFBc0MsS0FBQW5CLEVBQUF1QixLQUFBMUMsT0FFQTNFLElBQUFrSCxXQUFBWixLQUFBUixHQUVBOUYsSUFBQW1ILEdBQUFiLEtBQUFSLEdBRUE5RixLQUVBLENBQUFtSCxHQUFBLEdBQUFELFdBQUEsT0E1UkEsSUFFQS9CLFFBUEEsR0NBQSxXQUNBM0osUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxVQUVBLFNBQ0FDLE1BQ0FDLE9BQ0FDLFVBQ0FvTixrQkFDQWhOLGFBQ0FILHFCQUdBLElBQUFvTixXQUNBQyxTQUFBLEVBQ0EsU0FBQUMsSUFDQUQsVUFDQUEsU0FBQSxFQUNBRSxXQUFBLFdBQ0FGLFNBQUEsSUFFQUMsUUFSQSxJQUNBRCxRQVlBLE1BQUEsQ0FDQXBNLFVBQ0F1TSxZQUFBTCxrQkFBQU0saUJBQ0FELGFBRUF0TSxPQUFBLFdBQ0FsQixvQkFBQTBOLE9BQUEsZ0JBQ0ExTixvQkFBQTBOLE9BQUEsWUFDQTFOLG9CQUFBME4sT0FBQSxlQUNBMU4sb0JBQUFiLElBQUEsaUJBQUEsTUFDQWEsb0JBQUEwTixPQUFBLGtCQUVBNU4sT0FBQTZOLEdBQUEsWUFDQVAsVUFBQSxXQUFBLE9BQUFqTixhQUFBeU4sTUFBQSxtQkFHQXpNLFdBQ0EwTSxTQUFBN04sb0JBQUFZLElBQUEsYUFBQSxHQUVBLENBQ0F6QixJQUFBLFNBQUF1QyxNQVlBLE9BSkFBLEtBQUEyRixVQVBBLENBQ0EsUUFDQSxVQUNBLGlCQUNBLGNBQ0EsVUFFQXFELFFBQUFoSixLQUFBb00sYUFFQTlOLG9CQUFBYixJQUFBLFdBQUF1QyxNQUNBbU0sU0FBQW5NLE1BR0FkLElBQUEsV0FBQSxPQUFBaU4sVUFDQUUsTUFBQSxXQUNBL04sb0JBQUEwTixPQUFBLFlBQ0FHLFNBQUEsTUFLQUcsY0FDQUMsWUFBQWpPLG9CQUFBWSxJQUFBLGdCQUFBLEtBRUEsQ0FDQXpCLElBQUEsU0FBQXVDLE1BR0EsT0FGQTFCLG9CQUFBYixJQUFBLGNBQUF1QyxNQUNBdU0sWUFBQXZNLE1BR0FkLElBQUEsV0FBQSxPQUFBcU4sYUFFQUMsUUFBQSxTQUFBMUssSUFDQTNELE1BQUEsQ0FDQVUsT0FBQSxNQUNBRCxRQUFBLENBQ0FLLGlCQUFBWCxvQkFBQVksSUFBQSxnQkFDQUMsU0FBQUMsS0FBQUMsVUFBQSxDQUFBQyxPQUFBLFNBRUF2QixJQUFBQSxxREFBQStELEtBRUF5QixLQUFBLFNBQUFDLE1BQ0FsRixvQkFBQWIsSUFBQSxjQUFBK0YsS0FBQXhELFFBRUEwRCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BR0FzRixNQUFBLFdBQ0EvTixvQkFBQTBOLE9BQUEsZUFDQU8sWUFBQSxNQUtBRSxhQUFBLFdBQ0FuTyxvQkFBQVksSUFBQSxrQkFDQSxNQUFBLENBQ0F6QixJQUFBLFNBQUF1QyxNQUdBLE9BRkExQixvQkFBQWIsSUFBQSxpQkFBQXVDLE1BQ0FBLE1BR0FkLElBQUEsV0FBQSxPQUFBWixvQkFBQVksSUFBQSxtQkFDQW1OLE1BQUEsV0FDQS9OLG9CQUFBME4sT0FBQSxrQkFDQSxPQVhBLEdBZ0JBVSxlQUFBLFdBQ0EsSUFBQTVPLE1BQUFRLG9CQUFBWSxJQUFBLG1CQUFBLENBQ0F5TixJQUFBLEVBQ0FDLFdBQUEsR0FDQTNDLEtBQUEsQ0FDQTRDLFNBQUEsRUFDQUMsTUFBQSxJQUlBLE1BQUEsQ0FDQUMsUUFBQSxTQUFBdkgsS0FBQXdILE9BQ0FsUCxNQUFBbU0sS0FBQXpFLE1BQUF3SCxNQUNBMU8sb0JBQUFiLElBQUEsaUJBQUFLLFFBRUFtUCxPQUFBLFNBQUF2RixLQUNBNUosTUFBQTZPLElBQUFqRixJQUNBcEosb0JBQUFiLElBQUEsaUJBQUFLLFFBRUFvUCxLQUFBLFNBQUFDLE9BQ0FyUCxNQUFBOE8sV0FBQU0sTUFDQTVPLG9CQUFBYixJQUFBLGlCQUFBSyxRQUVBb0IsSUFBQSxXQUNBLE9BQUFwQixTQUtBc1AsT0FBQSxDQUNBLENBQ0FwSixLQUFBLEtBQ0FnSixNQUFBLE1BRUEsQ0FDQWhKLEtBQUEsUUFDQWdKLE1BQUEsU0FFQSxDQUNBQSxNQUFBLFFBQ0FoSixLQUFBLFNBRUEsQ0FDQUEsS0FBQSxLQUNBZ0osTUFBQSxNQUVBLENBQ0FoSixLQUFBLFFBQ0FnSixNQUFBLFNBRUEsQ0FDQUEsTUFBQSxRQUNBaEosS0FBQSxTQUVBLENBQ0FnSixNQUFBLE9BQ0FoSixLQUFBLFNBSUFxSixZQUFBLFdBQ0EsT0FBQWxQLE1BQUFlLElBQUEsMEJBRUFvTyxlQUFBLFdBQ0EsT0FBQW5QLE1BQUFlLElBQUEsMkJBRUFxTyxZQUFBLFdBQ0EsT0FBQXBQLE1BQUFlLElBQUEsd0JBR0FzTyxTQUFBLFNBQUFDLE1BQ0EsSUFBQUMsV0FBQUEsRUFDQSxPQUFBLFNBQUE5QixHQUFBK0IsTUFDQUMsYUFBQUYsT0FDQUEsTUFBQTdCLFdBQUEsV0FDQUQsR0FBQWlDLE1BQUEsS0FBQUYsT0FDQUYsUUFJQUssYUFBQSxXQUNBLElBQUE1SCxVQUFBQSxFQUNBLE1BQUEsQ0FDQTZILE1BQUEsU0FBQXJHLEtBQ0F4QixLQUFBd0IsS0FFQXhJLElBQUEsV0FDQSxPQUFBZ0gsUUFVQThILG9CQUFBLFNBQUFDLFFBQUFDLFdBQ0EsTUFBQSxHQUFBQyxPQUFBQyxtQkFBQUMsTUFBQUgsV0FBQXZOLFNBQUFDLE9BQUEsU0FBQUMsSUFBQXlOLEVBQUFDLEdBQ0EsSUFBQUMsUUFBQSxDQUNBQyxPQUFBRixFQUNBeFEsSUFBQWtRLFFBQ0FTLFFBQUEsV0FEQSxlQUNBSCxFQUFBLEdBREEsS0FFQUcsUUFBQSxTQUFBLFFBQ0FDLE1BQUFBLFNBQUFyRixLQUFBQyxNQUNBcUYsVUFBQSxFQUNBQyxZQUFBLElBR0EsT0FEQWhPLElBQUFzRyxLQUFBcUgsU0FDQTNOLEtBQ0EsS0FRQWlPLG1CQUFBLFNBQUFDLEtBQ0EsT0FBQSxJQUFBNUwsUUFBQSxTQUFBQyxRQUFBQyxRQUNBdUcsU0FDQUMsWUFBQWtGLElBQUFDLFlBQ0FuUCxRQUFBMEQsS0FBQSxTQUFBd0csS0FDQTVHLFFBQUF5QixJQUNBLEdBQUF1SixPQUFBQyxtQkFBQUMsTUFBQXRFLElBQUFrRixVQUFBdE8sU0FBQStGLElBQUEsU0FBQTRILEVBQUFDLEdBQUEsT0FDQXhFLElBQUFDLFFBQUF1RSxFQUFBLE1BR0FoTCxLQUFBLFNBQUEyTCxPQUNBOUwsUUFDQThMLE1BQUF4SSxJQUFBLFNBQUFDLEVBQUE0SCxHQUlBLE9BSEE1SCxFQUFBOEgsT0FBQUYsRUFBQTVILEVBQUFnSSxNQUFBLFNBQUFyRixLQUFBQyxNQUNBNUMsRUFBQWlJLFVBQUEsRUFDQWpJLEVBQUFrSSxZQUFBLEdBQ0FsSSxPQUlBakQsTUFBQSxTQUFBcUQsR0FDQTFELE9BQUEwRCxPQUdBckQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixHQUNBMUQsT0FBQTBELFFBS0FvSSxXQUFBLFNBQUFsRixLQUFBRyxRQUNBLElBQUFGLFNBQUFELEtBQUFFLFlBQ0FDLE9BQUFNLE1BQUFULEtBQUFFLFlBQUEsR0FBQU8sT0FFQUgsUUFBQUgsT0FBQUksV0FBQSxNQUNBSixPQUFBSyxPQUFBUCxTQUFBTyxPQUVBUixLQUFBVyxPQUFBLENBQ0FDLGNBQUFOLFFBQ0FMLFNBQUFBLGFBaE5BLElBQ0FxQyxZQTNCQSxJQUNBSixTQWhCQSxJQUNBTCxjQTNCQSxHQ0FBLFdBQ0F6UCxRQUFBQyxPQUFBLE9BQUE0QixRQUFBLGNBRUEsU0FBQUMsTUFBQUUsVUFBQStRLFdBQUE5USxxQkFDQSxJQUFBK1EsTUFBQSxLQUNBdlIsTUFBQSxLQUNBd1IsTUFBQSxnQkFDQUMsZUFBQSxLQUNBdEksTUFBQSxHQUNBQyxLQUFBRCxNQUFBWCxPQUFBLEVBQ0FrSixRQUFBLENBQ0FDLEtBQUEsU0FBQUMsTUFBQUMsWUFBQUMsVUFFQVAsTUFBQSxHQUNBLElBQUFRLFdBQUFBLEVBQ0EsR0FBQUQsU0FBQUUsWUFBQSxFQUNBRCxNQUFBRSxNQUFBQyxLQUFBQyxPQUFBTCxTQUFBRSxZQUFBSixRQUNBaEYsTUFBQWtGLFNBQUFsRixPQUNBbUYsTUFBQXBGLE9BQUFtRixTQUFBbkYsUUFDQTRFLE1BQUFRLE1BQUFBLE1BQ0FSLE1BQUFhLE1BQUFMLE1BQUEzUSxJQUFBLGNBQUEsR0FDQSxJQUFBaVIsVUFBQSxJQUFBQyxNQUNBRCxVQUFBRSxZQUFBLFlBRUEsSUFBQUMsUUFBQWpCLE1BQUFhLE1BQUFLLEtBQUEsaUJBQUEsR0FDQUosVUFBQXhHLE9BQUEsV0FDQTJHLFFBQUFFLE1BQUFMLFdBQ0FkLE1BQUFhLE1BQUFPLFFBRUFOLFVBQUFPLElBQUFkLFNBQUFaLFdBRUFzQixRQUFBSyxHQUFBLFFBQUFuQixRQUFBb0IsbUJBQ0FOLFFBQUFLLEdBQUEsWUFBQW5CLFFBQUFxQixvQkFDQSxDQUNBaEIsTUFBQSxJQUFBRSxNQUFBZSxNQUFBLENBQ0FDLFVBQUFyQixNQUNBL0ksRUFBQSxFQUNBcUssRUFBQSxFQUNBdEcsTUFBQWlGLFlBQUFqRixNQUNBRCxPQUFBa0YsWUFBQWxGLFNBRUE0RSxNQUFBUSxNQUFBQSxNQUNBLElBQUFvQixTQUFBLElBQUFsQixNQUFBbUIsTUFBQSxDQUNBcFAsR0FBQSxjQUVBdU4sTUFBQVEsTUFBQXNCLElBQUFGLFVBQ0E1QixNQUFBYSxNQUFBZSxTQUVBLElBQUFkLFNBQUEsSUFBQUMsTUFDQUQsU0FBQUUsWUFBQSxZQUNBRixTQUFBTyxJQUFBZCxTQUFBWixXQUVBbUIsU0FBQXhHLE9BQUEsV0FDQSxJQUFBMkcsUUFBQSxJQUFBUCxNQUFBSyxNQUFBLENBQ0FJLE1BQUFMLFNBQ0FuTSxLQUFBLGVBQ0FsQyxHQUFBLGVBQ0EySSxPQUFBNEUsTUFBQVEsTUFBQXBGLFNBQ0E5RCxFQUFBLEVBRUFxSyxFQUFBLEVBQ0F0RyxNQUFBMkUsTUFBQVEsTUFBQW5GLFFBQ0EwRyxRQUFBLElBRUFkLFFBQUFLLEdBQUEsUUFBQW5CLFFBQUFvQixtQkFFQU4sUUFBQUssR0FBQSxZQUFBbkIsUUFBQXFCLGdCQUdBeEIsTUFBQWEsTUFBQWlCLElBQUFiLFNBQ0FqQixNQUFBYSxNQUFBTyxPQUNBcEIsTUFBQWEsTUFBQW1CLGdCQWFBLE9BVEFDLE9BQUFDLGlCQUFBLGNBQUEsU0FBQXhLLEdBQ0EsV0FBQUEsRUFBQXlLLE9BQUFDLFVBQ0ExSyxFQUFBMkssaUJBQ0FySCxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxVQUNBdkMsTUFBQWEsTUFBQU8sT0FDQWpCLFFBQUFxQyxpQkFJQXhDLE9BRUF5QyxTQUFBLFdBQ0EsT0FBQXpDLE9BRUEwQyxTQUFBLFNBQUFDLFdBQ0EzSCxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxZQUNBOVQsTUFBQWtVLFdBRUFDLFNBQUEsU0FBQUMsZUFDQTVDLE1BQUE0QyxlQUVBTCxZQUFBLFdBQ0EvVCxNQUFBLE1BRUFxVSxlQUFBLFdBQ0EsR0FBQTlDLE1BQ0EsT0FBQUEsTUFBQVEsTUFBQTlFLFVBQUEsY0FHQXFILFVBQUEsV0FDQSxHQUFBL0MsTUFDQSxPQUFBQSxNQUFBUSxNQUFBd0MsVUFHQXpCLGtCQUFBLFNBQUE3SixHQUVBLEdBQUFzSSxPQUFBdlIsTUFBQSxDQUtBLElBQUF3VSxTQUFBLENBQ0EzTCxFQUFBMEksTUFBQVEsTUFBQTBDLHFCQUFBNUwsRUFDQXFLLEVBQUEzQixNQUFBUSxNQUFBMEMscUJBQUF2QixHQUdBekIsZUFDQUMsUUFBQWdELGFBQ0FoRCxRQUFBQSxRQUFBMVIsT0FBQXdVLGVBWEFqSSxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxXQWFBZixlQUFBLFdBRUEsR0FBQS9TLE9BQUF5UixlQUFBLENBR0EsSUFBQStDLFNBQUEsQ0FDQTNMLEVBQUEwSSxNQUFBUSxNQUFBMEMscUJBQUE1TCxFQUNBcUssRUFBQTNCLE1BQUFRLE1BQUEwQyxxQkFBQXZCLEdBRUF4QixRQUFBQSxRQUFBMVIsT0FBQXdVLFlBRUFHLFlBQUEsU0FBQUgsVUFDQSxJQUFBSSxPQUFBLElBQUEzQyxNQUFBNEMsT0FBQSxDQUNBaE0sRUFBQTJMLFNBQUEzTCxFQUNBcUssRUFBQXNCLFNBQUF0QixFQUNBNEIsT0FBQSxFQUNBQyxPQUFBdkQsTUFDQXRMLEtBQUEsU0FDQThPLFlBQUEsRUFDQUMsS0FBQXpELE1BQ0EwRCxXQUFBLElBTUEsT0FKQTNELE1BQUFhLE1BQUFpQixJQUFBdUIsUUFDQXJELE1BQUFhLE1BQUFPLE9BQ0FyQixXQUFBNkQsV0FBQSxlQUNBekQsUUFBQTBELFdBQUFDLFFBQUFULFFBQ0FBLFFBRUFVLFlBQUEsU0FBQWQsVUFDQSxJQUFBZSxPQUFBLElBQUF0RCxNQUFBNEMsT0FBQSxDQUNBaE0sRUFBQTJMLFNBQUEzTCxFQUNBcUssRUFBQXNCLFNBQUF0QixFQUNBNEIsT0FBQSxFQUNBRyxLQUFBekQsTUFDQXVELE9BQUF2RCxNQUNBd0QsWUFBQSxJQUVBekQsTUFBQWEsTUFBQWlCLElBQUFrQyxRQUNBaEUsTUFBQWEsTUFBQU8sT0FDQWxCLGVBQUE4RCxRQUVBQyxZQUFBLFNBQUFoQixVQUNBL0MsaUJBQ0FBLGVBQUFxRCxPQUFBVyxLQUFBQyxJQUFBbEIsU0FBQTNMLEVBQUE0SSxlQUFBNUksTUFDQTBJLE1BQUFhLE1BQUFPLFNBR0FnRCxVQUFBLFNBQUFuQixVQUNBLElBQUFvQixLQUFBLElBQUEzRCxNQUFBNEQsS0FBQSxDQUNBM1AsS0FBQSxhQUNBNFAsT0FBQSxDQUFBdEIsU0FBQTNMLEVBQUEyTCxTQUFBdEIsR0FDQThCLFlBQUEsRUFDQUQsT0FBQXZELE1BQ0EwRCxXQUFBLElBRUEzRCxNQUFBYSxNQUFBaUIsSUFBQXVDLE1BQ0FyRSxNQUFBYSxNQUFBTyxPQUNBbEIsZUFBQW1FLE1BRUFHLFVBQUEsU0FBQXZCLFVBQ0EsR0FBQS9DLGVBQUEsQ0FDQSxJQUFBcUUsT0FBQXJFLGVBQUFxRSxTQUNBQSxPQUFBLEdBQUF0QixTQUFBM0wsRUFDQWlOLE9BQUEsR0FBQXRCLFNBQUF0QixFQUNBekIsZUFBQXFFLE9BQUFBLFFBQ0F2RSxNQUFBYSxNQUFBTyxTQUlBK0IsV0FBQSxXQUNBbkksU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFDQXhDLFdBQUE2RCxXQUFBLGVBQ0F6RCxRQUFBMEQsV0FBQUMsUUFBQTVELGdCQUNBelIsTUFBQSxLQUNBeVIsZUFBQSxNQUdBdUUsVUFBQSxTQUFBNUcsTUFDQSxHQUFBbUMsTUFBQSxDQUdBLElBQUEwRSxXQUFBLElBQUFoRSxNQUFBaUUsS0FBQSxDQUNBck4sRUFBQTBJLE1BQUFRLE1BQUFvRSxXQUFBLEVBQ0FqRCxFQUFBLEdBQ0E5RCxLQUFBQSxLQUNBZ0gsU0FBQSxHQUNBbEIsV0FBQSxFQUNBbUIsV0FBQSxVQUNBcEIsS0FBQXpELFFBSUF5RSxXQUFBSyxVQUFBLENBQ0F6TixFQUFBb04sV0FBQUUsV0FBQSxJQUVBNUUsTUFBQWEsTUFBQWlCLElBQUE0QyxZQUNBMUUsTUFBQWEsTUFBQU8sT0FDQWpCLFFBQUEwRCxXQUFBQyxRQUFBWSxZQUNBM0UsV0FBQTZELFdBQUEsaUJBR0FDLFNBQUEsV0FDQSxJQUFBMUQsUUFBQSxDQUNBMkQsUUFBQSxTQUFBak4sTUFDQWUsTUFBQUcsT0FBQUYsS0FBQSxFQUFBRCxNQUFBWCxPQUFBSixNQUNBZ0IsS0FBQUQsTUFBQVgsT0FBQSxHQUVBK04sS0FBQSxXQUNBbk4sTUFBQSxJQUNBN0YsUUFBQUMsSUFBQSxPQUFBMkYsTUFBQUMsT0FDQUQsTUFBQUMsTUFBQThFLFNBQ0FxRCxNQUFBYSxNQUFBTyxPQUNBdkosU0FHQW9OLEtBQUEsV0FDQXBOLEtBQUFELE1BQUFYLE9BQUEsSUFDQVksT0FDQTdGLFFBQUFDLElBQUEsT0FBQTJGLE1BQUFDLE9BQ0FtSSxNQUFBYSxNQUFBaUIsSUFBQWxLLE1BQUFDLE9BQ0FtSSxNQUFBYSxNQUFBTyxTQUdBcEUsTUFBQSxXQUNBbkYsTUFBQUQsTUFBQSxJQUFBWCxPQUFBLElBSUEsT0FBQTVGLE9BQUE2VCxPQUFBL0UsV0FJQSxPQUFBQSxVQWpRQSxHQ0FBLFdBQ0FuVCxRQUFBQyxPQUFBLE9BQUE0QixRQUFBLHFCQUVBLFNBQ0FDLE1BQ0FDLE9BQ0FDLFVBQ0FDLG9CQUNBQyxRQUNBQyxPQUNBQyxhQUNBQyxHQUNBb0gsV0FDQTBPLGNBQ0FDLG9CQUNBLElBQUFDLFNBQ0FDLEdBQUE3VSxLQUNBOFUsYUFBQSxHQWdCQSxPQWJBaFcsUUFBQSxTQUFBQyxPQUFBQyxPQUNBLE1BQUEsQ0FDQUMsZUFBQSxRQUFBRixZQUFBRyxFQUFBLG1CQUNBQyxpQkFBQUgsTUFDQVIsb0JBQUFZLElBQUEscUJBQ0FGLEVBQ0FHLFNBQUFDLEtBQUFDLFVBQUEsQ0FDQUMsT0FBQSxVQVBBb1YsU0FXQW5XLFFBQUFnQixTQVhBbVYsU0FXQW5WLFNBQUFFLFVBWEFpVixTQVdBalYsVUFBQUQsT0FYQWtWLFNBV0FsVixPQUVBLENBQ0FxVixhQUFBLFNBQUE5UCxPQUFBK1AsWUFpSEEsR0FoSEF6VCxRQUFBQyxJQUFBLFdBQUF5RCxRQUNBMUQsUUFBQUMsSUFBQSxtQkFBQXdULFlBQ0F6VCxRQUFBQyxJQUFBLHNCQUFBd1QsV0FBQTlNLElBQ0EzRyxRQUFBQyxJQUFBLDhCQUFBd1QsV0FBQS9NLFlBR0FySixHQUFBK0YsUUFFQXFRLFdBQUE5TSxHQUFBMUIsUUFDQXdPLFdBQUE5TSxHQUNBTSxRQUFBLFNBQUEzQixFQUFBNEgsRUFBQXdHLE9BQ0ExVCxRQUFBQyxJQUFBcUYsRUFBQTRILEdBNEZBaUcsY0FBQWxSLE1BekZBLFNBQUEwUixXQUVBck8sRUFBQXVCLEtBQUErTSxNQUFBVCxjQUFBUyxNQUFBQyxLQUFBRixVQUFBck8sR0FDQUEsRUFBQXVCLEtBQUFpTixPQUFBWCxjQUFBVyxPQUFBRCxLQUFBRixVQUFBck8sR0FDQUEsRUFBQXVCLEtBQUFrTixNQUFBWixjQUFBWSxNQUFBRixLQUFBRixVQUFBck8sR0FDQSxJQUFBME8sVUFBQSxDQUNBclIsS0FBQTJDLEVBQUF1QixLQUFBbEUsS0FDQWtFLEtBQUF2QixFQUFBdUIsS0FDQTNJLFNBQUEsU0FBQStWLEVBQUFDLE9BSUE1TyxFQUFBdUIsS0FBQTNJLFNBQ0FvSCxFQUFBdUIsS0FBQTNJLFNBQUFnVSxLQUFBaUMsTUFBQSxJQUFBRixHQUNBM08sRUFBQXVCLEtBQUEzSSxTQUNBZ1UsS0FBQWlDLE1BQUEsSUFBQUYsR0FFQVgsR0FBQWMsYUFBQWhCLG1CQUFBdE0sc0JBQ0EyTSxhQU9BclIsU0FBQSxTQUFBaVMsS0FBQUMsUUFDQWhQLEVBQUF1QixLQUFBSyxXQUFBLEVBS0FsSCxRQUFBQyxJQUFBLGVBSUEwVCxVQUFBN0QsSUFBQWtFLFdBQUE5UixLQUNBLFNBQUFxUyxjQUVBdlUsUUFBQUMsSUFBQXFGLEdBQ0EsSUFBQS9HLFFBQUEsQ0FDQTRGLEtBQUFpUCxtQkFBQXhNLGdCQUFBdEIsRUFBQXVCLE1BRUEyTixVQUFBLENBQ0EvTSxVQUFBbkMsRUFBQXVCLEtBQUFsRSxLQUNBOFIsaUJBQUFuUCxFQUFBckMsUUFDQXlSLE9BQUEsY0FDQWxaLElBQUFBLFFBQUE4SixFQUFBdUIsS0FBQWxFLEtBQ0FnUyxTQUFBclAsRUFBQXVCLEtBQUExQyxLQUNBeVEsTUFBQXRQLEVBQUF1QixLQUFBTCxPQUtBMUosTUFBQSxDQUNBSixJQUFBQSxJQUFBLDRCQUNBYyxPQUFBLE9BQ0FtQixLQUFBSixRQUNBaEIsUUFBQUEsUUFBQSxRQUFBLEtBQ0EyRSxLQUFBLFNBQUFDLE1BQ0FuQyxRQUFBQyxJQUFBLFlBQUFrQyxNQUNBb1IsYUFBQXpOLEtBQUEzRCxNQUNBK0ssR0FBQXVHLFdBQUE5TSxHQUFBMUIsT0FBQSxJQUNBNFAsTUFBQSxpQkFDQTdVLFFBQUFDLElBQUFpTixHQUNBbE4sUUFBQUMsSUFBQSxTQUFBcUYsTUFHQWpELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFLQSxTQUFBb1AsUUFFQXhQLEVBQUE2QixTQUFBLEVBRUFtTSxHQUFBYyxhQUFBaEIsbUJBQUF0TSxzQkFDQTJNLGtCQW9CQUEsV0FBQS9NLFdBQUF6QixPQUNBLENBQUEsSUFBQThQLGtCQUFBLENBQ0FoTyxNQUFBME0sV0FBQS9NLFlBSUF2SixPQUFBK0MsT0FBQSxDQUNBeEQsSUFBQUEsSUFBQSxrQkFDQWMsT0FBQSxPQUNBbUIsS0FBQW9XLGtCQUNBeFgsUUFBQUEsUUFBQSxRQUFBLEtBRUEyRSxLQUFBLFNBQUFDLE1BQ0FuQyxRQUFBQyxJQUFBLDJCQUFBa0MsTUFHQW1SLEdBQUFjLGFBQUFoQixtQkFBQXRNLHNCQUNBMk0sY0FJQXBSLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FtQkFzUCxTQUFBLFNBQUF0UixPQUFBcUQsT0FDQS9HLFFBQUFDLElBQUF5RCxRQUNBMUQsUUFBQUMsSUFBQThHLFdBOUxBLEdDQUEsV0FDQS9MLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsZ0JBRUEsU0FDQUMsTUFDQUUsVUFDQUMsb0JBQ0F3SCxXQUNBdEgsT0FDQXVKLFdBQ0F0SixjQUdBLElBRUFsQyxPQUFBLENBQ0ErWixVQUFBQSw2Q0FDQUMsUUFBQSx1QkFDQVIsT0FBQSxtQkFDQVMsVUFMQSxhQU1BQyxtQkFBQSxFQUNBQyw4QkFBQSxFQUNBQyxnQkFBQSxTQUFBM1csTUFDQSxPQUFBNFcsSUFBQUMsS0FBQUMsT0FBQUMsSUFBQS9XLEtBQUEsV0FFQWdYLHdCQUFBLFNBQUFoWCxNQUNBLE9BQUE0VyxJQUFBQyxLQUFBQyxPQUFBRyxPQUFBalgsS0FBQSxTQUlBLE1BQUEsQ0FDQXlQLEtBQUEsV0FDQSxPQUFBeUgsVUFBQWpILE9BQUExVCxTQUVBK0csTUFBQSxTQUFBNlQsU0FDQSxJQUFBQyxXQUFBdFgsS0FBQTJQLE9BRUEySCxXQUFBN1QsS0FBQTRULFNBQUF6VCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BR0FrTyxNQUFBLFNBQUEvTSxNQUNBcEksS0FBQW1WLE1BQUEsb0JBQUEvTSxLQUFBbEUsS0FBQSxDQUFBcVQsT0FBQSxJQUNBOVQsS0FBQSxXQUNBMkUsS0FBQW9QLFVBQUEsRUFDQWpXLFFBQUFDLElBQUEsYUFFQW9DLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFHQW9PLE9BQUEsU0FBQWpOLE1BQ0FwSSxLQUFBcVYsT0FBQSxvQkFBQWpOLEtBQUFsRSxNQUNBVCxLQUFBLFdBQ0EyRSxLQUFBb1AsVUFBQSxFQUNBalcsUUFBQUMsSUFBQSxjQUVBb0MsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUdBcU8sTUFBQSxTQUFBbE4sTUFDQXBJLEtBQUF5WCxPQUFBLG9CQUFBclAsS0FBQWxFLE1BQ0FULEtBQUEsV0FFQWxDLFFBQUFDLElBQUEsZUFFQW9DLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsU0FwRUEsR0NBQSxXQUNBMUssUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxZQUVBLFNBQ0FDLE1BQ0FFLFVBQ0FDLG9CQUNBd0gsV0FDQTBSLFNBQ0EvWSxjQUVBLElBQUFnWixHQUFBRCxTQUFBRSxjQW1JQSxNQWxJQSxDQUNBQyxjQUFBLFNBQUFDLFlBQUFDLEtBQUFDLFNBQ0EsT0FBQSxJQUFBM1UsUUFBQSxTQUFBQyxRQUFBQyxRQUNBLElBQUEwVSxPQUFBLElBQUFOLEdBQUFPLG1CQUNBRCxPQUFBRSxVQUFBLEVBQ0FGLE9BQUFHLGFBQUEsRUFDQUgsT0FBQUksWUFBQSxFQUNBSixPQUFBSyxXQUFBUCxNQUNBRSxPQUFBTSxVQUFBUixLQUNBRSxPQUFBL1QsS0FBQTRULFlBQ0FHLE9BQUFPLFdBQUFSLFFBS0FMLEdBQUFjLGFBQUFaLGNBQUFJLE9BQUEsU0FBQVMsYUFBQXRNLE9BQ0FBLE1BQ0E3SSxPQUFBTSxLQUdBUCxRQUFBb1YsbUJBS0FDLGFBQUEsU0FBQXpXLFdBQ0EsT0FBQSxJQUFBbUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBLElBQUFxVixpQkFBQWpCLEdBQUFjLGFBQUFJLGdDQUNBRCxpQkFBQUUsY0FBQSxFQUNBRixpQkFBQUcsa0JBQUEsQ0FBQTdXLFdBQ0EwVyxpQkFBQUksU0FDQUosaUJBQUFLLEtBQUEsU0FBQUMsWUFBQTlNLE9BQ0FBLE1BQ0E3SSxPQUFBTSxLQUdBUCxRQUFBNFYsa0JBTUFDLFlBQUEsU0FBQUMsUUFBQUMsT0FDQSxPQUFBLElBQUFoVyxRQUFBLFNBQUFDLFFBQUFDLFFBQ0E2VixRQUFBRSxrQkFBQUQsTUFBQSxTQUFBM1YsS0FBQTBJLE9BQ0FBLE1BQ0E3SSxPQUFBNkksT0FHQTlJLFFBQUFJLFdBS0E2VixtQkFBQSxTQUFBSCxTQUNBLE9BQUEsSUFBQS9WLFFBQUEsU0FBQUMsUUFBQUMsUUFDQSxJQUFBaVcscUJBQUFKLFFBQUFLLGlDQUNBRCxxQkFBQXBWLE1BQUEsR0FDQW9WLHFCQUFBRSxTQUFBLEVBQ0FGLHFCQUFBRyxLQUFBLFNBQUFDLFNBQUF4TixPQUNBQSxNQUNBN0ksT0FBQU0sTUFHQXVWLFFBQUFRLFNBQUFBLFNBQ0F0VyxRQUFBOFYsZUFNQVMsZ0JBQUEsU0FBQVQsU0FDQSxPQUFBLElBQUEvVixRQUFBLFNBQUFDLFFBQUFDLFFBQ0EsSUFBQWlXLHFCQUFBSixRQUFBSyxpQ0FDQUQscUJBQUFwVixNQUFBLEdBQ0FvVixxQkFBQUUsU0FBQSxFQUNBRixxQkFBQU0sa0JBQUEsRUFDQU4scUJBQUFHLEtBQUEsU0FBQXJSLE1BQUE4RCxPQUNBQSxNQUNBN0ksT0FBQU0sTUFHQXVWLFFBQUE5USxNQUFBQSxNQUNBaEYsUUFBQThWLGVBTUFXLFlBQUEsU0FBQVgsUUFBQXBTLFNBQ0EsT0FBQSxJQUFBM0QsUUFBQSxTQUFBQyxRQUFBQyxRQUNBNlYsUUFBQVksZ0JBQ0FoVCxRQUNBLHFCQUNBLFNBQUFBLFFBQUFvRixPQUNBQSxNQUNBN0ksT0FBQTZJLE9BR0E5SSxRQUFBOFYsY0FPQWEsZ0JBQUEsU0FBQWIsUUFBQTlRLE9BQ0EsSUFBQTRSLGFBQUEsR0FEQUMsTUFBQSxTQUVBL1IsTUFDQSxJQUFBckksUUFBQSxJQUFBc0QsUUFBQSxTQUFBQyxRQUFBQyxRQUNBNlYsUUFBQWEsZ0JBQ0E3UixLQUFBOEcsV0FDQTlHLEtBQUFZLFVBQ0FaLEtBQUFnUyxPQUNBaFMsS0FBQStOLE1BQ0EsR0FDQSxHQUNBLFNBQUFrRSxZQUFBak8sT0FDQUEsT0FDQTdJLE9BQUE2SSxPQUVBOUksUUFBQStXLGlCQUlBSCxhQUFBN1MsS0FBQXRILFVBbkJBdWEsMkJBQUEsRUFBQUMsbUJBQUEsRUFBQUMsb0JBQUF0YixFQUFBLElBRUEsSUFBQSxJQUFBdWIsTUFBQUMsVUFBQXBTLE1BQUFxUyxPQUFBQyxjQUFBTiwyQkFBQUcsTUFBQUMsVUFBQXpCLFFBQUE0QixNQUFBUCwyQkFBQSxFQUFBLENBQUEsSUFBQWxTLEtBQUFxUyxNQUFBdk4sTUFBQWlOLE1BQUEvUixPQUZBLE1BQUF2RSxLQUFBMFcsbUJBQUEsRUFBQUMsZUFBQTNXLElBQUEsUUFBQSxLQUFBeVcsMkJBQUFJLFVBQUFJLFFBQUFKLFVBQUFJLFNBQUEsUUFBQSxHQUFBUCxrQkFBQSxNQUFBQyxnQkFxQkEsT0FBQU4saUJBM0lBLEdDQUEsV0FDQTNkLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsV0FFQSxTQUFBQyxNQUFBRSxVQUFBQyxvQkFBQUcsY0FDQSxJQUtBZ1osR0FBQSxJQUFBb0QsU0FBQSxDQUNBQyxNQUxBLHlDQThEQSxNQXREQSxDQUNBcEQsWUFBQSxXQUNBLE9BQUFELElBRUFzRCxRQUFBLFNBQUFqWixHQUFBaEQsT0FDQSxPQUFBLElBQUFxRSxRQUFBLFNBQUFDLFFBQUFDLFFBRUFvVSxHQUFBdUQsV0FBQSxXQUNBdkQsR0FBQXNELFFBQ0FqWixHQUNBaEQsTUFDQSxTQUFBK1ksS0FBQWxVLEtBQ0FBLElBQ0FOLE9BQUFNLEtBRUFQLFFBQUF5VSxhQU9BbUQsV0FBQSxXQUNBLE9BQUEsSUFBQTdYLFFBQUEsU0FBQUMsUUFBQUMsUUFDQW9VLEdBQUF1RCxXQUFBLFdBQ0E1WCxRQUFBLGtDQUlBMkssTUFBQSxXQUNBLElBQUEvTixLQUFBLENBQ0E2WCxLQUFBLEtBQ0FvRCxlQUFBLE1BRUEsTUFBQSxDQUNBL2IsSUFBQSxXQUFBLElBQUFnYyxLQUFBQyxVQUFBN1UsT0FBQSxRQUFBdEgsSUFBQW1jLFVBQUEsR0FBQUEsVUFBQSxHQUFBLEtBQ0EsT0FBQUQsS0FBQWxiLEtBQUFrYixNQUFBbGIsTUFFQXZDLElBQUEsU0FBQXlkLEtBQUF4VCxLQUNBMUgsS0FBQWtiLE1BQUF4VCxLQUVBMkUsTUFBQSxXQUNBck0sS0FBQVUsT0FBQUMsS0FBQVgsTUFBQVksT0FBQSxTQUFBQyxJQUFBOEYsR0FFQSxPQURBOUYsSUFBQThGLEdBQUEsS0FDQTlGLEtBQ0EsT0FJQXFMLE1BQUEsU0FBQW5GLEdBQ0F0SSxhQUFBeU4sTUFBQSx3QkFDQTdLLFFBQUFDLElBQUF5RixPQWhFQSxHQ0FBLFdBQ0ExSyxRQUFBQyxPQUFBLE9BQUE0QixRQUFBLFdBRUEsU0FDQUMsTUFDQUUsVUFDQStRLFdBQ0E5USxvQkFDQWtaLFNBQ0EvWSxjQUVBLElBQUFnWixHQUFBRCxTQUFBRSxjQW9DQSxNQW5DQSxDQUNBakksS0FBQSxXQUVBLElBQUEyTCxrQkFBQSxJQUFBM0QsR0FBQTRELGVBRUFELGtCQUFBRSxrQkFBQSxTQUFBcEMsUUFBQXBTLFNBQ0FzSSxXQUFBNkQsV0FBQSx1QkFBQSxDQUNBaUcsUUFBQUEsUUFDQXBTLFFBQUFBLFdBSUEyUSxHQUFBOEQsa0JBQUEsa0JBQUFILG1CQUdBLElBQUFJLGNBQUEsSUFBQS9ELEdBQUE0RCxlQUNBRyxjQUFBQyxhQUFBLFNBQUF2QyxRQUFBckIsTUFDQXpJLFdBQUE2RCxXQUFBLG1CQUFBLENBQ0FpRyxRQUFBQSxRQUNBckIsS0FBQUEsUUFJQUosR0FBQThELGtCQUFBLG1CQUFBQyxlQUVBLElBQUFFLG9CQUFBLElBQUFqRSxHQUFBNEQsZUFDQUssb0JBQUFDLHNCQUFBLFNBQUF6QyxTQUNBOUosV0FBQTZELFdBQUEsZUFBQSxDQUNBaUcsUUFBQUEsV0FJQXpCLEdBQUE4RCxrQkFBQSxlQUFBRyx5QkE1Q0EsR0NBQSxXQUdBcmYsUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxrQkFHQSxTQUFBa1IsWUFDQSxNQUFBLENBRUF3TSxZQUFBLFNBQUFsTSxNQUFBQyxZQUFBa00sYUFDQSxJQUFBaE0sTUFDQWdNLGFBQUFBLFlBQUFDLGFBQ0FqTSxNQUFBRSxNQUFBQyxLQUFBQyxPQUFBNEwsWUFBQUMsV0FBQSxVQUNBcFIsTUFBQWlGLFlBQUFqRixPQUNBbUYsTUFBQXBGLE9BQUFrRixZQUFBbEYsU0FFQW9GLE1BQUEsSUFBQUUsTUFBQWUsTUFBQSxDQUNBQyxVQUFBckIsTUFDQS9JLEVBQUEsRUFDQXFLLEVBQUEsRUFDQXRHLE1BQUFpRixZQUFBakYsTUFDQUQsT0FBQWtGLFlBQUFsRixTQUdBLElBQUFzUixhQUFBamMsS0FBQWljLGFBT0EsT0FOQWxNLE1BQUFjLEdBQUEsZ0JBQUEsV0FDQSxJQUFBcUwsV0FBQUQsYUFBQXJNLE9BQ0FHLE1BQUFuRixNQUFBc1IsV0FBQXRSLE9BQ0FtRixNQUFBcEYsT0FBQXVSLFdBQUF2UixRQUNBb0YsTUFBQVksU0FFQVosT0FFQWtNLGFBQUEsU0FBQXJNLE9BQ0EsSUFBQXVNLEdBQUE1UixTQUFBNlIsZUFBQXhNLE9BQ0EsTUFBQSxDQUNBakYsT0FBQXdSLEdBQUFFLGFBQ0F6UixNQUFBdVIsR0FBQUcsY0FLQUMsUUFBQSxXQUNBLElBQUFDLGFBQUEsQ0FDQUMsT0FBQSxDQUNBQyxVQUFBLEVBQ0FDLE9BQUEsRUFDQXBKLE9BQUEsRUFDQXFKLFFBQUEsRUFDQUMsV0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsR0FFQUMsU0FBQSxDQUNBcEosS0FBQSxFQUNBcUosWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLE9BQUEsRUFDQUMsU0FBQSxFQUNBaFEsS0FBQSxFQUNBaVEsVUFBQSxHQUVBQyxZQUFBLENBQ0FaLFVBQUEsRUFDQUMsT0FBQSxFQUNBcEosT0FBQSxFQUNBcUosUUFBQSxFQUNBQyxXQUFBLEVBQ0FFLFFBQUEsRUFDQUQsU0FBQSxJQUlBUyxhQUFBZixhQUNBLE1BQUEsQ0FDQTdDLEtBQUEsU0FBQTZELE9BQ0FELGFBQUFDLE9BRUFDLFNBQUEsU0FBQS9YLEtBQUFnWSxPQUVBLE9BREFILGFBQUE3WCxNQUFBZ1ksU0FDQUgsYUFBQTdYLE1BQUFnWSxRQUVBdGUsSUFBQSxXQUNBLE9BQUFtZSxjQUVBaFIsTUFBQSxXQUNBZ1IsYUFBQWYsZ0JBU0F0SyxVQUFBLFdBRUEsSUFBQXlMLGtCQUFBLENBQ0FsQixPQUFBLENBQ0FDLFdBQUEsRUFDQUMsUUFBQSxFQUNBcEosUUFBQSxFQUNBcUosU0FBQSxFQUNBQyxZQUFBLEVBQ0FFLFNBQUEsR0FFQUMsU0FBQSxDQUNBcEosTUFBQSxFQUNBcUosYUFBQSxFQUNBQyxhQUFBLEVBQ0FDLFFBQUEsRUFDQUMsVUFBQSxFQUNBaFEsTUFBQSxFQUNBaVEsV0FBQSxHQUVBQyxZQUFBLENBQ0FaLFdBQUEsRUFDQUMsUUFBQSxFQUNBcEosUUFBQSxFQUNBcUosU0FBQSxFQUNBQyxZQUFBLEVBQ0FFLFNBQUEsRUFDQUQsVUFBQSxJQUtBYyxXQUFBcmhCLFFBQUE0SixLQUFBd1gsbUJBRUEsTUFBQSxDQUVBaGdCLElBQUEsU0FBQStILE1BQ0EsSUFBQTdFLEtBQUE2RSxLQUFBbVksTUFBQSxLQUNBN2QsS0FBQXVNLFFBQ0FxUixXQUFBL2MsS0FBQSxJQUFBQSxLQUFBLEtBQUEsRUFDQXlPLFdBQUE2RCxXQUFBLGtCQUFBeUssYUFHQUUsTUFBQSxTQUFBcFksTUFDQSxJQUFBN0UsS0FBQTZFLEtBQUFBLEtBQUFtWSxNQUFBLEtBQUEsR0FDQSxPQUFBblksS0FBQWtZLFdBQUEvYyxLQUFBLElBQUFBLEtBQUEsSUFBQStjLFlBRUFyUixNQUFBLFdBQ0FxUixXQUFBcmhCLFFBQUE0SixLQUFBd1gsbUJBQ0FyTyxXQUFBNkQsV0FBQSxrQkFBQXlLLGVBT0FHLGlCQUFBLFdBQ0EsSUFBQS9mLE1BQUEsQ0FDQWtQLE1BQUEsRUFDQThRLEtBQUEsU0FHQSxNQUFBLENBQ0FyZ0IsSUFBQSxTQUFBc2dCLEtBQ0FqZ0IsTUFBQWlnQixLQUVBN2UsSUFBQSxXQUNBLE9BQUFwQixTQU1Ba2dCLGFBQUEsU0FBQUMsU0FDQSxJQUFBaFgsTUFBQWdYLFNBQUEsR0FDQS9XLEtBQUFELE1BQUFYLE9BQUEsRUFDQSxNQUFBLENBQ0FhLEtBQUEsU0FBQU8sS0FDQVQsTUFBQUcsT0FBQUYsS0FBQSxFQUFBRCxNQUFBWCxPQUFBb0IsS0FDQVIsS0FBQUQsTUFBQVgsT0FBQSxHQUVBNFgsS0FBQSxXQUNBLE9BQUFqWCxPQUVBa1gsS0FBQSxXQUNBLE9BQUFsWCxNQUFBQyxPQUVBbU4sS0FBQSxXQUNBbk4sTUFBQSxJQUNBRCxNQUFBQyxNQUFBa1gsU0FDQWxYLE1BQUEsSUFHQW9OLEtBQUEsV0FDQXBOLEtBQUFELE1BQUFYLFNBQ0FZLEtBQUFBLE9BQUFELE1BQUFYLE9BQUEsRUFBQVksS0FBQUEsS0FBQSxFQUNBRCxNQUFBQyxNQUFBbVgsY0FPQUMsY0FBQSxTQUFBek8sTUFBQTBPLE9BQUFDLFFBQUFDLFdBQUFDLE9BQ0EsSUFBQUgsT0FBQUEsT0FDQTFPLE1BQUFBLE1BQ0EyTyxRQUFBQSxRQUNBRSxNQUFBQSxNQUdBQyxTQUFBLENBQ0ExTyxPQUFBLENBQ0FtTyxPQUFBLFdBQ0FHLE9BQUF2UyxTQUNBNkQsTUFBQStPLGFBRUFQLFFBQUEsV0FDQUcsUUFBQXJOLElBQUFvTixRQUNBMU8sTUFBQStPLGNBR0FDLEtBQUEsQ0FDQVQsT0FBQSxXQUNBRyxPQUFBak0sU0FBQW9NLE1BQUFwYixPQUNBdU0sTUFBQStPLGFBRUFQLFFBQUEsV0FDQUUsT0FBQWpNLFNBQUFvTSxNQUFBSSxLQUNBalAsTUFBQStPLGNBR0FSLE9BQUEsQ0FDQUEsT0FBQSxXQUNBSSxRQUFBck4sSUFBQW9OLFFBQ0ExTyxNQUFBK08sYUFFQVAsUUFBQSxXQUNBRSxPQUFBdlMsU0FDQTZELE1BQUErTyxjQUdBRyxXQUFBLENBQ0FYLE9BQUEsV0FDQSxJQUFBLElBQUF2aEIsT0FBQTZoQixNQUFBcGIsTUFDQWliLE9BQUExaEIsS0FBQTZoQixNQUFBcGIsTUFBQXpHLE1BR0FnVCxNQUFBK08sYUFFQVAsUUFBQSxXQUNBLElBQUEsSUFBQXhoQixPQUFBNmhCLE1BQUFJLElBQ0FQLE9BQUExaEIsS0FBQTZoQixNQUFBSSxJQUFBamlCLE1BRUFnVCxNQUFBK08sZUFLQSxNQUFBLENBQ0FMLE9BQUFBLE9BQ0FGLFFBQUFNLFNBQUFGLFlBQUFKLFFBQ0FELE9BQUFPLFNBQUFGLFlBQUFMLFNBS0FZLFNBQUEsV0FDQSxJQUFBMWIsTUFDQSxNQUFBLENBQ0E2TixJQUFBLFNBQUFtQixVQUNBLEdBQUFoUCxNQUdBLE1BQUEsQ0FDQUEsTUFBQUEsTUFDQXdiLElBQUF4TSxVQUpBaFAsTUFBQWdQLFlBV0EyTSxxQkFBQSxXQUNBLElBQUEzYixNQUNBLE1BQUEsQ0FDQTZOLElBQUEsU0FBQXVOLE9BQ0EsR0FBQXBiLE1BR0EsTUFBQSxDQUNBQSxNQUFBQSxNQUNBd2IsSUFBQUosT0FKQXBiLE1BQUFvYixTQVlBUSxhQUFBLFNBQUFoUCxPQUNBLElBQ0FBLE1BQUFBLE1BQ0FnUCxhQUFBLEdBRUEsTUFBQSxDQUNBL04sSUFBQSxTQUFBZ08sYUFDQUQsYUFBQS9YLEtBQUFnWSxjQUVBQyxVQUFBLFdBQ0EvaUIsUUFBQWlNLFFBQUE0VyxhQUFBLFNBQUF2WSxHQUNBQSxFQUFBcUYsV0FFQWtFLE1BQUFPLFVBUUE0TyxXQUFBLFNBQUFDLGNBQUFDLFlBQUFDLFlBQ0EsTUFBQSxDQUNBN1ksR0FBQTJZLGNBQUEzWSxFQUFBNFksWUFBQTVZLEdBQUE2WSxXQUFBN1ksRUFDQXFLLEdBQUFzTyxjQUFBdE8sRUFBQXVPLFlBQUF2TyxHQUFBd08sV0FBQXhPLElBS0F5TyxjQUFBLFNBQUFqQyxPQUVBLE1BQUEsQ0FDQXRlLElBQUEsV0FDQSxPQUFBc2UsT0FFQS9mLElBQUEsU0FBQWlLLEtBQ0E4VixNQUFBOVYsS0FFQTJFLE1BQUEsV0FDQW1SLFdBQUF4ZSxLQU9BMGdCLGVBQUEsV0FDQSxJQUFBQyxXQUFBLEdBQ0EsTUFBQSxDQUNBNVIsTUFBQSxTQUFBd08sUUFDQW9ELFdBQUFwRCxRQUVBcmQsSUFBQSxXQUNBLE9BQUF5Z0IsWUFFQUMsS0FBQSxTQUFBQyxXQUNBRixXQUFBQSxXQUFBeFcsT0FBQSxTQUFBcVUsT0FDQSxPQUFBQSxNQUFBeFosU0FBQTZiLGFBTUExWSxLQUFBLFNBQUFxVyxPQUNBLElBQUFzQyxXQUFBSCxXQUFBalosSUFBQSxTQUFBOFcsT0FDQSxPQUFBQSxNQUFBeFosU0FFQThiLFdBQUE5VyxRQUFBd1UsTUFBQXhaLFNBQUEsR0FDQTJiLFdBQUF4WSxLQUFBcVcsUUFHQXVDLE1BQUEsV0FDQUosV0FBQSxNQUtBSyxhQUFBLFdBQ0EsSUFBQUEsYUFBQSxHQUVBeFEsUUFBQSxDQUNBeVEsa0JBQUEsU0FBQTVELFFBQUE2RCxTQUFBMWEsTUFDQSxJQUFBM0ksSUFBQXdmLFFBQUEsSUFBQTZELFNBQUEsSUFBQTVXLEtBQUFDLE1BTUEsT0FMQXlXLGFBQUFuakIsS0FBQSxDQUNBd2YsUUFBQUEsUUFDQTZELFNBQUFBLFNBQ0ExYSxLQUFBQSxNQUVBM0ksS0FFQXNqQixnQkFBQSxTQUFBdGpCLEtBQ0EsT0FBQUEsSUFBQW1qQixhQUFBbmpCLEtBQUFtakIsY0FFQUksdUJBQUEsV0FDQSxPQUFBMWYsT0FBQUMsS0FBQXFmLGNBQUFwZixPQUFBLFNBQUFDLElBQUE4RixHQUNBLElBQUFvWCxJQUFBLENBQ0ExQixRQUFBMkQsYUFBQXJaLEdBQUEwVixRQUNBN1csS0FBQXdhLGFBQUFyWixHQUFBbkIsTUFHQSxPQUFBd2EsYUFBQXJaLEdBQUFuQixNQUNBLEtBQUEsRUFDQXVZLElBQUFzQyxXQUFBTCxhQUFBclosR0FBQXVaLFNBQ0EsTUFDQSxLQUFBLEVBQ0FuQyxJQUFBbGIsUUFBQW1kLGFBQUFyWixHQUFBdVosU0FDQSxNQUNBLEtBQUEsRUFDQW5DLElBQUF1QyxZQUFBTixhQUFBclosR0FBQXVaLFNBSUEsT0FEQXJmLElBQUFzRyxLQUFBNFcsS0FDQWxkLEtBQ0EsS0FFQTBmLGtCQUFBLFNBQUExakIsS0FDQW1qQixhQUFBbmpCLFVBQUFtQyxHQUVBcU4sTUFBQSxXQUNBMlQsYUFBQSxLQUlBLE9BQUF0ZixPQUFBNlQsT0FBQS9FLGFBamFBLEdDQUEsV0FHQW5ULFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsa0JBR0EsU0FBQWtSLFlBQ0EsTUFBQSxDQUNBb1IsYUFBQSxTQUFBQyxjQUNBLElBQ0FDLFNBQUEsR0FNQSxPQUxBRCxhQUFBbFAsaUJBQUEsU0FBQSxTQUFBb1AsSUFDQXRrQixRQUFBaU0sUUFBQW9ZLFNBQUEsU0FBQTVqQixHQUNBQSxFQUFBOGpCLEtBQUEscUJBR0EsQ0FDQUMsU0FBQSxTQUFBdEMsUUFDQW1DLFNBQUF2WixLQUFBb1gsU0FFQUwsS0FBQSxlQUtBNEMsWUFBQSxTQUFBalIsT0FDQSxJQUFBQSxNQUFBQSxNQUNBa1IsT0FBQSxHQUNBLE1BQUEsQ0FDQUYsU0FBQSxTQUFBRyxNQUFBN0osU0FDQXRILFFBR0FrUixPQUFBNVosS0FBQTZaLE9BQ0FuUixNQUFBYyxHQUFBcVEsTUFBQTdKLGFBSUE4SixZQUFBLFNBQUF6RCxPQUNBLElBQUFBLE1BQUFBLE1BQ0F1RCxPQUFBLEdBQ0EsTUFBQSxDQUNBRixTQUFBLFNBQUFHLE1BQUE3SixTQUNBNEosT0FBQS9YLFFBQUFnWSxRQUFBLElBSUFELE9BQUE1WixLQUFBNlosT0FDQXhELE1BQUE3TSxHQUFBcVEsTUFBQTdKLGFBS0ErSixZQUFBLFNBQUFoUixPQUNBLElBQUFBLE1BQUFBLE1BQ0E2USxPQUFBLEdBQ0EsTUFBQSxDQUNBRixTQUFBLFNBQUFHLE1BQUE3SixTQUNBNEosT0FBQS9YLFFBQUFnWSxRQUFBLElBSUFELE9BQUE1WixLQUFBNlosT0FDQTlRLE1BQUFTLEdBQUFxUSxNQUFBN0osZ0JBL0RBLEdDQUEsV0FHQTlhLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsa0JBR0EsU0FBQWtSLFlBQ0EsTUFBQSxDQUNBK1IsWUFBQSxTQUFBdFIsT0FDQSxJQUFBSyxNQUFBLElBQUFILE1BQUFtQixNQUVBLE9BREFyQixNQUFBc0IsSUFBQWpCLE9BQ0FBLE9BRUFrUixnQkFBQSxTQUFBdlIsTUFBQXdSLFdBQ0EsSUFDQW5hLEtBREFvYSxVQUFBLEdBRUEsTUFBQSxDQUNBQyxjQUFBLFdBQ0EsSUFBQUMsTUFBQSxJQUFBelIsTUFBQTBSLE1BQUEsQ0FDQXpkLEtBQUEsV0FBQXNGLEtBQUFDLFFBRUErWCxVQUFBbmEsS0FBQXFhLE9BQ0F0YSxLQUFBb2EsVUFBQWhiLE9BQUEsRUFDQSthLFVBQUFsUSxJQUFBcVEsUUFFQUUsYUFBQSxXQUNBLE9BQUFKLFdBRUFLLFdBQUEsV0FDQSxPQUFBTCxVQUFBcGEsT0FFQTBhLFdBQUEsU0FBQUMsT0FDQTNhLEtBQUEyYSxPQUVBQyxZQUFBLFNBQUFELFlBQ0E3aUIsSUFBQTZpQixNQUNBUixVQUFBbFEsSUFBQW1RLFVBQUFPLFFBRUF4bEIsUUFBQWlNLFFBQUFnWixVQUFBLFNBQUEzYSxHQUNBMGEsVUFBQWxRLElBQUF4SyxLQUdBMGEsVUFBQTVRLFFBRUFzUixZQUFBLFNBQUFGLFlBQ0E3aUIsSUFBQTZpQixNQUNBUCxVQUFBTyxPQUFBN1YsU0FFQTNQLFFBQUFpTSxRQUFBZ1osVUFBQSxTQUFBM2EsR0FDQUEsRUFBQXFGLFdBR0FxVixVQUFBNVEsUUFHQXVSLGNBQUEsU0FBQUMsbUJBRUEvYSxNQURBb2EsVUFBQVcsbUJBQ0EzYixPQUFBLFFBekRBLEdDQUEsV0FHQWpLLFFBQUFDLE9BQUEsT0FBQTRCLFFBQUEsa0JBR0EsU0FDQWtSLFdBQ0E4UyxnQkFDQUMsZ0JBQ0FDLGdCQUVBLElBQ0FDLGFBVUFDLFdBWEFqRyxRQUFBOEYsZ0JBQUE5RixVQUlBa0csZUFBQSxDQUNBOVMsTUFBQSxFQUVBbUUsT0FBQSxHQUNBNE8sVUFBQSxHQUtBLE1BQUEsQ0FFQUMsY0FBQSxTQUFBMUUsS0FDQXVFLFdBQUF2RSxLQU9BMkUsWUFBQSxTQUFBM0UsS0FDQTFCLFFBQUE1QyxLQUFBc0UsTUFHQTRFLFdBQUEsV0FDQSxPQUFBdEcsUUFBQW5kLE9BR0EwakIsWUFBQSxTQUFBcGQsS0FBQThNLFVBRUEsR0FBQStQLGFBQ0EsTUFBQSxDQUNBL2UsT0FBQSxFQUNBa2EsTUFBQTZFLGNBR0EsSUFBQTdFLE1BQ0F1QixXQUFBdUQsV0FBQXBqQixNQUVBLE9BQUFzRyxNQUNBLEtBQUEsRUFDQWdZLE1BQUEsSUFBQXpOLE1BQUE0RCxLQUFBLENBQ0FDLE9BQUEsQ0FDQXRCLFNBQUEzTCxFQUNBMkwsU0FBQXRCLEVBQ0FzQixTQUFBM0wsRUFDQTJMLFNBQUF0QixFQUNBc0IsU0FBQTNMLEVBQ0EyTCxTQUFBdEIsRUFDQXNCLFNBQUEzTCxFQUNBMkwsU0FBQXRCLEVBQ0FzQixTQUFBM0wsRUFDQTJMLFNBQUF0QixHQUVBNkIsT0FBQWtNLFdBQUFsTSxRQUFBLFFBQ0E3TyxLQUFBLE9BQUFxWSxRQUFBa0IsU0FBQSxTQUFBLGFBQ0F6SyxZQUFBaU0sV0FBQWpNLGFBQUEsRUFDQUMsS0FBQWdNLFdBQUFoTSxLQUNBQyxXQUFBLEVBQ0E2UCxRQUFBLElBRUEsTUFDQSxLQUFBLEVBQ0FyRixNQUFBLElBQUF6TixNQUFBK1MsUUFBQSxDQUNBbmMsRUFBQTJMLFNBQUEzTCxFQUNBcUssRUFBQXNCLFNBQUF0QixFQUNBNEIsT0FBQSxDQUNBak0sRUFBQSxFQUNBcUssRUFBQSxHQUVBNkIsT0FBQWtNLFdBQUFsTSxRQUFBLFFBQ0E3TyxLQUFBLFVBQUFxWSxRQUFBa0IsU0FBQSxTQUFBLFdBQ0F6SyxZQUFBaU0sV0FBQWpNLGFBQUEsRUFDQUMsS0FBQWdNLFdBQUFoTSxLQUNBQyxXQUFBLElBTUEsTUFBQSxDQUNBMVAsT0FBQSxFQUNBa2EsTUFKQTZFLGFBQUE3RSxRQVlBdUYsVUFBQSxTQUFBelEsU0FBQTBRLFVBQUFDLE1BS0EsR0FBQVosYUFDQSxPQUFBQSxhQUFBYSxXQUNBLElBQUEsT0FHQXBqQixLQUFBcWpCLGNBQUE3USxTQUFBK1AsYUFBQVcsVUFBQUMsTUFFQSxNQUNBLElBQUEsVUFDQVosYUFBQXpQLE9BQUEsQ0FFQWpNLEVBQUE0TSxLQUFBQyxJQUFBbEIsU0FBQTNMLEVBQUEwYixhQUFBMWIsS0FDQXFLLEVBQUF1QyxLQUFBQyxJQUNBd1AsVUFDQTFRLFNBQUEzTCxFQUFBMGIsYUFBQTFiLElBQ0EyTCxTQUFBdEIsRUFBQXFSLGFBQUFyUixTQVFBbVMsY0FBQSxTQUFBN1EsU0FBQWtMLE1BQUE0RixVQUFBSCxNQUNBLElBQUFyUCxPQUFBNEosTUFBQTVKLFNBa0JBLE9BZkFBLE9BQUEsR0FBQXRCLFNBQUEzTCxFQUNBaU4sT0FBQSxHQUFBd1AsVUFDQTdQLEtBQUFDLElBQUFJLE9BQUEsSUFBQXRCLFNBQUEzTCxFQUFBaU4sT0FBQSxLQUNBdEIsU0FBQXRCLEVBSUE0QyxPQUFBLEdBQUF3UCxVQUNBN1AsS0FBQUMsSUFBQUksT0FBQSxJQUFBdEIsU0FBQTNMLEVBQUFpTixPQUFBLEtBQ0F0QixTQUFBdEIsRUFHQTRDLE9BQUEsR0FBQXRCLFNBQUEzTCxFQUdBc2MsTUFDQSxJQUFBLFVBQ0F6RixNQUFBNkYsS0FBQSxDQUFBLEdBQUEsS0FDQSxNQUNBLElBQUEsVUFDQTdGLE1BQUEzSyxPQUFBLFFBQ0EySyxNQUFBeEssV0FBQSxHQUtBd0ssTUFBQTVKLE9BQUFBLFNBSUEwUCxhQUFBLFdBQ0FqQixrQkFBQXJqQixFQUNBdWpCLGVBQUEsQ0FDQTlTLE1BQUEsRUFDQW1FLE9BQUEsR0FDQTRPLFVBQUEsSUFLQWUsY0FBQSxTQUFBcEcsV0FDQSxJQUFBcUcsZ0JBQUFuQixhQUFBek8sU0FTQSxPQVJBdkosU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFDQXlRLGNBQUFBLGFBQUFyVyxTQUNBcVcsa0JBQUFyakIsRUFDQXVqQixlQUFBLENBQ0E5UyxNQUFBLEVBQ0FtRSxPQUFBLEdBQ0E0TyxVQUFBLEdBRUFnQixpQkFTQUMsY0FBQSxTQUFBblIsU0FBQXNLLFNBQUE4RyxnQkFDQSxJQUFBbkIsZUFBQTlTLE9BQUE0UyxhQUFBLENBRUEsSUFBQXRELFdBQUF1RCxXQUFBcGpCLE1BMEJBLE9BekJBcWpCLGVBQUEzTyxPQUFBLENBQUF0QixTQUFBM0wsRUFBQTJMLFNBQUF0QixHQUlBcVIsYUFGQXFCLGVBRUEsSUFBQTNULE1BQUE0RCxLQUFBLENBQ0EzUCxLQUFBLGlCQUFBcVksUUFBQWtCLFNBQUEsV0FBQSxZQUNBM0osT0FBQTJPLGVBQUEzTyxPQUNBYixLQUFBZ00sV0FBQWhNLEtBQ0FGLE9BQUFrTSxXQUFBbE0sUUFBQSxRQUNBQyxZQUFBaU0sV0FBQWpNLGFBQUEsSUFJQSxJQUFBL0MsTUFBQTRELEtBQUEsQ0FDQTNQLEtBQUE0WSxTQUNBLFdBQUFQLFFBQUFrQixTQUFBLFNBQUEsWUFDQSxVQUFBbEIsUUFBQWtCLFNBQUEsU0FBQSxXQUNBM0osT0FBQTJPLGVBQUEzTyxPQUNBYixLQUFBZ00sV0FBQWhNLEtBQ0FGLE9BQUFrTSxXQUFBbE0sUUFBQSxRQUNBQyxZQUFBaU0sV0FBQWpNLGFBQUEsSUFJQXlQLGVBQUE5UyxNQUFBLEVBQ0EsQ0FDQW5NLE9BQUEsRUFDQXVaLFFBQUF3RixjQUlBLE9BQUFxQixnQkFDQW5CLGVBQUFDLFVBQUEsRUFDQUgsYUFBQXJQLFdBQUEsR0FDQSxDQUNBMVAsT0FBQSxFQUNBdVosUUFBQXdGLGVBTUF2aUIsS0FBQTZqQixlQUFBclIsV0FFQWlRLGVBQUEzTyxPQUFBeE0sUUFDQSxHQUVBbWIsZUFBQTNPLE9BQUF6TSxLQUNBb2IsZUFBQTNPLE9BQUEsR0FDQTJPLGVBQUEzTyxPQUFBLElBRUF5TyxhQUFBek8sT0FBQTJPLGVBQUEzTyxRQUNBMk8sZUFBQUMsVUFBQSxFQUNBSCxhQUFBUSxRQUFBLEdBQ0FSLGFBQUFyUCxXQUFBLEdBQ0EsQ0FDQTFQLE9BQUEsRUFDQXVaLFFBQUF3RixnQkFHQUUsZUFBQTNPLE9BQUF4TSxRQUNBLEdBRUFtYixlQUFBM08sT0FBQXpNLEtBQUFtTCxTQUFBM0wsRUFBQTJMLFNBQUF0QixHQUNBcVIsYUFBQXpPLE9BQUEyTyxlQUFBM08sYUFDQTJPLGVBQUFDLFVBQUEsS0FLQW9CLFlBQUEsU0FBQXRSLFNBQUFzSyxVQUNBeUYsZUFDQXpGLFVBRUEyRixlQUFBM08sT0FBQXpNLEtBQUFtTCxTQUFBM0wsRUFBQTJMLFNBQUF0QixHQUNBcVIsYUFBQXpPLE9BQUEyTyxlQUFBM08sU0FHQTJPLGVBQUFDLFVBQ0FELGVBQUEzTyxPQUFBek0sS0FBQW1MLFNBQUEzTCxFQUFBMkwsU0FBQXRCLEdBQ0F1UixlQUFBQyxVQUFBLEVBQ0FILGFBQUF6TyxPQUFBMk8sZUFBQTNPLFVBRUEyTyxlQUFBM08sT0FBQTJPLGVBQUEzTyxPQUFBdE4sT0FBQSxHQUNBZ00sU0FBQTNMLEVBQ0E0YixlQUFBM08sT0FBQTJPLGVBQUEzTyxPQUFBdE4sT0FBQSxHQUNBZ00sU0FBQXRCLEVBQ0FxUixhQUFBek8sT0FBQTJPLGVBQUEzTyxXQU1BaVEsV0FBQSxTQUFBdlIsU0FBQTlNLE1BQ0EsR0FBQTZjLGFBQ0EsTUFBQSxDQUNBL2UsT0FBQSxFQUNBb1EsS0FBQTJPLGNBSUEsSUFBQTNPLEtBQ0FxTCxXQUFBdUQsV0FBQXBqQixNQUVBLE9BQUFzRyxNQUNBLElBQUEsT0FDQWtPLEtBQUEsSUFBQTNELE1BQUE0RCxLQUFBLENBQ0EzUCxLQUFBLGFBQUFxWSxRQUFBa0IsU0FBQSxXQUFBLFFBQ0EzSixPQUFBLENBQUF0QixTQUFBM0wsRUFBQTJMLFNBQUF0QixHQUNBOEIsWUFBQWlNLFdBQUFqTSxhQUFBLEVBQ0FELE9BQUFrTSxXQUFBbE0sUUFBQSxRQUNBRyxXQUFBLElBRUEsTUFDQSxJQUFBLGNBQ0FVLEtBQUEsSUFBQTNELE1BQUErVCxNQUFBLENBQ0E5ZixLQUFBLFlBQUFxWSxRQUFBa0IsU0FBQSxXQUFBLGVBQ0EzSixPQUFBLENBQUF0QixTQUFBM0wsRUFBQTJMLFNBQUF0QixHQUNBOEIsWUFBQSxFQUNBRCxPQUFBa00sV0FBQWxNLFFBQUEsUUFDQUUsS0FBQWdNLFdBQUFoTSxNQUFBLFFBQ0FDLFdBQUEsRUFDQStRLGNBQUEsR0FDQUMsYUFBQSxLQUVBLE1BRUEsSUFBQSxjQUNBdFEsS0FBQSxJQUFBM0QsTUFBQStULE1BQUEsQ0FDQTlmLEtBQ0Esa0JBQUFxWSxRQUFBa0IsU0FBQSxXQUFBLGVBQ0EzSixPQUFBLENBQUF0QixTQUFBM0wsRUFBQTJMLFNBQUF0QixHQUNBOEIsWUFBQWlNLFdBQUFqTSxhQUFBLEVBQ0FELE9BQUFrTSxXQUFBbE0sUUFBQSxRQUNBRSxLQUFBZ00sV0FBQWhNLE1BQUEsUUFDQUMsV0FBQSxFQUNBK1EsY0FBQSxHQUNBQyxhQUFBLEdBQ0FDLG9CQUFBLElBS0EsTUFBQSxDQUNBM2dCLE9BQUEsRUFDQW9RLEtBSEEyTyxhQUFBM08sT0FNQXdRLFNBQUEsU0FBQTVSLFVBQ0EsR0FBQStQLGFBQUEsQ0FDQSxJQUFBek8sT0FBQXlPLGFBQUF6TyxTQUNBQSxPQUFBLEdBQUF0QixTQUFBM0wsRUFDQWlOLE9BQUEsR0FBQXRCLFNBQUF0QixFQUNBcVIsYUFBQXpPLE9BQUFBLFVBSUF1USxpQkFBQSxTQUFBN1IsVUFDQSxHQUFBK1AsYUFBQSxDQUNBLElBQUErQixjQUFBL0IsYUFBQXpPLFNBRUF5USxFQUFBLENBQ0EsSUFBQUQsY0FBQSxHQUFBQSxjQUFBLElBQUFBLGNBQUEsR0FDQSxJQUFBQSxjQUFBLEdBQUFBLGNBQUEsSUFBQUEsY0FBQSxJQUlBQSxjQUFBLEdBQUFBLGNBQUEsR0FBQUEsY0FBQSxHQUNBQSxjQUFBLEdBQUFBLGNBQUEsR0FBQUEsY0FBQSxHQUdBQSxjQUFBLEdBQUFBLGNBQUEsR0FBQUEsY0FBQSxHQUNBQSxjQUFBLEdBQUFBLGNBQUEsR0FBQUEsY0FBQSxHQVFBLE9BTEFBLGNBQUFqZCxLQUFBa2QsRUFBQSxHQUFBQSxFQUFBLElBRUFoQyxhQUFBek8sT0FBQXdRLGVBQ0EvQixhQUFBaUMsUUFBQSxLQUVBLENBQ0FoaEIsT0FBQSxFQUNBb1EsS0FBQTJPLGNBSUEsSUFBQXRELFdBQUF1RCxXQUFBcGpCLE1BRUErZCxPQUFBLElBQUFsTixNQUFBNEQsS0FBQSxDQUNBM1AsS0FBQSxTQUFBcVksUUFBQWtCLFNBQUEsV0FBQSxVQUNBZ0gsU0FBQSxRQUNBM1EsT0FBQSxDQUFBdEIsU0FBQTNMLEVBQUEyTCxTQUFBdEIsR0FDQThCLFlBQUFpTSxXQUFBak0sYUFBQSxFQUNBRCxPQUFBa00sV0FBQWxNLFFBQUEsUUFDQUcsV0FBQSxJQUlBLE1BQUEsQ0FDQTFQLE9BQUEsRUFDQW9RLEtBSkEyTyxhQUFBcEYsU0FRQXVILGVBQUEsU0FBQWxTLFVBQ0EsR0FBQStQLGFBQUEsQ0FDQSxJQUFBek8sT0FBQXlPLGFBQUF6TyxTQUNBQSxPQUFBLEdBQUF0QixTQUFBM0wsRUFDQWlOLE9BQUEsR0FBQXRCLFNBQUF0QixFQUNBcVIsYUFBQXpPLE9BQUFBLFVBTUE2USxXQUFBLFNBQUEvRixPQUNBLElBQUFnRyxVQUFBLElBQUEzVSxNQUFBaUUsS0FBQSxDQUNBck4sRUFBQStYLE1BQUFwTSxTQUFBM0wsRUFDQXFLLEVBQUEwTixNQUFBcE0sU0FBQXRCLEVBQ0FoTixLQUFBLE9BQ0FrSixLQUFBLG1CQUNBeEMsTUFBQWdVLE1BQUFoVSxNQUNBd0osU0FBQSxHQUNBQyxXQUFBLFVBQ0FwQixLQUFBLFVBRUEsT0FBQTJSLFdBR0FDLGdCQUFBLFdBQ0EsSUFBQUMsVUFBQSxJQUFBN1UsTUFBQTBSLE1BQUEsQ0FDQXpkLEtBQUEsWUFBQXFZLFFBQUFrQixTQUFBLFdBQUEsUUFDQXZLLFdBQUEsSUFHQSxPQUFBNFIsV0FJQWpJLFdBQUEsU0FBQTlNLE1BQUFLLE9BQ0EsSUFHQXdELEtBSEFFLE9BQUEsR0FDQWlSLFFBQUEsRUFDQXBWLE1BQUEsRUFFQSxPQUFBLFNBQUE2QyxTQUFBN1UsSUFBQXFuQixNQUdBLEdBQUFBLEtBR0EsT0FGQXBSLEtBQUFxUixlQUNBN1UsTUFBQU8sT0FJQTZCLFNBQUEsQ0FDQTNMLEVBQUEyTCxTQUFBM0wsRUFBQWtKLE1BQUFtVixRQUFBcmUsRUFDQXFLLEVBQUFzQixTQUFBdEIsRUFBQW5CLE1BQUFtVixRQUFBaFUsR0FHQTZULFNBQ0FwVixNQUFBaFMsS0FDQW1XLE9BQUF6TSxLQUFBbUwsU0FBQTNMLEVBQUEyTCxTQUFBdEIsR0FDQTBDLEtBQUEsSUFBQTNELE1BQUE0RCxLQUFBLENBQ0FDLE9BQUFBLE9BQ0FiLEtBQUEsT0FDQUYsT0FBQSxRQUNBQyxZQUFBLEVBQ0F1USxLQUFBLENBQUEsRUFBQSxLQUVBNVQsTUFBQSxFQUNBUyxNQUFBaUIsSUFBQXVDLE9BQ0FqRSxPQUNBaFMsS0FDQW1XLE9BQUEsR0FBQXRCLFNBQUEzTCxFQUNBaU4sT0FBQSxHQUFBdEIsU0FBQXRCLEVBQ0EwQyxLQUFBRSxPQUFBQSxRQUNBaVIsUUFBQSxFQUNBelYsV0FBQTZELFdBQUEsYUFBQVMsUUFFQUUsT0FBQSxHQUFBdEIsU0FBQTNMLEVBQ0FpTixPQUFBLEdBQUF0QixTQUFBdEIsRUFDQTBDLEtBQUFFLE9BQUFBLFdBSUExRCxNQUFBTyxTQUlBa1QsZUFBQSxTQUFBclIsVUFDQSxJQUVBMlMsZ0JBQUExQyxlQUFBM08sT0FBQSxHQUZBLEdBR0FzUixnQkFBQTNDLGVBQUEzTyxPQUFBLEdBSEEsR0FJQXVSLGdCQUFBNUMsZUFBQTNPLE9BQUEsR0FKQSxHQUtBd1IsZ0JBQUE3QyxlQUFBM08sT0FBQSxHQUxBLEdBTUEsT0FBQXFSLGdCQUFBM1MsU0FBQTNMLEdBQ0F3ZSxnQkFBQTdTLFNBQUEzTCxHQUNBdWUsZ0JBQUE1UyxTQUFBdEIsR0FBQW9VLGdCQUFBOVMsU0FBQXRCLEdBTUFxVSxpQkFBQSxTQUFBblYsT0FDQSxJQUFBb1YsVUFBQXBWLE1BQUFLLEtBQUEsU0FBQTNQLE9BQUEsU0FBQUMsSUFBQThGLEdBTUEsTUFMQSxXQUFBbUIsS0FBQW5CLEVBQUEzQyxTQUNBM0gsUUFBQWlNLFFBQUEzQixFQUFBNGUsY0FBQSxTQUFBQyxPQUNBM2tCLElBQUFzRyxLQUFBcWUsU0FHQTNrQixLQUNBLElBQ0EsT0FBQXlrQixXQUdBRyxhQUFBLFNBQUF2VixNQUFBMEQsUUFDQSxJQUFBMFIsVUFBQXhsQixLQUFBdWxCLGlCQUFBblYsT0FLQXdWLEtBSEE5UixPQUFBLEdBQUFBLE9BQUEsR0FDQUEsT0FBQSxHQUFBQSxPQUFBLEdBRUEsQ0FDQWpOLEVBQUFpTixPQUFBLEdBQUFBLE9BQUEsR0FBQUEsT0FBQSxHQUFBQSxPQUFBLEdBQ0E1QyxFQUFBNEMsT0FBQSxHQUFBQSxPQUFBLEdBQUFBLE9BQUEsR0FBQUEsT0FBQSxLQUdBK1IsSUFBQSxDQUNBaGYsRUFBQWlOLE9BQUEsR0FBQUEsT0FBQSxHQUFBQSxPQUFBLEdBQUFBLE9BQUEsR0FDQTVDLEVBQUE0QyxPQUFBLEdBQUFBLE9BQUEsR0FBQUEsT0FBQSxHQUFBQSxPQUFBLElBR0FnUyxlQUFBOWxCLEtBQUE4bEIsZUFDQUMsZUFBQVAsVUFBQW5jLE9BQUEsU0FBQXhDLEdBQ0EsSUFBQWtaLFVBQUFsWixFQUFBM0MsT0FDQSxHQUNBLFFBQUE4RCxLQUFBK1gsWUFDQSxXQUFBL1gsS0FBQStYLFlBQ0EsWUFBQS9YLEtBQUErWCxZQUNBLGlCQUFBL1gsS0FBQStYLFdBQ0EsQ0FJQSxJQUhBLElBQUFqTSxPQUFBak4sRUFBQWlOLFNBQ0FrUyxlQUFBbmYsRUFBQTJMLFdBQ0F5VCxTQUFBLEdBQ0F4WCxFQUFBLEVBQUFBLEVBQUFxRixPQUFBdE4sT0FBQSxFQUFBaUksR0FBQSxFQUVBd1gsU0FBQTVlLEtBQUEsQ0FDQXlNLE9BQUFyRixHQUFBdVgsZUFBQW5mLEVBQ0FpTixPQUFBckYsRUFBQSxHQUFBdVgsZUFBQTlVLElBSUEsT0FBQTRVLGVBQ0EsQ0FDQUYsSUFBQUEsSUFDQUMsSUFBQUEsS0FFQUksU0FDQSxhQUlBLEdBQUEsUUFBQWplLEtBQUErWCxXQUFBLENBSUEsSUFIQSxJQUFBak0sT0FBQWpOLEVBQUFpTixTQUNBa1MsZUFBQW5mLEVBQUEyTCxXQUNBeVQsU0FBQSxHQUNBeFgsRUFBQSxFQUFBQSxFQUFBcUYsT0FBQXROLE9BQUFpSSxHQUFBLEVBRUF3WCxTQUFBNWUsS0FBQSxDQUNBeU0sT0FBQXJGLEdBQUF1WCxlQUFBbmYsRUFDQWlOLE9BQUFyRixFQUFBLEdBQUF1WCxlQUFBOVUsSUFJQSxPQUFBNFUsZUFDQSxDQUNBRixJQUFBQSxJQUNBQyxJQUFBQSxLQUVBSSxTQUNBLGFBSUEsUUFBQSxXQUFBamUsS0FBQStYLFlBQ0ErRixlQUNBLENBQ0FGLElBQUFBLElBQ0FDLElBQUFBLEtBRUFoZixFQUFBMkwsV0FDQSxhQVFBLE9BQUF1VCxnQkFHQUQsZUFBQSxTQUFBSSxNQUFBOUssS0FBQTFWLE1BRUEsR0FBQSxjQUFBQSxLQUFBLENBQ0EsSUFBQSxJQUFBK0ksRUFBQSxFQUFBQSxFQUFBMk0sS0FBQTVVLE9BQUFpSSxJQUNBLEdBQ0EyTSxLQUFBM00sR0FBQSxJQUFBeVgsTUFBQU4sSUFBQS9lLEdBQ0F1VSxLQUFBM00sR0FBQSxJQUFBeVgsTUFBQUwsSUFBQWhmLEdBQ0F1VSxLQUFBM00sR0FBQSxJQUFBeVgsTUFBQU4sSUFBQTFVLEdBQUFrSyxLQUFBM00sR0FBQSxJQUFBeVgsTUFBQUwsSUFBQTNVLEVBRUEsT0FBQSxFQUdBLE9BQUEsRUFHQSxHQUFBLFlBQUF4TCxLQUVBLE9BQUEwVixLQUFBdlUsR0FBQXFmLE1BQUFOLElBQUEvZSxHQUNBdVUsS0FBQXZVLEdBQUFxZixNQUFBTCxJQUFBaGYsR0FDQXVVLEtBQUFsSyxHQUFBZ1YsTUFBQU4sSUFBQTFVLEdBQUFrSyxLQUFBbEssR0FBQWdWLE1BQUFMLElBQUEzVSxNQTVtQkEsR0NBQSxXQUdBM1UsUUFBQUMsT0FBQSxPQUFBNEIsUUFBQSxpQkFHQSxTQUFBa1IsV0FBQThTLGlCQUNBLE1BQUEsQ0FNQStELFlBQUEsU0FBQXJTLE9BQUFvUixPQUtBLElBSkEsSUFDQWxiLE9BREFvYyxJQUFBLEVBRUFDLGFBQUEsR0FDQUMsTUFBQSxHQUNBN1gsRUFBQSxFQUFBQSxFQUFBcUYsT0FBQXROLE9BQUFpSSxJQUNBNlgsTUFBQTlmLE9BQUEsRUFDQThmLE1BQUFqZixLQUFBeU0sT0FBQXJGLEtBRUE0WCxhQUFBaGYsS0FBQSxDQUNBUixFQUFBeWYsTUFBQSxHQUNBcFYsRUFBQW9WLE1BQUEsTUFFQUEsTUFBQSxJQUNBamYsS0FBQXlNLE9BQUFyRixLQUdBLElBQUE4WCxFQUFBRixhQUFBN2YsT0FFQTZmLGFBQUEsSUFBQUEsYUFBQUEsYUFBQTdmLE9BQUEsS0FDQTZmLGFBQUFBLGFBQUFoWSxPQUFBZ1ksYUFBQSxLQUVBLElBQUEsSUFBQTVYLEVBQUEsRUFBQUEsRUFBQThYLEVBQUE5WCxJQUNBMlgsS0FDQUMsYUFBQTVYLEdBQUE1SCxFQUFBd2YsYUFBQTVYLEVBQUEsR0FBQXlDLEVBQ0FtVixhQUFBNVgsR0FBQXlDLEVBQUFtVixhQUFBNVgsRUFBQSxHQUFBNUgsRUFPQSxPQUpBbUQsT0FEQWtiLE1BQ0F6UixLQUFBQyxJQUFBMFMsS0FBQSxFQUFBbEIsTUFFQXpSLEtBQUFDLElBQUEwUyxLQUFBLEVBRUFJLE9BQUFDLFdBQUF6YyxRQUFBMGMsUUFBQSxJQUlBQyxjQUFBLFNBQUFoYyxPQUFBQyxNQUFBc2EsT0FDQSxJQUFBMEIsS0FBQWpjLE9BQUFDLE1BQUFzYSxNQUNBLE9BQUEwQixNQUlBQyxZQUFBLFNBQUFDLE1BQUE1QixPQUNBLElBQUEwQixLQUFBblQsS0FBQXNULEdBQUFELE1BQUFqZ0IsRUFBQWlnQixNQUFBNVYsRUFDQWxILE9BQUFrYixNQUFBMEIsS0FBQTFCLE1BQUEwQixLQUNBLE9BQUFKLE9BQUFDLFdBQUF6YyxRQUFBMGMsUUFBQSxJQUdBTSxrQkFBQSxTQUFBalgsTUFBQUssTUFBQXdNLFNBQ0EsSUFBQXFKLFNBQUEsR0FFQXZFLE1BQUEsSUFBQXpSLE1BQUEwUixNQUFBLENBQ0F6ZCxLQUFBLGlCQUVBLE1BQUEsQ0FDQXZHLElBQUEsU0FBQW1WLFFBQ0EsSUFBQW1VLGdCQUFBckssUUFBQXBLLFdBQ0F5VCxTQUFBNWUsS0FDQSxDQUFBNGYsZ0JBQUFwZ0IsRUFBQWlNLE9BQUFqTSxFQUFBb2dCLGdCQUFBL1YsR0FDQSxDQUFBK1YsZ0JBQUFwZ0IsRUFBQWlNLE9BQUFqTSxFQUFBb2dCLGdCQUFBL1YsR0FDQSxDQUFBK1YsZ0JBQUFwZ0IsRUFBQW9nQixnQkFBQS9WLEVBQUE0QixPQUFBNUIsR0FDQSxDQUFBK1YsZ0JBQUFwZ0IsRUFBQW9nQixnQkFBQS9WLEVBQUE0QixPQUFBNUIsSUFFQSxJQUFBZ1csSUFBQSxFQTJIQSxPQTFIQTNxQixRQUFBaU0sUUFBQXlkLFNBQUEsU0FBQXBmLEVBQUFzZ0IsUUFDQSxJQUFBNVQsT0FBQSxJQUFBdEQsTUFBQTRDLE9BQUEsQ0FDQWhNLEVBQUFBLEVBQUEsR0FDQXFLLEVBQUFySyxFQUFBLEdBQ0FpTSxPQUFBLEVBQUExQyxNQUFBZ1gsU0FDQWxqQixNQUNBaWpCLE9BQUFELEtBQUFHLFdBQ0EsS0FDQUYsT0FBQUQsSUFBQSxHQUFBRyxXQUVBcFUsS0FBQSxRQUNBRixPQUFBLFFBQ0FDLFlBQUEsRUFBQTVDLE1BQUFnWCxTQUNBRSxjQUFBLFNBQUFDLEtBQ0EsTUFBQSxDQUNBMWdCLEVBQUFzZ0IsT0FBQSxFQUFBbm5CLEtBQUF3bkIsc0JBQUEzZ0IsRUFBQTBnQixJQUFBMWdCLEVBQ0FxSyxFQUFBaVcsUUFBQSxFQUFBbm5CLEtBQUF3bkIsc0JBQUF0VyxFQUFBcVcsSUFBQXJXLElBR0FnQyxXQUFBLElBRUFnVSxNQUNBLElBQUFPLFlBQUFyRixnQkFBQWpCLFlBQUE1TixRQUNBa1UsWUFBQTFHLFNBQUEsdUJBQUEsV0FDQSxJQUFBMkcsZUFBQTlLLFFBQUE5SixTQUNBNlUsZUFBQXBVLE9BQUFyUCxPQUNBMGpCLFlBQUEsRUFDQSxPQUFBRCxnQkFDQSxJQUFBLE1BQ0FDLFdBQ0FoTCxRQUFBcEssV0FBQTNMLEVBQUEwTSxPQUFBMU0sSUFBQSxFQUNBK1YsUUFBQTlKLE9BQUEsQ0FDQWpNLEVBQUE0TSxLQUFBQyxJQUFBa0osUUFBQXBLLFdBQUEzTCxFQUFBME0sT0FBQTFNLEtBQ0FxSyxFQUFBd1csZUFBQXhXLElBRUEzVSxRQUFBaU0sUUFBQWtaLE1BQUFtRyxTQUFBLFNBQUFDLEdBQ0EsUUFBQUEsRUFBQTVqQixTQUNBMGpCLFdBR0FFLEVBQUFqaEIsRUFBQStWLFFBQUFwSyxXQUFBM0wsRUFBQStWLFFBQUE5SixTQUFBak0sR0FGQWloQixFQUFBamhCLEVBQUErVixRQUFBcEssV0FBQTNMLEVBQUErVixRQUFBOUosU0FBQWpNLE1BTUEsTUFDQSxJQUFBLE1BQ0ErZ0IsV0FDQWhMLFFBQUFwSyxXQUFBM0wsRUFBQTBNLE9BQUExTSxJQUFBLEVBQ0ErVixRQUFBOUosT0FBQSxDQUNBak0sRUFBQTRNLEtBQUFDLElBQUFrSixRQUFBcEssV0FBQTNMLEVBQUEwTSxPQUFBMU0sS0FDQXFLLEVBQUF3VyxlQUFBeFcsSUFFQTNVLFFBQUFpTSxRQUFBa1osTUFBQW1HLFNBQUEsU0FBQUMsR0FDQSxRQUFBQSxFQUFBNWpCLFNBQ0EwakIsV0FHQUUsRUFBQWpoQixFQUFBK1YsUUFBQXBLLFdBQUEzTCxFQUFBK1YsUUFBQTlKLFNBQUFqTSxHQUZBaWhCLEVBQUFqaEIsRUFBQStWLFFBQUFwSyxXQUFBM0wsRUFBQStWLFFBQUE5SixTQUFBak0sTUFNQSxNQUNBLElBQUEsTUFDQStnQixXQUNBaEwsUUFBQXBLLFdBQUF0QixFQUFBcUMsT0FBQXJDLElBQUEsRUFDQTBMLFFBQUE5SixPQUFBLENBQ0FqTSxFQUFBNmdCLGVBQUE3Z0IsRUFDQXFLLEVBQUF1QyxLQUFBQyxJQUFBa0osUUFBQXBLLFdBQUF0QixFQUFBcUMsT0FBQXJDLE9BRUEzVSxRQUFBaU0sUUFBQWtaLE1BQUFtRyxTQUFBLFNBQUFDLEdBQ0EsUUFBQUEsRUFBQTVqQixTQUNBMGpCLFdBR0FFLEVBQUE1VyxFQUFBMEwsUUFBQXBLLFdBQUF0QixFQUFBMEwsUUFBQTlKLFNBQUE1QixHQUZBNFcsRUFBQTVXLEVBQUEwTCxRQUFBcEssV0FBQXRCLEVBQUEwTCxRQUFBOUosU0FBQTVCLE1BTUEsTUFDQSxJQUFBLE1BQ0EwVyxXQUNBaEwsUUFBQXBLLFdBQUF0QixFQUFBcUMsT0FBQXJDLElBQUEsRUFDQTBMLFFBQUE5SixPQUFBLENBQ0FqTSxFQUFBNmdCLGVBQUE3Z0IsRUFDQXFLLEVBQUF1QyxLQUFBQyxJQUFBa0osUUFBQXBLLFdBQUF0QixFQUFBcUMsT0FBQXJDLE9BRUEzVSxRQUFBaU0sUUFBQWtaLE1BQUFtRyxTQUFBLFNBQUFDLEdBQ0EsUUFBQUEsRUFBQTVqQixTQUNBMGpCLFdBR0FFLEVBQUE1VyxFQUFBMEwsUUFBQXBLLFdBQUF0QixFQUFBMEwsUUFBQTlKLFNBQUE1QixHQUZBNFcsRUFBQTVXLEVBQUEwTCxRQUFBcEssV0FBQXRCLEVBQUEwTCxRQUFBOUosU0FBQTVCLE1BUUFkLE1BQUFPLE9BRUFpTSxRQUFBa0UsS0FBQSxzQkFLQTJHLFlBQUExRyxTQUFBLGNBQUEsU0FBQTlaLEdBQ0FBLEVBQUF5SyxPQUFBb0IsT0FBQSxFQUFBMUMsTUFBQWdYLFVBQ0FuZ0IsRUFBQXlLLE9BQUFzQixZQUFBLEVBQUE1QyxNQUFBZ1gsVUFDQWhYLE1BQUFPLFNBR0E4VyxZQUFBMUcsU0FBQSxhQUFBLFNBQUE5WixHQUNBc0QsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsU0FFQTJWLFlBQUExRyxTQUFBLGFBQUEsU0FBQTlaLEdBQ0FzRCxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxZQUVBNFAsTUFBQXJRLElBQUFrQyxVQUVBcUosUUFBQWtFLEtBQUEscUJBRUEsRUFDQTFRLE1BQUFpQixJQUFBcVEsT0FDQUEsT0FHQXFHLFNBQUEsV0FDQSxPQUFBckcsT0FFQXVELFFBQUEsV0FDQXZELE1BQUF1RCxhQU1BK0Msa0JBQUEsU0FBQWpZLE1BQUFLLE1BQUEyTSxRQUFBa0wsYUFFQSxJQUFBaEMsU0FBQSxHQUVBdkUsTUFBQSxJQUFBelIsTUFBQTBSLE1BQUEsQ0FDQXpkLEtBQUEsaUJBRUE2WSxRQUFBQSxRQUNBLE1BQUEsQ0FFQXBmLElBQUEsU0FBQW1XLFFBQ0EsSUFBQSxJQUFBckYsRUFBQSxFQUFBQSxFQUFBcUYsT0FBQXROLE9BQUEsRUFBQWlJLEdBQUEsRUFFQXdYLFNBQUE1ZSxLQUFBLENBQUF5TSxPQUFBckYsR0FBQXFGLE9BQUFyRixFQUFBLEtBSUEsSUFBQXlZLElBQUEsRUF3SEEsT0F0SEEzcUIsUUFBQWlNLFFBQUF5ZCxTQUFBLFNBQUFwZixFQUFBc2dCLFFBQ0EsSUFBQTVULE9BQUEsSUFBQXRELE1BQUE0QyxPQUFBLENBQ0FoTSxFQUFBQSxFQUFBLEdBQ0FxSyxFQUFBckssRUFBQSxHQUNBaU0sT0FBQSxFQUFBMUMsTUFBQWdYLFNBQ0FsakIsTUFDQWlqQixPQUFBRCxLQUFBRyxXQUNBLEtBQ0FGLE9BQUFELElBQUEsR0FBQUcsV0FFQXBVLEtBQUEsUUFDQUYsT0FBQSxRQUNBQyxZQUFBLEVBQUE1QyxNQUFBZ1gsU0FDQWxVLFdBQUEsSUFFQWdVLE1BR0EsSUFBQU8sWUFBQXJGLGdCQUFBakIsWUFBQTVOLFFBQ0FrVSxZQUFBMUcsU0FBQSx1QkFBQSxTQUFBOVosR0FDQSxHQUFBZ2hCLFlBQUEsQ0FFQSxJQUFBTixlQUFBcFUsT0FBQXJQLE9BSUEsT0FBQXlqQixnQkFDQSxJQUFBLE1BQ0ExQixTQUFBLEdBQUEsQ0FBQTFTLE9BQUExTSxJQUFBME0sT0FBQXJDLEtBQ0ErVSxTQUFBLEdBQUEsR0FBQTFTLE9BQUFyQyxJQUNBK1UsU0FBQSxHQUFBLEdBQUExUyxPQUFBMU0sSUFDQXRLLFFBQUFpTSxRQUFBa1osTUFBQW1HLFNBQUEsU0FBQUMsR0FFQSxRQUFBQSxFQUFBNWpCLFFBQ0E0akIsRUFBQWpoQixFQUFBME0sT0FBQTFNLEtBR0EsUUFBQWloQixFQUFBNWpCLFFBQ0E0akIsRUFBQTVXLEVBQUFxQyxPQUFBckMsT0FJQSxNQUNBLElBQUEsTUFDQStVLFNBQUEsR0FBQSxDQUFBMVMsT0FBQTFNLElBQUEwTSxPQUFBckMsS0FDQStVLFNBQUEsR0FBQSxHQUFBMVMsT0FBQXJDLElBQ0ErVSxTQUFBLEdBQUEsR0FBQTFTLE9BQUExTSxJQUNBdEssUUFBQWlNLFFBQUFrWixNQUFBbUcsU0FBQSxTQUFBQyxHQUVBLFFBQUFBLEVBQUE1akIsUUFDQTRqQixFQUFBamhCLEVBQUEwTSxPQUFBMU0sS0FHQSxRQUFBaWhCLEVBQUE1akIsUUFDQTRqQixFQUFBNVcsRUFBQXFDLE9BQUFyQyxPQUdBLE1BQ0EsSUFBQSxNQUNBK1UsU0FBQSxHQUFBLENBQUExUyxPQUFBMU0sSUFBQTBNLE9BQUFyQyxLQUNBK1UsU0FBQSxHQUFBLEdBQUExUyxPQUFBckMsSUFDQStVLFNBQUEsR0FBQSxHQUFBMVMsT0FBQTFNLElBQ0F0SyxRQUFBaU0sUUFBQWtaLE1BQUFtRyxTQUFBLFNBQUFDLEdBRUEsUUFBQUEsRUFBQTVqQixRQUNBNGpCLEVBQUFqaEIsRUFBQTBNLE9BQUExTSxLQUdBLFFBQUFpaEIsRUFBQTVqQixRQUNBNGpCLEVBQUE1VyxFQUFBcUMsT0FBQXJDLE9BR0EsTUFDQSxJQUFBLE1BQ0ErVSxTQUFBLEdBQUEsQ0FBQTFTLE9BQUExTSxJQUFBME0sT0FBQXJDLEtBQ0ErVSxTQUFBLEdBQUEsR0FBQTFTLE9BQUFyQyxJQUNBK1UsU0FBQSxHQUFBLEdBQUExUyxPQUFBMU0sSUFDQXRLLFFBQUFpTSxRQUFBa1osTUFBQW1HLFNBQUEsU0FBQUMsR0FFQSxRQUFBQSxFQUFBNWpCLFFBQ0E0akIsRUFBQWpoQixFQUFBME0sT0FBQTFNLEtBR0EsUUFBQWloQixFQUFBNWpCLFFBQ0E0akIsRUFBQTVXLEVBQUFxQyxPQUFBckMsWUFLQSxDQUVBLElBQUFnWCxLQUFBLEdBQ0EzckIsUUFBQWlNLFFBQUFrWixNQUFBbUcsU0FBQSxTQUFBaGhCLEdBQ0FxaEIsS0FBQTdnQixLQUFBLENBQUFSLEVBQUFBLElBQUFBLEVBQUFxSyxRQUVBK1UsU0FBQTFwQixRQUFBNEosS0FBQStoQixNQUVBbkwsUUFBQStELEtBQUEsc0JBSUEyRyxZQUFBMUcsU0FBQSxjQUFBLFNBQUE5WixHQUNBQSxFQUFBeUssT0FBQW9CLE9BQUEsRUFBQTFDLE1BQUFnWCxVQUNBbmdCLEVBQUF5SyxPQUFBc0IsWUFBQSxFQUFBNUMsTUFBQWdYLFVBQ0FoWCxNQUFBTyxTQUdBOFcsWUFBQTFHLFNBQUEsYUFBQSxTQUFBOVosR0FDQXNELFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFNBRUEyVixZQUFBMUcsU0FBQSxhQUFBLFNBQUE5WixHQUNBc0QsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsWUFFQTRQLE1BQUFyUSxJQUFBa0MsV0FHQSxFQUNBbkQsTUFBQWlCLElBQUFxUSxPQUNBQSxPQUdBeUcsT0FBQSxTQUFBQyxRQUNBMUcsTUFBQTdhLEVBQUF1aEIsT0FBQXZoQixHQUNBNmEsTUFBQXhRLEVBQUFrWCxPQUFBbFgsR0FDQWQsTUFBQU8sUUFFQTBYLFVBQUEsV0FDQSxPQUFBcEMsU0FBQW5sQixPQUFBLFNBQUFDLElBQUE4RixFQUFBNEgsR0FNQSxPQUxBMU4sSUFBQXNHLEtBQUFSLEVBQUEsR0FBQUEsRUFBQSxJQUNBNEgsSUFBQXdYLFNBQUF6ZixPQUFBLEdBRUF6RixJQUFBc0csS0FBQTRlLFNBQUEsR0FBQUEsU0FBQSxJQUVBbGxCLEtBQ0EsS0FFQWduQixTQUFBLFdBQ0EsT0FBQXJHLFNBT0E0RyxrQkFBQSxTQUFBdlksTUFBQUssTUFBQStNLFFBQ0EsSUFBQThJLFNBQUEsR0FFQXZFLE1BQUEsSUFBQXpSLE1BQUEwUixNQUFBLENBQ0F6ZCxLQUFBLGlCQUVBaVosT0FBQUEsT0FDQSxNQUFBLENBRUF4ZixJQUFBLFNBQUFtVyxRQUNBLElBQUEsSUFBQXJGLEVBQUEsRUFBQUEsRUFBQXFGLE9BQUF0TixPQUFBaUksR0FBQSxFQUNBd1gsU0FBQTVlLEtBQUEsQ0FBQXlNLE9BQUFyRixHQUFBcUYsT0FBQXJGLEVBQUEsS0FJQSxJQUFBeVksSUFBQSxFQWdEQSxPQTlDQTNxQixRQUFBaU0sUUFBQXlkLFNBQUEsU0FBQXBmLEVBQUFzZ0IsUUFDQSxJQUFBNVQsT0FBQSxJQUFBdEQsTUFBQTRDLE9BQUEsQ0FDQWhNLEVBQUFBLEVBQUEsR0FDQXFLLEVBQUFySyxFQUFBLEdBQ0FpTSxPQUFBLEVBQUExQyxNQUFBZ1gsU0FDQWxqQixNQUNBaWpCLE9BQUFELEtBQUFHLFdBQ0EsS0FDQUYsT0FBQUQsSUFBQSxHQUFBRyxXQUVBcFUsS0FBQSxRQUNBRixPQUFBLFFBQ0FDLFlBQUEsRUFBQTVDLE1BQUFnWCxTQUNBbFUsV0FBQSxJQUVBZ1UsTUFHQSxJQUFBTyxZQUFBckYsZ0JBQUFqQixZQUFBNU4sUUFDQWtVLFlBQUExRyxTQUFBLHVCQUFBLFNBQUE5WixHQUNBLElBQUFpaEIsS0FBQSxHQUNBM3JCLFFBQUFpTSxRQUFBa1osTUFBQW1HLFNBQUEsU0FBQWhoQixHQUNBcWhCLEtBQUE3Z0IsS0FBQSxDQUFBUixFQUFBQSxJQUFBQSxFQUFBcUssUUFFQStVLFNBQUExcEIsUUFBQTRKLEtBQUEraEIsTUFDQS9LLE9BQUEyRCxLQUFBLHFCQUlBMkcsWUFBQTFHLFNBQUEsY0FBQSxTQUFBOVosR0FDQUEsRUFBQXlLLE9BQUFvQixPQUFBLEVBQUExQyxNQUFBZ1gsVUFDQW5nQixFQUFBeUssT0FBQXNCLFlBQUEsRUFBQTVDLE1BQUFnWCxVQUNBaFgsTUFBQU8sU0FHQThXLFlBQUExRyxTQUFBLGFBQUEsU0FBQTlaLEdBQ0FzRCxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxTQUVBMlYsWUFBQTFHLFNBQUEsYUFBQSxTQUFBOVosR0FDQXNELFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFlBRUE0UCxNQUFBclEsSUFBQWtDLFdBR0EsRUFDQW5ELE1BQUFpQixJQUFBcVEsT0FDQUEsT0FHQXlHLE9BQUEsU0FBQUMsUUFDQTFHLE1BQUE3YSxFQUFBdWhCLE9BQUF2aEIsR0FDQTZhLE1BQUF4USxFQUFBa1gsT0FBQWxYLEdBQ0FkLE1BQUFPLFFBRUEwWCxVQUFBLFdBQ0EsT0FBQXBDLFNBQUFubEIsT0FBQSxTQUFBQyxJQUFBOEYsRUFBQTRILEdBTUEsT0FMQTFOLElBQUFzRyxLQUFBUixFQUFBLEdBQUFBLEVBQUEsSUFDQTRILElBQUF3WCxTQUFBemYsT0FBQSxHQUVBekYsSUFBQXNHLEtBQUE0ZSxTQUFBLEdBQUFBLFNBQUEsSUFFQWxsQixLQUNBLEtBRUFnbkIsU0FBQSxXQUNBLE9BQUFyRyxTQU9BNkcsNEJBQUEsU0FBQWhILFdBQ0EsSUFBQWlILGlCQUFBakgsVUFBQTlRLEtBQUEsaUJBQ0ErWCxpQkFBQWhpQixRQUNBakssUUFBQWlNLFFBQUFnZ0IsaUJBQUEsR0FBQS9DLGNBQUEsU0FBQUMsT0FDQUEsTUFBQTVFLEtBQUEsa0JBS0EySCxRQUFBLFdBQ0EsSUFBQUMsVUFFQSxNQUFBLENBQ0FDLGFBQUEsU0FBQUMsTUFDQUYsVUFBQUUsTUFFQUMsYUFBQSxXQUNBLE9BQUFILGFBS0FJLFlBQUEsV0FDQSxJQUFBbEssTUFBQSxDQUNBN0wsT0FBQSxRQUNBekIsUUFBQSxFQUNBMkIsS0FBQSx5QkFDQUQsWUFBQSxHQUdBLE1BQUEsQ0FDQXJWLElBQUEsU0FBQXNnQixLQUNBVyxNQUFBaGUsT0FBQW1vQixPQUFBbkssTUFBQVgsTUFFQTdlLElBQUEsU0FBQWdjLE1BQ0EsT0FBQUEsS0FBQXdELE1BQUF4RCxNQUFBd0QsWUFuZkEsR0NBQSxXQUNBcmlCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsbUJBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUgsb0JBQ0FDLFFBQ0EwcUIsT0FJQW5wQixLQUNBb3BCLFVBQUEsRUFKQSxJQUtBMXBCLE9BQUFqQixRQUFBaUIsT0FBQWpCLFFBQUFrQixVQUFBbEIsUUFBQW1OLFVBRUEsSUFBQXNkLFlBQUExakIsWUFHQSxPQUZBOUYsY0FMQU0sS0FNQW9wQixVQUFBLEdBTkFwcEIsS0FZQU4sT0FBQSxXQUNBQSxZQTdCQSxHQ0FBLFdBQ0FuRCxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGdCQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0F3cUIsTUFDQTFxQixRQUNBRCxvQkFDQW1XLG1CQUNBRCxlQUNBLElBRUFoVixPQUtBakIsUUFMQWlCLE9BRUFpTixjQUdBbE8sUUFKQWtCLFVBSUFsQixRQUhBa08sY0FDQXFCLGFBRUF2UCxRQUZBdVAsYUFJQTZHLElBRkFwVyxRQURBNHFCLGdCQUdBcnBCLE1BQ0E2VSxHQUFBdEwsU0FBQSxpQkFDQXNMLEdBQUF5VSxZQUFBLEdBQ0EsSUFBQUMsZ0JBQUF2YixlQUNBNkcsR0FBQTJVLFFBQUFELGdCQUFBbnFCLE1BQ0FtQyxRQUFBQyxJQUFBcVQsR0FBQTJVLFNBRUFOLFlBQUExakIsYUFDQTlGLFNBR0FtVixHQUFBblYsT0FBQSxXQUNBQSxVQUdBbVYsR0FBQTRVLFlBQUEsU0FBQW5oQixNQUFBNFksT0FFQSxJQUFBd0ksUUFBQXhJLE1BQUF4UCxPQUFBcEosTUFFQS9HLFFBQUFDLElBQUFrb0IsU0FDQTdVLEdBQUF0TCxTQUFBbWdCLFFBQUEsR0FBQXhsQixNQUdBMlEsR0FBQThVLFVBQUEsU0FBQXJoQixNQUFBc2hCLFFBQ0FqVixtQkFDQWhNLG9CQUFBTCxNQUFBc2hCLE9BQUF6a0IsS0FDQTFCLEtBQUEsU0FBQW9tQixXQUNBQSxVQUFBNWdCLFdBQUF6QyxRQUNBcU8sR0FBQWlWLGVBQUFELFVBQ0F0b0IsUUFBQUMsSUFBQXFULEdBQUFpVixnQkFDQTFULE1BQUEseUJBRUE3VSxRQUFBQyxJQUFBcW9CLFdBQ0FoVixHQUFBa1YsV0FBQUYsVUFBQWxkLGFBQUF2TixNQUFBK0YsSUFBQXlrQixXQUdBaG1CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFJQTROLEdBQUFrVixXQUFBLFNBQUF6aEIsTUFBQXBHLFVBQUEwbkIsUUFFQSxHQUFBalYsbUJBQUF2TCxnQkFBQWQsTUFBQVcsWUFDQXRLLGFBQUE4SCxRQUFBLHFDQTZGQSxHQXpGQTZCLE1BQUFBLEdBQUFBLE9BQUFBLG1CQUFBQSxNQUFBVyxZQUFBcUYsbUJBQUFoRyxNQUFBYSxjQUNBMEwsR0FBQW1WLGFBQUEsRUFFQW5WLEdBQUFvVixnQkFBQXRWLG1CQUFBOU0saUJBQUFTLE9BRUEvTCxRQUFBaU0sUUFBQXFNLEdBQUFvVixnQkFBQS9oQixHQUFBLFNBQUFyQixHQWlGQTZOLGNBQUFsUixNQS9FQSxTQUFBMFIsV0FFQXJPLEVBQUFzTyxNQUFBVCxjQUFBUyxNQUFBQyxLQUFBRixVQUFBck8sR0FDQUEsRUFBQXdPLE9BQUFYLGNBQUFXLE9BQUFELEtBQUFGLFVBQUFyTyxHQUNBQSxFQUFBeU8sTUFBQVosY0FBQVksTUFBQUYsS0FBQUYsVUFBQXJPLEdBQ0EsSUFBQTBPLFVBQUEsQ0FDQXJSLEtBQUEyQyxFQUFBM0MsS0FDQWtFLEtBQUF2QixFQUNBcEgsU0FBQSxTQUFBK1YsRUFBQUMsT0FHQTVPLEVBQUFwSCxTQUNBb0gsRUFBQXBILFNBQUFnVSxLQUFBaUMsTUFBQSxJQUFBRixHQUNBM08sRUFBQXBILFNBQ0FnVSxLQUFBaUMsTUFBQSxJQUFBRixHQUVBWCxHQUFBYyxhQUFBaEIsbUJBQUF0TSxzQkFDQXdNLEdBQUFvVixpQkFHQWhCLFNBQUEsV0FDQUQsT0FBQWtCLFlBR0F2bUIsU0FBQSxTQUFBaVMsS0FBQUMsUUFDQWhQLEVBQUE0QixXQUFBLEVBRUF3Z0IsU0FBQSxXQUNBRCxPQUFBa0IsV0FFQTNvQixRQUFBQyxJQUFBLGVBSUEwVCxVQUFBN0QsSUFBQWtFLFdBQUE5UixLQUNBLFNBQUFxUyxjQUVBLElBQUFoVyxRQUFBLENBQ0E0RixLQUFBaVAsbUJBQUF4TSxnQkFBQXRCLEdBQ0EzRSxVQUFBeUssYUFBQXZOLE1BQUErRixJQUNBZ2xCLFNBQUFQLE9BQUF6a0IsSUFDQTRRLFVBQUEsQ0FDQS9NLFVBQUFuQyxFQUFBbUMsVUFDQWlOLE9BQUEsY0FDQWxaLElBQUFBLFFBQUE4SixFQUFBM0MsS0FDQWdTLFNBQUFyUCxFQUFBbkIsS0FDQXlRLE1BQUF0UCxFQUFBa0IsS0FDQXFpQixhQUFBdmpCLEVBQUF3akIsT0FHQXJrQixXQUNBc2tCLGNBQUF4cUIsU0FDQTJELEtBQUEsU0FBQUMsTUFDQWttQixRQUNBQSxPQUFBdGhCLE1BQUFqQixLQUFBM0QsS0FBQXhELEtBQUFBLFFBR0EwRCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBRUF0SSxhQUFBb0ksUUFBQSw4QkFDQXhGLFFBQUFDLElBQUEsaUNBQUFzVSxlQUVBLFNBQUFPLFFBRUF4UCxFQUFBNkIsU0FBQSxFQUVBbU0sR0FBQWMsYUFBQWhCLG1CQUFBdE0sc0JBQ0F3TSxHQUFBb1YsaUJBR0FoQixTQUFBLFdBQ0FELE9BQUFrQixXQUVBM29CLFFBQUFDLElBQUEsbUNBQUE2VSxjQVFBeEIsR0FBQW9WLGdCQUFBaGlCLFdBQUF6QixPQUFBLENBQ0EsSUFBQThQLGtCQUFBLENBQ0FoTyxNQUFBdU0sR0FBQW9WLGdCQUFBaGlCLFdBRUFZLFdBQUFnTSxHQUFBb1YsZ0JBQUFoaUIsV0FBQXJCLElBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBbUMsWUFDQTlHLFVBQUFBLFVBQ0E2QixZQUFBNmxCLE9BQUF6a0IsS0FHQWEsV0FDQXVrQix3QkFBQWpVLG1CQUNBN1MsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQW9WLGdCQUFBaGlCLFdBQUE0TSxHQUFBb1YsZ0JBQUFoaUIsV0FBQXJCLElBQ0EsU0FBQUMsR0FFQSxPQURBQSxFQUFBNEIsV0FBQSxFQUNBNUIsSUFJQWdPLEdBQUFjLGFBQUFoQixtQkFBQXRNLHNCQUNBd00sR0FBQW9WLGlCQUdBaEIsU0FBQSxXQUNBRCxPQUFBa0IsV0FHQU4sUUFDQWxtQixLQUFBeEQsS0FBQUEsS0FBQXNJLFFBQUEsU0FBQTNCLEdBQ0EraUIsT0FBQXRoQixNQUFBakIsS0FBQVIsS0FJQWxJLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixTQXJNQSxHQ0FBLFdBQ0ExSyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLFNBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsUUFDQTBxQixNQUNBenFCLFFBS0EsSUFDQWdCLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUNBLElBQUF1cEIsWUFBQTFqQixZQUVBLFlBREE5RixTQUhBTSxLQU1BTixPQUFBLFdBQ0FBLFVBUEFNLEtBVUFxTSxTQUFBMU0sVUFBQVAsUUEzQkEsR0NBQSxXQUNBN0MsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxxQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0ExcUIsVUFDQTJxQixZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsU0FHQSxJQUNBaUIsT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQ0EsSUFBQXVwQixZQUFBMWpCLFlBRUEsWUFEQTlGLFNBSEFNLEtBUUFxTSxTQUFBMU0sVUFBQVAsTUFSQVksS0FTQU4sT0FBQSxXQUFBQSxVQUtBLFlBRkFuQixVQUFBaXNCLFFBR0FDLEVBQUEsZ0JBQUFDLElBQUEsVUFBQSxvQkFJQUQsRUFBQSxnQkFBQUUsY0FqQ0EsR0NBQSxXQUNBcHVCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsa0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBMXFCLFVBQ0EycUIsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFNBR0EsSUFBQW9XLEdBQUE3VSxLQUNBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFDQSxJQUFBdXBCLFlBQUExakIsWUFFQSxZQURBOUYsU0FHQXNwQixPQUFBNEIsUUFBQSxFQUdBL1YsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUNBeVYsR0FBQW5WLE9BQUEsV0FBQUEsVUFDQXNwQixPQUFBNkIsV0FDQTdCLE9BQUE0QixRQUFBLEVBQ0E1QixPQUFBOEIsV0FBQSxFQUNBOUIsT0FBQStCLFdBQUEsRUFDQS9CLE9BQUFnQyxlQUFBLEVBQ0FoQyxPQUFBaUMsZUFBQSxHQUNBakMsT0FBQWtDLFVBQUEsR0FDQXJXLEdBQUFzVyxhQUFBLEVBRUF0VyxHQUFBdVcsY0FFQXZXLEdBQUF3VyxVQUFBLENBQUEsQ0FBQSxDQUFBbm5CLEtBQUEsWUFBQW9uQixLQUFBLENBQUEsQ0FBQUMsTUFBQSxtQkFBQUMsTUFBQSxlQUNBLENBQUF0bkIsS0FBQSxZQUFBb25CLEtBQUEsQ0FBQSxDQUFBQyxNQUFBLG1CQUFBQyxNQUFBLGVBQ0EsQ0FBQXRuQixLQUFBLFlBQUFvbkIsS0FBQSxDQUFBLENBQUFDLE1BQUEsbUJBQUFDLE1BQUEsWUFDQUMsTUFBQSxDQUFBLENBQUFDLE9BQUEsbUJBQUEsQ0FBQUEsT0FBQSxtQkFBQUMsWUFBQSxDQUFBLENBQUFBLFlBQUEsc0JBR0EsQ0FBQSxDQUFBem5CLEtBQUEsaUJBQUFvbkIsS0FBQSxDQUFBLENBQUFDLE1BQUEsd0JBQUFDLE1BQUEsZUFDQSxDQUFBdG5CLEtBQUEsaUJBQUFvbkIsS0FBQSxDQUFBLENBQUFDLE1BQUEsd0JBQUFDLE1BQUEsZUFDQSxDQUFBdG5CLEtBQUEsaUJBQUFvbkIsS0FBQSxDQUFBLENBQUFDLE1BQUEsd0JBQUFDLE1BQUEsZ0JBRUEsQ0FBQSxDQUFBdG5CLEtBQUEsYUFBQW9uQixLQUFBLENBQUEsQ0FBQUMsTUFBQSxvQkFBQUMsTUFBQSxlQUNBLENBQUF0bkIsS0FBQSxhQUFBb25CLEtBQUEsQ0FBQSxDQUFBQyxNQUFBLG9CQUFBQyxNQUFBLGVBQ0EsQ0FBQXRuQixLQUFBLGFBQUFvbkIsS0FBQSxDQUFBLENBQUFDLE1BQUEsb0JBQUFDLE1BQUEsaUJBSUFub0IsUUFBQXlCLElBQUEsQ0FDQWtCLFdBQUF6RCxtQkFDQXlELFdBQUF4RCx3QkFDQXdELFdBQUF2RCxzQkFFQWdCLEtBQUEsU0FBQUMsTUFTQSxPQVJBbVIsR0FBQStXLFNBQUEsR0FBQXZkLE9BQ0EzSyxLQUFBLEdBQUF4RCxLQUFBMnJCLEtBQ0Fub0IsS0FBQSxHQUFBeEQsS0FBQTJyQixLQUNBbm9CLEtBQUEsR0FBQXhELEtBQUEyckIsTUFFQTdDLE9BQUE4QyxvQkFDQXZxQixRQUFBQyxJQUFBLGFBQUFxVCxHQUFBK1csVUFFQSxJQUFBdm9CLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQXVSLEdBQUErVyxjQUlBaG9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FJQStoQixPQUFBK0Msa0JBQUEsV0FDQS9DLE9BQUE0QixRQUFBLEdBR0E1QixPQUFBZ0QsWUFBQSxXQUNBaEQsT0FBQTRCLFFBQUEsR0FFQTVCLE9BQUFpRCxXQUFBLEdBQ0FqRCxPQUFBOEMsa0JBQUEsV0FDQXZxQixRQUFBQyxJQUFBLDhCQUNBd25CLE9BQUFpQyxlQUFBLENBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsS0FDQTFwQixRQUFBQyxJQUFBLDBCQUFBd25CLE9BQUFpQyxpQkFLQWpDLE9BQUFrRCxXQUFBLFNBQUFDLFVBQ0F0WCxHQUFBdVgsWUFBQUQsU0FDQW5ELE9BQUFnQyxlQUFBLEdBRUFoQyxPQUFBcUQsa0JBQUEsU0FBQXZkLFNBQUFpVCxNQUFBdUssWUFDQS9xQixRQUFBQyxJQUFBLFdBQUF1Z0IsT0FDQXhnQixRQUFBQyxJQUFBLFVBQUE4cUIsWUFDQXRELE9BQUF1RCxpQkFBQXpkLFNBS0FrYSxPQUFBaUMsZUFBQWxKLE9BQUF1SyxZQUFBdEQsT0FBQXVELGlCQUtBaHJCLFFBQUFDLElBQUEseUJBQUF3bkIsT0FBQWlDLGdCQUNBakMsT0FBQXdELFdBQUEsR0FDQXhELE9BQUFnQyxlQUFBLEVBQ0FoQyxPQUFBeUQsWUFHQXpELE9BQUEwRCxrQkFBQSxTQUFBdG1CLE1BQ0E0aUIsT0FBQXVELGlCQUFBbm1CLE1BSUFxa0IsRUFBQSxnQkFBQUUsWUFFQTNCLE9BQUFscUIsUUFBQSxDQUNBLENBQUFvRixLQUFBLEtBQ0EsQ0FBQUEsS0FBQSxNQUNBLENBQUFBLEtBQUEsaUJBQ0EsQ0FBQUEsS0FBQSxVQUNBLENBQUFBLEtBQUEsUUFFQSxDQUFBQSxLQUFBLGtCQUNBLENBQUFBLEtBQUEsY0FDQSxDQUFBQSxLQUFBLGFBQ0EsQ0FBQUEsS0FBQSxnQkFDQSxDQUFBQSxLQUFBLGVBQ0EsQ0FBQUEsS0FBQSxVQUNBLENBQUFBLEtBQUEsZUFDQSxDQUFBQSxLQUFBLEtBR0F1bUIsRUFBQWxnQixVQUFBb2lCLE1BQUEsV0FFQWxDLEVBQUEsZ0JBQUFtQyxTQUlBNUQsT0FBQTZELFVBQUEsV0FDQXBDLEVBQUEsdUJBQUFxQyxjQUFBLEtBQ0FyQyxFQUFBLGdCQUFBbUMsT0FDQW5DLEVBQUEsaUJBQUFyTSxPQUNBcU0sRUFBQSx1QkFBQXNDLFFBQUEsQ0FDQUQsV0FBQSxXQUNBLFNBRUE5RCxPQUFBZ0UsV0FBQSxXQUNBdkMsRUFBQSx1QkFBQXFDLGNBQUEsS0FDQXJDLEVBQUEsaUJBQUFtQyxPQUNBbkMsRUFBQSxnQkFBQXJNLE9BQ0FxTSxFQUFBLHVCQUFBc0MsUUFBQSxDQUNBRCxXQUFBLFdBQ0EsU0FHQWpZLEdBQUFvWSxnQkFBQSxTQUFBbEwsTUFBQTlNLE9BQ0ExVCxRQUFBQyxJQUFBLFVBQUF1Z0IsTUFBQSxlQUFBOU0sT0FDQSxHQUFBQSxNQUFBek8sUUFDQXlPLE1BQUEzTixPQUFBeWEsTUFBQSxHQUNBOU0sTUFBQTVOLEtBQUEsS0FHQTROLE1BQUEzTixPQUFBeWEsTUFBQSxJQUtBbE4sR0FBQXFZLGNBQUEsU0FBQW5MLE1BQUEzYixNQUVBNGlCLE9BQUFtRSxrQkFBQS9tQixNQUtBeU8sR0FBQXVZLGVBQUEsU0FBQUMsU0FBQWpuQixNQUVBQSxLQUFBa25CLFFBQUFsbkIsS0FBQW1uQixhQUFBcmdCLE1BQUFtZ0IsU0FDQWpuQixLQUFBb25CLFNBQUFwbkIsS0FBQXFuQixXQUFBdmdCLE1BQUFtZ0IsU0FDQTlyQixRQUFBQyxJQUFBLGFBQUE0RSxNQUNBNGlCLE9BQUF5RCxZQUlBekQsT0FBQTBFLGVBQUEsV0FDQTFFLE9BQUFpQyxlQUFBNWpCLEtBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxNQUlBMmhCLE9BQUF5RCxTQUFBLFdBQ0F6RCxPQUFBMkUsU0FBQSxFQUNBM0UsT0FBQTRFLFVBQUEsRUFDQTVFLE9BQUFpQyxlQUFBemtCLE9BQUEsR0FDQWpLLFFBQUFpTSxRQUFBd2dCLE9BQUFpQyxlQUFBLFNBQUE0QyxJQUNBdHhCLFFBQUFpTSxRQUFBcWxCLEdBQUEsU0FBQTVtQixHQUNBK2hCLE9BQUEyRSxTQUFBM0UsT0FBQTJFLFNBQUExbUIsRUFBQXFtQixRQUNBdEUsT0FBQTRFLFVBQUE1RSxPQUFBNEUsVUFBQTNtQixFQUFBdW1CLGNBU0F4RSxPQUFBOEUsVUFBQSxTQUFBQyxNQUlBL0UsT0FBQWxxQixRQUFBdUksS0FBQSxDQUNBbkQsS0FBQSxNQU9BMlEsR0FBQW1aLElBQ0FuWixHQUFBb1osR0FDQWpGLE9BQUFrRixlQUFBLFNBQUFwaEIsV0FBQXFoQixPQUFBekksT0FDQTdRLEdBQUFtWixJQUFBRyxPQUFBdFosR0FBQW9aLEdBQUF2SSxNQUdBLElBQUEwSSxPQUFBLEdBQ0F0aEIsV0FBQXRHLFFBQUEsR0FDQWpLLFFBQUFpTSxRQUFBcU0sR0FBQStXLFNBQUEsU0FBQXhsQixNQUNBQSxLQUFBbEMsS0FBQW1xQixjQUFBbmxCLFFBQUE0RCxXQUFBdWhCLGdCQUFBLEdBQ0FELE9BQUEvbUIsS0FBQWpCLFFBTUE0aUIsT0FBQXdELFdBQUE0QixRQUNBcEYsT0FBQXdELFdBQUFobUIsT0FBQSxHQUNBc0csV0FBQXRHLE9BQUEsSUFDQWpGLFFBQUFDLElBQUEsMkJBQ0F3bkIsT0FBQXVELGlCQUFBLEdBQ0F2RCxPQUFBdUQsaUJBQUErQixTQUFBLEVBQ0F0RixPQUFBdUQsaUJBQUFyb0IsS0FBQTRJLFdBQ0FrYyxPQUFBaUMsZUFBQWtELFFBQUE5bUIsS0FBQTJoQixPQUFBdUQsa0JBQ0F2RCxPQUFBd0QsV0FBQSxHQUNBeEQsT0FBQWdDLGVBQUEsRUFDQWhDLE9BQUF5RCxhQU1BekQsT0FBQXVGLGFBQUEsU0FBQW5vQixLQUFBMmIsTUFBQTlNLE9BQ0E3TyxLQUFBa29CLFNBQUEsRUFDQXJaLE1BQUE4TSxPQUFBM2IsS0FDQTRpQixPQUFBd0QsV0FBQSxJQUdBeEQsT0FBQXdGLFNBQUEsU0FBQXpNLE1BQUEwTSxNQUVBQSxLQUFBQyxVQUNBRCxLQUFBam5CLFVBR0FpbkIsS0FBQUMsV0FBQSxFQUNBRCxLQUFBam5CLFdBTUF3aEIsT0FBQTJGLFlBQUEsU0FBQTVNLE1BQUEwTSxNQUNBQSxLQUFBQyxVQUNBRCxLQUFBam5CLFVBR0FpbkIsS0FBQUMsV0FBQSxFQUNBRCxLQUFBam5CLFdBS0F3aEIsT0FBQTRGLFVBQUEsU0FBQTdNLE9BQ0FpSCxPQUFBNkYsT0FBQSxHQUNBN0YsT0FBQWlDLGVBQUFsSixPQUFBMWEsS0FBQTJoQixPQUFBNkYsU0FLQWhhLEdBQUFpYSxXQUNBamEsR0FBQWthLFdBQUEsRUFFQXhrQixTQUFBa0gsaUJBQUEsVUFBQSxTQUFBeVAsT0FDQSxJQUFBOE4sR0FBQXprQixTQUFBNlIsZUFBQSxjQUNBN2EsUUFBQUMsSUFBQSxhQUFBd3RCLElBQ0EsSUFBQUMsSUFBQUQsR0FBQUUscUJBQUEsTUFBQTFvQixPQUFBLEVBQ0EsS0FBQTBhLE1BQUFpTyxPQUNBdGEsR0FBQWthLFlBQ0FsYSxHQUFBaWEsWUFDQU0sWUFBQXZhLEdBQUFpYSxXQUFBLFlBQ0E5RixPQUFBL1AsS0FBQStWLEdBQUFFLHFCQUFBLE1BQUFyYSxHQUFBa2EsZ0JBQ0E3dkIsSUFBQW13QixRQUFBckcsT0FBQS9QLE9BQUFwRSxHQUFBa2EsV0FBQUUsSUFFQXBhLEdBQUFpYSxXQUFBOUYsT0FBQS9QLE1BRUFwRSxHQUFBa2EsVUFBQSxFQUNBbGEsR0FBQWlhLFdBQUFFLEdBQUFFLHFCQUFBLE1BQUEsSUFFQUksU0FBQXphLEdBQUFpYSxXQUFBLFlBQ0F2dEIsUUFBQUMsSUFBQXFULEdBQUFrYSxhQUdBbGEsR0FBQWthLFVBQUEsRUFFQWxhLEdBQUFpYSxXQUFBRSxHQUFBRSxxQkFBQSxNQUFBLEdBQ0FJLFNBQUF6YSxHQUFBaWEsV0FBQSxjQUdBLEtBQUE1TixNQUFBaU8sUUFHQXRhLEdBQUFpYSxZQUNBTSxZQUFBdmEsR0FBQWlhLFdBQUEsWUFDQWphLEdBQUFrYSxZQUNBeHRCLFFBQUFDLElBQUFxVCxHQUFBa2EsV0FDQS9GLE9BQUEvUCxLQUFBK1YsR0FBQUUscUJBQUEsTUFBQXJhLEdBQUFrYSxnQkFDQTd2QixJQUFBbXdCLFFBQUFyRyxPQUFBL1AsT0FBQXBFLEdBQUFrYSxXQUFBLEVBQ0FsYSxHQUFBaWEsV0FBQTlGLE9BQUEvUCxNQUVBcEUsR0FBQWthLFVBQUFFLElBQ0FwYSxHQUFBaWEsV0FBQUUsR0FBQUUscUJBQUEsTUFBQUQsTUFFQUssU0FBQXphLEdBQUFpYSxXQUFBLGNBR0FqYSxHQUFBa2EsVUFBQSxFQUNBbGEsR0FBQWlhLFdBQUFFLEdBQUFFLHFCQUFBLE1BQUFELEtBQ0FLLFNBQUF6YSxHQUFBaWEsV0FBQSxnQkFJQSxLQXhWQSxHQ0FBLFdBQ0F2eUIsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxlQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFFBQ0EwcUIsTUFDQXpxQixRQUdBc3FCLE9BQUF1RyxTQUFBLENBQ0EsQ0FBQXZ0QixHQUFBLElBQUF3dEIsSUFBQSwrQkFBQXRyQixLQUFBLGdCQUFBdXJCLElBQUEsRUFBQTNyQixRQUFBLEdBQ0EsQ0FBQTlCLEdBQUEsSUFBQXd0QixJQUFBLCtCQUFBdHJCLEtBQUEsZUFBQXVyQixJQUFBLEVBQUEzckIsUUFBQSxHQUNBLENBQUE5QixHQUFBLElBQUF3dEIsSUFBQSwrQkFBQXRyQixLQUFBLGdCQUFBdXJCLElBQUEsRUFBQTNyQixRQUFBLEdBQ0EsQ0FBQTlCLEdBQUEsSUFBQXd0QixJQUFBLCtCQUFBdHJCLEtBQUEsZUFBQXVyQixJQUFBLEVBQUEzckIsUUFBQSxJQUlBLElBQUErUSxHQUFBN1UsS0FDQU4sT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQ0EsSUFBQXVwQixZQUFBMWpCLFlBRUEsWUFEQTlGLFNBR0FtVixHQUFBblYsT0FBQSxXQUNBQSxVQUdBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUVBeVYsR0FBQTZhLFVBQUEsU0FBQTluQixLQUNBNmlCLEVBQUEsc0NBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLHNDQUFBa0YsR0FBQS9uQixLQUFBMG5CLFNBQUEsVUFFQTdFLEVBQUEsc0NBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLHNDQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxzQ0FBQWtGLEdBQUEvbkIsS0FBQTBuQixTQUFBLFFBQ0E3RSxFQUFBLHNDQUFBa0YsR0FBQS9uQixLQUFBMG5CLFNBQUEsV0FHQXphLEdBQUErYSxLQUFBLENBQ0EzeEIsSUFBQSx1R0FDQTR4QixRQUFBLEdBQ0FDLE9BQUEsR0FDQUMsT0FBQSxTQUNBQyxLQUFBLEdBRUEsSUFBQUMsYUFBQSxDQUFBQyxZQUFBLEdBQUFDLFFBQUEsSUFFQXRiLEdBQUF1YixZQUFBLFNBQUF4cEIsS0FDQXJGLFFBQUFDLElBQUF4QixLQUFBcXdCLFlBQ0EsSUFBQUMsVUFBQXR3QixLQUFBcXdCLFdBQUFFLFNBQUFDLFNBQ0FqdkIsUUFBQUMsSUFBQTh1QixXQUNBemIsR0FBQSthLEtBQUFDLFFBQUEsQ0FDQSxDQUFBUyxVQUFBRyxNQUFBSCxVQUFBSSxRQUVBN2IsR0FBQSthLEtBQUFJLEtBQUEsR0FDQW5iLEdBQUErYSxLQUFBRyxPQUFBTyxVQUFBRyxNQUFBLElBQUFILFVBQUFJLE1BRUFULGFBQUFDLFlBQUEsQ0FBQUksVUFBQUcsTUFBQUgsVUFBQUksT0FDQVQsYUFBQUUsUUFBQW53QixLQUFBcXdCLFdBQUFNLGtCQUNBcHZCLFFBQUFDLElBQUF5dUIsZUFFQXBiLEdBQUErYixTQUFBLEdBQ0EvYixHQUFBZ2MsVUFBQSxHQUNBaGMsR0FBQXFNLE1BQUEsQ0FDQTRQLFdBQUEsSUFFQWpjLEdBQUFrYyxXQUFBLEdBQ0FsYyxHQUFBMUwsWUFBQSxHQUVBMEwsR0FBQTRVLFlBQUEsU0FBQW5oQixNQUFBNFksTUFBQThQLE9BQ0EsSUFBQXRILFFBQUF4SSxNQUFBeFAsT0FBQXBKLE1BQ0EvRyxRQUFBQyxJQUFBcVQsR0FBQW9jLFdBQ0FwYyxHQUFBb2MsVUFBQXJ3QixPQUFBQyxLQUFBNm9CLFNBQUE5aUIsSUFBQSxTQUFBQyxHQUFBLE9BQUE2aUIsUUFBQTdpQixHQUFBM0MsT0FDQTNDLFFBQUFDLElBQUFxVCxHQUFBb2MsV0FDQTEwQixRQUFBaU0sUUFBQUYsTUFBQSxTQUFBekIsRUFBQWtiLE9BRUEsR0FEQWxiLEVBQUFrSSxZQUFBLEdBQ0EsU0FBQWlpQixNQUNBLEdBQUEsR0FBQW5jLEdBQUFnYyxVQUFBcnFCLE9BQ0FxTyxHQUFBZ2MsVUFBQXhwQixLQUFBUixPQUNBLENBQ0EsSUFBQXFxQixjQUFBLEVBQ0EzMEIsUUFBQWlNLFFBQUFxTSxHQUFBZ2MsVUFBQSxTQUFBM2YsR0FDQXJLLEVBQUEzQyxNQUFBZ04sRUFBQWhOLE9BQ0FndEIsY0FBQSxLQUlBQSxhQUdBdnlCLGFBQUF5TixNQUFBLDJCQUZBeUksR0FBQWdjLFVBQUF4cEIsS0FBQVIsUUFNQSxHQUFBLEdBQUFnTyxHQUFBMUwsWUFBQTNDLE9BQ0FxTyxHQUFBMUwsWUFBQTlCLEtBQUFSLE9BQ0EsQ0FDQSxJQUFBcXFCLGVBQUEsRUFDQTMwQixRQUFBaU0sUUFBQXFNLEdBQUExTCxZQUFBLFNBQUErSCxHQUNBckssRUFBQTNDLE1BQUFnTixFQUFBaE4sT0FDQWd0QixlQUFBLEtBSUFBLGNBR0F2eUIsYUFBQXlOLE1BQUEsMkJBRkF5SSxHQUFBMUwsWUFBQTlCLEtBQUFSLE9BU0FzaUIsTUFBQWdJLFNBQUExdEIsS0FBQSxTQUFBbUQsS0FDQWlPLEdBQUFqTyxJQUFBQSxJQUNBQSxJQUFBMUosV0FBQSxDQUNBNHlCLE9BQUFqYixHQUFBK2EsS0FBQUUsT0FDQXNCLGtCQUFBLEVBQ0FDLGFBQUEsRUFDQXJCLEtBQUEsRUFDQUQsT0FBQSxDQUNBVSxJQUFBLEVBQ0FDLElBQUEsT0FLQTdiLEdBQUF5YyxVQUFBQyxTQUNBMWMsR0FBQTJjLFdBQUEsc0JBQ0EzYyxHQUFBNGMsVUFBQSxTQUFBQyxLQUNBN2MsR0FBQXFNLE1BQUEsR0FDQXJNLEdBQUFnYyxVQUFBLEdBQ0FoYyxHQUFBMUwsWUFBQSxHQUNBMEwsR0FBQThjLGlDQUVBOWMsR0FBQStjLGVBQUEsU0FBQUMsVUFDQXBILEVBQUEsY0FBQXVHLE1BQUEsUUFDQSxJQUFBYyxZQUFBLEdBQUF6akIsT0FBQXdHLEdBQUFnYyxVQUFBaGMsR0FBQTFMLGFBQ0FqSixLQUFBMnhCLFNBQ0EzeEIsS0FBQTZ4QixLQUFBUixPQUFBcnhCLEtBQUE2eEIsTUFBQTNYLE9BQUEsdUJBQ0FsYSxLQUFBc3dCLFNBQUFQLGFBQ0EvdkIsS0FBQTR3QixXQUFBZ0IsWUFDQXZ3QixRQUFBQyxJQUFBdEIsTUFDQThGLFdBQUFnc0IsWUFBQTl4QixNQUFBdUQsS0FBQSxTQUFBQyxNQUVBLE9BREEvRSxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FDQWhCLFdBQUFpc0IsaUJBRUF4dUIsS0FBQXl1QixtQkFDQXR1QixNQUFBLFNBQUFDLEtBQ0F0QyxRQUFBQyxJQUFBcUMsS0FDQWxGLGFBQUF5TixNQUFBdkksSUFBQTNELEtBQUE4RyxZQUlBNk4sR0FBQXNkLFlBQUEsU0FBQU4sVUFDQXBILEVBQUEsa0JBQUF1RyxNQUFBLFFBQ0EsSUFBQWMsWUFBQSxHQUFBempCLE9BQUF3RyxHQUFBZ2MsVUFBQWhjLEdBQUExTCxhQUNBakosS0FBQTJ4QixTQUNBM3hCLEtBQUFzd0IsU0FBQVAsYUFDQS92QixLQUFBNHdCLFdBQUFnQixZQUVBOXJCLFdBQUFvc0IsY0FBQWx5QixLQUFBMnhCLFNBQUExc0IsS0FBQTFCLEtBQUEsU0FBQUMsTUFDQSxPQUFBc0MsV0FBQWlzQixpQkFFQXh1QixLQUFBeXVCLG1CQUNBdHVCLE1BQUEsU0FBQUMsS0FDQXRDLFFBQUFDLElBQUFxQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLFlBSUE2TixHQUFBd2QsV0FBQSxTQUFBQyxTQUFBNXNCLE1BQ0EsU0FBQUEsS0FDQW1QLEdBQUFnYyxVQUFBdnBCLE9BQUFnckIsU0FBQSxHQUVBemQsR0FBQTFMLFlBQUE3QixPQUFBZ3JCLFNBQUEsSUFLQXpkLEdBQUEwZCxtQkFBQSxTQUFBRCxTQUFBNXNCLE1BQ0FzakIsT0FBQXdKLFNBQUE5c0IsS0FDQXNqQixPQUFBeUosVUFBQUgsVUFFQSxJQUFBSSxtQkFBQSxHQVVBLFNBQUFSLGtCQUFBeHVCLE1BQ0EsSUFBQWl2QixTQUFBbEksRUFBQSxhQUNBbUksZUFBQSxHQUZBQyw0QkFBQSxFQUFBQyxvQkFBQSxFQUFBQyxxQkFBQTd6QixFQUFBLElBR0EsSUFBQSxJQUFBOHpCLE9BQUFDLFdBQUF2dkIsS0FBQXhELEtBQUFBLEtBQUF5YSxPQUFBQyxjQUFBaVksNEJBQUFHLE9BQUFDLFdBQUFoYSxRQUFBNEIsTUFBQWdZLDRCQUFBLEVBQUEsQ0FBQSxJQUFBNzFCLEVBQUFnMkIsT0FBQTlsQixNQUNBMGxCLGVBQUF2ckIsS0FBQSxDQUNBd0gsTUFBQTdSLEVBQUFrSCxLQUNBVixNQUFBeEcsRUFBQSswQixLQUNBNXNCLElBQUFuSSxFQUFBbUksSUFDQSt0QixRQUFBLEtBUkEsTUFBQXJ2QixLQUFBaXZCLG9CQUFBLEVBQUFDLGdCQUFBbHZCLElBQUEsUUFBQSxLQUFBZ3ZCLDRCQUFBSSxXQUFBblksUUFBQW1ZLFdBQUFuWSxTQUFBLFFBQUEsR0FBQWdZLG1CQUFBLE1BQUFDLGlCQVdBeHhCLFFBQUFDLElBQUFveEIsZUFBQSxrQkFTQUQsU0FBQVEsYUFBQSxDQUNBQyxPQUFBLENBQ0FDLEtBQUEsV0FDQXRELE9BQUEsd0JBQ0F1RCxNQUFBLHVDQUVBQyxXQUFBLFNBQUFDLFNBQUFDLFFBQUFDLE1BQ0EsSUFBQUMsT0FBQWp3QixLQUFBeEQsS0FBQUEsS0FBQW1KLE9BQUEsU0FBQXFvQixLQUFBLE9BQUFBLElBQUF2c0IsTUFBQXF1QixTQUFBcnVCLE1BQ0EwUCxHQUFBcU0sTUFBQXlTLE9BQUEsR0FDQTllLEdBQUFxTSxNQUFBd1MsS0FBQW5DLE9BQUExYyxHQUFBcU0sTUFBQTZRLE1BQUEzWCxPQUFBLHVCQUNBdkYsR0FBQXFNLE1BQUEwUyxlQUFBbEIsbUJBQ0E3ZCxHQUFBeWMsVUFBQXpjLEdBQUFxTSxNQUFBNlEsS0FDQWxkLEdBQUFnYyxVQUFBaGMsR0FBQXFNLE1BQUE0UCxXQUFBK0MsT0FDQWhmLEdBQUExTCxZQUFBMEwsR0FBQXFNLE1BQUE0UCxXQUFBZ0QsS0FDQWpmLEdBQUFxTSxNQUFBc1AsU0FBQTNiLEdBQUFxTSxNQUFBc1AsU0FBQUwsUUFFQTV1QixRQUFBQyxJQUFBcVQsR0FBQXFNLE9BQ0Eza0IsUUFBQWlNLFFBQUFxTSxHQUFBcU0sTUFBQTRQLFdBQUEsU0FBQWpxQixFQUFBa2IsT0FDQXhnQixRQUFBQyxJQUFBcUYsR0FDQUEsRUFBQWtJLFlBQUEsS0FHQWlhLE9BQUFrQixTQUVBM29CLFFBQUFDLElBQUFxVCxHQUFBcU0sT0FDQTNmLFFBQUFDLElBQUFxVCxHQUFBa2MsWUFDQXRHLEVBQUEsa0JBQUF1RyxNQUFBLFNBMkJBK0MsWUFBQSxJQUFBdnFCLEtBQ0F3cUIsVUFBQSxFQUVBL1MsT0FBQTJSLGlCQXBGQTVzQixXQUFBaXNCLGVBQ0F4dUIsS0FBQXl1QixtQkFDQXR1QixNQUFBLFNBQUFDLEtBQ0F0QyxRQUFBQyxJQUFBcUMsS0FDQWxGLGFBQUF5TixNQUFBdkksSUFBQTNELEtBQUE4RyxXQW9GQTZOLEdBQUE4Yyw4QkFBQSxXQUNBM3JCLFdBQUEyckIsOEJBQUE5YyxHQUFBeEksU0FBQTlMLFdBQUFrRCxLQUFBLFNBQUF3d0IsT0FLQSxPQUpBMXlCLFFBQUFDLElBQUF5eUIsT0FDQXZCLG1CQUFBdUIsTUFBQS96QixLQUFBQSxLQUNBMlUsR0FBQXFNLE1BQUFyTSxHQUFBcU0sTUFBQXJNLEdBQUFxTSxNQUFBLEdBQ0FyTSxHQUFBcU0sTUFBQTBTLGVBQUFsQixtQkFDQXVCLE1BQUEvekIsS0FBQUEsT0FDQTBELE1BQUEsU0FBQUMsS0FDQXRDLFFBQUFDLElBQUFxQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLFlBR0E2TixHQUFBOGMsa0NBdFNBLEdDQUEsV0FDQXAxQixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGNBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQXdxQixNQUNBMXFCLFFBQ0FELHFCQUVBLElBQUFxVyxHQUFBN1UsS0FFQU4sT0FBQWpCLFFBQUFpQixPQUFBZ08sU0FBQWpQLFFBQUFpUCxTQUFBL04sVUFBQWxCLFFBQUFrQixVQUVBdXBCLFlBQUExakIsYUFDQTlGLFNBR0FtVixHQUFBeEksU0FBQTFNLFVBQUFQLE1BQ0F5VixHQUFBblYsT0FBQSxXQUNBQSxVQUdBc3BCLE9BQUFrTCxPQUFBLHVDQUFBLFNBQUFobkIsT0FDQXVkLEVBQUEsd0JBQUEyRSxZQUFBLDhCQUNBM0UsRUFBQSx3QkFBQTZFLFNBQUEsdUJBR0E3RSxFQUFBLGdCQUFBRSxZQUNBM0IsT0FBQW1MLGdCQUFBLEVBRUF0ZixHQUFBdWYsWUFBQSxFQUVBdmYsR0FBQXdmLFVBQUEsQ0FDQUMsYUFBQSxDQUNBQyxZQUFBLEVBQ0FDLFNBQUEsRUFDQUMsT0FBQSxFQUNBQyxZQUFBLEVBQ0FDLFNBQUEsSUFHQTlmLEdBQUEvSCxXQUFBLEdBQ0ErSCxHQUFBK2YsWUFBQSxTQUFBbHZCLEtBQUFtdkIsZUFFQTMxQixJQUFBMlYsR0FBQXdmLFVBQUFRLFVBQUFudkIsTUFDQW1QLEdBQUF3ZixVQUFBUSxVQUFBbnZCLE9BQUEsRUFDQW1QLEdBQUF3ZixVQUFBUSxVQUFBbnZCLE9BQUFtUCxHQUFBd2YsVUFBQVEsVUFBQW52QixNQUVBTSxXQUNBOUUsZUFBQSxDQUNBaUosS0FBQSxFQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBcXZCLE9BQUFsZ0IsR0FBQS9ILFdBQ0Frb0IsU0FBQW5nQixHQUFBd2YsVUFBQVEsVUFBQW52QixRQUVBakMsS0FBQSxTQUFBQyxNQUVBbVIsR0FBQW9nQixXQUFBdnhCLEtBQUF4RCxLQUFBMnJCLEtBQ0FoWCxHQUFBcWdCLFlBQUF4eEIsS0FBQXhELEtBQUFpMUIsTUFFQWxNLFNBQUEsV0FFQXdCLEVBQUEsZUFBQTJLLFdBQUEsQ0FDQWx2QixNQUFBMk8sR0FBQXFnQixZQUNBRyxZQUFBLEdBQ0FDLFNBQUEsY0FDQUMsZUFBQSxJQUNBQyxVQUFBLEVBQ0FwQixZQUFBLEVBRUFxQixZQUFBLFNBQUF0ckIsS0FBQStXLE9BQ0FBLE1BQUF0UCxpQkFDQTVMLFdBQ0E5RSxlQUFBLENBQ0FpSixLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBc3ZCLFNBQUFuZ0IsR0FBQXdmLFVBQUEzdUIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFvZ0IsV0FBQXZ4QixLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFHQTROLEdBQUEvSCxXQUFBLEdBQ0EsSUFBQTRvQixlQUFBaG9CLFNBQUEsS0FDQW1ILEdBQUE4Z0IsY0FBQSxTQUFBdm9CLE1BS0Fzb0IsZUFDQSxXQUNBMXZCLFdBQ0E5RSxlQUFBLENBQ0FpSixLQUFBLEVBQ0FtYyxNQUFBLEdBQ0F5TyxPQUFBM25CLEtBQ0EwbkIsS0FBQSxVQUNBRSxVQUFBLElBRUF2eEIsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQW9nQixXQUFBdnhCLEtBQUF4RCxLQUFBMnJCLEtBQ0FoWCxHQUFBcWdCLFlBQUF4eEIsS0FBQXhELEtBQUFpMUIsTUFFQWxNLFNBQUEsV0FDQXdCLEVBQUEsZUFBQTJLLFdBQUEsQ0FDQWx2QixNQUFBMk8sR0FBQXFnQixZQUNBRyxZQUFBLEdBQ0FDLFNBQUEsY0FDQUMsZUFBQSxJQUNBQyxVQUFBLEVBQ0FwQixZQUFBLEVBQ0FxQixZQUFBLFNBQUF0ckIsS0FBQStXLE9BQ0FBLE1BQUF0UCxpQkFDQTVMLFdBQUE5RSxlQUFBLENBQ0FpSixLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBc3ZCLFNBQUFuZ0IsR0FBQXdmLFVBQUFRLFVBQUFudkIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFvZ0IsV0FBQXZ4QixLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFHQSxDQUFBbUcsUUFNQXlILEdBQUErZixZQUFBLFVBQUEsZ0JBQ0EvZixHQUFBK2dCLFVBQUEsQ0FDQUMsUUFBQSxFQUNBak4sTUFBQSxFQUNBNE0sVUFBQSxFQUNBTSxXQUFBLEdBR0FyM0IsUUFBQStPLGlCQUFBL0osS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXJILGVBQUE5SixLQUFBeEQsS0FFQTJVLEdBQUFraEIsZ0JBQUEsU0FBQUMsUUFDQSxPQUFBLElBQUEzeUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBSSxLQUFBeEQsV0FJQXpCLFFBQUFnUCxjQUFBaEssS0FBQSxTQUFBQyxNQUNBbVIsR0FBQW9oQixjQUFBdnlCLEtBQUF4RCxLQUVBMlUsR0FBQXFoQixhQUFBLFNBQUFGLFFBQ0EsT0FBQSxJQUFBM3lCLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXhELFdBSUF6QixRQUFBOE8sY0FBQTlKLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFzaEIsY0FBQXp5QixLQUFBeEQsS0FFQTJVLEdBQUF1aEIsYUFBQSxTQUFBSixRQUNBLE9BQUEsSUFBQTN5QixRQUFBLFNBQUFDLFFBQUFDLFFBQ0FELFFBQUFJLEtBQUF4RCxXQUtBMlUsR0FBQXdoQixhQUFBLFNBQUFDLE1BQUFDLFlBQ0EsSUFBQXR5QixPQUFBLEdBQ0F1eUIsV0FBQSxHQUdBRCxNQUFBQSxZQUNBNTNCLGFBQUF5TixNQUFBLGlDQUVBbE4sSUFBQXEzQixXQUFBaEMsV0FDQTUxQixhQUFBeU4sTUFBQSwrQkFFQW5JLE9BQUFzd0IsV0FBQWdDLFdBQUFoQyxnQkFFQXIxQixJQUFBcTNCLFdBQUFFLGNBQ0E5M0IsYUFBQXlOLE1BQUEsOEJBRUFuSSxPQUFBd3lCLGNBQUEsQ0FDQUMsU0FBQUgsV0FBQUUsY0FBQUMsU0FBQSxHQUFBQSxTQUNBQyxZQUFBSixXQUFBRSxjQUFBRSxhQUdBejNCLE1BQUFxM0IsV0FBQXhuQixjQUNBOUssT0FBQThLLFlBQUF3bkIsV0FBQXhuQixhQUVBN1AsTUFBQXEzQixXQUFBSyxjQUNBM3lCLE9BQUEyeUIsWUFBQUwsV0FBQUssYUFFQTEzQixNQUFBcTNCLFdBQUFNLGdCQUNBNXlCLE9BQUE0eUIsY0FBQU4sV0FBQU0sZUFHQTMzQixNQUFBcTNCLFdBQUE5QixRQUNBeHdCLE9BQUF3d0IsTUFBQThCLFdBQUE5QixPQUVBdjFCLE1BQUFxM0IsV0FBQU8sV0FDQVAsV0FBQU8sU0FBQXR1QixRQUFBLFNBQUF1dUIsU0FDQVAsV0FBQW52QixLQUFBMHZCLFFBQUFyeEIsUUFFQXpCLE9BQUE2eUIsU0FBQU4sWUFHQXQzQixNQUFBcTNCLFdBQUFTLHNCQUNBVCxXQUFBUyxvQkFBQU4sVUFDQW4xQixRQUFBQyxJQUFBLG1CQUNBeUMsT0FBQSt5QixvQkFBQSxDQUNBQyxVQUFBVixXQUFBUyxvQkFBQUMsVUFDQUMsV0FBQVgsV0FBQVMsb0JBQUFFLFdBQ0FDLFNBQUFaLFdBQUFTLG9CQUFBRyxTQUNBMUMsTUFBQThCLFdBQUFTLG9CQUFBdkMsTUFDQTJDLE9BQUEsQ0FDQVYsU0FBQUgsV0FBQVMsb0JBQUFOLFNBQUEsR0FBQUEsU0FDQUMsWUFBQUosV0FBQVMsb0JBQUFMLGVBSUExeUIsT0FBQSt5QixvQkFBQSxDQUNBQyxVQUFBVixXQUFBUyxvQkFBQUMsVUFDQUMsV0FBQVgsV0FBQVMsb0JBQUFFLFdBQ0FDLFNBQUFaLFdBQUFTLG9CQUFBRyxTQUNBMUMsTUFBQThCLFdBQUFTLG9CQUFBdkMsTUFDQTJDLE9BQUEsQ0FDQVQsWUFBQUosV0FBQVMsb0JBQUFMLGVBTUF6M0IsTUFBQXEzQixXQUFBYyxnQkFDQWQsV0FBQWMsY0FBQUMsYUFDQXJ6QixPQUFBb3pCLGNBQUEsQ0FDQW5xQixNQUFBcXBCLFdBQUFjLGNBQUFucUIsTUFDQW9xQixhQUFBZixXQUFBYyxjQUFBQyxhQUFBLEdBQUFDLElBSUF0ekIsT0FBQW96QixjQUFBLENBQ0FucUIsTUFBQXFwQixXQUFBYyxjQUFBbnFCLFFBT0FoTyxNQUFBcTNCLFdBQUFpQixXQUNBakIsV0FBQWlCLFNBQUFDLFlBQ0F4ekIsT0FBQXV6QixTQUFBLENBQ0FFLE1BQUFuQixXQUFBaUIsU0FBQUUsTUFDQUMsTUFBQXBCLFdBQUFpQixTQUFBRyxNQUNBQyxNQUFBckIsV0FBQWlCLFNBQUFJLE1BQ0FDLEtBQUF0QixXQUFBaUIsU0FBQUssS0FDQUMsV0FBQXZCLFdBQUFpQixTQUFBTSxXQUNBTCxZQUFBbEIsV0FBQWlCLFNBQUFDLFlBQUEsR0FBQU0sTUFHQTl6QixPQUFBdXpCLFNBQUEsQ0FDQUUsTUFBQW5CLFdBQUFpQixTQUFBRSxNQUNBQyxNQUFBcEIsV0FBQWlCLFNBQUFHLE1BQ0FDLE1BQUFyQixXQUFBaUIsU0FBQUksTUFDQUMsS0FBQXRCLFdBQUFpQixTQUFBSyxLQUNBQyxXQUFBdkIsV0FBQWlCLFNBQUFNLGFBS0E1NEIsTUFBQXEzQixXQUFBeUIsV0FDQXpCLFdBQUF5QixTQUFBUCxZQUNBeHpCLE9BQUErekIsU0FBQSxDQUNBTixNQUFBbkIsV0FBQXlCLFNBQUFOLE1BQ0FDLE1BQUFwQixXQUFBeUIsU0FBQUwsTUFDQUMsTUFBQXJCLFdBQUF5QixTQUFBSixNQUNBQyxLQUFBdEIsV0FBQXlCLFNBQUFILEtBQ0FDLFdBQUF2QixXQUFBeUIsU0FBQUYsV0FDQUwsWUFBQWxCLFdBQUF5QixTQUFBUCxZQUFBLEdBQUFNLE1BR0E5ekIsT0FBQSt6QixTQUFBLENBQ0FOLE1BQUFuQixXQUFBeUIsU0FBQU4sTUFDQUMsTUFBQXBCLFdBQUF5QixTQUFBTCxNQUNBQyxNQUFBckIsV0FBQXlCLFNBQUFKLE1BQ0FDLEtBQUF0QixXQUFBeUIsU0FBQUgsS0FDQUMsV0FBQXZCLFdBQUF5QixTQUFBRixhQU9BOXhCLFdBQUFpeUIsYUFBQWgwQixRQUNBUixLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQSxxQ0FDQThOLEdBQUFxakIsV0FBQSxHQUNBek4sRUFBQSxjQUFBdUcsTUFBQSxRQUNBbmMsR0FBQStmLFlBQUEsVUFBQSxrQkFFQWh4QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEdBQ0F0SSxhQUFBeU4sTUFBQSw2QkF4VUEsR0NBQSxXQUNBN1AsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxvQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTY1QixhQUNBbnlCLFdBQ0FySCxhQUNBd3FCLE1BQ0ExcUIsUUFDQUQscUJBR0EsSUFBQXFXLEdBQUE3VSxLQUVBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFDQXVwQixZQUFBMWpCLGFBQ0E5RixTQUVBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUdBeVYsR0FBQW5WLE9BQUEsV0FDQUEsVUFHQWpCLFFBQUErTyxpQkFBQS9KLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFySCxlQUFBOUosS0FBQXhELEtBRUEyVSxHQUFBa2hCLGdCQUFBLFNBQUFDLFFBQ0EsT0FBQSxJQUFBM3lCLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXhELFdBSUEyVSxHQUFBdWpCLFNBQUFELGFBQUFuMkIsR0FDQWduQixPQUFBcVAsZ0JBQUEsV0FDQXJ5QixXQUNBbkUsY0FBQWdULEdBQUF1akIsVUFDQTMwQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBeWpCLFdBQUE1MEIsS0FBQXhELEtBQ0FxQixRQUFBQyxJQUFBLFdBQUFxVCxHQUFBeWpCLGVBSUF0UCxPQUFBcVAsa0JBRUF4akIsR0FBQTBqQixnQkFBQSxTQUFBcnpCLE9BQ0EzRCxRQUFBQyxJQUFBMEQsT0FFQWMsV0FBQXd5QixlQUFBdHpCLE1BQUEyUCxHQUFBdWpCLFVBQ0EzMEIsS0FBQSxTQUFBQyxNQUNBK21CLEVBQUEsZUFBQXVHLE1BQUEsUUFDQWhJLE9BQUFxUCxrQkFDQTE1QixhQUFBb0ksUUFBQSxnQ0FDQW5ELE1BQUEsU0FBQXFELEdBQ0F0SSxhQUFBeU4sTUFBQSxvQ0EzREEsR0NBQSxXQUNBN1AsUUFDQUMsT0FBQSxPQUNBMkIsV0FBQSx3QkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTY1QixhQUNBbnlCLFdBQ0FySCxhQUNBRixRQUNBRixVQUNBRyxRQUdBLElBQUFtVyxHQUFBN1UsS0FDQU4sT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQ0EsSUFBQXVwQixZQUFBMWpCLFlBRUEsWUFEQTlGLFNBdUJBLFNBQUErNEIsb0JBQ0F6eUIsV0FBQWxELHFCQUFBK1IsR0FBQTlSLFNBQUFVLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUE2akIsVUFBQWgxQixLQUFBeEQsS0FBQUEsS0FDQTJVLEdBQUE4akIsa0JBQUE5akIsR0FBQTZqQixVQUFBeDBCLEtBQ0EyUSxHQUFBOUYsWUFBQThGLEdBQUE2akIsVUFBQTNwQixZQUNBOEYsR0FBQStqQixJQUFBL2pCLEdBQUE2akIsVUFBQTFhLEtBRUF6YyxRQUFBQyxJQUFBcVQsR0FBQTZqQixXQUNBbjhCLFFBQUFpTSxRQUFBcU0sR0FBQTZqQixVQUFBRyxrQkFBQSxTQUFBenlCLE1BQ0F5TyxHQUFBMFksYUFBQW5uQixLQUFBbWEsV0FBQXVZLFlBQUF2TCxhQUFBcmdCLE1BQUE5RyxLQUFBaW5CLFNBQ0F4WSxHQUFBa2tCLGNBQUFsa0IsR0FBQWtrQixjQUFBbGtCLEdBQUEwWSxhQUNBMVksR0FBQTRZLFdBQUFybkIsS0FBQW1hLFdBQUF1WSxZQUFBckwsV0FBQXZnQixNQUFBOUcsS0FBQWluQixTQUNBeFksR0FBQW1rQixZQUFBbmtCLEdBQUFta0IsWUFBQW5rQixHQUFBNFksYUFFQWxzQixRQUFBQyxJQUFBcVQsR0FBQTZqQixXQUNBelAsU0FBQWdRLFVBQUEsUUFDQXIxQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBMlBBLFNBQUFneUIsWUFDQXhPLEVBQUEsa0JBQUF5TyxXQUFBLENBQ0FDLFVBQUEsUUFDQUMsWUFBQSxFQUNBQyxlQUFBLEVBQ0FDLFdBQUEsRUFDQUMsVUFBQSxHQUNBQyxXQUFBLEVBQ0FDLFNBQUEsaUJBR0FoUCxFQUFBLGdCQUFBeU8sV0FBQSxDQUNBQyxVQUFBLFFBQ0FDLFlBQUEsRUFDQUMsZUFBQSxFQUNBQyxXQUFBLEVBQ0FJLEtBQUEsbUJBL1NBN2tCLEdBQUE4a0IsVUFBQSxFQUNBOWtCLEdBQUE5UixRQUFBbzFCLGFBQUFuMkIsR0FDQTZTLEdBQUF2SCxPQUFBN08sUUFBQTZPLE9BQ0F1SCxHQUFBK2tCLGFBQUEsR0FDQS9rQixHQUFBZ2tCLGtCQUFBLEdBQ0Foa0IsR0FBQWtrQixjQUFBLEVBQ0Fsa0IsR0FBQW1rQixZQUFBLEVBRUFua0IsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUNBNEcsV0FDQTFGLGVBQUF1VSxHQUFBeEksU0FBQTlMLFdBQ0FrRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBcEksWUFBQS9JLEtBQUF4RCxLQUNBMlUsR0FBQWdsQixnQkFBQXQ5QixRQUFBNEosS0FBQTBPLEdBQUFwSSxZQUFBcXRCLGdCQUFBeEMsZ0JBRUE3ekIsS0FBQSxTQUFBd0QsR0FDQTFGLFFBQUFDLElBQUF5RixLQXVCQXd4QixvQkFFQTVqQixHQUFBa2xCLFVBQUEsU0FBQXZLLElBQUE5cEIsTUFDQSxvQkFBQUEsTUFDQW1QLEdBQUEra0IsYUFBQXZ5QixLQUFBd04sR0FBQW1sQixZQUFBeEssS0FBQXJxQixLQUNBMFAsR0FBQW1sQixZQUFBMXlCLE9BQUFrb0IsSUFBQSxLQUVBM2EsR0FBQStrQixhQUFBdnlCLEtBQUF3TixHQUFBb2xCLGNBQUF6SyxLQUFBcnFCLEtBQ0EwUCxHQUFBb2xCLGNBQUEzeUIsT0FBQWtvQixJQUFBLEtBSUEzYSxHQUFBd2QsV0FBQSxTQUFBQyxTQUFBNXNCLEtBQUF3MEIsU0FDQSxTQUFBeDBCLEtBQ0FtUCxHQUFBZ2MsVUFBQXZwQixPQUFBZ3JCLFNBQUEsR0FFQXpkLEdBQUExTCxZQUFBN0IsT0FBQWdyQixTQUFBLElBSUF6ZCxHQUFBc2xCLHNCQUFBLFNBQUEvekIsTUFDQXlPLEdBQUF1bEIsYUFBQXZsQixHQUFBNmpCLFVBQUFHLGtCQUFBenlCLE1BQ0F5TyxHQUFBd2xCLFlBQUF4bEIsR0FBQXVsQixhQUFBL00sU0FDQXhZLEdBQUF5bEIscUJBQUF6bEIsR0FBQXdsQixZQUFBeGxCLEdBQUF1bEIsYUFBQTdaLFdBQUF1WSxZQUFBdkwsYUFBQXJnQixNQUNBMkgsR0FBQTBsQiwyQkFBQTFsQixHQUFBd2xCLFlBQUF4bEIsR0FBQXVsQixhQUFBN1osV0FBQXVZLFlBQUFyTCxXQUFBdmdCLE1BQ0EsR0FBQTJILEdBQUF1bEIsYUFBQUksb0JBQUFoMEIsUUFBQXRILE1BQUEyVixHQUFBdWxCLGFBQUFJLG9CQUFBaDBCLE9BQ0FxTyxHQUFBNGxCLG1CQUFBNWxCLEdBQUF1bEIsYUFBQUksb0JBRUEzbEIsR0FBQTRsQixtQkFBQSxHQUVBNWxCLEdBQUE2bEIsY0FBQXQwQixLQUNBcWtCLEVBQUEsc0JBQUF1RyxNQUFBLFFBQ0EsT0FBQTVxQixLQUNBcWtCLEVBQUEsdUNBQUFyZCxLQUFBLDhCQUVBcWQsRUFBQSx1Q0FBQXJkLEtBQUEsa0NBSUF5SCxHQUFBOGxCLG9CQUFBLFNBQUE1dEIsVUFDQSxJQUFBN00sS0FBQVosS0FBQXM3QixNQUFBN3RCLFVBQ0F4TCxRQUFBQyxJQUFBLGFBQUF0QixNQUNBLElBQUFBLE9BQ0EyVSxHQUFBZ2tCLGtCQUFBeHhCLEtBQUEsQ0FDQWtaLFdBQUFyZ0IsS0FBQWlGLElBQ0FqQixLQUFBaEUsS0FBQWdFLEtBQ0FtcEIsU0FBQXhZLEdBQUFnbUIsVUFBQXhOLFNBQ0FFLGFBQUExWSxHQUFBZ21CLFVBQUF0TixhQUNBRSxXQUFBNVksR0FBQWdtQixVQUFBcE4sV0FDQStNLG9CQUFBM2xCLEdBQUE0bEIscUJBRUE1bEIsR0FBQTRsQixtQkFBQSxHQUNBNWxCLEdBQUFnbUIsVUFBQSxDQUNBeE4sU0FBQSxFQUNBRSxhQUFBLEVBQ0FFLFdBQUEsR0FHQTVZLEdBQUFpbUIsa0JBQUFDLGNBQUEsR0FDQXRRLEVBQUEsbUNBQUFyZCxLQUFBLE1BSUF5SCxHQUFBbW1CLG1CQUFBLFdBQ0FubUIsR0FBQTRsQixtQkFBQXB6QixLQUFBLENBQ0E0ekIsZUFBQSxHQUNBL3RCLE1BQUEsTUFHQTJILEdBQUFxbUIseUJBQUEsU0FBQW5aLE9BQ0FsTixHQUFBNGxCLG1CQUFBbnpCLE9BQUF5YSxNQUFBLElBR0FsTixHQUFBNFUsWUFBQSxTQUFBbmhCLE1BQUE0WSxNQUFBOFAsT0FDQSxJQUFBdEgsUUFBQXhJLE1BQUF4UCxPQUFBcEosTUFDQXVNLEdBQUFvYyxVQUFBcndCLE9BQUFDLEtBQUE2b0IsU0FBQTlpQixJQUFBLFNBQUFDLEdBQUEsT0FBQTZpQixRQUFBN2lCLEdBQUEzQyxPQUNBM0gsUUFBQWlNLFFBQUFGLE1BQUEsU0FBQXpCLEVBQUFrYixPQUVBLEdBREFsYixFQUFBa0ksWUFBQSxHQUNBLFNBQUFpaUIsTUFDQSxHQUFBLEdBQUFuYyxHQUFBZ2MsVUFBQXJxQixPQUNBcU8sR0FBQWdjLFVBQUF4cEIsS0FBQVIsT0FDQSxDQUNBLElBQUFxcUIsY0FBQSxFQUNBMzBCLFFBQUFpTSxRQUFBcU0sR0FBQWdjLFVBQUEsU0FBQTNmLEdBQ0FySyxFQUFBM0MsTUFBQWdOLEVBQUFoTixPQUNBZ3RCLGNBQUEsS0FJQUEsYUFHQXZ5QixhQUFBeU4sTUFBQSwyQkFGQXlJLEdBQUFnYyxVQUFBeHBCLEtBQUFSLFFBTUEsR0FBQSxHQUFBZ08sR0FBQTFMLFlBQUEzQyxPQUNBLFFBQUF3QixLQUFBbkIsRUFBQW5CLE1BQ0FtUCxHQUFBZ2MsVUFBQXhwQixLQUFBUixHQUVBZ08sR0FBQTFMLFlBQUE5QixLQUFBUixPQUVBLENBQ0EsSUFBQXFxQixnQkFBQSxFQUNBMzBCLFFBQUFpTSxRQUFBLEdBQUE2RixPQUFBd0csR0FBQTFMLFlBQUEwTCxHQUFBZ2MsV0FBQSxTQUNBM2YsR0FFQXJLLEVBQUEzQyxNQUFBZ04sRUFBQWhOLE9BQ0FndEIsZ0JBQUEsS0FJQUEsZUFPQXZ5QixhQUFBeU4sTUFBQSwyQkFOQSxRQUFBcEUsS0FBQW5CLEVBQUFuQixNQUNBbVAsR0FBQWdjLFVBQUF4cEIsS0FBQVIsR0FFQWdPLEdBQUExTCxZQUFBOUIsS0FBQVIsT0FVQWdPLEdBQUE2YSxVQUFBLFNBQUE5bkIsSUFBQXV6QixNQW9CQSxTQUFBQyxZQUFBeHpCLEtBQ0E2aUIsRUFBQSxxQ0FBQTJFLFlBQUEsVUFDQTNFLEVBQUEscUNBQUFrRixHQUFBL25CLEtBQUEwbkIsU0FBQSxVQUVBN0UsRUFBQSxxQ0FBQTJFLFlBQUEsVUFDQTNFLEVBQUEscUNBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLHFDQUFBa0YsR0FBQS9uQixLQUFBMG5CLFNBQUEsUUFDQTdFLEVBQUEscUNBQUFrRixHQUFBL25CLEtBQUEwbkIsU0FBQSxVQTFCQSxHQUFBMW5CLElBQ0FpTixHQUFBaW1CLGtCQUFBNTJCLEtBRUEyUSxHQUFBd21CLGFBS0FELFlBQUF4ekIsS0FKQWpKLGFBQUF5TixNQUFBLCtCQUZBek4sYUFBQXlOLE1BQUEsOEJBUUEsR0FBQXhFLEtBQ0EsR0FBQWlOLEdBQUFna0Isa0JBQUFyeUIsUUFBQSxHQUFBcU8sR0FBQWltQixrQkFBQWpDLGtCQUFBcnlCLE9BQ0E3SCxhQUFBeU4sTUFBQSwrQkFLQWd2QixZQUFBeHpCLE1BYUFpTixHQUFBeW1CLFdBQUEsU0FBQXA3QixNQUNBMlUsR0FBQXdtQixhQUFBbjdCLEtBQUFnRSxNQUdBMlEsR0FBQTBtQixVQUFBLFNBQUEzekIsS0FDQSxHQUFBLEdBQUFBLElBQ0FpTixHQUFBOGtCLFVBQUEsRUFDQTlrQixHQUFBaW1CLGtCQUFBditCLFFBQUE0SixLQUFBME8sR0FBQTZqQixXQUNBN2pCLEdBQUF3bUIsYUFBQXhtQixHQUFBaW1CLGtCQUFBOWMsS0FDQW5KLEdBQUFtbEIsWUFBQW5sQixHQUFBaW1CLGtCQUFBeHlCLE1BQUF1ckIsT0FDQWhmLEdBQUFvbEIsY0FBQXBsQixHQUFBaW1CLGtCQUFBeHlCLE1BQUF3ckIsS0FDQWpmLEdBQUE0bEIsbUJBQUEsR0FDQTVsQixHQUFBZ2MsVUFBQSxHQUNBaGMsR0FBQTFMLFlBQUEsR0FDQXNoQixFQUFBLHlCQUFBdUcsTUFBQSxhQUdBLEdBQUEsR0FBQXBwQixJQUFBLENBRUFvaEIsT0FBQThJLFlBQUEsR0FBQXpqQixPQUFBd0csR0FBQWdjLFVBQUFoYyxHQUFBMUwsYUFDQTZmLE9BQUF3UyxlQUFBLEdBQUFudEIsT0FBQXdHLEdBQUFnYyxVQUFBaGMsR0FBQTFMLFlBQUEwTCxHQUFBbWxCLFlBQUFubEIsR0FBQW9sQixlQUVBLElBQUFsckIsWUFBQSxJQUNBOEYsR0FBQWdjLFVBQUFycUIsT0FBQSxHQUFBcU8sR0FBQTFMLFlBQUEzQyxPQUFBLElBQ0F3aUIsT0FBQThJLFlBQUFsckIsSUFBQSxTQUFBQyxFQUFBNEgsR0FDQU0sWUFBQTFILEtBQUEsQ0FDQW8wQixpQkFBQTUwQixFQUFBa0ksZ0JBS0EsSUFBQTJzQixnQkFBQSxHQUFBcnRCLE9BQUF3RyxHQUFBZ2tCLGtCQUFBaGtCLEdBQUFpbUIsa0JBQUFqQyxtQkFDQXQzQixRQUFBQyxJQUFBazZCLGlCQUVBLElBQUFDLE9BQUEsR0FDQUQsZ0JBQUFsekIsUUFBQSxTQUFBM0IsR0FDQXRGLFFBQUFDLElBQUEsUUFBQXFGLEdBQ0E4MEIsT0FBQXQwQixLQUFBLENBQ0FsQyxJQUFBMEIsRUFBQTFCLElBQ0FvYixXQUFBMVosRUFBQTBaLFdBQ0E4TSxTQUFBeG1CLEVBQUF3bUIsU0FDQW1OLG9CQUFBM3pCLEVBQUEyekIsd0JBSUEsSUFBQXQ2QixLQUFBLENBQ0FnRSxLQUFBMlEsR0FBQWltQixrQkFBQTUyQixLQUNBOFosS0FBQW5KLEdBQUF3bUIsYUFDQXhDLGtCQUFBOEMsT0FDQXJ6QixNQUFBMGdCLE9BQUE4SSxZQUNBaGlCLFNBQUFmLGFBR0E2c0IsY0FBQSxDQUNBQyxlQUFBRixPQUNBRyxpQkFBQWpuQixHQUFBaW5CLGtCQUdBdjZCLFFBQUFDLElBQUF0QixLQUFBLFdBRUE4RixXQUFBOUMsd0JBQUEyUixHQUFBNmpCLFVBQUF2ekIsSUFBQXkyQixlQUFBbjRCLEtBQUEsU0FBQUMsTUFDQXNDLFdBQUE3QyxvQkFBQTBSLEdBQUE2akIsVUFBQXZ6QixJQUFBakYsTUFBQXVELEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxTQUNBeWpCLEVBQUEseUJBQUF1RyxNQUFBLFFBQ0F5SCxvQkFDQTVqQixHQUFBb2MsVUFBQSxHQUNBaEksU0FBQWdRLFVBQUEsT0FDQXIxQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE9BRUFyRCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE9BYUE0TixHQUFBa25CLFlBQUEsU0FBQTMxQixLQUFBbEcsTUFDQTJVLEdBQUE2akIsVUFBQUcsa0JBQUF6eUIsTUFBQWluQixTQUFBeFksR0FBQXdsQixZQUNBeGxCLEdBQUE2akIsVUFBQUcsa0JBQUF6eUIsTUFBQW8wQixvQkFBQXQ2QixLQUNBcUIsUUFBQUMsSUFBQXFULEdBQUE2akIsVUFBQUcsa0JBQUF6eUIsTUFBQW8wQixxQkFDQS9QLEVBQUEsc0JBQUF1RyxNQUFBLFNBdUJBaHJCLFdBQ0F6RCxtQkFDQWtCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFtbkIsZ0JBQUF0NEIsS0FBQXhELEtBQUEyckIsS0FDQWhYLEdBQUFnbUIsVUFBQSxDQUNBeE4sU0FBQSxFQUNBRSxhQUFBLEVBQ0FFLFdBQUEsS0FHQTdwQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBb25CLGdCQUFBLFNBQUFsdkIsVUFDQSxJQUFBbXZCLGFBQUE1OEIsS0FBQXM3QixNQUFBN3RCLFVBRUFBLFdBQ0E4SCxHQUFBZ21CLFVBQUF0TixhQUFBOUcsV0FDQWhULEtBQUFpQyxNQUNBYixHQUFBZ21CLFVBQUF4TixTQUNBNk8sYUFBQXBELFlBQUF2TCxhQUFBcmdCLE1BQ0EsS0FDQSxLQUVBMkgsR0FBQWdtQixVQUFBcE4sV0FBQWhILFdBQ0FoVCxLQUFBaUMsTUFDQWIsR0FBQWdtQixVQUFBeE4sU0FDQTZPLGFBQUFwRCxZQUFBckwsV0FBQXZnQixNQUNBLEtBQ0EsS0FFQXVkLEVBQUEsd0JBQUEyRSxZQUFBLDhCQUNBM0UsRUFBQSx3QkFBQTZFLFNBQUEsdUJBR0F6YSxHQUFBaW5CLGlCQUFBLEdBQ0FqbkIsR0FBQXNuQixjQUFBLFNBQUEvMUIsS0FBQSswQixNQUNBLE9BQUFBLEtBQ0F0bUIsR0FBQWdrQixrQkFBQXZ4QixPQUFBbEIsS0FBQSxJQUVBeU8sR0FBQWluQixpQkFBQXowQixLQUFBd04sR0FBQWltQixrQkFBQWpDLGtCQUFBenlCLE1BQUFqQixLQUNBMFAsR0FBQWltQixrQkFBQWpDLGtCQUFBdnhCLE9BQUFsQixLQUFBLE9BdFhBLEdDQUEsV0FDQTdKLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsb0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsUUFDQTBxQixNQUNBenFCLE9BQ0E2eUIsT0FDQWh6QixXQUdBLElBQUFzVyxHQUFBN1UsS0FDQU4sT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQUFnTixjQUFBbE8sUUFBQWlQLFNBQUFqUCxRQUFBa08sY0FDQSxJQUFBdWMsWUFBQTFqQixZQUVBLFlBREE5RixTQUlBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUNBeVYsR0FBQW5WLE9BQUEsV0FDQUEsVUFHQW1WLEdBQUF5YyxVQUFBLElBQUE5bkIsS0FDQXFMLEdBQUF1bkIsYUFBQSxHQUVBdm5CLEdBQUF3bkIsa0JBQUEsQ0FDQUMsVUFBQSxHQUNBdkssS0FBQWxkLEdBQUF5YyxVQUNBaUwsUUFBQTFuQixHQUFBeWMsVUFDQWtMLG9CQUFBLEVBQ0FDLG1CQUFBLEVBQ0F2MkIsTUFBQSxDQUNBLENBQ0E2SSxZQUFBLEdBQ0FzZSxTQUFBLEdBQ0FxUCxVQUFBLEdBQ0FDLGdCQUFBLEdBQ0FDLFFBQUEsR0FDQUMsTUFBQSxJQUVBLENBQ0E5dEIsWUFBQSxHQUNBc2UsU0FBQSxHQUNBcVAsVUFBQSxHQUNBQyxnQkFBQSxHQUNBQyxRQUFBLEdBQ0FDLE1BQUEsSUFFQSxDQUNBOXRCLFlBQUEsR0FDQXNlLFNBQUEsR0FDQXFQLFVBQUEsR0FDQUMsZ0JBQUEsR0FDQUMsUUFBQSxHQUNBQyxNQUFBLElBRUEsQ0FDQTl0QixZQUFBLEdBQ0FzZSxTQUFBLEdBQ0FxUCxVQUFBLEdBQ0FDLGdCQUFBLEdBQ0FDLFFBQUEsR0FDQUMsTUFBQSxNQUtBNzJCLFdBQ0F2RixrQkFDQWdELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFpb0IsWUFBQXA1QixLQUFBeEQsT0FNQTBELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FFQTROLEdBQUFrb0IsYUFBQSxTQUFBLzZCLElBQ0FULFFBQUFDLElBQUFRLElBQ0FnRSxXQUNBZzNCLGNBQUFoN0IsSUFDQXlCLEtBQUEsU0FBQUMsTUFDQW5DLFFBQUFDLElBQUFrQyxLQUFBeEQsTUFDQTJVLEdBQUFvb0IsV0FBQXY1QixLQUFBeEQsS0FBQUEsS0FBQWdGLE1BQ0EyUCxHQUFBb29CLFdBQUE1MUIsS0FBQSxDQUNBbEMsSUFBQW5ELEdBQ0F5eUIsTUFBQTVmLEdBQUF3bkIsa0JBQUFwNEIsT0FBQXd3QixRQUVBbHpCLFFBQUFDLElBQUFxVCxHQUFBb29CLGNBRUFyNUIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUdBMEYsYUFBQXZOLE9BQ0E0RyxXQUNBazNCLGVBQUF2d0IsYUFBQXZOLE1BQUErRixLQUNBMUIsS0FBQSxTQUFBQyxNQUVBLE9BREFtUixHQUFBd25CLGtCQUFBQyxVQUFBNTRCLEtBQUF4RCxLQUFBaTlCLFVBQ0FuM0IsV0FBQW8zQixzQkFBQTE1QixLQUFBeEQsS0FBQWk5QixhQUVBMTVCLEtBQUE0NUIsZ0JBQ0F6NUIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQXFMQSxTQUFBbzJCLGVBQUEzNUIsTUFDQW1SLEdBQUF5b0IsWUFBQTU1QixLQUFBeEQsS0FBQTJyQixLQUNBdHZCLFFBQUFpTSxRQUFBcU0sR0FBQXlvQixZQUFBLFNBQUF6MkIsR0FDQSxJQUFBMDJCLE9BQUEsRUFDQWhoQyxRQUFBaU0sUUFBQTNCLEVBQUFYLE1BQUEsU0FBQWdMLEdBQ0Fxc0IsUUFBQXJzQixFQUFBMnJCLFFBRUFoMkIsRUFBQTIyQixXQUFBRCxTQXhMQTFvQixHQUFBNG9CLFFBQUEsQ0FDQXBRLFNBQUEsRUFDQXNQLGdCQUFBLEVBQ0FDLFFBQUEsR0FHQS9uQixHQUFBNm9CLFFBQUEsR0FDQTEzQixXQUNBOUUsaUJBQ0F1QyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBNm9CLFFBQUFoNkIsS0FBQXhELEtBQUEyckIsS0FDQXRxQixRQUFBQyxJQUFBcVQsR0FBQTZvQixRQUFBLGFBRUE5NUIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBNUQsUUFBQXlCLElBQUEsQ0FDQWtCLFdBQUF6RCxtQkFDQXlELFdBQUF4RCx3QkFDQXdELFdBQUF2RCxzQkFFQWdCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUErVyxTQUFBLEdBQUF2ZCxPQUNBM0ssS0FBQSxHQUFBeEQsS0FBQTJyQixLQUNBbm9CLEtBQUEsR0FBQXhELEtBQUEyckIsS0FDQW5vQixLQUFBLEdBQUF4RCxLQUFBMnJCLE1BRUFoWCxHQUFBOG9CLHdCQUFBLFNBQUEzSCxRQUNBLE9BQUEsSUFBQTN5QixRQUFBLFNBQUFDLFFBQUFDLFFBQ0FELFFBQUF1UixHQUFBK1csZUFJQWhvQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBMFosYUFBQSxTQUFBcnVCLEtBQUE2aEIsT0FDQXhnQixRQUFBQyxJQUFBdEIsTUFDQXFCLFFBQUFDLElBQUF1Z0IsT0FDQSxJQUFBNmIscUJBQUFydkIsTUFBQXN2QixRQUFBMzlCLE1BQ0FxQixRQUFBQyxJQUFBbzhCLHNCQUVBQSx1QkFDQSxHQUFBMTlCLEtBQUFzRyxPQUNBcU8sR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQTJhLFVBQUF4OEIsS0FBQSxHQUFBNDRCLFlBQ0E1NEIsS0FBQSxHQUFBNDRCLFlBQUF2TCxhQUFBcmdCLE1BQ0FoTixLQUFBLEdBQUE0NEIsWUFBQXJMLFdBQUF2Z0IsTUFDQSxFQUVBaE4sS0FBQXNHLE9BQUEsSUFDQTdILGFBQUF5TixNQUFBLHVDQUNBbE0sS0FBQW9ILE9BQUEsRUFBQXBILEtBQUFzRyxPQUFBLEdBQ0FxTyxHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBMmEsVUFBQXg4QixLQUFBLEdBQUE0NEIsWUFDQTU0QixLQUFBLEdBQUE0NEIsWUFBQXZMLGFBQUFyZ0IsTUFDQWhOLEtBQUEsR0FBQTQ0QixZQUFBckwsV0FBQXZnQixNQUNBLEtBTUEySCxHQUFBaXBCLGVBQUEsU0FBQUMsSUFBQUMsS0FBQUMsSUFBQWxjLE9BRUEsR0FEQXhnQixRQUFBQyxJQUFBcVQsR0FBQXduQixrQkFBQW4yQixPQUNBLEdBQUE2M0IsSUFBQSxDQU9BLEdBTkFscEIsR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQThhLE1BQ0Fob0IsR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQXNMLFNBQ0F4WSxHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBMmEsVUFFQW43QixRQUFBQyxJQUFBLFFBQUFxVCxHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsT0FDQXQ3QixRQUFBQyxJQUFBLGNBQUFxVCxHQUFBd25CLGtCQUFBNkIsWUFDQUYsTUFBQSxHQUFBQSxLQUNBLEdBQUFBLEtBQUEsSUFDQXIvQixhQUFBeU4sTUFBQSxrQ0FDQSxDQUNBLElBQUEreEIsY0FDQXRwQixHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsTUFBQW1CLEtBQUEsSUFNQSxHQUxBejhCLFFBQUFDLElBQUEyOEIsY0FBQSxpQkFDQXRwQixHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsTUFDQWhvQixHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsTUFBQXNCLGNBQ0F0cEIsR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQTRhLGdCQUFBcUIsS0FFQUMsS0FBQSxHQUFBQSxJQUNBLEdBQUFBLElBQUEsSUFDQXQvQixhQUFBeU4sTUFBQSxrQ0FDQSxDQUNBLElBQUFneUIsU0FDQXZwQixHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsTUFBQW9CLElBQUEsSUFDQTE4QixRQUFBQyxJQUFBNDhCLFNBQUEsWUFDQXZwQixHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsTUFDQWhvQixHQUFBd25CLGtCQUFBbjJCLE1BQUE2YixPQUFBOGEsTUFBQXVCLFNBQ0F2cEIsR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQTZhLFFBQUFxQixJQUNBcHBCLEdBQUF3bkIsa0JBQUFnQyxTQUFBN3ZCLEVBQUE4dkIsTUFDQXpwQixHQUFBd25CLGtCQUFBbjJCLE1BQ0EsU0FBQXE0QixHQUNBLE9BQUFBLEVBQUEzQixVQUdBcjdCLFFBQUFDLElBQUFxVCxHQUFBd25CLGtCQUFBZ0MsV0FNQXhwQixHQUFBd25CLGtCQUFBNkIsV0FBQTF2QixFQUFBOHZCLE1BQ0F6cEIsR0FBQXduQixrQkFBQW4yQixNQUNBLFNBQUFxNEIsR0FDQSxPQUFBQSxFQUFBMUIsYUFJQWwrQixhQUFBeU4sTUFBQSwwQkFJQXlJLEdBQUF3bkIsa0JBQUFtQyxXQUFBLFdBQ0EsT0FBQS9YLFdBQUF6bUIsS0FBQWsrQixZQUFBelgsV0FBQXptQixLQUFBcStCLFdBR0F4cEIsR0FBQTRwQixlQUFBLFNBQUF2K0IsTUFDQTJVLEdBQUF1bkIsYUFBQS8wQixLQUFBbkgsTUFDQTJVLEdBQUE0b0IsUUFBQSxDQUNBMXVCLFlBQUEsR0FDQXNlLFNBQUEsR0FDQXFQLFVBQUEsR0FDQUMsZ0JBQUEsR0FDQUMsUUFBQSxHQUNBQyxNQUFBLElBRUFob0IsR0FBQTZwQixjQUFBLElBRUE3cEIsR0FBQThwQixrQkFBQSxTQUFBNWMsT0FDQWxOLEdBQUF1bkIsYUFBQTkwQixPQUFBeWEsTUFBQSxJQUVBbE4sR0FBQStwQixjQUFBLFNBQUExK0IsTUFDQSxHQUFBQSxLQUFBK0QsT0FFQSxHQUFBL0QsS0FBQTZ4QixLQUVBLEdBQUE3eEIsS0FBQXE4QixRQUVBLEdBQUFyOEIsS0FBQXM4QixtQkFFQSxHQUFBdDhCLEtBQUF1OEIsa0JBRUEsR0FBQXY4QixLQUFBZ0csTUFBQU0sT0FBQSxFQUFBLENBQ0EsSUFBQXE0QixZQUFBLENBQ0E1NkIsT0FBQS9ELEtBQUErRCxPQUFBa0IsSUFDQTRzQixLQUFBUixPQUFBcnhCLEtBQUE2eEIsTUFBQTNYLFNBQ0FtaUIsUUFBQWhMLE9BQUFyeEIsS0FBQXE4QixTQUFBbmlCLFNBQ0Ewa0IsaUJBQUE1K0IsS0FBQW84QixVQUNBRSxtQkFBQXQ4QixLQUFBczhCLG1CQUNBQyxrQkFBQXY4QixLQUFBdThCLGtCQUNBdjJCLE1BQUFoRyxLQUFBZ0csTUFDQXV1QixNQUFBdjBCLEtBQUErRCxPQUFBd3dCLE9BR0F6dUIsV0FDQTQ0QixjQUFBQyxhQUNBcDdCLEtBQUEsU0FBQUMsTUFFQSxPQURBL0UsYUFBQW9JLFFBQUEsZ0NBQ0FmLFdBQUFvM0Isc0JBQUFsOUIsS0FBQW84QixhQUVBNzRCLEtBQUE0NUIsZ0JBQ0F6NUIsTUFBQSxTQUFBcUQsR0FDQXRJLGFBQUF5TixNQUFBLHdCQUNBN0ssUUFBQUMsSUFBQXlGLFVBR0F0SSxhQUFBeU4sTUFBQSxpQ0F6QkF6TixhQUFBeU4sTUFBQSx3Q0FGQXpOLGFBQUF5TixNQUFBLDBDQUZBek4sYUFBQXlOLE1BQUEsK0JBRkF6TixhQUFBeU4sTUFBQSwyQkFGQXpOLGFBQUF5TixNQUFBLHlCQW9DQTRjLE9BQUErVixZQUFBLFNBQUF2VSxNQUNBLE9BQUFqc0IsVUFBQWlzQixTQUFBQSxLQUFBLFNBQUEsSUFjQTNWLEdBQUFtcUIsY0FBQSxXQUNBbnFCLEdBQUF3bkIsa0JBQUFuMkIsTUFBQW1CLEtBQUEsQ0FDQTBILFlBQUEsR0FDQXNlLFNBQUEsR0FDQXFQLFVBQUEsR0FDQUMsZ0JBQUEsR0FDQUMsUUFBQSxHQUNBQyxNQUFBLE1BSUFob0IsR0FBQW9xQixpQkFBQSxTQUFBbGQsT0FRQSxHQVBBbE4sR0FBQXduQixrQkFBQTZCLFdBQ0FycEIsR0FBQXduQixrQkFBQTZCLFdBQ0FycEIsR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQThhLE1BQ0Fob0IsR0FBQXduQixrQkFBQWdDLFNBQ0F4cEIsR0FBQXduQixrQkFBQWdDLFNBQ0F4cEIsR0FBQXduQixrQkFBQW4yQixNQUFBNmIsT0FBQTZhLFFBQ0EvbkIsR0FBQXduQixrQkFBQW4yQixNQUFBb0IsT0FBQXlhLE1BQUEsR0FDQWxOLEdBQUF3bkIsa0JBQUFuMkIsTUFBQU0sT0FBQSxFQUVBLElBREEsSUFBQTA0QixhQUFBLEVBQUFycUIsR0FBQXduQixrQkFBQW4yQixNQUFBTSxPQUNBeEosRUFBQSxFQUFBQSxFQUFBa2lDLGFBQUFsaUMsSUFDQTZYLEdBQUFtcUIsbUJBdFVBLEdDQUEsV0FDQXppQyxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLG9CQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0F3cUIsTUFDQTFxQixTQUlBLElBQUFvVyxHQUFBN1UsS0FHQU4sT0FHQWpCLFFBSEFpQixPQUdBakIsUUFGQWtCLFVBRUFsQixRQURBK04sYUFHQTBjLFlBQUExakIsYUFDQTlGLFNBR0EsSUFBQXdwQixZQUFBempCLGVBQUEsVUFBQSxpQkFHQSxPQUZBOUcsYUFBQThILFFBQUEsaUNBQ0FuSSxPQUFBNk4sR0FBQSxhQUdBMEksR0FBQTZvQixRQUFBLEdBS0ExVSxPQUFBa0wsT0FBQSx3QkFBQSxTQUFBaG5CLE9BQ0F1ZCxFQUFBLHdCQUFBMkUsWUFBQSw4QkFDQTNFLEVBQUEsd0JBQUE2RSxTQUFBLHVCQUdBanNCLFFBQUF5QixJQUFBLENBQ0FrQixXQUFBOUUsaUJBQ0E4RSxXQUFBbTVCLHlCQUVBMTdCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUE2b0IsUUFBQWg2QixLQUFBLEdBQUF4RCxLQUFBMnJCLEtBQ0FoWCxHQUFBdXFCLGFBQUExN0IsS0FBQSxHQUFBeEQsS0FBQUEsS0FDQTJVLEdBQUF1cUIsYUFBQS8xQixPQUFBLFNBQUFqRCxNQUNBLE1BQUEsNEJBQUFBLEtBQUFqQixNQUVBMFAsR0FBQXdxQixvQkFBQSw2QkFHQXo3QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBK2EsS0FBQSxDQUNBM3hCLElBQUEsdUdBQ0E0eEIsUUFBQSxHQUNBQyxPQUFBLEdBQ0FDLE9BQUEsU0FDQUMsS0FBQSxHQUdBbmIsR0FBQXlxQixZQUFBLENBQ0FuUCxRQUFBLElBR0FuSCxPQUFBdVcsZUFBQSxDQUNBQyxZQUFBLEdBR0EzcUIsR0FBQXViLFlBQUEsU0FBQXhwQixLQUNBLElBQUEwcEIsVUFBQXR3QixLQUFBcXdCLFdBQUFFLFNBQUFDLFNBQ0EzYixHQUFBK2EsS0FBQUMsUUFBQSxDQUNBLENBQUFTLFVBQUFHLE1BQUFILFVBQUFJLFFBRUE3YixHQUFBK2EsS0FBQUksS0FBQSxHQUNBbmIsR0FBQSthLEtBQUFHLE9BQUFPLFVBQUFHLE1BQUEsSUFBQUgsVUFBQUksTUFDQTdiLEdBQUF5cUIsWUFBQW5QLFFBQUFzUCxJQUFBLENBQ0F2UCxZQUFBLENBQUFJLFVBQUFHLE1BQUFILFVBQUFJLFNBSUE3YixHQUFBNnFCLFdBQUEsU0FBQTdOLFVBQ0FBLFNBQUE1dEIsT0FBQTR0QixTQUFBNXRCLE9BQUFrQixJQUNBYSxXQUNBNUUsY0FBQXl3QixVQUNBcHVCLEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBLHlDQUVBLElBQUFqSCxRQUFBLENBQ0FvQyxVQUFBd0IsS0FBQXhELEtBQUFpRixJQUNBdzZCLFdBQUFqOEIsS0FBQXhELEtBQUFpRixLQUNBMFAsR0FBQXdxQixxQkFBQSxTQUFBeHFCLEdBQUF3cUIsb0JBQ0F4cUIsR0FBQXdxQixvQkFBQSw0QkFFQXI1QixXQUNBNDVCLGtCQUFBOS9CLFNBQ0EyRCxLQUFBLFNBQUFDLE1BQ0FuQyxRQUFBQyxJQUFBa0MsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBMUYsUUFBQUMsSUFBQSxZQUFBa0MsS0FBQXhELEtBQUFpRixLQUNBN0csT0FBQTZOLEdBQUEsZUFFQXZJLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsR0FDQXRJLGFBQUF5TixNQUFBLDJCQUlBeUksR0FBQWdyQixhQUFBLFdBQ0EsSUFBQXRZLElBQUF2bkIsS0FBQTgvQixjQUNBanJCLEdBQUF5cUIsWUFBQW5QLFFBQUFzUCxJQUFBLENBQ0F2UCxZQUFBLENBQUEzSSxJQUFBa0osTUFBQWxKLElBQUFtSixTQUlBdkgsTUFBQWdJLFNBQUExdEIsS0FBQSxTQUFBbUQsS0FDQWlPLEdBQUFqTyxJQUFBQSxJQUNBQSxJQUFBMUosV0FBQSxDQUNBNHlCLE9BQUFqYixHQUFBK2EsS0FBQUUsT0FDQXNCLGtCQUFBLEVBQ0FDLGFBQUEsRUFDQXJCLEtBQUEsRUFDQUQsT0FBQSxDQUNBVSxJQUFBLEVBQ0FDLElBQUEsT0FLQTdiLEdBQUFuVixPQUFBLFdBQ0FBLFVBR0FtVixHQUFBa3JCLGVBQUEsV0FDQWxyQixHQUFBd3FCLG9CQUFBeHFCLEdBQUFtckIsaUJBQUE3NkIsSUFDQXNsQixFQUFBLHdCQUFBdUcsTUFBQSxXQWpKQSxHQ0FBLFdBQ0F6MEIsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSw0QkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixRQUNBMHFCLE1BQ0F6cUIsT0FDQTZ5QixPQUNBaHpCLFdBR0EsSUFDQW1CLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUFBbEIsUUFBQWlQLFNBQ0EsSUFBQXdiLFlBQUExakIsWUFFQSxZQURBOUYsU0FIQU0sS0FRQXFNLFNBQUExTSxVQUFBUCxNQUVBbUMsUUFBQUMsSUFWQXhCLEtBVUFxTSxVQVZBck0sS0FXQU4sT0FBQSxXQUNBQSxVQUdBc3BCLE9BQUErVixZQUFBLFNBQUF2VSxNQUNBLE9BQUFqc0IsVUFBQWlzQixTQUFBQSxLQUFBLFNBQUEsTUFqQ0EsR0NBQSxXQUNBanVCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZ0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EyaEMsUUFDQTFoQyxVQUNBeUgsV0FDQXJILGFBQ0FILG9CQUNBQyxRQUNBMHFCLE9BSUEsSUFBQXRVLEdBQUE3VSxLQUNBNlUsR0FBQXVVLFVBQUEsRUFKQSxJQU9BMXBCLE9BS0FqQixRQUxBaUIsT0FDQUMsVUFJQWxCLFFBSkFrQixVQUNBNk0sYUFHQS9OLFFBSEErTixhQUNBRyxhQUVBbE8sUUFGQWtPLGFBRUFsTyxRQURBbU4sVUFHQSxJQUFBc2QsWUFBQTFqQixZQUdBLE9BRkE5RixjQUNBbVYsR0FBQXVVLFVBQUEsR0FHQXZVLEdBQUFxckIsUUFBQSxFQUdBcnJCLEdBQUF4SSxTQUFBMU0sVUFBQVAsTUFDQXlWLEdBQUFzckIsVUFDQSxvRkFDQXRyQixHQUFBK2EsS0FBQSxDQUNBM3hCLElBQ0Esc0ZBQ0E2eEIsT0FBQSxDQUNBLENBQ0FzUSxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBNHdCLFlBQUEsY0FDQUMsUUFBQSxDQUNBLENBQ0FDLFdBQUEsU0FJQSxDQUNBRixZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQTR3QixZQUFBLHFCQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLGlCQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEseUJBQ0FILFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsNkJBQ0FGLFFBQUEsQ0FDQSxDQUNBQyxXQUFBLFNBSUEsQ0FDQUMsWUFBQSwwQkFDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxNQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLFdBQ0FILFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxXQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLFdBQ0FILFlBQUEscUJBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsT0FDQUgsWUFBQSxnQkFDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxPQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLGdCQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsZUFDQUgsWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLGlDQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsYUFDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxVQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLFFBQ0FILFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxRQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGNBS0FxZ0IsUUFBQSxJQWlDQXhzQixRQUFBeUIsSUFBQSxDQUNBa0IsV0FBQTFGLGVBQUF1VSxHQUFBeEksU0FBQTlMLFdBQ0F5RixXQUFBdkYsa0JBQ0F1RixXQUFBOUUsaUJBQ0E4RSxXQUFBdzZCLG9CQUVBLzhCLEtBQUEsU0FBQXZELE1BcENBLElBQUE0OEIsWUFDQTJELE1BQ0FDLE1BQ0FDLE1BQ0FDLE1BQ0EvUSxRQWlDQXJqQixhQUFBN08sSUFBQXVDLEtBQUEsR0FBQUEsTUFFQTJVLEdBQUErYSxLQUFBQyxTQXhDQWlOLFlBd0NBNThCLEtBQUEsR0FBQUEsS0FBQTJyQixLQXZDQTRVLE1BQUEsRUFDQUMsTUFBQSxFQUNBQyxNQUFBLEVBQ0FDLE1BQUEsRUFDQS9RLFFBQUEsR0FDQWlOLFlBQUF0MEIsUUFBQSxTQUFBdXVCLFNBQ0EsR0FBQUEsUUFBQTVHLFVBRUEsR0FBQTRHLFFBQUE1RyxRQUFBc1AsSUFBQXZQLFlBQUEsSUFDQSxHQUFBNkcsUUFBQTVHLFFBQUFzUCxJQUFBdlAsWUFBQSxJQUNBLENBQ0EsSUFBQTJRLEtBQUEsQ0FDQTcrQixHQUFBKzBCLFFBQUE1eEIsSUFDQTI3QixTQUFBL0osUUFBQTVHLFFBQUFzUCxJQUFBdlAsWUFBQSxHQUNBNlEsVUFBQWhLLFFBQUE1RyxRQUFBc1AsSUFBQXZQLFlBQUEsSUFFQXVRLE1BQUFBLE1BQUFJLEtBQUFDLFNBQUFELEtBQUFDLFNBQUFMLE1BQ0FFLE1BQUFBLE1BQUFFLEtBQUFDLFNBQUFELEtBQUFDLFNBQUFILE1BQ0FELE1BQUFBLE1BQUFHLEtBQUFFLFVBQUFGLEtBQUFFLFVBQUFMLE1BQ0FFLE1BQUFBLE1BQUFDLEtBQUFFLFVBQUFGLEtBQUFFLFVBQUFILE1BQ0EvUSxRQUFBeG9CLEtBQUEsQ0FBQXc1QixLQUFBQyxTQUFBRCxLQUFBRSxlQUlBbFIsU0FnQkFoYixHQUFBbXNCLGNBQUEsQ0FDQUMsUUFBQS9nQyxLQUFBLEdBQUFBLEtBQ0FnaEMsU0FBQWhoQyxLQUFBLEdBQUFBLEtBQUEyckIsS0FDQTZSLFFBQUF4OUIsS0FBQSxHQUFBQSxLQUFBMnJCLEtBQ0FzVixVQUFBamhDLEtBQUEsR0FBQUEsS0FBQUEsUUFHQTBELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FHQWtpQixNQUFBZ0ksU0FBQTF0QixLQUFBLFNBQUFtRCxLQUNBQSxJQUFBMUosV0FBQSxDQUNBNHlCLE9BQUFqYixHQUFBK2EsS0FBQUUsT0FDQXNCLGtCQUFBLEVBQ0FwQixLQUFBLEVBQ0FELE9BQUEsQ0FDQVUsSUFBQSxFQUNBQyxJQUFBLE9BT0EsSUFBQTdrQixTQUFBLEVBQ0F1MUIsVUFBQSxFQThGQSxHQTdGQXZzQixHQUFBd3NCLGNBQUEsR0FDQXhzQixHQUFBeXNCLGdCQUFBLEVBQ0F6c0IsR0FBQTBzQixXQUFBLENBQ0FDLE1BQUEsVUFDQTk3QixNQUFBLEdBR0FtUCxHQUFBNHNCLFlBQUEsVUFHQXpZLE9BQUEwWSxxQkFBQSxXQUNBMTdCLFdBQ0EyN0IsZUFDQWwrQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBK3NCLGtCQUFBbCtCLEtBQUF4RCxLQUFBMmhDLFVBQ0FodEIsR0FBQWl0QixzQkFBQXZsQyxRQUFBNEosS0FBQTBPLEdBQUErc0IsbUJBQ0Evc0IsR0FBQWl0QixzQkFBQXo2QixLQUFBLENBQ0FsQyxJQUFBLFNBQ0FzOEIsWUFBQSx1QkFRQTc5QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BR0EraEIsT0FBQTBZLHVCQUVBN3NCLEdBQUFrdEIsaUJBQUEsU0FBQS8vQixJQUVBZ0UsV0FBQWc4QixpQkFBQWhnQyxHQURBLEdBQ0F5QixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBb3RCLGFBQUF2K0IsS0FBQXhELEtBQUFBLFFBR0EyVSxHQUFBcXRCLGNBQUEsRUFFQXJ0QixHQUFBc3RCLGdCQUFBLFNBQUFucUIsU0FDQSxVQUFBQSxRQUFBN1MsSUFDQWEsV0FDQXZGLGtCQUNBZ0QsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXV0QixrQkFBQTErQixLQUFBeEQsS0FBQTJyQixLQUNBcEIsRUFBQSxrQkFBQXVHLE1BQUEsVUFFQXB0QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BR0E0TixHQUFBcXRCLGNBQUEsRUFDQTNsQyxRQUFBaU0sUUFBQXFNLEdBQUErc0Isa0JBQUEsU0FBQS82QixHQUNBLEdBQUFBLEVBQUExQixLQUFBNlMsUUFBQTdTLElBQ0EsT0FBQTBQLEdBQUFxdEIsY0FBQSxJQUdBcnRCLEdBQUE0c0IsWUFBQXpwQixRQUFBeXBCLFlBQ0E5MEIsYUFBQWhQLElBQUFxYSxTQUNBbkQsR0FBQWt0QixpQkFBQS9wQixRQUFBN1MsT0FLQTBQLEdBQUF3dEIsY0FBQSxTQUFBcnFCLFNBQ0EsSUFBQStKLE1BQUFsTixHQUFBaXRCLHNCQUFBUSxVQUFBLFNBQUF6N0IsR0FDQSxNQUFBLFVBQUFBLEVBQUExQixNQUVBMFAsR0FBQWl0QixzQkFBQXg2QixPQUFBeWEsTUFBQSxHQUNBLElBQUF3Z0IsY0FBQSxFQUNBaG1DLFFBQUFpTSxRQUFBcU0sR0FBQStzQixrQkFBQSxTQUFBLzZCLEdBQ0FBLEVBQUExQixLQUFBNlMsUUFBQTdTLE1BQ0FvOUIsY0FBQSxLQUdBQSxjQUNBMXRCLEdBQUFpdEIsc0JBQUF6NkIsS0FBQTJRLFNBR0FuRCxHQUFBaXRCLHNCQUFBejZCLEtBQUEsQ0FDQWxDLElBQUEsU0FDQXM4QixZQUFBLHFCQUdBNXNCLEdBQUFtRCxRQUFBQSxRQUNBbkQsR0FBQTRzQixZQUFBenBCLFFBQUF5cEIsWUFDQTVzQixHQUFBcXRCLGNBQUEsRUFDQXYxQixhQUFBaFAsSUFBQXFhLFNBRUF5UyxFQUFBLGtCQUFBdUcsTUFBQSxTQUdBeHlCLG9CQUFBWSxJQUFBLGtCQUFBLENBQ0EsSUFBQW9qQyxlQUFBaGtDLG9CQUFBWSxJQUFBLGtCQUNBeVYsR0FBQW1ELFFBQUF3cUIsZUFFQTN0QixHQUFBNHNCLFlBQUFlLGVBQUFmLFlBQ0E1c0IsR0FBQWt0QixpQkFBQWx0QixHQUFBbUQsUUFBQTdTLEtBRUEsSUFBQXM5QixtQkFBQSxFQUNBbG1DLFFBQUFpTSxRQUFBcU0sR0FBQStzQixrQkFBQSxTQUFBLzZCLEdBQ0EsR0FBQUEsRUFBQTFCLEtBQUFxOUIsZUFBQXI5QixJQUNBLE9BQUFzOUIsbUJBQUEsSUFJQUEsbUJBQ0F4WixTQUFBLFdBQ0EsSUFBQWxILE1BQUFsTixHQUFBaXRCLHNCQUFBUSxVQUFBLFNBQUF6N0IsR0FDQSxNQUFBLFVBQUFBLEVBQUExQixNQUVBMFAsR0FBQWl0QixzQkFBQXg2QixPQUFBeWEsTUFBQSxHQUNBbE4sR0FBQWl0QixzQkFBQXo2QixLQUFBbTdCLGdCQUNBM3RCLEdBQUFpdEIsc0JBQUF6NkIsS0FBQSxDQUNBbEMsSUFBQSxTQUNBczhCLFlBQUEsc0JBRUEsTUFNQWhYLEVBQUEsa0JBQUE1WixHQUFBLGdCQUFBLFdBQ0FnRSxHQUFBeXNCLGdCQUFBLElBR0F6c0IsR0FBQTZ0QixtQkFBQSxXQUNBalksRUFBQSxrQkFBQXVHLE1BQUEsUUFDQW5jLEdBQUFtRCxRQUFBLEtBQ0FyTCxhQUFBaFAsSUFBQSxLQUdBa1gsR0FBQTh0QixjQUFBLFNBQUF6aUMsTUFDQSxJQUFBMGlDLFVBQUEsRUFDQUgsbUJBQUEsRUFDQWxtQyxRQUFBaU0sUUFBQXFNLEdBQUErc0Isa0JBQUEsU0FBQS82QixHQUNBLEdBQUFBLEVBQUExQixLQUFBakYsS0FBQWlGLElBQ0EsT0FBQXM5QixtQkFBQSxJQUlBRyxVQURBSCxrQkFNQXo4QixXQUNBNjhCLGdCQUFBbDJCLGFBQUF2TixNQUFBK0YsSUFBQXk5QixVQUNBbi9CLEtBQUEsU0FBQUMsTUFDQSxHQUFBay9CLFNBQ0Fqa0MsYUFBQW9JLFFBQUEsbUNBQ0E4TixHQUFBK3NCLGtCQUFBdjZCLEtBQUFuSCxNQUNBMlUsR0FBQXF0QixjQUFBLE1BQ0EsQ0FDQXZqQyxhQUFBb0ksUUFDQSxtREFFQSxJQUFBZ2IsTUFBQWxOLEdBQUErc0Isa0JBQUFVLFVBQUEsU0FBQXo3QixHQUNBLE9BQUFBLEVBQUExQixLQUFBakYsS0FBQWlGLE1BRUEwUCxHQUFBK3NCLGtCQUFBdDZCLE9BQUF5YSxNQUFBLEdBQ0FsTixHQUFBcXRCLGNBQUEsS0FHQXQrQixNQUFBLFNBQUFDLEtBQ0F0QyxRQUFBQyxJQUFBcUMsUUFJQWdSLEdBQUFpdUIsUUFBQSxXQUNBajNCLFVBQ0FBLFNBQUEsRUFDQW9kLFNBQUEsV0FDQXBkLFNBQUEsR0FDQSxLQUNBdTFCLFdBQUEsRUFDQXA3QixXQUNBdkYsZ0JBQUEsQ0FDQXMwQixPQUFBbGdCLEdBQUF3c0IsY0FDQS9hLE1BQUE4YSxVQUNBajNCLEtBQUEsRUFDQTJxQixLQUFBamdCLEdBQUEwc0IsV0FBQUMsTUFDQXhNLFNBQUFuZ0IsR0FBQTBzQixXQUFBNzdCLE9BRUFqQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBdXRCLGtCQUFBMStCLEtBQUF4RCxLQUFBMnJCLE9BRUFqb0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixPQU1BNE4sR0FBQWt1QixrQkFBQSxDQUNBMTVCLE9BQUEsT0FHQXdMLEdBQUFtdUIsZUFBQSxTQUFBNTFCLE1BQ0FwSCxXQUNBdkYsZ0JBQUEsQ0FDQXMwQixPQUFBbGdCLEdBQUF3c0IsY0FDQS9hLE1BQUE4YSxVQUNBajNCLEtBQUEsRUFDQTJxQixLQUFBamdCLEdBQUEwc0IsV0FBQUMsTUFDQXhNLFNBQUFuZ0IsR0FBQTBzQixXQUFBNzdCLE9BRUFqQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBdXRCLGtCQUFBMStCLEtBQUF4RCxLQUFBMnJCLE9BRUFqb0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUtBNE4sR0FBQWlnQixLQUFBLFNBQUEwTSxPQUNBM3NCLEdBQUEwc0IsV0FBQUMsUUFBQUEsTUFDQTNzQixHQUFBMHNCLFdBQUE3N0IsTUFBQW1QLEdBQUEwc0IsV0FBQTc3QixNQUVBbVAsR0FBQTBzQixXQUFBQyxNQUFBQSxNQUNBM3NCLEdBQUEwc0IsV0FBQTc3QixNQUFBLEdBR0FNLFdBQ0F2RixnQkFBQSxDQUNBczBCLE9BQUFsZ0IsR0FBQXdzQixjQUNBL2EsTUFBQThhLFVBQ0FqM0IsS0FBQSxFQUNBMnFCLEtBQUFqZ0IsR0FBQTBzQixXQUFBQyxNQUNBeE0sU0FBQW5nQixHQUFBMHNCLFdBQUE3N0IsT0FFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF1dEIsa0JBQUExK0IsS0FBQXhELEtBQUEyckIsT0FFQWpvQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUE0TixHQUFBblYsT0FBQSxXQUNBQSxVQUdBc3BCLE9BQUFpYSxhQUFBLFdBQ0ExaEMsUUFBQUMsSUFBQSxxQkFFQXdFLFdBQUFrOUIsWUFBQXovQixLQUFBLFNBQUEwL0IsVUFDQTVoQyxRQUFBQyxJQUFBLFlBQUEyaEMsYUFXQXR1QixHQUFBdXVCLGFBQUEsV0FvQkE5a0MsT0FBQTZOLEdBQUEsYUFFQTBJLEdBQUF3dUIsZ0JBQUEsV0FDQTloQyxRQUFBQyxJQUFBLFVBQUFtTCxhQUFBdk4sT0FDQXVOLGFBQUF2TixNQUNBZCxPQUFBNk4sR0FBQSxnQkFFQXhOLGFBQUE4SCxRQUFBLDJCQUNBZ2tCLEVBQUEsY0FBQXNDLFFBQ0EsQ0FDQXVXLFVBQUE3WSxFQUFBLFlBQUFyQyxTQUFBbWIsS0FFQSxJQUNBLFdBQ0E5WSxFQUFBLGtCQUNBK1ksUUFDQWxVLFNBQUEsU0FDQXZqQixXQUFBLFdBQ0EwZSxFQUFBLGtCQUFBMkUsWUFBQSxVQUNBLFNBUUF2YSxHQUFBNHVCLGdCQUFBLEdBQ0E1dUIsR0FBQXlVLFlBQUEsR0FFQXpVLEdBQUE2dUIsZUFBQSxXQUNBLzJCLGFBQUF2TixPQUlBNEcsV0FDQS9ELG9CQUFBMEssYUFBQXZOLE1BQUErRixLQUNBMUIsS0FBQSxTQUFBQyxNQUNBLElBQUFpZ0MsVUFBQWpnQyxLQUFBeEQsS0FBQUEsS0FDQTFCLG9CQUFBYixJQUFBLGtCQUFBZ1AsYUFBQXZOLE1BQUErRixLQUNBM0csb0JBQUFiLElBQUEsWUFBQWdtQyxXQUNBOXVCLEdBQUE0dUIsZ0JBQUFFLFVBQ0FsWixFQUFBLG9CQUFBdUcsTUFBQSxVQUVBcHRCLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FHQWpCLFdBQ0E0OUIsYUFBQWozQixhQUFBdk4sTUFBQStGLEtBRUExQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBZ3ZCLFVBQUEsRUFDQWh2QixHQUFBeVUsWUFBQTVsQixLQUFBeEQsS0FBQUEsS0FBQTRqQyxjQUVBbGdDLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUF4QkF0SSxhQUFBOEgsUUFBQSx3QkE0QkFvTyxHQUFBa3ZCLFdBQUEsU0FBQTFaLE1BQ0FJLEVBQUEsb0JBQUF1RyxNQUFBLFFBQ0F4eUIsb0JBQUFiLElBQUEsZUFBQTBzQixNQUNBL3JCLE9BQUE2TixHQUFBLGtCQUdBMEksR0FBQW12QixjQUFBLFdBQ0F2WixFQUFBLGlFQUFBdUcsTUFDQSxTQUlBbmMsR0FBQW92QixXQUFBLFdBQ0FwdkIsR0FBQXF2QixjQUFBM25DLFFBQUE0SixLQUFBME8sR0FBQXlVLGFBQ0FtQixFQUFBLGVBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLGVBQUFDLElBQUEsVUFBQSxTQUNBRCxFQUFBLDZCQUFBQyxJQUFBLENBQ0F5WixxQkFBQSx1Q0FDQUMsa0JBQUEsdUNBQ0FDLGFBQUEseUNBRUE1WixFQUFBLGVBQUFyTSxPQUNBcU0sRUFBQSxnQkFBQW1DLE9BQ0EvWCxHQUFBeXZCLE9BQUEsVUFDQXRiLE9BQUF1YixXQUFBLGNBQ0EsZUFBQXZiLE9BQUF1YixXQUNBdmIsT0FBQXdiLGFBQUEsRUFFQXhiLE9BQUF3YixhQUFBLEdBR0F4YixPQUFBeWIsSUFBQSxTQUFBLFNBQUF4OUIsRUFBQS9HLE1BQ0EyVSxHQUFBcXJCLE9BQUFoZ0MsS0FDQTJVLEdBQUFxckIsT0FDQXpWLEVBQUEsUUFBQTZFLFNBQUEsY0FFQTdFLEVBQUEsUUFBQTJFLFlBQUEsZ0JBR0FwRyxPQUFBeWIsSUFBQSxzQkFBQSxTQUFBeDlCLEVBQUEvRyxNQUNBMlUsR0FBQTZ2QixxQkFBQXhrQyxLQUVBMlUsR0FBQTh2QixtQkFDQXprQyxLQUFBeUgsWUFBQTdHLE9BQUEsU0FBQUMsSUFBQThGLEdBRUEsT0FEQTlGLEtBQUE4RixFQUFBM0MsS0FBQSxPQUVBLElBQUFoRSxLQUFBOEksVUFFQSxhQUFBaEIsS0FBQTlILEtBQUFnUCxhQUNBMkYsR0FBQSt2QixVQUFBbm1DLFFBQUF5UCxvQkFBQWhPLEtBQUFnUCxXQUFBaFAsS0FBQWtQLE9BQ0F5RixHQUFBcXJCLFFBQUEsRUFDQXpWLEVBQUEsb0JBQUFDLElBQUEsYUFBQSxVQUNBRCxFQUFBLGVBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLGVBQUFDLElBQUEsVUFBQSxTQUNBN1YsR0FBQWd3QixTQUFBdG9DLFFBQUE0SixLQUFBME8sR0FBQSt2QixXQUNBcmpDLFFBQUFDLElBQUFxVCxHQUFBK3ZCLFlBRUExa0MsS0FBQWtxQixjQUNBbkIsU0FBQSxXQUNBRCxPQUFBa0IsV0FFQXJWLEdBQUFpd0IsYUFBQWp3QixHQUFBZ3dCLFNBQUEza0MsS0FBQTZrQyxXQUFBbitCLElBQUEsU0FBQUMsRUFBQTRILEdBQ0EsSUFBQXdQLElBQUEsQ0FDQXRQLE9BQUFGLEVBQ0FJLE1BQUFBLFNBQUFyRixLQUFBQyxNQUNBeEwsSUFBQTRJLEVBQ0FpSSxVQUFBLEVBQ0FDLFlBQUEsSUFHQSxPQUFBa1AsTUFHQXBKLEdBQUFxckIsUUFBQSxFQUNBelYsRUFBQSxvQkFBQUMsSUFBQSxhQUFBLFVBQ0FELEVBQUEsZUFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsZUFBQUMsSUFBQSxVQUFBLFVBRUFqc0IsUUFBQXVRLG1CQUFBOU8sTUFBQXVELEtBQUEsU0FBQTJMLE9BQ0E2WixTQUFBLFdBQ0FELE9BQUFrQixXQUVBclYsR0FBQWl3QixhQUFBMTFCLE1BQ0F5RixHQUFBZ3dCLFNBQUF6MUIsTUFDQXlGLEdBQUFxckIsUUFBQSxFQUNBelYsRUFBQSxvQkFBQUMsSUFBQSxhQUFBLFVBQ0FELEVBQUEscUJBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLHFCQUFBQyxJQUFBLFVBQUEsYUFLQTdWLEdBQUFtd0IsZUFBQSxXQUNBdmEsRUFBQSxvQkFBQUMsSUFBQSxhQUFBLFdBQ0FELEVBQUEsZUFBQUMsSUFBQSxVQUFBLFNBRUE3VixHQUFBb3dCLGlCQUFBLFNBQUFyOUIsSUFBQWxDLEtBQUF3L0IsT0FDQSxHQUFBLFVBQUF0OUIsSUFTQSxHQVJBNmlCLEVBQUEsK0NBQUFDLElBQUEsVUFBQSxRQUNBRCxFQUFBLG9CQUFBQyxJQUFBLGFBQUEsV0FDQTdWLEdBQUE2cEIsY0FBQSxHQUNBbmlDLFFBQUFpTSxRQUFBcU0sR0FBQWd3QixTQUFBLFNBQUFoK0IsR0FDQUEsRUFBQWlJLFVBQ0ErRixHQUFBNnBCLGNBQUFyM0IsS0FBQVIsS0FHQSxJQUFBbkIsS0FBQSxDQUNBLElBQUF5L0IsVUFDQUQsTUFBQTlhLGNBQUEsYUFBQXBpQixLQUFBazlCLE1BQUFoMkIsWUFDQSxxQkFDQSx3QkFFQXBQLFFBQUEsQ0FDQTZHLFFBQUF1K0IsTUFBQS8vQixJQUNBakQsVUFBQXlLLGFBQUF2TixNQUFBK0YsSUFDQWlLLE1BQUF5RixHQUFBNnBCLGVBR0ExNEIsV0FBQW0vQixVQUFBcmxDLFNBQ0EyRCxLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FDQWhCLFdBQ0EvRCxvQkFBQTBLLGFBQUF2TixNQUFBK0YsS0FDQTFCLEtBQUEsU0FBQUMsTUFDQSxJQUFBaWdDLFVBQUFqZ0MsS0FBQXhELEtBQUFBLEtBQ0ExQixvQkFBQWIsSUFDQSxrQkFDQWdQLGFBQUF2TixNQUFBK0YsS0FFQTNHLG9CQUFBYixJQUFBLFlBQUFnbUMsV0FDQTl1QixHQUFBNHVCLGdCQUFBRSxZQUVBLy9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FHQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsU0FFQSxDQUVBLElBQUFuSCxTQUFBLENBQ0E2RyxRQUFBdStCLE1BQUEvL0IsSUFDQWlnQyxPQUFBRixNQUFBaDJCLFdBQ0FoTixVQUFBeUssYUFBQXZOLE1BQUErRixJQUNBaUssTUFBQXlGLEdBQUE2cEIsY0FBQTU5QixPQUFBLFNBQUFDLElBQUE4RixHQUNBLElBQUFvWCxJQUFBLENBQ0FwUCxNQUFBaEksRUFBQWdJLE1BQ0FFLFlBQUFsSSxFQUFBa0ksWUFDQUosT0FBQTlILEVBQUE4SCxRQUdBLE9BREE1TixJQUFBc0csS0FBQTRXLEtBQ0FsZCxLQUNBLEtBRUFpRixXQUNBcS9CLGtCQUFBdmxDLFVBQ0EyRCxLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FDQWhCLFdBQ0EvRCxvQkFBQTBLLGFBQUF2TixNQUFBK0YsS0FDQTFCLEtBQUEsU0FBQUMsTUFDQSxJQUFBaWdDLFVBQUFqZ0MsS0FBQXhELEtBQUFBLEtBQ0ExQixvQkFBQWIsSUFDQSxrQkFDQWdQLGFBQUF2TixNQUFBK0YsS0FFQTNHLG9CQUFBYixJQUFBLFlBQUFnbUMsV0FDQTl1QixHQUFBNHVCLGdCQUFBRSxZQUVBLy9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FHQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsU0FHQSxTQUFBVyxNQUNBNmlCLEVBQUEsK0NBQUFDLElBQUEsVUFBQSxRQUNBRCxFQUFBLG9CQUFBQyxJQUFBLGFBQUEsYUFJQTdWLEdBQUF5d0IsZ0JBQUEsV0FDQTM0QixhQUFBdk4sTUFDQWQsT0FBQTZOLEdBQUEsZ0JBRUF4TixhQUFBOEgsUUFBQSwyQkFDQWdrQixFQUFBLGNBQUFzQyxRQUNBLENBQ0F1VyxVQUFBN1ksRUFBQSxZQUFBckMsU0FBQW1iLEtBRUEsSUFDQSxXQUNBOVksRUFBQSxrQkFDQStZLFFBQ0FsVSxTQUFBLFNBQ0F2akIsV0FBQSxXQUNBMGUsRUFBQSxrQkFBQTJFLFlBQUEsVUFDQSxXQXowQkEsR0NBQSxXQUNBN3lCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZUFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixRQUNBMHFCLE1BQ0F6cUIsT0FDQTZ5QixPQUNBaHpCLFdBR0EsSUFBQXNXLEdBQUE3VSxLQUNBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFBQWxCLFFBQUFpUCxTQUNBLElBQUF3YixZQUFBMWpCLFlBRUEsWUFEQTlGLFNBS0FtVixHQUFBeEksU0FBQTFNLFVBQUFQLE1BRUFtQyxRQUFBQyxJQUFBcVQsR0FBQXhJLFVBQ0F3SSxHQUFBblYsT0FBQSxXQUNBQSxVQU1Bc3BCLE9BQUErVixZQUFBLFNBQUF2VSxNQUNBLE9BQUFqc0IsVUFBQWlzQixTQUFBQSxLQUFBLFNBQUEsSUFHQTNWLEdBQUEwd0IsZ0JBQUEsV0FDQTlhLEVBQUEsZ0JBQUErYSxLQUFBLFdBQ0EsSUFBQUMsV0FBQWhiLEVBQUF6cUIsTUFBQW9vQixTQUFBbWIsSUFDQW1DLFlBQUFqYixFQUFBalosUUFBQTh4QixZQUNBcUMsUUFBQWxiLEVBQUF6cUIsTUFBQXlRLEtBQUEsV0FBQW0xQixLQUFBLGdCQUVBN1ksU0FEQThZLFNBQUFGLFFBQUEsSUFBQUUsU0FBQSxJQUFBLElBQ0FwYixFQUFBenFCLE1BQUFFLEtBQUEsWUFDQXVsQyxXQUFBQyxZQUFBamIsRUFBQWpaLFFBQUE3RyxTQUFBLEtBQUFvaUIsVUFDQXRDLEVBQUF6cUIsTUFBQUUsS0FBQSxXQUFBLEdBQ0F1cUIsRUFBQXpxQixNQUFBeVEsS0FBQSxXQUFBcTFCLGVBQUEsQ0FDQUMsWUFBQXR5QixLQUFBc1QsR0FBQSxFQUNBN1osTUFBQXk0QixRQUFBLElBQ0E1OUIsS0FBQSxJQUNBaStCLFVBQUEsRUFDQUMsVUFBQSxrQkFDQWh6QixLQUFBLENBQ0F6RCxNQUFBLGFBRUFxQixHQUFBLDRCQUFBLFNBQUFxUSxNQUFBemhCLFNBQUF5bUMsV0FFQXpiLEVBQUF6cUIsTUFBQXlRLEtBQUEsT0FBQXJELE1BQUEsSUFBQTg0QixXQUFBeGYsUUFBQSxNQUNBeWYsV0FLQXR4QixHQUFBMHdCLGtCQUNBOWEsRUFBQWpaLFFBQUE0MEIsT0FBQXZ4QixHQUFBMHdCLHFCQWxFQSxHQ0FBLFdBQ0FocEMsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxzQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixRQUNBMHFCLE1BQ0F6cUIsT0FDQTZ5QixPQUNBaHpCLFdBR0EsSUFDQW1CLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUFBbEIsUUFBQWlQLFNBQ0EsSUFBQXdiLFlBQUExakIsWUFFQSxZQURBOUYsU0FIQU0sS0FRQXFNLFNBQUExTSxVQUFBUCxNQUVBbUMsUUFBQUMsSUFWQXhCLEtBVUFxTSxVQVZBck0sS0FXQU4sT0FBQSxXQUNBQSxVQUVBc3BCLE9BQUErVixZQUFBLFNBQUF2VSxNQUNBLE9BQUFqc0IsVUFBQWlzQixTQUFBQSxLQUFBLFNBQUEsTUFoQ0EsR0NBQSxXQUNBanVCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZ0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQXdxQixNQUNBMXFCLFFBQ0FELHFCQUVBLElBRUFrQixPQUFBakIsUUFBQWlCLE9BRUF3cEIsWUFBQTFqQixhQUNBOUYsU0FMQU0sS0FTQU4sT0FBQSxXQUNBQSxZQXhCQSxHQ0FBLFdBQ0FuRCxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGdCQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFFBQ0FDLE9BQ0F5cUIsT0FJQUgsT0FBQXFkLFVBQUEsQ0FDQSxDQUNBN1csSUFBQSwrQkFDQTNnQixNQUFBLGdCQUNBeTNCLFNBQUEsWUFDQUMsS0FBQSxZQUNBQyxJQUFBLHdCQUVBLENBQ0FoWCxJQUFBLCtCQUNBM2dCLE1BQUEsZ0JBQ0F5M0IsU0FBQSxZQUNBQyxLQUFBLE1BQ0FDLElBQUEsVUFFQSxDQUNBaFgsSUFBQSwrQkFDQTNnQixNQUFBLGdCQUNBeTNCLFNBQUEsWUFDQUMsS0FBQSxZQUNBQyxJQUFBLHdCQUVBLENBQ0FoWCxJQUFBLCtCQUNBM2dCLE1BQUEsZ0JBQ0F5M0IsU0FBQSxZQUNBQyxLQUFBLFlBQ0FDLElBQUEsd0JBRUEsQ0FDQWhYLElBQUEsK0JBQ0EzZ0IsTUFBQSxnQkFDQXkzQixTQUFBLFlBQ0FDLEtBQUEsTUFDQUMsSUFBQSxVQUVBLENBQ0FoWCxJQUFBLCtCQUNBM2dCLE1BQUEsZ0JBQ0F5M0IsU0FBQSxZQUNBQyxLQUFBLFlBQ0FDLElBQUEsd0JBRUEsQ0FDQWhYLElBQUEsK0JBQ0EzZ0IsTUFBQSxnQkFDQXkzQixTQUFBLFlBQ0FDLEtBQUEsWUFDQUMsSUFBQSx3QkFFQSxDQUNBaFgsSUFBQSwrQkFDQTNnQixNQUFBLGdCQUNBeTNCLFNBQUEsWUFDQUMsS0FBQSxNQUNBQyxJQUFBLFVBRUEsQ0FDQWhYLElBQUEsK0JBQ0EzZ0IsTUFBQSxnQkFDQXkzQixTQUFBLFlBQ0FDLEtBQUEsWUFDQUMsSUFBQSx5QkFHQXhkLE9BQUF5ZCxXQUFBLENBQ0EsQ0FBQWpYLElBQUEsaUNBQ0EsQ0FBQUEsSUFBQSxpQ0FDQSxDQUFBQSxJQUFBLGtDQUVBeEcsT0FBQTBkLGVBQUEsQ0FDQSxDQUFBbFgsSUFBQSx5QkFBQTlwQixLQUFBLGtCQUNBLENBQUE4cEIsSUFBQSx5QkFBQTlwQixLQUFBLGtCQUNBLENBQUE4cEIsSUFBQSx5QkFBQTlwQixLQUFBLG1CQUdBLElBQUFtUCxHQUFBN1UsS0FDQU4sT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQ0EsSUFBQXVwQixZQUFBMWpCLFlBRUEsWUFEQTlGLFNBSUFtVixHQUFBa2MsV0FBQSxHQUNBbGMsR0FBQTFMLFlBQUEsR0FFQXNoQixFQUFBLGdCQUFBbUMsT0FHQS9YLEdBQUF4SSxTQUFBMU0sVUFBQVAsTUFFQXlWLEdBQUFuVixPQUFBLFdBQ0FBLFVBSUFtVixHQUFBK2EsS0FBQSxDQUNBM3hCLElBQ0EsdUdBQ0E0eEIsUUFBQSxHQUNBQyxPQUFBLEdBQ0FDLE9BQUEsU0FDQUMsS0FBQSxHQUVBLElBQUEyVyxhQUFBLEdBRUE5eEIsR0FBQXViLFlBQUEsU0FBQXhwQixLQUNBLElBQUEwcEIsVUFBQXR3QixLQUFBcXdCLFdBQUFFLFNBQUFDLFNBQ0EzYixHQUFBK2EsS0FBQUMsUUFBQSxDQUFBLENBQUFTLFVBQUFHLE1BQUFILFVBQUFJLFFBQ0E3YixHQUFBK2EsS0FBQUksS0FBQSxHQUNBbmIsR0FBQSthLEtBQUFHLE9BQUFPLFVBQUFHLE1BQUEsSUFBQUgsVUFBQUksTUFFQWlXLGFBQUEsQ0FBQXJXLFVBQUFHLE1BQUFILFVBQUFJLFFBRUF2SCxNQUFBZ0ksU0FBQTF0QixLQUFBLFNBQUFtRCxLQUNBaU8sR0FBQWpPLElBQUFBLElBQ0FBLElBQUExSixXQUFBLENBQ0E0eUIsT0FBQWpiLEdBQUErYSxLQUFBRSxPQUNBc0Isa0JBQUEsRUFDQUMsYUFBQSxFQUNBckIsS0FBQSxFQUNBRCxPQUFBLENBQ0FVLElBQUEsRUFDQUMsSUFBQSxPQUtBakcsRUFBQSxpQkFBQUUsWUFDQTNrQixXQUNBdkQsb0JBQ0FnQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBd3hCLFVBQUEzaUMsS0FBQXhELEtBQUEyckIsT0FFQWpvQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBSUE0TixHQUFBK2dCLFVBQUEsQ0FDQUMsUUFBQSxFQUNBak4sTUFBQSxFQUNBNE0sVUFBQSxHQUVBL0ssRUFBQSxrQkFBQUUsWUFFQTNCLE9BQUFtTCxnQkFBQSxFQUVBdGYsR0FBQXVmLFlBQUEsRUFFQXZmLEdBQUF3ZixVQUFBLENBQ0E4SSxXQUFBLEVBQ0E1UCxjQUFBLEVBQ0FFLFlBQUEsRUFDQW1aLFdBQUEsRUFDQTFpQyxNQUFBLEdBRUEyUSxHQUFBL0gsV0FBQSxHQUNBK0gsR0FBQWd5QixjQUFBLFNBQUFuaEMsV0FFQXhHLElBQUEyVixHQUFBd2YsVUFBQTN1QixNQUNBbVAsR0FBQXdmLFVBQUEzdUIsT0FBQSxFQUNBbVAsR0FBQXdmLFVBQUEzdUIsT0FBQW1QLEdBQUF3ZixVQUFBM3VCLE1BRUFNLFdBQ0F2RCxrQkFBQSxDQUNBMEgsS0FBQSxFQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBcXZCLE9BQUFsZ0IsR0FBQS9ILFdBQ0Frb0IsU0FBQW5nQixHQUFBd2YsVUFBQTN1QixRQUVBakMsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXd4QixVQUFBM2lDLEtBQUF4RCxLQUFBMnJCLEtBQ0F0cUIsUUFBQUMsSUFBQXFULEdBQUF3eEIsV0FDQXh4QixHQUFBaXlCLGVBQUFwakMsS0FBQXhELEtBQUFpMUIsTUFDQWxNLFNBQUEsV0FDQXdCLEVBQUEsd0JBQUEySyxXQUFBLENBQ0FsdkIsTUFBQTJPLEdBQUFpeUIsZUFDQXpSLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXBCLFlBQUEsRUFDQXFCLFlBQUEsU0FBQXRyQixLQUFBK1csT0FDQUEsTUFBQXRQLGlCQUNBNUwsV0FDQXZELGtCQUFBLENBQ0EwSCxLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBc3ZCLFNBQUFuZ0IsR0FBQXdmLFVBQUEzdUIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF3eEIsVUFBQTNpQyxLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFJQTROLEdBQUFreUIsZ0JBQUEsU0FBQTM1QixNQUNBcEgsV0FDQXZELGtCQUFBLENBQ0EwSCxLQUFBLEVBQ0FtYyxNQUFBLEdBQ0F5TyxPQUFBM25CLEtBQ0EwbkIsS0FBQSxjQUNBRSxVQUFBLElBRUF2eEIsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXd4QixVQUFBM2lDLEtBQUF4RCxLQUFBMnJCLEtBQ0FoWCxHQUFBaXlCLGVBQUFwakMsS0FBQXhELEtBQUFpMUIsTUFDQWxNLFNBQUEsV0FDQXdCLEVBQUEsd0JBQUEySyxXQUFBLENBQ0FsdkIsTUFBQTJPLEdBQUFpeUIsZUFDQXpSLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXBCLFlBQUEsRUFDQXFCLFlBQUEsU0FBQXRyQixLQUFBK1csT0FDQUEsTUFBQXRQLGlCQUNBNUwsV0FDQXZELGtCQUFBLENBQ0EwSCxLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBc3ZCLFNBQUFuZ0IsR0FBQXdmLFVBQUEzdUIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF3eEIsVUFBQTNpQyxLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFLQTROLEdBQUFneUIsY0FBQSxhQUtBaHlCLEdBQUFteUIsYUFBQSxDQUNBQyxpQkFBQSxHQUdBcHlCLEdBQUFxeUIsWUFBQSxDQUNBQyxTQUFBLEdBRUFuaEMsV0FDQTFGLGVBQUF1VSxHQUFBeEksU0FBQTlMLFdBQ0FrRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBcEksWUFBQS9JLEtBQUF4RCxLQUNBMlUsR0FBQW15QixhQUFBSSxTQUFBN3FDLFFBQUE0SixLQUNBME8sR0FBQXBJLFlBQUFxdEIsZ0JBQUF4QyxjQUVBemlCLEdBQUFnbEIsZ0JBQUF0OUIsUUFBQTRKLEtBQ0EwTyxHQUFBcEksWUFBQXF0QixnQkFBQXhDLGNBRUEvMUIsUUFBQUMsSUFBQXFULEdBQUFteUIsYUFBQUksVUFDQTNjLEVBQUEsYUFDQTdpQixJQUFBaU4sR0FBQW15QixhQUFBSSxVQUNBQyxRQUFBLG9CQUVBNWpDLEtBQUEsU0FBQXdELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FHQTROLEdBQUF5eUIsVUFBQSxHQUNBenlCLEdBQUF6UixtQkFBQSxTQUFBbWtDLEtBQUFDLElBQ0EvYyxFQUFBLFdBQUFyTSxPQUNBLElBQUFxcEIsYUFBQSxDQUNBRixLQUFBQSxLQUNBQyxHQUFBQSxJQUVBRCxNQUFBQyxJQUNBeGhDLFdBQ0E1QyxtQkFBQXFrQyxjQUNBaGtDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF5eUIsVUFBQUwsaUJBQUF2akMsS0FBQXhELEtBQUErbUMsaUJBRUFoZSxTQUFBLFdBQ0F3QixFQUFBLFdBQUFtQyxRQUNBLE9BRUFocEIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUtBNE4sR0FBQXZILE9BQUE3TyxRQUFBNk8sT0FFQTdPLFFBQUE4TyxjQUFBOUosS0FBQSxTQUFBQyxNQUNBbVIsR0FBQTZ5QixXQUFBaGtDLEtBQUF4RCxPQUdBMlUsR0FBQTh5QixTQUFBLGdCQUVBem9DLElBQUEyVixHQUFBK3lCLFlBQUFDLGNBQ0EsTUFBQWh6QixHQUFBK3lCLFlBQUFDLG1CQUdBM29DLElBQUEyVixHQUFBK3lCLFlBQUFFLGNBQ0EsTUFBQWp6QixHQUFBK3lCLFlBQUFFLG1CQUdBNW9DLElBQUEyVixHQUFBK3lCLFlBQUFSLFVBQ0EsS0FBQXZ5QixHQUFBK3lCLFlBQUFSLGVBR0Fsb0MsSUFBQTJWLEdBQUEreUIsWUFBQVgsa0JBQ0EsS0FBQXB5QixHQUFBK3lCLFlBQUFYLGtCQUVBeGMsRUFBQSw2QkFBQW1iLEtBQ0EsUUFDQSxvREFFQW5iLEVBQUEsZ0NBQUFtQyxPQUNBbkMsRUFBQSxxQkFBQW1iLEtBQUEsWUFBQSxLQTBCQW5iLEVBQUEsNkJBQUFtYixLQUNBLFFBQ0EsNENBRUFuYixFQUFBLGdDQUFBck0sT0FDQXFNLEVBQUEscUJBQUFtYixLQUFBLFlBQUEsS0FJQS93QixHQUFBa3pCLGdCQUFBLFdBRUE3b0MsTUFBQTJWLEdBQUEreUIsWUFBQUMsY0FDQSxLQUFBaHpCLEdBQUEreUIsWUFBQUMsYUFPQTNvQyxNQUFBMlYsR0FBQSt5QixZQUFBRSxjQUNBLEtBQUFqekIsR0FBQSt5QixZQUFBRSxhQU9BNW9DLE1BQUEyVixHQUFBK3lCLFlBQUFSLFVBQ0EsS0FBQXZ5QixHQUFBK3lCLFlBQUFSLFNBTUFwZSxPQUFBbUwsZ0JBQUEsRUFKQXgxQixhQUFBeU4sTUFBQSwwQkFSQXpOLGFBQUF5TixNQUFBLCtCQVJBek4sYUFBQXlOLE1BQUEsK0JBdUJBeUksR0FBQW16QixXQUFBLFNBQUExYyxLQUFBMmMsZ0JBQ0EsT0FBQTNjLEtBQUEyYyxnQkFHQXB6QixHQUFBNFUsWUFBQSxTQUFBbmhCLE1BQUE0WSxNQUFBOFAsT0FDQXp2QixRQUFBQyxJQUFBcVQsR0FBQStiLFVBQ0EsSUFBQWxILFFBQUF4SSxNQUFBeFAsT0FBQXBKLE1BQ0F1TSxHQUFBb2MsVUFBQXJ3QixPQUFBQyxLQUFBNm9CLFNBQUE5aUIsSUFBQSxTQUFBQyxHQUFBLE9BQUE2aUIsUUFBQTdpQixHQUFBM0MsT0FDQTNILFFBQUFpTSxRQUFBRixNQUFBLFNBQUF6QixFQUFBa2IsT0FFQSxHQURBbGIsRUFBQWtJLFlBQUEsR0FDQSxTQUFBaWlCLE1BQ0EsR0FBQSxHQUFBbmMsR0FBQWdjLFVBQUFycUIsT0FDQXFPLEdBQUFnYyxVQUFBeHBCLEtBQUFSLE9BQ0EsQ0FDQSxJQUFBcXFCLGNBQUEsRUFDQTMwQixRQUFBaU0sUUFBQXFNLEdBQUFnYyxVQUFBLFNBQUEzZixHQUNBckssRUFBQTNDLE1BQUFnTixFQUFBaE4sT0FDQWd0QixjQUFBLEtBSUFBLGFBR0F2eUIsYUFBQXlOLE1BQUEsMkJBRkF5SSxHQUFBZ2MsVUFBQXhwQixLQUFBUixRQU1BLEdBQUEsR0FBQWdPLEdBQUExTCxZQUFBM0MsT0FDQSxRQUFBd0IsS0FBQW5CLEVBQUFuQixNQUNBbVAsR0FBQWdjLFVBQUF4cEIsS0FBQVIsR0FFQWdPLEdBQUExTCxZQUFBOUIsS0FBQVIsT0FFQSxDQUNBLElBQUFxcUIsZ0JBQUEsRUFDQTMwQixRQUFBaU0sUUFBQSxHQUFBNkYsT0FBQXdHLEdBQUExTCxZQUFBMEwsR0FBQWdjLFdBQUEsU0FDQTNmLEdBRUFySyxFQUFBM0MsTUFBQWdOLEVBQUFoTixPQUNBZ3RCLGdCQUFBLEtBSUFBLGVBT0F2eUIsYUFBQXlOLE1BQUEsMkJBTkEsUUFBQXBFLEtBQUFuQixFQUFBbkIsTUFDQW1QLEdBQUFnYyxVQUFBeHBCLEtBQUFSLEdBRUFnTyxHQUFBMUwsWUFBQTlCLEtBQUFSLE1BUUF0RixRQUFBQyxJQUFBcVQsR0FBQWdjLFlBR0FoYyxHQUFBcXpCLG1CQUFBLFdBQ0EsSUFBQXJXLFNBQUEsQ0FDQTN0QixLQUFBMlEsR0FBQSt5QixZQUFBQyxhQUNBN3BCLEtBQUFuSixHQUFBK3lCLFlBQUFFLGFBQ0FLLGVBQUEsQ0FDQWo3QixNQUFBMkgsR0FBQW16QixXQUNBbnpCLEdBQUEreUIsWUFBQVEsbUJBQ0F2ekIsR0FBQSt5QixZQUFBWCxrQkFFQTNQLGFBQUF6aUIsR0FBQXBJLFlBQUFxdEIsZ0JBQUF4QyxjQUVBN0osV0FBQSxDQUNBdmdCLE1BQUEySCxHQUFBbXpCLFdBQ0FuekIsR0FBQSt5QixZQUFBUyxnQkFDQXh6QixHQUFBK3lCLFlBQUFYLGtCQUVBM1AsYUFBQXppQixHQUFBcEksWUFBQXF0QixnQkFBQXhDLGNBRUFodkIsTUFBQXVNLEdBQUFrYyxZQUdBL3FCLFdBQ0ExRCxnQkFBQXV2QixVQUNBcHVCLEtBQUEsU0FBQUMsTUFDQSttQixFQUFBLGtCQUFBdUcsTUFBQSxRQUNBcnlCLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxTQUNBNk4sR0FBQWd5QixjQUFBLGFBRUFoeUIsR0FBQSt5QixZQUFBLENBQ0FYLGlCQUFBLEtBR0FyakMsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUtBNE4sR0FBQWdjLFVBQUEsR0FDQWhjLEdBQUExTCxZQUFBLEdBQ0EwTCxHQUFBNFUsWUFBQSxTQUFBbmhCLE1BQUE0WSxNQUFBOFAsT0FDQXp2QixRQUFBQyxJQUFBcVQsR0FBQStiLFVBQ0EsSUFBQWxILFFBQUF4SSxNQUFBeFAsT0FBQXBKLE1BQ0F1TSxHQUFBb2MsVUFBQXJ3QixPQUFBQyxLQUFBNm9CLFNBQUE5aUIsSUFBQSxTQUFBQyxHQUFBLE9BQUE2aUIsUUFBQTdpQixHQUFBM0MsT0FDQTNILFFBQUFpTSxRQUFBRixNQUFBLFNBQUF6QixFQUFBa2IsT0FFQSxHQURBbGIsRUFBQWtJLFlBQUEsR0FDQSxTQUFBaWlCLE1BQ0EsR0FBQSxHQUFBbmMsR0FBQWdjLFVBQUFycUIsT0FDQXFPLEdBQUFnYyxVQUFBeHBCLEtBQUFSLE9BQ0EsQ0FDQSxJQUFBcXFCLGNBQUEsRUFDQTMwQixRQUFBaU0sUUFBQXFNLEdBQUFnYyxVQUFBLFNBQUEzZixHQUNBckssRUFBQTNDLE1BQUFnTixFQUFBaE4sT0FDQWd0QixjQUFBLEtBSUFBLGFBR0F2eUIsYUFBQXlOLE1BQUEsMkJBRkF5SSxHQUFBZ2MsVUFBQXhwQixLQUFBUixRQU1BLEdBQUEsR0FBQWdPLEdBQUExTCxZQUFBM0MsT0FDQSxRQUFBd0IsS0FBQW5CLEVBQUFuQixNQUNBbVAsR0FBQWdjLFVBQUF4cEIsS0FBQVIsR0FFQWdPLEdBQUExTCxZQUFBOUIsS0FBQVIsT0FFQSxDQUNBLElBQUFxcUIsZ0JBQUEsRUFDQTMwQixRQUFBaU0sUUFBQSxHQUFBNkYsT0FBQXdHLEdBQUExTCxZQUFBMEwsR0FBQWdjLFdBQUEsU0FDQTNmLEdBRUFySyxFQUFBM0MsTUFBQWdOLEVBQUFoTixPQUNBZ3RCLGdCQUFBLEtBSUFBLGVBT0F2eUIsYUFBQXlOLE1BQUEsMkJBTkEsUUFBQXBFLEtBQUFuQixFQUFBbkIsTUFDQW1QLEdBQUFnYyxVQUFBeHBCLEtBQUFSLEdBRUFnTyxHQUFBMUwsWUFBQTlCLEtBQUFSLE1BUUF0RixRQUFBQyxJQUFBcVQsR0FBQWdjLFlBRUFoYyxHQUFBMGQsbUJBQUEsU0FBQUQsU0FBQTVzQixNQUNBc2pCLE9BQUF3SixTQUFBOXNCLEtBQ0FzakIsT0FBQXlKLFVBQUFILFVBRUF6ZCxHQUFBeXpCLGVBQUEsU0FBQXZtQixNQUFBN2hCLE1BQ0EsU0FBQThvQixPQUFBd0osVUFDQTNkLEdBQUFnYyxVQUFBOU8sT0FBQWhULFlBQUE3TyxLQUNBdXFCLEVBQUEsb0JBQUExSSxPQUFBc2xCLFFBQUEsV0FFQXh5QixHQUFBMUwsWUFBQTRZLE9BQUFoVCxZQUFBN08sS0FDQXVxQixFQUFBLHFCQUFBMUksT0FBQXNsQixRQUFBLFdBR0F4eUIsR0FBQXdkLFdBQUEsU0FBQUMsU0FBQTVzQixNQUNBLFNBQUFBLEtBQ0FtUCxHQUFBZ2MsVUFBQXZwQixPQUFBZ3JCLFNBQUEsR0FFQXpkLEdBQUExTCxZQUFBN0IsT0FBQWdyQixTQUFBLElBTUF6ZCxHQUFBMHpCLGdCQUFBLFNBQUFDLFlBQ0EsSUFBQWxnQyxNQUFBMGdCLE9BQUE4SSxZQUFBLEdBQUF6akIsT0FDQXdHLEdBQUFnYyxVQUNBaGMsR0FBQTFMLGFBRUE1SCxRQUFBQyxJQUFBLGVBQUFnbkMsWUFDQSxJQUFBM1csU0FBQSxDQUNBM3RCLEtBQUFza0MsV0FBQXRrQyxLQUNBOFosS0FBQXdxQixXQUFBeHFCLEtBQ0ExVixNQUFBQSxNQUNBbWdDLGNBQUEsQ0FDQXY3QixNQUFBMkgsR0FBQW16QixXQUNBUSxXQUFBQyxjQUNBRCxXQUFBdkIsa0JBRUEzUCxhQUFBemlCLEdBQUFwSSxZQUFBcXRCLGdCQUFBeEMsY0FFQW9SLFFBQUFGLFdBQUFFLFFBQ0FqYixXQUFBLENBQ0F2Z0IsTUFBQTJILEdBQUFtekIsV0FDQVEsV0FBQS9hLFdBQ0ErYSxXQUFBdkIsa0JBRUEzUCxhQUFBemlCLEdBQUFwSSxZQUFBcXRCLGdCQUFBeEMsY0FFQTlHLFNBQUFtVyxjQUVBcGxDLFFBQUFDLElBQUFxd0IsVUFDQXBILEVBQUEsb0JBQUF1RyxNQUFBLFFBQ0FockIsV0FDQXJELG9CQUFBa3ZCLFVBQ0FwdUIsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFNBQ0E2TixHQUFBZ3lCLGNBQUEsZUFFQWpqQyxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUEsSUFBQXlyQixtQkFBQSxHQUNBMXNCLFdBQ0EyckIsOEJBQUE5YyxHQUFBeEksU0FBQTlMLFdBQ0FrRCxLQUFBLFNBQUF3d0IsT0FDQTF5QixRQUFBQyxJQUFBeXlCLE9BQ0F2QixtQkFBQXVCLE1BQUEvekIsS0FBQUEsS0FDQTJVLEdBQUErZSxlQUFBbEIscUJBRUE5dUIsTUFBQSxTQUFBQyxLQUNBdEMsUUFBQUMsSUFBQXFDLEtBQ0FsRixhQUFBeU4sTUFBQXZJLElBQUEzRCxLQUFBOEcsYUFob0JBLEdDQUEsV0FDQXpLLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsb0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsUUFDQTA1QixhQUNBejVCLFFBSUEsSUFBQW1XLEdBQUE3VSxLQUNBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFDQSxJQUFBdXBCLFlBQUExakIsWUFFQSxZQURBOUYsU0FHQW1WLEdBQUFuVixPQUFBLFdBQ0FBLFVBR0FtVixHQUFBeEksU0FBQTFNLFVBQUFQLE1BQ0F5VixHQUFBdkgsT0FBQTdPLFFBQUE2TyxPQUNBN08sUUFBQThPLGNBQUE5SixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBNnlCLFdBQUFoa0MsS0FBQXhELE9BRUEyVSxHQUFBbXlCLGFBQUEsQ0FDQUMsaUJBQUEsR0FHQWpoQyxXQUNBMUYsZUFBQXVVLEdBQUF4SSxTQUFBOUwsV0FDQWtELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFwSSxZQUFBL0ksS0FBQXhELEtBQ0EyVSxHQUFBbXlCLGFBQUFJLFNBQUE3cUMsUUFBQTRKLEtBQ0EwTyxHQUFBcEksWUFBQXF0QixnQkFBQXhDLGNBRUF6aUIsR0FBQWdsQixnQkFBQXQ5QixRQUFBNEosS0FDQTBPLEdBQUFwSSxZQUFBcXRCLGdCQUFBeEMsY0FFQS8xQixRQUFBQyxJQUFBcVQsR0FBQW15QixhQUFBSSxVQUNBM2MsRUFBQSxhQUNBN2lCLElBQUFpTixHQUFBbXlCLGFBQUFJLFVBQ0FDLFFBQUEsb0JBRUE1akMsS0FBQSxTQUFBd0QsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBLElBQUEwL0IsYUFBQSxHQUNBOXhCLEdBQUF1YixZQUFBLFNBQUF4cEIsS0FDQXJGLFFBQUFDLElBQUF4QixLQUFBcXdCLFlBQ0EsSUFBQUMsVUFBQXR3QixLQUFBcXdCLFdBQUFFLFNBQUFDLFNBQ0EzYixHQUFBK2EsS0FBQUMsUUFBQSxDQUFBLENBQUFTLFVBQUFHLE1BQUFILFVBQUFJLFFBQ0E3YixHQUFBK2EsS0FBQUksS0FBQSxHQUNBbmIsR0FBQSthLEtBQUFHLE9BQUFPLFVBQUFHLE1BQUEsSUFBQUgsVUFBQUksTUFFQWlXLGFBQUEsQ0FBQXJXLFVBQUFHLE1BQUFILFVBQUFJLFFBR0E3YixHQUFBelIsbUJBQUEsU0FBQW1rQyxLQUFBQyxJQUNBam1DLFFBQUFDLElBQUErbEMsS0FBQUMsSUFDQS9jLEVBQUEsV0FBQXJNLE9BQ0EsSUFBQXFwQixhQUFBLENBQ0FGLEtBQUFBLEtBQ0FDLEdBQUFBLElBRUFELE1BQUFDLElBQ0F4aEMsV0FDQTVDLG1CQUFBcWtDLGNBQ0Foa0MsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXd4QixVQUFBWSxpQkFBQXZqQyxLQUFBeEQsS0FBQSttQyxpQkFFQWhlLFNBQUEsV0FDQXdCLEVBQUEsV0FBQW1DLFFBQ0EsT0FFQWhwQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUE0TixHQUFBK2EsS0FBQSxDQUNBM3hCLElBQ0EsdUdBQ0E0eEIsUUFBQSxHQUNBQyxPQUFBLEdBQ0FDLE9BQUEsR0FDQUMsS0FBQSxHQUVBbmIsR0FBQTJMLFlBQUEyWCxhQUFBbjJCLEdBRUFnRSxXQUNBaEQsaUJBQUE2UixHQUFBMkwsYUFDQS9jLEtBQUEsU0FBQUMsTUFDQW5DLFFBQUFDLElBQUFrQyxLQUFBeEQsTUFDQXVxQixFQUFBLG1DQUFBcmQsS0FBQSxJQUNBeUgsR0FBQXd4QixVQUFBM2lDLEtBQUF4RCxLQUNBMlUsR0FBQXd4QixVQUFBb0MsY0FBQS9rQyxLQUFBeEQsS0FBQTQ0QixZQUFBMlAsY0FBQXY3QixNQUNBMkgsR0FBQXd4QixVQUFBNVksV0FBQS9wQixLQUFBeEQsS0FBQTQ0QixZQUFBckwsV0FBQXZnQixNQUNBMkgsR0FBQXd4QixVQUFBcm9CLEtBQUF0YSxLQUFBeEQsS0FBQThkLEtBQ0FuSixHQUFBbXlCLGFBQUFJLFNBQ0ExakMsS0FBQXhELEtBQUE0NEIsWUFBQTJQLGNBQUFuUixhQUNBemlCLEdBQUF6UixtQkFDQU0sS0FBQXhELEtBQUE0NEIsWUFBQTJQLGNBQUFuUixhQUNBNXpCLEtBQUF4RCxLQUFBNDRCLFlBQUEyUCxjQUFBblIsY0FFQXppQixHQUFBK2EsS0FBQUcsT0FBQXJzQixLQUFBeEQsS0FBQXUvQixJQUFBdlAsWUFDQXJiLEdBQUFnYyxVQUFBbnRCLEtBQUF4RCxLQUFBb0ksTUFBQXVyQixPQUNBaGYsR0FBQTFMLFlBQUF6RixLQUFBeEQsS0FBQW9JLE1BQUF3ckIsT0FHQWx3QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBOHpCLGNBQUEsU0FBQTlPLGdCQUFBQyxpQkFDQXJQLEVBQUEsb0JBQUF1RyxRQUNBbmMsR0FBQXpSLG1CQUFBeTJCLGdCQUFBQyxrQkFHQWpsQixHQUFBeW1CLFdBQUEsU0FBQXA3QixNQUNBMlUsR0FBQXd4QixVQUFBcm9CLEtBQUE5ZCxLQUFBZ0UsTUFJQTJRLEdBQUE0VSxZQUFBLFNBQUFuaEIsTUFBQTRZLE1BQUE4UCxPQUNBenZCLFFBQUFDLElBQUFxVCxHQUFBK2IsVUFDQSxJQUFBbEgsUUFBQXhJLE1BQUF4UCxPQUFBcEosTUFDQXVNLEdBQUFvYyxVQUFBcndCLE9BQUFDLEtBQUE2b0IsU0FBQTlpQixJQUFBLFNBQUFDLEdBQUEsT0FBQTZpQixRQUFBN2lCLEdBQUEzQyxPQUNBM0gsUUFBQWlNLFFBQUFGLE1BQUEsU0FBQXpCLEVBQUFrYixPQUVBLEdBREFsYixFQUFBa0ksWUFBQSxHQUNBLFNBQUFpaUIsTUFDQSxHQUFBLEdBQUFuYyxHQUFBZ2MsVUFBQXJxQixPQUNBcU8sR0FBQWdjLFVBQUF4cEIsS0FBQVIsT0FDQSxDQUNBLElBQUFxcUIsY0FBQSxFQUNBMzBCLFFBQUFpTSxRQUFBcU0sR0FBQWdjLFVBQUEsU0FBQTNmLEdBQ0FySyxFQUFBM0MsTUFBQWdOLEVBQUFoTixPQUNBZ3RCLGNBQUEsS0FJQUEsYUFHQXZ5QixhQUFBeU4sTUFBQSwyQkFGQXlJLEdBQUFnYyxVQUFBeHBCLEtBQUFSLFFBTUEsR0FBQSxHQUFBZ08sR0FBQTFMLFlBQUEzQyxPQUNBLFFBQUF3QixLQUFBbkIsRUFBQW5CLE1BQ0FtUCxHQUFBZ2MsVUFBQXhwQixLQUFBUixHQUVBZ08sR0FBQTFMLFlBQUE5QixLQUFBUixPQUVBLENBQ0EsSUFBQXFxQixnQkFBQSxFQUNBMzBCLFFBQUFpTSxRQUFBLEdBQUE2RixPQUFBd0csR0FBQTFMLFlBQUEwTCxHQUFBZ2MsV0FBQSxTQUNBM2YsR0FFQXJLLEVBQUEzQyxNQUFBZ04sRUFBQWhOLE9BQ0FndEIsZ0JBQUEsS0FJQUEsZUFPQXZ5QixhQUFBeU4sTUFBQSwyQkFOQSxRQUFBcEUsS0FBQW5CLEVBQUFuQixNQUNBbVAsR0FBQWdjLFVBQUF4cEIsS0FBQVIsR0FFQWdPLEdBQUExTCxZQUFBOUIsS0FBQVIsTUFRQXRGLFFBQUFDLElBQUFxVCxHQUFBZ2MsWUFHQWhjLEdBQUF3ZCxXQUFBLFNBQUFDLFNBQUE1c0IsTUFDQSxTQUFBQSxLQUNBbVAsR0FBQWdjLFVBQUF2cEIsT0FBQWdyQixTQUFBLEdBRUF6ZCxHQUFBMUwsWUFBQTdCLE9BQUFnckIsU0FBQSxJQUdBemQsR0FBQTBkLG1CQUFBLFNBQUFELFNBQUE1c0IsTUFDQXNqQixPQUFBd0osU0FBQTlzQixLQUNBc2pCLE9BQUF5SixVQUFBSCxVQUVBemQsR0FBQXl6QixlQUFBLFNBQUF2bUIsTUFBQTdoQixNQUNBLFNBQUE4b0IsT0FBQXdKLFVBQ0EzZCxHQUFBZ2MsVUFBQTlPLE9BQUFoVCxZQUFBN08sS0FDQSxHQUFBME0sZUFBQXhOLE1BQUF5TixJQUNBNGQsRUFBQSxvQkFBQTFJLE9BQUFzbEIsUUFBQSxTQUVBNWMsRUFBQSx1QkFBQTFJLE9BQUFzbEIsUUFBQSxXQUdBeHlCLEdBQUExTCxZQUFBNFksT0FBQWhULFlBQUE3TyxLQUNBLEdBQUEwTSxlQUFBeE4sTUFBQXlOLElBQ0E0ZCxFQUFBLHFCQUFBMUksT0FBQXNsQixRQUFBLFNBRUE1YyxFQUFBLHdCQUFBMUksT0FBQXNsQixRQUFBLFdBS0F4eUIsR0FBQSt6QixnQkFBQSxTQUFBSixZQUNBLElBQUFsZ0MsTUFBQTBnQixPQUFBOEksWUFBQSxHQUFBempCLE9BQ0F3RyxHQUFBZ2MsVUFDQWhjLEdBQUExTCxhQUVBNUgsUUFBQUMsSUFBQSxlQUFBZ25DLFlBQ0EsSUFBQTNXLFNBQUEsQ0FDQTN0QixLQUFBc2tDLFdBQUF0a0MsS0FDQThaLEtBQUF3cUIsV0FBQXhxQixLQUNBMVYsTUFBQUEsTUFDQW1nQyxjQUFBLENBQ0F2N0IsTUFBQTJILEdBQUFtekIsV0FDQVEsV0FBQUMsY0FDQUQsV0FBQXZCLGtCQUVBM1AsYUFBQXppQixHQUFBcEksWUFBQXF0QixnQkFBQXhDLGNBRUFvUixRQUFBRixXQUFBRSxRQUNBamIsV0FBQSxDQUNBdmdCLE1BQUEySCxHQUFBbXpCLFdBQ0FRLFdBQUEvYSxXQUNBK2EsV0FBQXZCLGtCQUVBM1AsYUFBQXppQixHQUFBcEksWUFBQXF0QixnQkFBQXhDLGNBRUE5RyxTQUFBbVcsY0FFQXBsQyxRQUFBQyxJQUFBcXdCLFVBQ0FwSCxFQUFBLG9CQUFBdUcsTUFBQSxRQUNBaHJCLFdBQ0E0aUMsZ0JBQUFKLFdBQUFyakMsSUFBQTBzQixVQUNBcHVCLEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxTQUNBNk4sR0FBQWd5QixjQUFBLGVBRUFqakMsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUtBLElBQUF5ckIsbUJBQUEsR0FDQTFzQixXQUNBMnJCLDhCQUFBOWMsR0FBQXhJLFNBQUE5TCxXQUNBa0QsS0FBQSxTQUFBd3dCLE9BQ0ExeUIsUUFBQUMsSUFBQXl5QixPQUNBdkIsbUJBQUF1QixNQUFBL3pCLEtBQUFBLEtBQ0EyVSxHQUFBK2UsZUFBQWxCLHFCQUVBOXVCLE1BQUEsU0FBQUMsS0FDQXRDLFFBQUFDLElBQUFxQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLFdBR0FnaUIsT0FBQTZmLFFBQUEsQ0FDQSxDQUFBclosSUFBQSxpQ0FDQSxDQUFBQSxJQUFBLGlDQUNBLENBQUFBLElBQUEsb0NBaFJBLEdDQUEsV0FDQWp6QixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGtCQUVBLFNBQ0E2cUIsT0FDQTNxQixNQUNBNGhDLFFBQ0FoWCxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsUUFDQWtXLG1CQUNBRCxlQUdBc1UsT0FBQThmLE9BQUEsQ0FDQSxDQUNBajZCLE1BQUEsZUFDQTZDLE9BQUEsWUFFQSxDQUNBN0MsTUFBQSxlQUNBNkMsT0FBQSxZQUVBLENBQ0E3QyxNQUFBLGVBQ0E2QyxPQUFBLFlBRUEsQ0FDQTdDLE1BQUEsZUFDQTZDLE9BQUEsWUFFQSxDQUNBN0MsTUFBQSxlQUNBNkMsT0FBQSxhQUlBLElBQUFtRCxHQUFBN1UsS0FFQU4sT0FLQWpCLFFBTEFpQixPQUNBQyxVQUlBbEIsUUFKQWtCLFVBQ0FnTixhQUdBbE8sUUFIQWtPLGFBQ0FxQixhQUVBdlAsUUFGQXVQLGFBR0EvSCxXQURBeEgsUUFEQTRxQixnQkFFQTFVLG1CQUFBMU8sV0FDQSxJQUFBaWpCLFlBQUExakIsWUFFQSxZQURBOUYsU0FLQW1WLEdBQUF4SSxTQUFBMU0sVUFBQVAsTUFDQXlWLEdBQUFuVixPQUFBLFdBQ0FBLFVBR0FzRyxXQUNBdkYsa0JBQ0FnRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBaW9CLFlBQUFwNUIsS0FBQXhELEtBRUEsSUFBQWlpQyxnQkFBQXgxQixhQUFBdk4sTUFFQXlWLEdBQUFzdEIsZ0JBQUFBLGdCQUFBaDlCLElBRUEwUCxHQUFBazBCLGtCQUFBNUcsbUJBR0F2K0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBNE4sR0FBQXlVLFlBQUEsR0FFQXpVLEdBQUFtMEIsY0FBQXI4QixhQUFBdk4sTUFBQTRwQyxjQUVBbjBCLEdBQUFvMEIsWUFBQSxDQUNBQyxXQUFBLEdBQ0FDLFFBQUEsR0FDQTdnQyxNQUFBLElBR0F1TSxHQUFBdTBCLGlCQUFBLFNBQUF0NUIsVUFDQSxJQUFBdTVCLFlBQUF2NUIsU0FBQXNLLE9BQUFrdkIsT0FDQTdhLFVBQUFBLEVBU0EsTUFQQSxPQUFBem1CLEtBQUFxaEMsYUFDQTVhLEtBQUEsTUFDQSxNQUFBem1CLEtBQUFxaEMsYUFDQTVhLEtBQUEsTUFDQSxNQUFBem1CLEtBQUFxaEMsZUFDQTVhLEtBQUEsT0FFQUEsTUFFQTVaLEdBQUFndkIsVUFBQSxFQUNBaHZCLEdBQUFrMEIsa0JBQUEsU0FBQTVHLGdCQUFBdFcsTUFDQUEsS0FFQWxmLGFBQUFoUCxJQUNBa3VCLEtBQUF4aUIsT0FBQSxTQUFBeEMsR0FDQSxPQUFBQSxFQUFBMUIsTUFBQWc5QixrQkFJQSxJQUdBeDFCLGFBQUFoUCxJQUFBd2tDLGlCQUdBdHRCLEdBQUFtMEIsY0FBQXI4QixhQUFBdk4sTUFBQTRwQyxjQUVBM2xDLFFBQUF5QixJQUFBLENBQ0FrQixXQUFBNDlCLGFBQUFqM0IsYUFBQXZOLE1BQUErRixLQUNBYSxXQUFBdWpDLGtCQUFBNThCLGFBQUF2TixNQUFBK0YsT0FFQTFCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFndkIsVUFBQSxFQUNBaHZCLEdBQUF5VSxZQUFBNWxCLEtBQUEsR0FBQXhELEtBQUFBLEtBQUE0akMsWUFDQWp2QixHQUFBb3RCLGFBQUF2K0IsS0FBQSxHQUFBeEQsS0FBQUEsS0FDQTJVLEdBQUE4b0Isd0JBQUEsU0FBQTNILFFBQ0EsT0FBQSxJQUFBM3lCLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQXVSLEdBQUFvdEIsbUJBSUFyK0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQU9BNE4sR0FBQTIwQixVQUFBLFNBQUF4bkMsSUFDQWdFLFdBQ0F5akMscUJBQUF6bkMsSUFDQXlCLEtBQUEsU0FBQUMsTUFDQW5DLFFBQUFDLElBQUFrQyxLQUFBeEQsUUFFQTBELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFNQSxJQUFBeWlDLGdCQUFBMTdCLGVBRUE2RyxHQUFBODBCLFlBQUEsQ0FDQUMsT0FBQSxTQUFBcHFDLE9BQUFxcUMsS0FBQUMsV0FDQSxPQUFBdHFDLE9BQUE0SSxPQUNBc2hDLGdCQUFBejdCLE1BQUE0N0IsT0FDQSxJQUlBRSxTQUFBLFNBQUE3b0IsT0FBQSxJQUNBMWhCLE9BQUEwaEIsTUFBQTFoQixPQUFBMGhCLE1BQUEyb0IsS0FFQSxHQUFBcnFDLE9BQUF3cUMsVUFBQTVoQyxLQUFBLENBRUEsSUFBQTZoQyxZQUFBUCxnQkFBQXRxQyxNQUNBLElBQUE2cUMsWUFBQUMsV0FFQSxPQUVBLElBQUFwcUMsUUFBQSxDQUNBNkcsUUFBQW5ILE9BQUF3cUMsVUFBQTVoQyxLQUFBakQsSUFDQTJCLFNBQUF0SCxPQUFBd3FDLFVBQUFHLFFBQUFELFdBQUFFLFlBQUFqbEMsSUFDQW9CLE9BQUEwakMsWUFBQUMsV0FBQUUsWUFBQWpsQyxLQUdBYSxXQUNBcWtDLFdBQUF2cUMsU0FDQTJELEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBZ2pDLFlBQUFDLFdBQUFFLFlBQUE5aEMsTUFDQTJoQyxZQUFBQyxXQUFBRSxZQUFBOWhDLE1BQUFqQixLQUNBN0gsT0FBQXdxQyxVQUFBNWhDLE1BR0E2aEMsWUFBQUMsV0FBQUUsWUFBQTloQyxNQUFBLENBQUE5SSxPQUFBd3FDLFVBQUE1aEMsTUFJQTVJLE9BQUF3cUMsVUFBQUcsUUFBQUQsV0FBQUUsWUFBQTloQyxNQUFBOUksT0FBQXdxQyxVQUFBRyxRQUFBRCxXQUFBRSxZQUFBOWhDLE1BQUFlLE9BQ0EsU0FBQXhDLEdBQUEsT0FBQUEsRUFBQTFCLE1BQUEzRixPQUFBd3FDLFVBQUE1aEMsS0FBQWpELFFBSUFtbEMsUUFBQSxTQUFBcHBCLE9BQUEsSUFDQTFoQixPQUFBMGhCLE1BQUExaEIsT0FBQXFxQyxLQUFBM29CLE1BQUEyb0IsS0FDQS9wQyxhQUFBQSxFQUtBLE9BQUErcEMsS0FBQVUsV0FBQUwsWUFDQSxPQUFBMXFDLE9BQUF3cUMsVUFBQVEsbUJBU0ExcUMsUUFKQSxPQUFBK3BDLEtBQUFVLFdBQUFMLFlBQ0EsT0FBQTFxQyxPQUFBd3FDLFVBQUFRLGlCQUdBLENBQ0E5a0MsS0FBQSxFQUNBM0IsWUFBQXZFLE9BQUF3cUMsVUFBQUksWUFBQWpsQyxJQUNBc2xDLFNBQUFqckMsT0FBQXdxQyxVQUFBUSxpQkFBQUosWUFBQWpsQyxJQUNBakQsVUFBQXlLLGFBQUF2TixNQUFBK0YsS0FHQSxPQUFBMGtDLEtBQUFVLFdBQUFMLFlBQ0EsT0FBQTFxQyxPQUFBd3FDLFVBQUFRLGlCQUdBLENBQ0E5a0MsS0FBQSxFQUNBM0IsWUFBQXZFLE9BQUF3cUMsVUFBQUksWUFBQWpsQyxJQUNBakQsVUFBQXlLLGFBQUF2TixNQUFBK0YsSUFDQW9CLE9BQUFzakMsS0FBQVUsV0FBQUwsV0FBQUUsWUFBQWpsQyxLQUlBLENBQ0FPLEtBQUEsRUFDQTNCLFlBQUF2RSxPQUFBd3FDLFVBQUFJLFlBQUFqbEMsSUFDQXNsQyxTQUFBanJDLE9BQUF3cUMsVUFBQVEsaUJBQUFKLFlBQUFqbEMsSUFDQW9CLE9BQUFzakMsS0FBQVUsV0FBQUwsV0FBQUUsWUFBQWpsQyxLQUlBYSxXQUNBMGtDLGNBQUE1cUMsU0FDQTJELEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixRQUtBLElBQUFzaUIsZ0JBQUF2YixlQUVBNkcsR0FBQTgxQixjQUFBLFNBQUExc0IsS0FDQXNMLGdCQUFBdGIsTUFBQWdRLE1BSUFwSixHQUFBKzFCLGtCQUFBLEVBQ0FuZ0IsRUFBQSxhQUFBNVosR0FBQSxnQkFBQSxXQUNBZ0UsR0FBQW9jLFVBQUEsR0FDQXBjLEdBQUErMUIsa0JBQUEsSUFHQS8xQixHQUFBZzJCLGlCQUFBLFNBQUEzbUMsS0FBQWhDLFdBQ0EsR0FBQSxJQUFBMlMsR0FBQTB2QixZQUFBLE1BQUExdkIsR0FBQTB2QixXQUFBLENBSUEsSUFBQXprQyxRQUFBLENBQ0FvRSxLQUFBQSxLQUNBNG1DLFVBQUEsRUFDQTVvQyxVQUFBQSxXQUVBc25CLFFBQUFELGdCQUFBbnFCLE1BQ0FxckIsRUFBQSxhQUFBdUcsTUFBQSxRQUNBaHJCLFdBQ0Era0MsYUFBQWpyQyxTQUNBMkQsS0FBQSxTQUFBQyxNQUNBOGxCLFFBQUF3aEIsWUFBQVosWUFBQS9pQyxLQUFBM0QsS0FBQXhELEtBQUFBLE1BQ0F2QixhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FDQXpGLFFBQUFDLElBQUEsYUFBQStuQixnQkFBQW5xQixTQUVBd0UsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixVQWxCQXRJLGFBQUE4SCxRQUFBLCtCQXNCQW9PLEdBQUFvMkIsYUFBQSxTQUFBenJDLE9BQUF5ZSxLQUNBcEosR0FBQXEyQixlQUFBMXJDLE9BQ0FxVixHQUFBMlUsUUFBQXZMLElBQ0F3TSxFQUFBLGFBQUF1RyxNQUFBLFNBR0FuYyxHQUFBczJCLFlBQUEsRUFFQXQyQixHQUFBdTJCLGFBQUEsU0FBQXhoQixPQUFBNkUsS0FBQTRjLE1BQ0F6aEIsT0FBQXdnQixZQUFBa0IsU0FLQTdnQixFQUFBYixPQUFBMmhCLFdBQUFDLFNBQUEsSUFDQS82QixLQUFBLGdCQUNBMmUsWUFBQSxlQUNBM0UsRUFBQWIsT0FBQTRoQixTQUFBLElBQ0EvNkIsS0FBQSxRQUNBZzdCLFFBQ0FuYyxTQUFBLGVBRUF6YSxHQUFBczJCLFlBQUEsRUFDQW5sQyxXQUNBMGxDLGNBQUE5aEIsT0FBQXdnQixZQUFBamxDLEtBQ0ExQixLQUFBLFNBQUFDLE1BRUFtUixHQUFBbzBCLFlBQUEsQ0FDQUMsV0FBQXRmLE9BQ0F1ZixRQUFBdmYsT0FBQXdnQixZQUFBdmlCLFNBQ0F2ZixNQUFBNUUsS0FBQXhELEtBQUFvSSxPQUdBdU0sR0FBQTgyQixlQUFBam9DLEtBQUF4RCxLQUFBMHJDLFlBQ0EvMkIsR0FBQXMyQixZQUFBLEVBQ0F2aEIsT0FBQXdnQixZQUFBOWhDLE1BQUE1RSxLQUFBeEQsS0FBQW9JLE1BQ0FwQixnQkFBQUcsS0FBQXVpQixVQUVBaG1CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FFQTJpQixPQUFBOEUsVUFDQTlFLE9BQUFwaUIsU0FDQWluQixNQUNBdm5CLGdCQUFBRyxLQUFBdWlCLFVBS0EsSUFBQTFpQixnQkFBQXlOLG1CQUFBek4sa0JBRUEyTixHQUFBZzNCLFNBQUEsU0FBQXRrQyxTQUNBLElBQUFxaUIsT0FBQXJpQixRQUNBTCxnQkFBQUssVUFDQUwsZ0JBQUFPLFdBR0FtaUIsU0FDQS9VLEdBQUFzMkIsWUFBQSxFQUNBbmxDLFdBQ0EwbEMsY0FBQTloQixPQUFBd2dCLFlBQUFqbEMsS0FDQTFCLEtBQUEsU0FBQUMsTUFFQW1SLEdBQUFvMEIsWUFBQSxDQUNBQyxXQUFBdGYsT0FDQXVmLFFBQUF2ZixPQUFBd2dCLFlBQUF2aUIsU0FDQXZmLE1BQUE1RSxLQUFBeEQsS0FBQW9JLE9BRUF1TSxHQUFBczJCLFlBQUEsRUFDQXZoQixPQUFBd2dCLFlBQUE5aEMsTUFBQTVFLEtBQUF4RCxLQUFBb0ksUUFFQTFFLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FLQTROLEdBQUFpM0IsV0FBQSxTQUFBOXBDLElBRUEsSUFBQWtuQyxXQUFBcjBCLEdBQUFvMEIsWUFBQUMsV0FDQTZDLGFBQ0FqckMsT0FBQSxTQUFBQyxJQUFBOEYsR0FJQSxPQUhBQSxFQUFBdWpDLFlBQUFqbEMsTUFBQW5ELEtBQ0FqQixJQUFBOEYsR0FFQTlGLEtBQ0EsTUFFQThULEdBQUFzMkIsWUFBQSxFQUNBbmxDLFdBQ0EwbEMsY0FBQTFwQyxJQUNBeUIsS0FBQSxTQUFBQyxNQUNBd0QsZ0JBQUFHLEtBQUE2aEMsWUFFQXIwQixHQUFBbzBCLFlBQUEsQ0FDQUMsV0FBQUEsV0FDQUMsUUFBQXpsQyxLQUFBeEQsS0FBQWlwQyxRQUNBN2dDLE1BQUE1RSxLQUFBeEQsS0FBQW9JLE9BRUF1TSxHQUFBODJCLGVBQUFqb0MsS0FBQXhELEtBQUEwckMsWUFDQS8yQixHQUFBczJCLFlBQUEsSUFFQXZuQyxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUE0TixHQUFBbTNCLFVBQUEsU0FBQTluQyxLQUFBMGxCLFFBQ0EsR0FBQSxJQUFBL1UsR0FBQTB2QixZQUFBLE1BQUExdkIsR0FBQTB2QixXQUFBLENBSUE5WixFQUFBLGFBQUF1RyxNQUFBLFFBQ0EsSUFBQWx4QixRQUFBLENBQ0FvRSxLQUFBQSxLQUNBNG1DLFVBQUEsRUFDQTNjLE9BQUF2RSxRQUVBNWpCLFdBQ0Era0MsYUFBQWpyQyxTQUNBMkQsS0FBQSxTQUFBQyxNQUNBa21CLE9BQUEvQixTQUFBeGdCLEtBQUEzRCxLQUFBeEQsS0FBQUEsTUFDQXZCLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixVQWhCQXRJLGFBQUE4SCxRQUFBLCtCQW9CQW9PLEdBQUFvM0IsbUJBQUEsU0FBQUMsT0FBQXRpQixRQUVBLEdBREFyb0IsUUFBQUMsSUFBQXFULEdBQUE2cEIsZUFDQSxNQUFBN3BCLEdBQUE2cEIsY0FBQSxDQUtBalUsRUFBQSxhQUFBdUcsTUFBQSxRQUNBLElBQUFycUIsUUFBQXVsQyxPQUFBdGxDLElBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBMUIsTUFDQXBCLFlBQUE2bEIsT0FBQXprQixJQUNBYSxXQUNBaW1DLG1CQUFBLENBQ0F0bEMsUUFBQUEsUUFDQTVDLFlBQUFBLGNBRUFOLEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixVQWhCQXRJLGFBQUE4SCxRQUFBLHFDQW9CQW9PLEdBQUF3ZCxXQUFBLFNBQUFyd0IsR0FBQWtuQyxZQUNBemUsRUFBQSxhQUFBdUcsTUFBQSxRQUNBaHJCLFdBQ0FtbUMsYUFBQSxDQUNBeGxDLFFBQUEzRSxLQUVBeUIsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXMyQixZQUFBLEVBQ0FubEMsV0FDQTBsQyxjQUFBeEMsV0FBQWtCLFlBQUFqbEMsS0FDQTFCLEtBQUEsU0FBQUMsTUFFQW1SLEdBQUFvMEIsWUFBQSxDQUNBQyxXQUFBQSxXQUNBQyxRQUFBRCxXQUFBa0IsWUFBQXZpQixTQUNBdmYsTUFBQTVFLEtBQUF4RCxLQUFBb0ksT0FFQXVNLEdBQUFzMkIsWUFBQSxFQUNBakMsV0FBQWtCLFlBQUE5aEMsTUFBQTVFLEtBQUF4RCxLQUFBb0ksUUFFQTFFLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FHQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFLQTROLEdBQUFtVixhQUFBLEVBQ0FuVixHQUFBYyxjQUFBLEVBRUFkLEdBQUE0VSxZQUFBLFNBQUFuaEIsTUFBQTRZLE9BRUEsSUFBQXdJLFFBQUF4SSxNQUFBeFAsT0FBQXBKLE1BQ0F1TSxHQUFBbVYsYUFBQSxFQUNBblYsR0FBQWMsY0FBQSxFQUVBZCxHQUFBb2MsVUFBQXJ3QixPQUFBQyxLQUFBNm9CLFNBQUE5aUIsSUFBQSxTQUFBQyxHQUNBLElBQUFlLElBQUE4aEIsUUFBQTdpQixHQU1BLE9BTEFlLElBQUFuSSxTQUFBLEVBQ0FtSSxJQUFBNFAsVUFBQSxFQUNBNVAsSUFBQWEsV0FBQSxFQUNBYixJQUFBYyxTQUFBLEVBQ0FkLElBQUF5aUIsTUFBQSxFQUNBemlCLE9BR0FpTixHQUFBdTNCLHlCQUFBLFNBQUF4a0MsS0FDQWlOLEdBQUF3M0Isb0JBQUF6a0MsS0FnQkFpTixHQUFBOFUsVUFBQSxTQUFBcmhCLE1BQUFzaEIsUUFFQSxHQURBcm9CLFFBQUFDLElBQUFxVCxHQUFBMUwsYUFDQSxNQUFBMEwsR0FBQTFMLFlBRUEsT0FEQXhLLGFBQUE4SCxRQUFBLDZCQUNBLEVBRUFna0IsRUFBQSxhQUFBdUcsTUFBQSxRQUNBcmMsbUJBQ0FoTSxvQkFBQUwsTUFBQXNoQixPQUFBemtCLEtBQ0ExQixLQUFBLFNBQUFvbUIsV0FDQUEsVUFBQTVnQixXQUFBekMsUUFDQXFPLEdBQUFpVixlQUFBRCxVQUNBdG9CLFFBQUFDLElBQUFxVCxHQUFBaVYsZ0JBQ0FXLEVBQUEsb0JBQUF1RyxNQUFBLFVBRUF6dkIsUUFBQUMsSUFBQXFvQixXQUNBaFYsR0FBQWtWLFdBQUFGLFVBQUFsZCxhQUFBdk4sTUFBQStGLElBQUF5a0IsV0FHQWhtQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUE0TixHQUFBeTNCLHlCQUFBLFNBQUFsa0MsTUFDQSxZQUFBQSxLQUFBVyxPQUNBWCxLQUFBWSxVQUFBMkwsbUJBQUFyTCxnQkFBQWxCLEtBQUFsRSxNQUVBa0UsS0FBQVksVUFBQVosS0FBQWxFLE1BSUEyUSxHQUFBa1YsV0FBQSxTQUFBemhCLE1BQUFwRyxVQUFBMG5CLFFBRUEsR0FBQWpWLG1CQUFBdkwsZ0JBQUFkLE1BQUFXLFlBQ0F0SyxhQUFBOEgsUUFBQSxxQ0E4RkEsR0ExRkFna0IsRUFBQSxvQkFBQXVHLE1BQUEsUUFDQTFvQixNQUFBQSxHQUFBQSxPQUFBQSxtQkFBQUEsTUFBQVcsWUFBQXFGLG1CQUFBaEcsTUFBQWEsY0FDQTBMLEdBQUFtVixhQUFBLEVBQ0FTLEVBQUEsYUFBQXVHLE1BQUEsUUFDQW5jLEdBQUFvVixnQkFBQXRWLG1CQUFBOU0saUJBQUFTLE9BRUEvTCxRQUFBaU0sUUFBQXFNLEdBQUFvVixnQkFBQS9oQixHQUFBLFNBQUFyQixHQWlGQTZOLGNBQUFsUixNQS9FQSxTQUFBMFIsV0FFQXJPLEVBQUFzTyxNQUFBVCxjQUFBUyxNQUFBQyxLQUFBRixVQUFBck8sR0FDQUEsRUFBQXdPLE9BQUFYLGNBQUFXLE9BQUFELEtBQUFGLFVBQUFyTyxHQUNBQSxFQUFBeU8sTUFBQVosY0FBQVksTUFBQUYsS0FBQUYsVUFBQXJPLEdBQ0EsSUFBQTBPLFVBQUEsQ0FDQXJSLEtBQUEyQyxFQUFBM0MsS0FDQWtFLEtBQUF2QixFQUNBcEgsU0FBQSxTQUFBK1YsRUFBQUMsT0FHQTVPLEVBQUFwSCxTQUNBb0gsRUFBQXBILFNBQUFnVSxLQUFBaUMsTUFBQSxJQUFBRixHQUNBM08sRUFBQXBILFNBQ0FnVSxLQUFBaUMsTUFBQSxJQUFBRixHQUVBWCxHQUFBYyxhQUFBaEIsbUJBQUF0TSxzQkFDQXdNLEdBQUFvVixpQkFHQWhCLFNBQUEsV0FDQUQsT0FBQWtCLFlBR0F2bUIsU0FBQSxTQUFBaVMsS0FBQUMsUUFDQWhQLEVBQUE0QixXQUFBLEVBRUF3Z0IsU0FBQSxXQUNBRCxPQUFBa0IsV0FFQTNvQixRQUFBQyxJQUFBLGVBSUEwVCxVQUFBN0QsSUFBQWtFLFdBQUE5UixLQUNBLFNBQUFxUyxjQUVBLElBQUFoVyxRQUFBLENBQ0E0RixLQUFBaVAsbUJBQUF4TSxnQkFBQXRCLEdBQ0EzRSxVQUFBeUssYUFBQXZOLE1BQUErRixJQUNBZ2xCLFNBQUFQLE9BQUF6a0IsSUFDQTRRLFVBQUEsQ0FDQS9NLFVBQUFuQyxFQUFBbUMsVUFDQWlOLE9BQUEsY0FDQWxaLElBQUFBLFFBQUE4SixFQUFBM0MsS0FDQWdTLFNBQUFyUCxFQUFBbkIsS0FDQXlRLE1BQUF0UCxFQUFBa0IsS0FDQXFpQixhQUFBdmpCLEVBQUF3akIsT0FHQXJrQixXQUNBc2tCLGNBQUF4cUIsU0FDQTJELEtBQUEsU0FBQUMsTUFDQWttQixRQUNBQSxPQUFBdGhCLE1BQUFqQixLQUFBM0QsS0FBQXhELEtBQUFBLFFBR0EwRCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBRUF0SSxhQUFBb0ksUUFBQSw4QkFDQXhGLFFBQUFDLElBQUEsaUNBQUFzVSxlQUVBLFNBQUFPLFFBRUF4UCxFQUFBNkIsU0FBQSxFQUVBbU0sR0FBQWMsYUFBQWhCLG1CQUFBdE0sc0JBQ0F3TSxHQUFBb1YsaUJBR0FoQixTQUFBLFdBQ0FELE9BQUFrQixXQUVBM29CLFFBQUFDLElBQUEsbUNBQUE2VSxjQVFBeEIsR0FBQW9WLGdCQUFBaGlCLFdBQUF6QixPQUFBLENBQ0EsSUFBQThQLGtCQUFBLENBQ0FoTyxNQUFBdU0sR0FBQW9WLGdCQUFBaGlCLFdBRUFZLFdBQUFnTSxHQUFBb1YsZ0JBQUFoaUIsV0FBQXJCLElBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBbUMsWUFDQTlHLFVBQUFBLFVBQ0E2QixZQUFBNmxCLE9BQUF6a0IsS0FHQWEsV0FDQXVrQix3QkFBQWpVLG1CQUNBN1MsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQW9WLGdCQUFBaGlCLFdBQUE0TSxHQUFBb1YsZ0JBQUFoaUIsV0FBQXJCLElBQ0EsU0FBQUMsR0FFQSxPQURBQSxFQUFBNEIsV0FBQSxFQUNBNUIsSUFJQWdPLEdBQUFjLGFBQUFoQixtQkFBQXRNLHNCQUNBd00sR0FBQW9WLGlCQUdBaEIsU0FBQSxXQUNBRCxPQUFBa0IsV0FHQU4sUUFDQWxtQixLQUFBeEQsS0FBQUEsS0FBQXNJLFFBQUEsU0FBQTNCLEdBQ0EraUIsT0FBQXRoQixNQUFBakIsS0FBQVIsS0FJQWxJLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixPQUtBNE4sR0FBQTAzQixnQkFBQSxXQUNBMTNCLEdBQUFtVixhQUFBLEdBR0FuVixHQUFBMjNCLFNBQUEsU0FBQXBrQyxNQUNBcWlCLEVBQUEsYUFBQXVHLE1BQUEsUUFDQW5jLEdBQUE0M0IsWUFBQXJrQyxLQUNBeU0sR0FBQTQzQixZQUFBQyxVQUNBLFFBQUF0a0MsS0FBQWdTLE9BQ0FoUyxLQUFBOEcsV0FBQU4sUUFBQSxRQUFBLFFBQ0F4RyxLQUFBOEcsWUFLQTJGLEdBQUE4M0IsYUFBQSxFQUNBOTNCLEdBQUErM0IsV0FBQSxTQUFBcmtDLE1BQ0FzTSxHQUFBODNCLFlBQUFwa0MsTUFJQXlnQixPQUFBd2IsYUFBQSxFQUNBM3ZCLEdBQUFnNEIsbUJBQUEsQ0FDQUMsU0FBQSxDQUNBLENBQ0ExL0IsS0FBQSxnQkFDQTdCLE1BQUEsU0FBQXdoQyxXQUFBQyxPQUFBQyxXQUFBNy9CLEtBQUE4L0IsS0FDQXI0QixHQUFBbzBCLFlBQUFDLFdBQ0FqakMsVUFDQUssTUFBQXVPLEdBQUFvMEIsWUFBQUMsV0FBQWtCLFlBQUFqbEMsS0FDQTFCLEtBQUEsU0FBQUMsTUFDQUEsTUFDQXNDLFdBQ0EwbEMsY0FBQTcyQixHQUFBbzBCLFlBQUFDLFdBQUFrQixZQUFBamxDLEtBQ0ExQixLQUFBLFNBQUFDLE1BRUFtUixHQUFBbzBCLFlBQUEsQ0FDQUMsV0FBQXIwQixHQUFBbzBCLFlBQUFDLFdBQ0FDLFFBQUF6bEMsS0FBQXhELEtBQUFpcEMsUUFDQTdnQyxNQUFBNUUsS0FBQXhELEtBQUFvSSxTQUdBMUUsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixPQUlBckQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBdEksYUFBQThILFFBQUEseUNBS0EyQixLQUFBLENBQ0EsQ0FDQWdGLEtBQUEsT0FDQTdCLE1BQUEsU0FBQXdoQyxXQUFBQyxPQUFBQyxXQUFBNy9CLEtBQUE4L0IsS0FDQWpuQyxVQUFBRSxLQUFBNG1DLFdBQUEza0MsUUFHQSxDQUNBZ0YsS0FBQSxNQUNBN0IsTUFBQSxTQUFBd2hDLFdBQUFDLE9BQUFDLFdBQUE3L0IsS0FBQTgvQixLQUNBam5DLFVBQUFJLElBQ0EwbUMsV0FBQTNrQyxLQUNBeU0sR0FBQW8wQixZQUFBQyxXQUFBa0IsWUFBQWpsQyxPQUlBLENBQ0FpSSxLQUFBLFVBQ0E3QixNQUFBLFNBQUF3aEMsWUFDQWw0QixHQUFBczRCLFNBQUEsRUFDQXQ0QixHQUFBcXZCLGNBQUEzbkMsUUFBQTRKLEtBQUEwTyxHQUFBeVUsYUFDQXpVLEdBQUF1NEIsaUJBQUFMLFdBQUEza0MsS0FDQXFpQixFQUFBLFdBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLGVBQUFyTSxPQUNBcU0sRUFBQSxnQkFBQW1DLE9BQ0EvWCxHQUFBeXZCLE9BQUEsVUFDQXRiLE9BQUF1YixXQUFBLGNBQ0EsZUFBQXZiLE9BQUF1YixXQUNBdmIsT0FBQXdiLGFBQUEsRUFFQXhiLE9BQUF3YixhQUFBLE1BTUEzdkIsR0FBQXc0QixnQkFBQSxTQUFBemxDLEtBQ0FpTixHQUFBeTRCLGFBQUExbEMsSUFBQWlnQixTQUNBaFQsR0FBQXl2QixPQUFBMThCLElBQUExRCxLQUNBdW1CLEVBQUEsZUFBQW1DLE9BQ0FuQyxFQUFBLGdCQUFBck0sUUFFQTRLLE9BQUF3YixhQUFBLEVBQ0EsZUFBQXhiLE9BQUF1YixXQUNBdmIsT0FBQXdiLGFBQUEsRUFFQXhiLE9BQUF3YixhQUFBLEVBSUEzdkIsR0FBQTA0QixrQkFBQSxTQUFBcnBDLE1BQ0EsR0FBQUEsS0FFQSxDQUNBdW1CLEVBQUEsc0JBQUF1RyxNQUFBLFFBQ0EsSUFBQTl3QixLQUFBLENBQ0FnRSxLQUFBQSxNQUVBOEIsV0FDQXVuQyxrQkFBQTVnQyxhQUFBdk4sTUFBQStGLElBQUFqRixNQUNBdUQsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFdBRUF6RixRQUFBQyxJQUFBLFNBQUF5RixHQUNBMUYsUUFBQUMsSUFBQXlGLFVBWkF0SSxhQUFBeU4sTUFBQSwrQkFpQkF5SSxHQUFBbXJCLGlCQUFBLEdBSUFoNkIsV0FDQW01Qix1QkFDQTE3QixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBdXFCLGFBQUExN0IsS0FBQXhELEtBQUFBLE9BRUEwRCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBa3JCLGVBQUEsV0FDQSxJQUFBNy9CLEtBQUEsQ0FDQWdDLFVBQUF5SyxhQUFBdk4sTUFBQStGLElBQ0F3NkIsV0FBQTlxQixHQUFBbXJCLGlCQUFBNzZCLEtBRUFzbEIsRUFBQSx3QkFBQXVHLE1BQUEsUUFDQWhyQixXQUNBd25DLHNCQUFBdHRDLE1BQ0F1RCxLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FDQTZOLEdBQUFrMEIsa0JBQUFwOEIsYUFBQXZOLE9BQ0E0RyxXQUNBazNCLGVBQUF2d0IsYUFBQXZOLE1BQUErRixLQUNBMUIsS0FBQSxTQUFBQyxNQUNBaUosYUFBQWhQLElBQUErRixLQUFBeEQsTUFDQTJVLEdBQUFtMEIsY0FBQXI4QixhQUFBdk4sTUFBQTRwQyxnQkFFQXBsQyxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE9BR0FyRCxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUE0TixHQUFBNDRCLGlCQUFBLEVBQ0E1NEIsR0FBQTY0QixpQkFBQSxFQUVBNzRCLEdBQUE4NEIsZ0JBQUEsU0FBQS9sQyxJQUFBN0ssS0FDQThYLEdBQUE5WCxNQUFBNkssS0FHQWlOLEdBQUFrdEIsaUJBQUEsU0FBQS8vQixJQUVBZ0UsV0FBQWc4QixpQkFBQWhnQyxHQURBLEdBQ0F5QixLQUFBLFNBQUEwL0IsVUFDQXR1QixHQUFBb3RCLGFBQUFrQixTQUFBampDLEtBQUFBLFFBR0EyVSxHQUFBa3RCLGlCQUFBcDFCLGFBQUF2TixNQUFBK0YsT0ExMUJBLEdDQUEsV0FDQTVJLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsY0FFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixRQUNBMHFCLE1BQ0F6cUIsT0FDQTZ5QixPQUNBaHpCLFdBR0EsSUFDQW1CLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUFBbEIsUUFBQWlQLFNBQ0EsSUFBQXdiLFlBQUExakIsWUFFQSxZQURBOUYsU0FIQU0sS0FRQXFNLFNBQUExTSxVQUFBUCxNQUVBbUMsUUFBQUMsSUFWQXhCLEtBVUFxTSxVQVZBck0sS0FXQU4sT0FBQSxXQUNBQSxVQUdBc3BCLE9BQUErVixZQUFBLFNBQUF2VSxNQUNBLE9BQUFqc0IsVUFBQWlzQixTQUFBQSxLQUFBLFNBQUEsTUFqQ0EsR0NBQSxXQUNBanVCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsa0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsUUFDQTBxQixNQUNBenFCLE9BQ0E2eUIsT0FDQWh6QixXQUdBLElBQUFzVyxHQUFBN1UsS0FDQU4sT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQUFnTixjQUFBbE8sUUFBQWlQLFNBQUFqUCxRQUFBa08sY0FDQSxJQUFBdWMsWUFBQTFqQixZQUVBLFlBREE5RixTQTBLQSxTQUFBMjlCLGVBQUEzNUIsTUFDQW1SLEdBQUF5b0IsWUFBQTU1QixLQUFBeEQsS0FBQTJyQixLQUNBdHZCLFFBQUFpTSxRQUFBcU0sR0FBQXlvQixZQUFBLFNBQUF6MkIsR0FDQSxJQUFBMDJCLE9BQUEsRUFDQWhoQyxRQUFBaU0sUUFBQTNCLEVBQUFYLE1BQUEsU0FBQWdMLEdBQ0Fxc0IsUUFBQXJzQixFQUFBMnJCLFFBRUFoMkIsRUFBQTIyQixXQUFBRCxTQTdLQTFvQixHQUFBeEksU0FBQTFNLFVBQUFQLE1BQ0F5VixHQUFBblYsT0FBQSxXQUNBQSxVQUdBbVYsR0FBQXljLFVBQUEsSUFBQTluQixLQUNBcUwsR0FBQXVuQixhQUFBLEdBQ0F2bkIsR0FBQXduQixrQkFBQSxDQUNBQyxVQUFBLEdBQ0F2SyxLQUFBbGQsR0FBQXljLFVBQ0FpTCxRQUFBMW5CLEdBQUF5YyxVQUNBa0wsb0JBQUEsRUFDQUMsbUJBQUEsR0FHQXoyQixXQUNBazNCLGVBQUF2d0IsYUFBQXZOLE1BQUErRixLQUNBMUIsS0FBQSxTQUFBQyxNQUVBLE9BREFtUixHQUFBd25CLGtCQUFBQyxVQUFBNTRCLEtBQUF4RCxLQUFBaTlCLFVBQ0FuM0IsV0FBQW8zQixzQkFBQTE1QixLQUFBeEQsS0FBQWk5QixhQUVBMTVCLEtBQUE0NUIsZ0JBQ0F6NUIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBNE4sR0FBQTRvQixRQUFBLENBQ0FwUSxTQUFBLEVBQ0FzUCxnQkFBQSxFQUNBQyxRQUFBLEdBR0EvbkIsR0FBQTZvQixRQUFBLEdBQ0ExM0IsV0FDQTlFLGlCQUNBdUMsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQTZvQixRQUFBaDZCLEtBQUF4RCxLQUFBMnJCLEtBQ0F0cUIsUUFBQUMsSUFBQXFULEdBQUE2b0IsUUFBQSxhQUVBOTVCLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FHQTVELFFBQUF5QixJQUFBLENBQ0FrQixXQUFBekQsbUJBQ0F5RCxXQUFBeEQsd0JBQ0F3RCxXQUFBdkQsc0JBRUFnQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBK1csU0FBQSxHQUFBdmQsT0FDQTNLLEtBQUEsR0FBQXhELEtBQUEyckIsS0FDQW5vQixLQUFBLEdBQUF4RCxLQUFBMnJCLEtBQ0Fub0IsS0FBQSxHQUFBeEQsS0FBQTJyQixNQUVBaFgsR0FBQThvQix3QkFBQSxTQUFBM0gsUUFDQSxPQUFBLElBQUEzeUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBdVIsR0FBQStXLGVBSUFob0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBNE4sR0FBQTBaLGFBQUEsU0FBQXJ1QixNQUNBLEdBQUFBLEtBQUFzRyxRQUNBcU8sR0FBQTRvQixRQUFBZixVQUNBeDhCLEtBQUEsR0FBQTQ0QixZQUFBdkwsYUFBQXJnQixNQUNBaE4sS0FBQSxHQUFBNDRCLFlBQUFyTCxXQUFBdmdCLE1BQ0EySCxHQUFBNG9CLFFBQUExdUIsWUFBQTdPLEtBQUEsR0FBQWdFLE9BRUF2RixhQUFBeU4sTUFBQSx1Q0FDQWxNLEtBQUFvSCxPQUFBLEVBQUFwSCxLQUFBc0csT0FBQSxHQUNBcU8sR0FBQTRvQixRQUFBZixVQUNBeDhCLEtBQUEsR0FBQTQ0QixZQUFBdkwsYUFBQXJnQixNQUNBaE4sS0FBQSxHQUFBNDRCLFlBQUFyTCxXQUFBdmdCLE1BQ0EySCxHQUFBNG9CLFFBQUExdUIsWUFBQTdPLEtBQUEsR0FBQWdFLE9BSUEyUSxHQUFBaXBCLGVBQUEsU0FBQUMsSUFBQUMsS0FBQUMsS0FFQSxHQURBMThCLFFBQUFDLElBQUFxVCxHQUFBNG9CLFFBQUEsY0FDQSxHQUFBTSxLQUVBLEdBREFscEIsR0FBQTRvQixRQUFBWixNQUFBaG9CLEdBQUE0b0IsUUFBQXBRLFNBQUF4WSxHQUFBNG9CLFFBQUFmLFVBQ0FzQixNQUFBLEdBQUFBLEtBQ0EsR0FBQUEsS0FBQSxJQUNBci9CLGFBQUF5TixNQUFBLGtDQUNBLENBQ0EsSUFBQSt4QixjQUFBdHBCLEdBQUE0b0IsUUFBQVosTUFBQW1CLEtBQUEsSUFLQSxHQUpBejhCLFFBQUFDLElBQUEyOEIsY0FBQSxpQkFDQXRwQixHQUFBNG9CLFFBQUFaLE1BQUFob0IsR0FBQTRvQixRQUFBWixNQUFBc0IsY0FDQXRwQixHQUFBNG9CLFFBQUFkLGdCQUFBcUIsS0FFQUMsS0FBQSxHQUFBQSxJQUNBLEdBQUFBLElBQUEsSUFDQXQvQixhQUFBeU4sTUFBQSxrQ0FDQSxDQUNBLElBQUFneUIsU0FBQXZwQixHQUFBNG9CLFFBQUFaLE1BQUFvQixJQUFBLElBQ0ExOEIsUUFBQUMsSUFBQTQ4QixTQUFBLFlBQ0F2cEIsR0FBQTRvQixRQUFBWixNQUFBaG9CLEdBQUE0b0IsUUFBQVosTUFBQXVCLFNBQ0F2cEIsR0FBQTRvQixRQUFBYixRQUFBcUIsV0FNQXQvQixhQUFBeU4sTUFBQSwwQkFJQXlJLEdBQUE0cEIsZUFBQSxTQUFBditCLE1BQ0EyVSxHQUFBdW5CLGFBQUEvMEIsS0FBQW5ILE1BQ0EyVSxHQUFBNG9CLFFBQUEsQ0FDQXBRLFNBQUEsRUFDQXNQLGdCQUFBLEVBQ0FDLFFBQUEsRUFDQUYsVUFBQSxFQUNBM3RCLFlBQUEsR0FDQTh0QixNQUFBLEdBRUFob0IsR0FBQTZwQixjQUFBLElBRUE3cEIsR0FBQThwQixrQkFBQSxTQUFBNWMsT0FDQWxOLEdBQUF1bkIsYUFBQTkwQixPQUFBeWEsTUFBQSxJQUVBbE4sR0FBQStwQixjQUFBLFNBQUExK0IsTUFDQSxHQUFBQSxLQUFBK0QsT0FFQSxHQUFBL0QsS0FBQTZ4QixLQUVBLEdBQUE3eEIsS0FBQXE4QixRQUVBLEdBQUFyOEIsS0FBQXM4QixtQkFFQSxHQUFBdDhCLEtBQUF1OEIsa0JBRUEsR0FBQTVuQixHQUFBdW5CLGFBQUE1MUIsT0FBQSxFQUFBLENBQ0EsSUFBQXE0QixZQUFBLENBQ0E1NkIsT0FBQS9ELEtBQUErRCxPQUNBOHRCLEtBQUFSLE9BQUFyeEIsS0FBQTZ4QixNQUFBM1gsU0FDQW1pQixRQUFBaEwsT0FBQXJ4QixLQUFBcThCLFNBQUFuaUIsU0FDQTBrQixpQkFBQTUrQixLQUFBbzhCLFVBQ0FFLG1CQUFBdDhCLEtBQUFzOEIsbUJBQ0FDLGtCQUFBdjhCLEtBQUF1OEIsa0JBQ0F2MkIsTUFBQTJPLEdBQUF1bkIsY0FHQXAyQixXQUNBNDRCLGNBQUFDLGFBQ0FwN0IsS0FBQSxTQUFBQyxNQUVBLE9BREEvRSxhQUFBb0ksUUFBQSxnQ0FDQWYsV0FBQW8zQixzQkFBQWw5QixLQUFBbzhCLGFBRUE3NEIsS0FBQTQ1QixnQkFDQXo1QixNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQUEsd0JBQ0E3SyxRQUFBQyxJQUFBeUYsVUFHQXRJLGFBQUF5TixNQUFBLGlDQXhCQXpOLGFBQUF5TixNQUFBLHdDQUZBek4sYUFBQXlOLE1BQUEsMENBRkF6TixhQUFBeU4sTUFBQSwrQkFGQXpOLGFBQUF5TixNQUFBLDJCQUZBek4sYUFBQXlOLE1BQUEseUJBbUNBNGMsT0FBQStWLFlBQUEsU0FBQXZVLE1BQ0EsT0FBQWpzQixVQUFBaXNCLFNBQUFBLEtBQUEsU0FBQSxNQTNMQSxHQ0FBLFdBQ0FqdUIsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxrQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTY1QixhQUNBbnlCLFdBQ0FySCxhQUNBd3FCLE1BQ0ExcUIsUUFDQUQsb0JBQ0FvdkMsVUFDQUMsYUFFQSxJQUFBaDVCLEdBQUE3VSxLQUNBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFDQXVwQixZQUFBMWpCLGFBQ0E5RixTQUVBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUVBeVYsR0FBQW5WLE9BQUEsV0FDQUEsVUFFQW1WLEdBQUFpNUIsUUFBQTNWLGFBQUFuMkIsR0FDQTZTLEdBQUFrNUIsWUFBQSxHQUNBbDVCLEdBQUFtNUIsZUFBQSxHQUVBaGxCLE9BQUFvTCxZQUFBLEVBQ0FwTCxPQUFBaWxCLGFBQUEsRUFFQXA1QixHQUFBcTVCLGVBQUEsV0FDQWxvQyxXQUFBckUsYUFBQWtULEdBQUFpNUIsU0FBQXJxQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBczVCLFVBQUF6cUMsS0FBQXhELEtBQ0EyVSxHQUFBdTVCLFdBQUExcUMsS0FBQXhELEtBQUFtdUMsYUFBQXpuQyxJQUFBLFNBQUFDLEVBQUE0SCxHQUVBLE9BREE1SCxFQUFBeW5DLE9BQUEsSUFBQTcvQixFQUNBNUgsSUFFQWdPLEdBQUEwNUIsV0FBQTE1QixHQUFBczVCLFVBQUFLLFNBQUFob0MsT0FDQXdpQixPQUFBeWxCLGNBQUE1NUIsR0FBQXM1QixVQUFBSyxTQUFBOTBCLFVBQ0FzUCxPQUFBMGxCLGdCQUFBNzVCLEdBQUFzNUIsVUFBQVEsY0FBQWoxQixVQUVBN0UsR0FBQSs1QixZQUFBNWxCLE9BQUF5bEIsY0FBQXh0QyxNQUFBLEVBQUEsR0FDQTRULEdBQUFnNkIsY0FBQTdsQixPQUFBMGxCLGdCQUFBenRDLE1BQUEsRUFBQSxHQUNBZ29CLFNBQUEsV0FDQXdCLEVBQUEsZUFBQTJLLFdBQUEsQ0FDQWx2QixNQUFBMk8sR0FBQTA1QixXQUNBbFosWUFBQXJNLE9BQUFpbEIsYUFDQTNZLFNBQUEsY0FDQUMsZUFBQSxJQUNBQyxVQUFBLEVBQ0FwQixZQUFBLEVBQ0FxQixZQUFBLFNBQUF0ckIsS0FBQStXLE9BQ0FBLE1BQUF0UCxpQkE2QkEsU0FBQXpILE1BQ0EsSUFBQTJrQyxVQUFBajZCLEdBQUFzNUIsVUFBQUssU0FBQXZ0QyxPQUNBa0osS0FBQSxHQUFBNmUsT0FBQWlsQixhQUNBOWpDLEtBQUE2ZSxPQUFBaWxCLGNBRUFwNUIsR0FBQSs1QixZQUFBRSxVQUVBOWxCLE9BQUFrQixTQW5DQTZrQixDQUFBNWtDLFNBR0FzZ0IsRUFBQSx1QkFBQTJLLFdBQUEsQ0FDQWx2QixNQUFBMk8sR0FBQXM1QixVQUFBUSxjQUFBbm9DLE9BQ0E2dUIsWUFBQSxFQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBcEIsWUFBQSxFQUNBcUIsWUFBQSxTQUFBdHJCLEtBQUErVyxPQUNBQSxNQUFBdFAsaUJBMEJBLFNBQUF6SCxNQUNBLElBQUEya0MsVUFBQWo2QixHQUFBczVCLFVBQUFRLGNBQUExdEMsTUFDQSxHQUFBa0osS0FBQSxHQUNBLEVBQUFBLE1BRUEwSyxHQUFBZzZCLGNBQUFDLFVBRUE5bEIsT0FBQWtCLFNBaENBOGtCLENBQUE3a0MsV0FJQTBLLEdBQUFzNUIsVUFBQXJkLFlBQUFqYyxHQUFBczVCLFVBQUFyZCxXQUFBdHFCLFFBQ0FxTyxHQUFBczVCLFVBQUFyZCxXQUFBbHFCLElBQUEsU0FBQUMsR0FDQSxhQUFBQSxFQUFBcVAsVUFBQSxhQUFBclAsRUFBQXFQLFNBQ0FyQixHQUFBazVCLFlBQUExbUMsS0FBQVIsR0FFQWdPLEdBQUFtNUIsZUFBQTNtQyxLQUFBUixRQTBCQWdPLEdBQUFxNUIsaUJBR0FyNUIsR0FBQW82QixZQUFBLFNBQUF6cUMsU0FDQWpELFFBQUFDLElBQUEsWUFBQWdELFNBQ0EsSUFBQTBxQyxTQUFBMXFDLFFBQUFvSyxRQUFBLFNBQUEsVUFHQSxHQUZBck4sUUFBQUMsSUFBQSxZQUFBMHRDLFVBRUFod0MsTUFBQXNGLFFBQ0E3RixhQUFBeU4sTUFBQSwyQkFDQSxDQUNBLElBQUEraUMsV0FBQSxDQUFBM3FDLFFBQUFBLFNBQ0F3QixXQUNBb3BDLG9CQUFBdjZCLEdBQUFpNUIsUUFBQXFCLFlBQ0ExckMsS0FBQSxTQUFBQyxNQUNBbkMsUUFBQUMsSUFBQSxPQUFBa0MsTUFDQW1SLEdBQUFxNUIsaUJBQ0F6akIsRUFBQSxnQkFBQTdpQixJQUFBLElBQ0FqSixhQUFBb0ksUUFBQSxrQ0FFQW5ELE1BQUEsU0FBQXFELEdBQ0F0SSxhQUFBeU4sTUFBQSwrQkFLQTRjLE9BQUFxbUIsdUJBQUEsV0FDQWo1QixNQUFBLGVBSUF2QixHQUFBeTZCLGFBQUEsU0FBQXhiLE1BQ0F2eUIsUUFBQUMsSUFBQSxPQUFBc3lCLE1BRUEsSUFBQXliLEtBQUEsSUFBQUMsS0FBQSxDQUFBMWIsTUFBQSxDQUFBcHVCLEtBQUFvdUIsS0FBQTVkLFdBQ0EzVSxRQUFBQyxJQUFBLE9BQUErdEMsTUFDQUUsT0FBQUYsS0FBQXpiLEtBQUE0YixnQkFHQTFtQixPQUFBMm1CLFlBQUEsV0FDQTNwQyxXQUNBNHBDLHdCQUFBLzZCLEdBQUFpNUIsU0FDQXJxQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBcTVCLGlCQUNBempCLEVBQUEsaUJBQUF1RyxNQUFBLFFBQ0FyeUIsYUFBQW9JLFFBQUEsOEJBRUFuRCxNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQUEsOEJBSUE0YyxPQUFBNm1CLG9CQUFBLFNBQUFyckMsUUFBQXNyQyxZQUNBdnVDLFFBQUFDLElBQUFnRCxTQUNBakQsUUFBQUMsSUFBQXN1QyxZQUNBLElBQUFDLFdBQUEsQ0FBQXZyQyxRQUFBQSxRQUFBd3JDLE9BQUFGLFlBQ0E5cEMsV0FDQWlxQyxvQkFBQXA3QixHQUFBaTVCLFFBQUFpQyxZQUNBdHNDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFxNUIsaUJBQ0F6akIsRUFBQSwwQkFBQXVHLE1BQUEsUUFDQXJ5QixhQUFBb0ksUUFBQSx1Q0FFQW5ELE1BQUEsU0FBQXFELEdBQ0F0SSxhQUFBeU4sTUFDQSx3REFNQXlJLEdBQUFxN0IsV0FBQSxpQ0FDQWxuQixPQUFBbW5CLFVBQUEsMkJBQ0FubkIsT0FBQW9uQixVQUFBLDRDQUNBcG5CLE9BQUFxbkIsUUFBQSxnQ0FDQXJuQixPQUFBc25CLFFBQUEsb0RBRUF6N0IsR0FBQTA3QixnQkFBQSxXQUNBOWxCLEVBQUEsdUJBQUF1RyxNQUFBLFNBRUFuYyxHQUFBMjdCLGFBQUEsZ0JBQ0EzN0IsR0FBQTQ3QixVQUFBLENBQ0FDLFFBQUEsRUFDQXQyQixPQUFBLE1BQ0FtTixJQUFBLFlBQ0FvcEIsS0FBQSxRQUNBQyxPQUFBLEdBSUEvN0IsR0FBQWc4QixTQUFBLENBQ0FDLFNBQUEsU0FBQUMsSUFBQXZoQyxNQUFBdzlCLFFBQ0FhLFlBQUExN0IsU0FBQTNDLFNBSUFxRixHQUFBbThCLG9CQUFBLEtBRUEsSUFBQTd5QixRQUFBMHZCLFlBQUF6NkIsV0E2Q0EsU0FBQTY5QixvQkFBQW5oQyxVQUNBLE9BQUEsSUFBQXpNLFFBQUEsU0FBQUMsUUFBQUMsUUFFQSxHQUFBdU0sU0FBQSxDQUNBLElBQUFvaEMsVUFBQXJELFlBQUF4N0IsaUJBQ0E4K0IsTUFBQUQsV0FDQXp0QyxLQUFBLFNBQUFpdUIsS0FBQSxPQUFBQSxJQUFBNmQsU0FDQTlyQyxLQUFBLFNBQUE4ckMsTUFDQSxJQUFBbm5DLEtBQUEsSUFBQWdwQyxLQUFBLENBQUE3QixNQUFBLGNBQ0F6L0IsU0FBQTRaLFFBQUF0aEIsS0FDQTBILFNBQUFFLFlBQUE2OUIsWUFBQXY3QixZQUNBaFAsUUFBQSxhQUdBQSxRQUFBLFFBekRBdVIsR0FBQXNKLFFBQUEsU0FBQXBWLFFBQ0FvVixRQUFBcFYsV0FHQThMLEdBQUF3OEIsZ0JBQUEsU0FBQTNnQyxPQUNBQSxRQUlBeU4sUUFBQTVSLFFBQ0Ewa0Msb0JBQUFwOEIsR0FBQW04QixxQkFDQXZ0QyxLQUFBLFNBQUErSyxHQUVBLElBQUEwTixXQUFBLEdBQ0EsR0FBQXhMLE1BQUE5RixNQUFBLElBQUEsQ0FDQSxJQUFBd2QsT0FBQSxJQUFBMVgsTUFBQTlGLE1BQ0FzUixXQUFBdlIsT0FBQStGLE1BQUEvRixPQUFBeWQsT0FDQWxNLFdBQUF0UixNQUFBLFNBRUFzUixXQUFBLENBQ0F2UixPQUFBK0YsTUFBQS9GLE9BQ0FDLE1BQUE4RixNQUFBOUYsT0FJQWlqQyxZQUFBbCtCLEtBQUEsY0FBQXVNLFdBQUF4TCxPQUNBbUUsR0FBQXU1QixXQUFBNWxDLFFBQUEsU0FBQTNCLEdBQ0FBLEVBQUExQixNQUFBdUwsTUFBQXZMLElBQ0EwQixFQUFBeW5DLFFBQUEsRUFFQXpuQyxFQUFBeW5DLFFBQUEsSUFHQXo1QixHQUFBbThCLG9CQUFBdGdDLE1BQ0F1WSxTQUFBLFdBQ0FELE9BQUFrQixhQUdBdG1CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0F1QkE0TixHQUFBeThCLG1CQUFBLFdBQ0F6RCxZQUFBNTdCLFNBQUEsV0FHQTRDLEdBQUEwOEIsaUJBQUEsV0FDQTFELFlBQUE1N0IsU0FBQSxTQUdBNEMsR0FBQTI4QixtQkFBQSxXQUNBM0QsWUFBQTU3QixTQUFBLFdBR0E0QyxHQUFBNDhCLFdBQUEsRUFDQTU4QixHQUFBNjhCLGlCQUFBLFNBQUF0a0MsTUFDQTdMLFFBQUFDLElBQUEsVUFBQXFULEdBQUE0OEIsVUFBQXJrQyxNQUNBeUgsR0FBQTQ4QixXQUFBcmtDLE9BQ0F5Z0MsWUFBQTc1QixVQUFBNUcsTUFDQXlILEdBQUE4OEIsV0FBQSxJQUVBOThCLEdBQUE0OEIsV0FBQTU4QixHQUFBNDhCLFdBR0F6b0IsT0FBQXliLElBQUEsY0FBQSxTQUFBeDlCLEdBQ0FncUMsb0JBQUFwOEIsR0FBQW04Qix1QkFHQW44QixHQUFBKzhCLGtCQUFBLFNBQUE1MEIsVUFDQXlOLEVBQUEscUNBQUF1RyxNQUFBLFFBQ0EsSUFBQWx4QixRQUFBa2QsU0FBQWxjLE9BQ0EsU0FBQUMsSUFBQThGLEdBQ0EsR0FBQUEsRUFBQW1KLFlBQUEsQ0FDQSxJQUFBNmhDLFNBQUEsQ0FDQWxyQyxRQUFBRSxFQUFBMUIsSUFDQTJzQyxlQUFBanJDLEVBQUFtSixhQUVBalAsSUFBQTh3QyxTQUFBeHFDLEtBQUF3cUMsVUFFQTl3QyxJQUFBdUgsTUFBQWpCLEtBQUFSLEVBQUE2aUIsU0FHQSxPQUFBM29CLEtBRUEsQ0FBQTh3QyxTQUFBLEdBQUF2cEMsTUFBQSxLQUVBdEMsV0FDQStyQyxrQkFBQWp5QyxTQUNBMkQsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFNBQ0E2TixHQUFBcTVCLG1CQUVBdHFDLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFJQTROLEdBQUFtOUIsV0FBQSxXQUNBdm5CLEVBQUEsdUJBQUF1RyxNQUFBLFdBbFVBLEdDQUEsV0FDQXowQixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGFBRUEsU0FDQTZxQixPQUNBMVosV0FDQTJaLFNBQ0FDLFlBQ0E1cUIsT0FDQU0sR0FDQW9ILFdBQ0FySCxhQUNBRixRQUNBa1csbUJBQ0FqVyxPQUNBRixvQkFDQWtXLGNBQ0FtNUIsYUFFQSxJQUFBaDVCLEdBQUE3VSxLQUNBNlUsR0FBQW85QixRQUZBLElBR0F2eUMsT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQUErTixVQUFBalAsUUFBQWtPLGFBQUFsTyxRQUFBaVAsVUErQkEsR0E5QkFtSCxHQUFBcTlCLFlBQUEsR0FDQXI5QixHQUFBczVCLFVBQUEsR0FDQW5sQixPQUFBbXBCLFdBQUEsR0FDQW5wQixPQUFBNWdCLEtBQ0E0Z0IsT0FBQXhrQixRQUFBLEdBRUF3a0IsT0FBQW9wQixVQUFBLEVBQ0FwcEIsT0FBQXFwQixjQUFBLEdBQ0FycEIsT0FBQXNwQixlQUFBLEVBQ0F0cEIsT0FBQXVwQixZQUFBLEVBQ0F2cEIsT0FBQXdwQixVQUFBLEdBQ0F4cEIsT0FBQXlwQixVQUFBLEdBQ0E1OUIsR0FBQXU1QixXQUFBLEdBQ0F2NUIsR0FBQTY5QixVQUFBLEdBRUExcEIsT0FBQTJwQixlQUFBLEVBQ0EzcEIsT0FBQTRwQixlQUFBLEVBRUE1cEIsT0FBQTZwQixVQUFBLFVBQ0E3cEIsT0FBQThwQixVQUNBOXBCLE9BQUErcEIsU0FDQS9wQixPQUFBZ3FCLFVBQUEsY0FDQWhxQixPQUFBaXFCLFVBQUEsRUFDQWpxQixPQUFBMWUsT0FBQUMsU0FBQTZSLGVBQUEsZUFDQXZILEdBQUFxN0IsV0FBQSxpQ0FDQWxuQixPQUFBbW5CLFVBQUEsMkJBQ0FubkIsT0FBQW9uQixVQUFBLDRDQUNBcG5CLE9BQUFxbkIsUUFBQSxnQ0FDQXJuQixPQUFBc25CLFFBQUEscURBRUFwbkIsWUFBQTFqQixZQUVBLFlBREE5RixTQUtBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUVBeVYsR0FBQW5WLE9BQUEsV0FDQUEsVUFHQW1WLEdBQUErYixTQUFBLEdBQ0EvYixHQUFBZ2MsVUFBQSxHQUNBaGMsR0FBQWtjLFdBQUEsR0FDQWxjLEdBQUExTCxZQUFBLEdBR0FzaEIsRUFBQSxlQUFBRSxZQUNBM0IsT0FBQW1MLGdCQUFBLEVBRUF0ZixHQUFBdWYsWUFBQSxFQUVBdmYsR0FBQXdmLFVBQUEsQ0FDQTZlLFlBQUEsQ0FDQS9WLFdBQUEsRUFDQXR1QixPQUFBLEVBQ0FFLGFBQUEsRUFDQTB5QixhQUFBLEVBQ0E5TSxTQUFBLElBR0E5ZixHQUFBL0gsV0FBQSxHQUNBK0gsR0FBQXMrQixXQUFBLFNBQUF6dEMsS0FBQW12QixlQUVBMzFCLElBQUEyVixHQUFBd2YsVUFBQVEsVUFBQW52QixNQUNBbVAsR0FBQXdmLFVBQUFRLFVBQUFudkIsT0FBQSxFQUNBbVAsR0FBQXdmLFVBQUFRLFVBQUFudkIsT0FBQW1QLEdBQUF3ZixVQUFBUSxVQUFBbnZCLE1BQ0FNLFdBQ0FvdEMsY0FBQSxDQUNBanBDLEtBQUEsRUFDQW1jLE1BQUEsR0FDQXdPLEtBQUEsVUFDQUMsT0FBQWxnQixHQUFBL0gsV0FDQWtvQixVQUFBLElBRUF2eEIsS0FBQSxTQUFBQyxNQUdBbVIsR0FBQXcrQixVQUFBM3ZDLEtBQUF4RCxLQUFBMnJCLEtBQ0F0cUIsUUFBQUMsSUFBQSxhQUFBcVQsR0FBQXcrQixXQUNBeCtCLEdBQUF5K0IsV0FBQTV2QyxLQUFBeEQsS0FBQWkxQixNQUNBbE0sU0FBQSxXQUNBRCxPQUFBMnBCLGVBQUEsRUFDQWxvQixFQUFBLGVBQUEySyxXQUFBLENBQ0FsdkIsTUFBQTJPLEdBQUF5K0IsV0FDQWplLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXBCLFlBQUEsRUFDQXFCLFlBQUEsU0FBQXRyQixLQUFBK1csT0FDQUEsTUFBQXRQLGlCQUNBNUwsV0FDQW90QyxjQUFBLENBQ0FqcEMsS0FBQUEsS0FDQW1jLE1BQUEsR0FDQXdPLEtBQUFwdkIsS0FDQXN2QixTQUFBbmdCLEdBQUF3ZixVQUFBM3VCLFFBRUFqQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBdytCLFVBQUEzdkMsS0FBQXhELEtBQUEyckIsT0FFQWpvQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLFFBSUF3akIsRUFBQSwyQkFBQXJkLEtBQUEsTUFDQXFkLEVBQUEsMkJBQUFyZCxLQUFBLFVBR0F4SixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BSUEsSUFBQXl1QixlQUFBaG9CLFNBQUEsS0E4Y0EsU0FBQTZsQyxxQkFBQTd2QyxNQUNBbVIsR0FBQXU1QixXQUFBMXFDLEtBQUFrRCxJQUFBLFNBQUFDLEVBQUE0SCxHQUdBLE9BRkE1SCxFQUFBeW5DLE9BQUEsSUFBQTcvQixFQUNBNUgsRUFBQW1KLFlBQUEsS0FDQW5KLElBamRBZ08sR0FBQTIrQixhQUFBLFNBQUFwbUMsTUFLQXNvQixlQUNBLFdBQ0ExdkIsV0FDQW90QyxjQUFBLENBQ0FqcEMsS0FBQSxFQUNBbWMsTUFBQSxHQUNBeU8sT0FBQTNuQixLQUNBMG5CLEtBQUEsVUFDQUUsVUFBQSxJQUVBdnhCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF3K0IsVUFBQTN2QyxLQUFBeEQsS0FBQTJyQixLQUNBaFgsR0FBQXkrQixXQUFBNXZDLEtBQUF4RCxLQUFBaTFCLE1BRUFsTSxTQUFBLFdBQ0FELE9BQUEycEIsZUFBQSxFQUNBbG9CLEVBQUEsV0FBQTJLLFdBQUEsQ0FDQWx2QixNQUFBMk8sR0FBQXkrQixXQUNBamUsWUFBQSxHQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBcEIsWUFBQSxFQUVBcUIsWUFBQSxTQUFBdHJCLEtBQUErVyxPQUNBQSxNQUFBdFAsaUJBQ0E1TCxXQUNBb3RDLGNBQUEsQ0FDQWpwQyxLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBc3ZCLFNBQUFuZ0IsR0FBQXdmLFVBQUFRLFVBQUFudkIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF3K0IsVUFBQTN2QyxLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFHQSxDQUFBbUcsUUFLQXlILEdBQUFzK0IsV0FBQSxVQUFBLGVBRUF0K0IsR0FBQStnQixVQUFBLENBQ0FDLFFBQUEsRUFDQWpOLE1BQUEsRUFDQTRNLFVBQUEsRUFDQU0sV0FBQSxHQUtBOU0sT0FBQXlxQixjQUFBLENBQUEsU0FBQSxVQUFBLFNBRUF6dEMsV0FBQXhGLGVBQUFpRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBNitCLFNBQUFod0MsS0FBQXhELEtBQUEyckIsT0FHQTdsQixXQUFBN0UsaUJBQUFzQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBOCtCLFdBQUFqd0MsS0FBQXhELEtBQUEyckIsT0FHQTdsQixXQUFBdkYsa0JBQUFnRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBKytCLFlBQUFsd0MsS0FBQXhELEtBQUEyckIsT0FHQTdsQixXQUFBNnRDLGdCQUFBcHdDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFpL0IsWUFBQXB3QyxLQUFBeEQsS0FBQTJyQixPQUdBaFgsR0FBQTBkLG1CQUFBLFNBQUFELFNBQUE1c0IsTUFDQXNqQixPQUFBd0osU0FBQTlzQixLQUNBc2pCLE9BQUF5SixVQUFBSCxVQUVBemQsR0FBQXl6QixlQUFBLFNBQUF2bUIsTUFBQTdoQixNQUNBLFNBQUE4b0IsT0FBQXdKLFVBQ0EzZCxHQUFBZ2MsVUFBQTlPLE9BQUFoVCxZQUFBN08sS0FFQXVxQixFQUFBLG9CQUFBMUksT0FBQXNsQixRQUFBLFdBRUF4eUIsR0FBQTFMLFlBQUE0WSxPQUFBaFQsWUFBQTdPLEtBRUF1cUIsRUFBQSxxQkFBQTFJLE9BQUFzbEIsUUFBQSxXQUlBeHlCLEdBQUFrL0IsVUFBQSxTQUFBenJDLE1BQUE0WSxNQUFBOFAsT0FDQXp2QixRQUFBQyxJQUFBcVQsR0FBQStiLFVBQ0EsSUFBQWxILFFBQUF4SSxNQUFBeFAsT0FBQXBKLE1BQ0F1TSxHQUFBb2MsVUFBQXJ3QixPQUFBQyxLQUFBNm9CLFNBQUE5aUIsSUFBQSxTQUFBQyxHQUFBLE9BQUE2aUIsUUFBQTdpQixHQUFBM0MsT0FDQTNILFFBQUFpTSxRQUFBRixNQUFBLFNBQUF6QixFQUFBa2IsT0FFQSxHQURBbGIsRUFBQWtJLFlBQUEsR0FDQSxTQUFBaWlCLE1BQ0EsR0FBQSxHQUFBbmMsR0FBQWdjLFVBQUFycUIsT0FDQXFPLEdBQUFnYyxVQUFBeHBCLEtBQUFSLE9BQ0EsQ0FDQSxJQUFBcXFCLGNBQUEsRUFDQTMwQixRQUFBaU0sUUFBQXFNLEdBQUFnYyxVQUFBLFNBQUEzZixHQUNBckssRUFBQTNDLE1BQUFnTixFQUFBaE4sT0FDQWd0QixjQUFBLEtBSUFBLGFBR0F2eUIsYUFBQXlOLE1BQUEsMkJBRkF5SSxHQUFBZ2MsVUFBQXhwQixLQUFBUixRQU1BLEdBQUEsR0FBQWdPLEdBQUExTCxZQUFBM0MsT0FDQSxRQUFBd0IsS0FBQW5CLEVBQUFuQixNQUNBbVAsR0FBQWdjLFVBQUF4cEIsS0FBQVIsR0FFQWdPLEdBQUExTCxZQUFBOUIsS0FBQVIsT0FFQSxDQUNBLElBQUFxcUIsZ0JBQUEsRUFDQTMwQixRQUFBaU0sUUFBQSxHQUFBNkYsT0FBQXdHLEdBQUExTCxZQUFBMEwsR0FBQWdjLFdBQUEsU0FDQTNmLEdBRUFySyxFQUFBM0MsTUFBQWdOLEVBQUFoTixPQUNBZ3RCLGdCQUFBLEtBSUFBLGVBT0F2eUIsYUFBQXlOLE1BQUEsMkJBTkEsUUFBQXBFLEtBQUFuQixFQUFBbkIsTUFDQW1QLEdBQUFnYyxVQUFBeHBCLEtBQUFSLEdBRUFnTyxHQUFBMUwsWUFBQTlCLEtBQUFSLE1BUUF0RixRQUFBQyxJQUFBcVQsR0FBQWdjLFlBR0FoYyxHQUFBd2QsV0FBQSxTQUFBQyxTQUFBNXNCLE1BQ0EsU0FBQUEsS0FDQW1QLEdBQUFnYyxVQUFBdnBCLE9BQUFnckIsU0FBQSxHQUVBemQsR0FBQTFMLFlBQUE3QixPQUFBZ3JCLFNBQUEsSUFJQXpkLEdBQUFtL0IsZ0JBQUEsV0FDQSxHQUFBbi9CLEdBQUFzNUIsVUFBQThGLFNBR0EsR0FBQXAvQixHQUFBczVCLFVBQUErRixXQUdBLEdBQUFyL0IsR0FBQXM1QixVQUFBZ0csTUFBQSxDQUlBbnJCLE9BQUE4SSxZQUFBLEdBQUF6akIsT0FBQXdHLEdBQUFnYyxVQUFBaGMsR0FBQTFMLGFBQ0E1SCxRQUFBQyxJQUFBd25CLE9BQUE4SSxhQUNBLElBQUFELFNBQUEsQ0FDQWhqQixNQUFBZ0csR0FBQXM1QixVQUFBdC9CLE1BQ0FFLFlBQUE4RixHQUFBczVCLFVBQUFwL0IsWUFDQTdNLFVBQUEyUyxHQUFBczVCLFVBQUFuMkIsUUFDQXk3QixjQUFBNStCLEdBQUFzNUIsVUFBQThGLFNBQ0FDLFdBQUFyL0IsR0FBQXM1QixVQUFBK0YsV0FDQUUsWUFBQXYvQixHQUFBczVCLFVBQUFpRyxZQUNBQyxRQUFBeC9CLEdBQUFzNUIsVUFBQWdHLE1BQ0FHLGFBQUF6L0IsR0FBQXM1QixVQUFBbUcsYUFDQUMsU0FBQTEvQixHQUFBczVCLFVBQUFvRyxTQUNBanNDLE1BQUEwZ0IsT0FBQThJLFlBQ0FoaUIsU0FBQWtaLE9BQUE4SSxZQUFBbHJCLElBQUEsU0FBQUMsRUFBQTRILEdBQ0EsTUFBQSxDQUNBZ3RCLGlCQUFBNTBCLEVBQUFrSSxnQkFJQS9JLFdBQ0EzRSxZQUFBd3dCLFVBQ0FwdUIsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFNBQ0F5akIsRUFBQSxnQkFBQUMsSUFBQSxVQUFBLFFBQ0FELEVBQUEsdUJBQUF1RyxNQUFBLFFBQ0FuYyxHQUFBK2IsU0FBQSxHQUNBL2IsR0FBQWdjLFVBQUEsR0FDQWhjLEdBQUFrYyxXQUFBLEdBQ0FsYyxHQUFBMUwsWUFBQSxHQUNBMEwsR0FBQXM1QixVQUFBLEdBQ0F0NUIsR0FBQTIvQixhQUFBOXdDLEtBQUF4RCxLQUFBQSxLQUNBMlUsR0FBQXdmLFVBQUE2ZSxZQUFBdE0sV0FBQSxJQUVBaGpDLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsVUFyQ0F0SSxhQUFBeU4sTUFBQSxrQ0FIQXpOLGFBQUF5TixNQUFBLG9DQUhBek4sYUFBQXlOLE1BQUEsaUNBZ0RBeUksR0FBQTQvQixtQkFBQSxTQUFBNWlCLFVBQ0EsSUFBQTZpQixZQUFBLEdBQ0F4MUMsTUFBQTJWLEdBQUE5UyxhQUNBUixRQUFBQyxJQUFBLDZCQUNBa3pDLFlBQUFDLE1BQUEzckIsT0FBQW1wQixXQUFBdGpDLE1BQ0E2bEMsWUFBQTNsQyxZQUFBaWEsT0FBQW1wQixXQUFBcGpDLFlBQ0EybEMsWUFBQUgsU0FBQXZyQixPQUFBbXBCLFdBQUFvQyxTQUNBRyxZQUFBTixZQUFBcHJCLE9BQUFtcEIsV0FBQWlDLGNBRUE3eUMsUUFBQUMsSUFBQSxnREFDQXRDLE1BQUEyVixHQUFBOVMsWUFBQThNLE1BQ0E2bEMsWUFBQUMsTUFBQTNyQixPQUFBbXBCLFdBQUF0akMsTUFFQTZsQyxZQUFBQyxNQUFBOS9CLEdBQUE5UyxZQUFBOE0sT0FNQWdHLEdBQUE0L0IsbUJBQUEsU0FBQTVpQixVQUNBLElBQUE2aUIsWUFBQSxHQUNBeDFDLE1BQUEyVixHQUFBOVMsYUFDQVIsUUFBQUMsSUFBQSw2QkFDQWt6QyxZQUFBQyxNQUFBM3JCLE9BQUFtcEIsV0FBQXRqQyxNQUNBNmxDLFlBQUEzbEMsWUFBQWlhLE9BQUFtcEIsV0FBQXBqQyxhQUVBMmxDLFlBQUEzbEMsWUFBQThGLEdBQUE5UyxZQUFBZ04sWUFFQTdQLE1BQUEyVixHQUFBOVMsWUFBQXd5QyxTQUNBRyxZQUFBSCxTQUFBdnJCLE9BQUFtcEIsV0FBQW9DLFNBRUFHLFlBQUFILFNBQUExL0IsR0FBQTlTLFlBQUF3eUMsU0FFQXIxQyxNQUFBMlYsR0FBQTlTLFlBQUFxeUMsWUFDQU0sWUFBQU4sWUFBQXByQixPQUFBbXBCLFdBQUFpQyxZQUVBTSxZQUFBTixZQUFBdi9CLEdBQUE5UyxZQUFBcXlDLGFBSUFwckIsT0FBQStILFdBQUF2cUIsT0FBQSxJQUNBa3VDLFlBQUFwc0MsTUFBQTBnQixPQUFBK0gsWUFFQS9ILE9BQUFxcEIsY0FBQTdyQyxPQUFBLElBQ0FqRixRQUFBQyxJQUFBLGtCQUFBd25CLE9BQUFxcEIsZUFDQXFDLFlBQUE5YSxhQUFBNVEsT0FBQXFwQixlQUVBOXdDLFFBQUFDLElBQUEsY0FBQWt6QyxhQUNBMXVDLFdBQ0FqRSxZQUFBMnlDLFlBQUExckIsT0FBQW1wQixXQUFBaHRDLEtBQ0ExQixLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQSx1Q0FDQWlpQixPQUFBK0gsV0FBQSxHQUNBL0gsT0FBQXFwQixjQUFBLEdBQ0FycEIsT0FBQXVwQixZQUFBLEVBQ0E5bkIsRUFBQSxnQkFBQXVHLE1BQUEsUUFDQW5jLEdBQUFzK0IsV0FBQSxVQUFBLGlCQUVBdnZDLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsR0FDQStoQixPQUFBK0gsV0FBQSxHQUNBL0gsT0FBQXFwQixjQUFBLEdBQ0FycEIsT0FBQXVwQixZQUFBLEVBQ0E1ekMsYUFBQXlOLE1BQUEsMkJBS0E0YyxPQUFBNHJCLFFBQUEsU0FBQUMsU0FDQSxJQUFBem1CLE9BQUE3akIsU0FBQTZSLGVBQUEsUUFDQWdTLE9BQUF4ZCxJQUFBa2tDLElBQUFDLGdCQUFBRixVQUdBN3JCLE9BQUFnc0IsVUFBQSxTQUFBanpCLE1BQUE5TSxPQUNBQSxNQUFBM04sT0FBQXlhLE1BQUEsSUFHQWxOLEdBQUFvZ0MsV0FBQSxHQUVBeHFCLEVBQUEsaUJBQUE1WixHQUFBLGtCQUFBLFNBQUE1SixHQUNBd2pCLEVBQUF6cUIsTUFBQWsxQyxXQUFBLFlBQ0F6cUIsRUFBQSx5QkFBQTBxQixHQUFBLFlBQ0E1ekMsUUFBQUMsSUFBQSxrQkFFQUQsUUFBQUMsSUFBQSxtQkFDQWlwQixFQUFBenFCLE1BQUFneEIsTUFBQSxXQUlBaEksT0FBQW9zQixtQkFBQSxXQUdBcHZDLFdBQ0EvRCxvQkFIQSw0QkFJQXdCLEtBQUEsU0FBQUMsTUFFQSxJQUFBMnhDLGFBQUEzeEMsS0FBQXhELEtBQUFBLEtBQ0EyVSxHQUFBNHVCLGdCQUFBNFIsYUFDQTl6QyxRQUFBQyxJQUFBLGVBQUFxVCxHQUFBNHVCLGlCQUNBaFosRUFBQSxpQkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEseUJBQUF1RyxNQUFBLFVBRUFwdEIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUlBNE4sR0FBQXlnQyxlQUFBLFNBQUFqckIsTUFDQXhWLEdBQUF1NUIsV0FBQS9tQyxLQUFBZ2pCLEtBQUF2YSxXQUlBK0UsR0FBQTBnQyxnQkFBQSxTQUFBbHJCLE1BQ0F4VixHQUFBdTVCLFdBQUEvbUMsS0FBQWdqQixPQUlBckIsT0FBQXdzQixhQUFBLFNBQUFDLFVBQ0FockIsRUFBQSx5QkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsaUJBQUF1RyxNQUFBLFFBQ0F6dkIsUUFBQUMsSUFBQSxrQkFBQXFULEdBQUF1NUIsWUFDQXFILFNBQUF4MEMsT0FBQSxHQUVBd3BCLEVBQUEsaUJBQ0FpckIsU0FBQSxTQUNBUixhQUNBenFCLEVBQUEsaUJBQUFpckIsU0FBQTdnQyxHQUFBdTVCLGFBR0FwbEIsT0FBQTJzQixVQUFBLFNBQUFDLE9BQ0FuckIsRUFBQSxnQkFBQXVHLFFBQ0FoSSxPQUFBbXBCLFdBQUF5RCxNQUVBNXNCLE9BQUEyckIsTUFBQTNyQixPQUFBbXBCLFdBQUF0akMsTUFDQW1hLE9BQUE2c0IsWUFBQTdzQixPQUFBbXBCLFdBQUFwakMsWUFFQWlhLE9BQUE4c0IsYUFBQSxJQUFBdHNDLEtBQUF3ZixPQUFBbXBCLFdBQUFvQyxVQUNBaHFDLFNBQUE2UixlQUFBLFlBQUEyNUIsYUFBQS9zQixPQUFBOHNCLGFBQ0E5c0IsT0FBQWd0QixJQUFBaHRCLE9BQUE4c0IsYUFBQUcsVUFBQSxFQUVBanRCLE9BQUFrdEIsTUFBQWx0QixPQUFBOHNCLGFBQUFLLFdBQUEsRUFFQW50QixPQUFBb3RCLEtBQUFwdEIsT0FBQThzQixhQUFBTyxjQUVBcnRCLE9BQUFzdEIsYUFBQXR0QixPQUFBa3RCLE1BQUEsSUFBQWx0QixPQUFBZ3RCLElBQUEsSUFBQWh0QixPQUFBb3RCLEtBRUFwdEIsT0FBQXV0QixPQUFBdnRCLE9BQUFtcEIsV0FBQWlDLGFBR0FwckIsT0FBQXd0QixnQkFBQSxTQUFBcHVDLEtBQUE1RCxTQUNBd2tCLE9BQUErSCxXQUFBMXBCLEtBQUEsQ0FBQWUsS0FBQUEsS0FBQTVELFFBQUFBLFVBQ0F3a0IsT0FBQTVnQixLQUFBLEdBQ0E0Z0IsT0FBQXhrQixRQUFBLElBR0F3a0IsT0FBQXl0QixjQUFBLFNBQUFDLFdBQ0ExdEIsT0FBQXVwQixZQUFBLEVBQ0F2cEIsT0FBQW9wQixVQUFBLEdBR0FwcEIsT0FBQTJ0QixZQUFBLFNBQUE1MEIsTUFBQTlNLE1BQUEyaEMsU0FDQTNoQyxNQUFBM04sT0FBQXlhLE1BQUEsR0FDQWlILE9BQUFxcEIsY0FBQWhyQyxLQUFBdXZDLFVBRUEvaEMsR0FBQWdpQyxnQkFBQSxXQUNBN3RCLE9BQUF1cEIsWUFBQSxHQUdBdnBCLE9BQUE4dEIsYUFBQSxXQUNBOXRCLE9BQUFvcEIsVUFBQSxHQUVBcHBCLE9BQUErdEIsY0FBQSxXQUNBL3RCLE9BQUFvcEIsVUFBQSxHQUdBcHBCLE9BQUFndUIsYUFBQSw2Q0FDQWh1QixPQUFBaXVCLGFBQUEsU0FBQUMsUUFDQTMxQyxRQUFBQyxJQUFBLFNBQUEwMUMsUUFDQWx1QixPQUFBZ3VCLGFBQUEsS0FBQUUsUUFJQXpzQixFQUFBLGlCQUFBNVosR0FBQSxpQkFBQSxTQUFBNUosR0FDQXdqQixFQUFBLGlCQUFBeU8sV0FBQSxDQUNBQyxVQUFBLFFBQ0FDLFlBQUEsRUFDQUMsZUFBQSxFQUNBQyxXQUFBLEVBQ0FDLFVBQUEsSUFDQUMsV0FBQSxNQUtBM2tCLEdBQUFzaUMsY0FBQSxHQUVBbnVCLE9BQUFvdUIsa0JBQUEsU0FBQTl1QyxNQUFBa3NDLGNBQ0EsR0FBQWxzQyxNQUFBLENBQ0EsSUFBQXhJLFFBQUEsQ0FDQXdJLE1BQUFBLE1BRUF3bEMsUUFBQTBHLGFBQUFydkMsS0FFQWEsV0FDQXF4QyxvQkFBQXYzQyxTQUNBMkQsS0FBQSxTQUFBQyxNQUNBLE9BQUFBLEtBQUF4RCxLQUFBQSxPQUVBdUQsS0FBQTh2QyxzQkFDQTN2QyxNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQ0EsMkRBUUF6TixhQUFBeU4sTUFBQSx1QkFPQXlJLEdBQUF5aUMsWUFBQSxTQUFBdDFDLElBQ0EsSUFBQStmLE1BQUFsTixHQUFBdTVCLFdBQUE5TCxVQUFBLFNBQUF6N0IsR0FDQSxPQUFBQSxFQUFBMUIsS0FBQW5ELEtBRUE2UyxHQUFBdTVCLFdBQUE5bUMsT0FBQXlhLE1BQUEsSUFjQTBJLEVBQUFsZ0IsVUFBQXNHLEdBQUEsUUFBQSxnQkFBQSxTQUFBNUosTUFVQTROLEdBQUFtOEIsb0JBQUEsS0FFQSxJQUFBN3lCLFFBQUEwdkIsWUFBQXo2QixXQW1DQSxTQUFBNjlCLG9CQUFBbmhDLFVBQ0EsT0FBQSxJQUFBek0sUUFBQSxTQUFBQyxRQUFBQyxRQUVBLEdBQUF1TSxTQUFBLENBQ0EsSUFBQW9oQyxVQUFBckQsWUFBQXg3QixpQkFDQTgrQixNQUFBRCxXQUNBenRDLEtBQUEsU0FBQWl1QixLQUFBLE9BQUFBLElBQUE2ZCxTQUNBOXJDLEtBQUEsU0FBQThyQyxNQUNBLElBQUFubkMsS0FBQSxJQUFBZ3BDLEtBQUEsQ0FBQTdCLE1BQUEsY0FDQXovQixTQUFBNFosUUFBQXRoQixLQUNBMEgsU0FBQUUsWUFBQTY5QixZQUFBdjdCLFlBQ0EvUSxRQUFBQyxJQUFBLGlCQUNBOEIsUUFBQSxhQUdBQSxRQUFBLFFBaERBdVIsR0FBQXNKLFFBQUEsU0FBQXBWLFFBQ0FvVixRQUFBcFYsV0FHQThMLEdBQUF3OEIsZ0JBQUEsU0FBQTNnQyxPQUVBeU4sUUFBQTVSLFFBQ0Ewa0Msb0JBQUFwOEIsR0FBQW04QixxQkFBQXZ0QyxLQUFBLFNBQUErSyxHQUVBLElBQUEwTixXQUFBLEdBQ0EsR0FBQXhMLE1BQUE5RixNQUFBLElBQUEsQ0FDQSxJQUFBd2QsT0FBQSxJQUFBMVgsTUFBQTlGLE1BQ0FzUixXQUFBdlIsT0FBQStGLE1BQUEvRixPQUFBeWQsT0FDQWxNLFdBQUF0UixNQUFBLFNBRUFzUixXQUFBLENBQ0F2UixPQUFBK0YsTUFBQS9GLE9BQ0FDLE1BQUE4RixNQUFBOUYsT0FJQWlqQyxZQUFBbCtCLEtBQUEsY0FBQXVNLFdBQUF4TCxPQUNBbUUsR0FBQXU1QixXQUFBNWxDLFFBQUEsU0FBQTNCLEdBQ0FBLEVBQUExQixNQUFBdUwsTUFBQXZMLElBQ0EwQixFQUFBeW5DLFFBQUEsRUFFQXpuQyxFQUFBeW5DLFFBQUEsSUFHQXo1QixHQUFBbThCLG9CQUFBdGdDLFNBd0JBbUUsR0FBQXk4QixtQkFBQSxXQUNBekQsWUFBQTU3QixTQUFBLFdBR0E0QyxHQUFBMDhCLGlCQUFBLFdBQ0ExRCxZQUFBNTdCLFNBQUEsU0FHQTRDLEdBQUEyOEIsbUJBQUEsV0FDQTNELFlBQUE1N0IsU0FBQSxXQUdBNEMsR0FBQTQ4QixXQUFBLEVBQ0E1OEIsR0FBQTY4QixpQkFBQSxTQUFBdGtDLE1BQ0E3TCxRQUFBQyxJQUFBLFVBQUFxVCxHQUFBNDhCLFVBQUFya0MsTUFDQXlILEdBQUE0OEIsV0FBQXJrQyxPQUNBeWdDLFlBQUE3NUIsVUFBQTVHLE1BQ0F5SCxHQUFBODhCLFdBQUEsSUFFQTk4QixHQUFBNDhCLFdBQUE1OEIsR0FBQTQ4QixXQUdBem9CLE9BQUF5YixJQUFBLGNBQUEsU0FBQXg5QixHQUNBZ3FDLG9CQUFBcDhCLEdBQUFtOEIsdUJBR0FuOEIsR0FBQTBpQyxhQUFBLFNBQUF2NkIsU0FBQXczQixjQUNBL3BCLEVBQUEscUNBQUF1RyxNQUFBLFFBQ0EsSUFBQWx4QixRQUFBa2QsU0FBQWxjLE9BQ0EsU0FBQUMsSUFBQThGLEdBQ0EsR0FBQUEsRUFBQW1KLFlBQUEsQ0FDQSxJQUFBNmhDLFNBQUEsQ0FDQWxyQyxRQUFBRSxFQUFBMUIsSUFDQTJzQyxlQUFBanJDLEVBQUFtSixhQUVBalAsSUFBQTh3QyxTQUFBeHFDLEtBQUF3cUMsVUFFQTl3QyxJQUFBdUgsTUFBQWpCLEtBQUFSLEVBQUE2aUIsU0FHQSxPQUFBM29CLEtBRUEsQ0FBQTh3QyxTQUFBLEdBQUF2cEMsTUFBQSxLQUVBeEksUUFBQWd1QyxRQUFBMEcsYUFBQXJ2QyxJQUNBYSxXQUNBd3hDLFlBQUExM0MsU0FDQTJELEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBLG1DQUNBOE4sR0FBQXMrQixXQUFBLFVBQUEsaUJBRUF2dkMsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUlBNE4sR0FBQW05QixXQUFBLFdBQ0F2bkIsRUFBQSx1QkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsZ0JBQUF1RyxNQUFBLFNBRUFuYyxHQUFBMjdCLGFBQUEsZ0JBQ0EzN0IsR0FBQTQ3QixVQUFBLENBQ0FDLFFBQUEsRUFDQXQyQixPQUFBLE1BQ0FtTixJQUFBLFlBQ0FvcEIsS0FBQSxRQUNBQyxPQUFBLEdBSUEvN0IsR0FBQWc4QixTQUFBLENBQ0FDLFNBQUEsU0FBQUMsSUFBQXZoQyxNQUFBdzlCLFFBQ0FhLFlBQUExN0IsU0FBQTNDLFdBbHVCQSxHQ0FBLFdBQ0FqVCxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGVBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQUYsUUFDQTBxQixNQUNBenFCLE9BQ0E2eUIsUUFHQSxJQUFBMWMsR0FBQTdVLEtBQ0FOLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUFBK04sU0FBQWpQLFFBQUFpUCxTQUNBLElBQUF3YixZQUFBMWpCLFlBRUEsWUFEQTlGLFNBS0FtVixHQUFBeEksU0FBQTFNLFVBQUFQLE1BRUFtQyxRQUFBQyxJQUFBcVQsR0FBQXhJLFVBQ0F3SSxHQUFBblYsT0FBQSxXQUNBQSxVQUdBbVYsR0FBQTRpQyxVQUFBLFNBQUFydkMsTUFDQTdHLFFBQUFDLElBQUE0RyxPQUdBeU0sR0FBQStiLFNBQUEsR0FDQS9iLEdBQUFnYyxVQUFBLEdBQ0FoYyxHQUFBa2MsV0FBQSxHQUNBbGMsR0FBQTFMLFlBQUEsR0FFQTBMLEdBQUErZ0IsVUFBQSxDQUNBOGhCLFVBQUEsRUFDQTdoQixRQUFBLEVBQ0FqTixNQUFBLEVBQ0E0TSxVQUFBLEdBTUEsSUFBQTVvQixlQUFBbk8sUUFBQW1PLGlCQUNBaUksR0FBQThpQyxVQUFBL3FDLGVBQUF4TixNQUFBeU4sSUFDQTRkLEVBQUEsMEJBQ0FrRixHQUFBL2lCLGVBQUF4TixNQUFBeU4sS0FDQXlpQixTQUFBLFFBQ0F6YSxHQUFBdWYsWUFBQSxFQUVBdmYsR0FBQStpQyxVQUFBLFNBQUFod0MsS0FDQWdGLGVBQUFPLE9BQUF2RixNQUdBaU4sR0FBQXdmLFVBQUEsQ0FDQXRuQixTQUFBLENBQ0Fvd0IsV0FBQSxFQUNBNVAsY0FBQSxFQUNBRSxZQUFBLEVBQ0FtWixXQUFBLEVBQ0ExaUMsTUFBQSxHQUVBOEksTUFBQSxDQUNBbXdCLFdBQUEsRUFDQTVQLGNBQUEsRUFDQUUsWUFBQSxFQUNBbVosV0FBQSxFQUNBMWlDLE1BQUEsSUFJQThCLFdBQ0E2eEMsa0JBQ0FwMEMsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQWlqQyxVQUFBcDBDLEtBQUF4RCxLQUFBMnJCLE9BRUFqb0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBNE4sR0FBQS9ILFdBQUFGLGVBQUF4TixNQUFBME4sV0FFQWtjLE9BQUFrTCxPQUNBLGdCQUNBLFNBQUE5bUIsTUFDQVIsZUFBQVEsS0FBQUEsUUFFQSxHQUdBeUgsR0FBQXltQixXQUFBLFNBQUFwN0IsTUFDQTJVLEdBQUF3bUIsYUFBQW43QixLQUFBZ0UsTUFHQTJRLEdBQUFrakMsWUFBQSxTQUFBcnlDLEtBQUFtdkIsVUFDQSxHQUFBbnZCLE1BQUFtdkIsU0FDQSxNQUFBLGNBQUFudkIsS0FBQSxPQUNBbVAsR0FBQXdmLFVBQUFRLFVBQUFudkIsTUFBQSxNQUFBLFFBS0FtUCxHQUFBbWpDLGNBQUEsU0FBQXR5QyxLQUFBbXZCLGVBRUEzMUIsSUFBQTJWLEdBQUF3ZixVQUFBUSxVQUFBbnZCLE1BQ0FtUCxHQUFBd2YsVUFBQVEsVUFBQW52QixPQUFBLEVBQ0FtUCxHQUFBd2YsVUFBQVEsVUFBQW52QixPQUFBbVAsR0FBQXdmLFVBQUFRLFVBQUFudkIsTUFDQSxJQUFBdXlDLFFBQ0EsYUFBQXBqQixTQUFBLG1CQUFBLHdCQUVBN3VCLFdBQUFpeUMsU0FBQSxDQUNBOXRDLEtBQUF5QyxlQUFBeE4sTUFBQStLLEtBQUEwcUIsVUFDQXZPLE1BQUEsR0FDQXdPLEtBQUFwdkIsS0FDQXF2QixPQUFBbm9CLGVBQUF4TixNQUFBME4sV0FDQWtvQixTQUFBbmdCLEdBQUF3ZixVQUFBUSxVQUFBbnZCLFFBRUFqQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBZ2dCLFVBQUFueEIsS0FBQXhELEtBQUEyckIsS0FDQWhYLEdBQUFnZ0IsU0FBQSxTQUFBbnhCLEtBQUF4RCxLQUFBaTFCLE1BQ0FsTSxTQUFBLFdBQ0F3QixFQUFBLElBQUFvSyxTQUFBLGNBQUFPLFdBQUEsQ0FDQWx2QixNQUFBMk8sR0FBQWdnQixTQUFBLFNBQ0FRLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXBCLFlBQUF4bkIsZUFBQXhOLE1BQUErSyxLQUFBMHFCLFVBQ0FZLFlBQUEsU0FBQXRyQixLQUFBK1csT0FDQUEsTUFBQXRQLGlCQUNBaEYsZUFBQUssUUFBQTRuQixTQUFBMXFCLE1BRUFuRSxXQUFBaXlDLFNBQUEsQ0FDQTl0QyxLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBcXZCLE9BQUFub0IsZUFBQXhOLE1BQUEwTixXQUNBa29CLFNBQUFuZ0IsR0FBQXdmLFVBQUFRLFVBQUFudkIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFnZ0IsVUFBQW54QixLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFJQSxJQUFBeXVCLGVBQUFob0IsU0FBQSxLQUNBbUgsR0FBQXFqQyxnQkFBQSxTQUFBOXFDLEtBQUF5bkIsVUFLQWEsZUFDQSxXQUNBLElBQUF1aUIsUUFDQSxhQUFBcGpCLFNBQ0EsbUJBQ0Esd0JBRUE3dUIsV0FBQWl5QyxTQUFBLENBQ0E5dEMsS0FBQSxFQUNBbWMsTUFBQSxHQUNBeU8sT0FBQTNuQixLQUNBMG5CLEtBQUEsY0FDQUUsVUFBQSxJQUVBdnhCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFnZ0IsVUFBQW54QixLQUFBeEQsS0FBQTJyQixLQUNBaFgsR0FBQWdnQixTQUFBLFNBQUFueEIsS0FBQXhELEtBQUFpMUIsTUFDQWxNLFNBQUEsV0FDQXdCLEVBQUEsSUFBQW9LLFNBQUEsY0FBQU8sV0FBQSxDQUNBbHZCLE1BQUEyTyxHQUFBZ2dCLFNBQUEsU0FDQVEsWUFBQSxHQUNBQyxTQUFBLGNBQ0FDLGVBQUEsSUFDQUMsVUFBQSxFQUNBcEIsWUFBQSxFQUNBcUIsWUFBQSxTQUFBdHJCLEtBQUErVyxPQUNBQSxNQUFBdFAsaUJBQ0E1TCxXQUFBaXlDLFNBQUEsQ0FDQTl0QyxLQUFBQSxLQUNBbWMsTUFBQSxHQUNBd08sS0FBQXB2QixLQUNBc3ZCLFNBQUFuZ0IsR0FBQXdmLFVBQUFRLFVBQUFudkIsUUFFQWpDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFzakMsVUFBQXowQyxLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFHQSxDQUFBbUcsS0FBQXluQixZQUtBaGdCLEdBQUFtakMsY0FBQSxZQUFBLFlBQ0FuakMsR0FBQW1qQyxjQUFBLFlBQUEsU0FLQW5qQyxHQUFBK3lCLFlBQUEsQ0FDQVgsaUJBQUEsRUFDQW1SLGtCQUhBLEdBSUFDLGdCQUFBOW1CLFNBQ0FsZ0IsSUFMQSxHQUtBLFFBQ0ErSSxVQUVBdkYsR0FBQXlqQyx3QkFBQSxTQUFBQyxNQUNBMWpDLEdBQUEreUIsWUFBQXlRLGdCQUFBOW1CLFNBQ0FsZ0IsSUFBQWtuQyxLQUFBLFFBQ0FuK0IsVUFHQXZGLEdBQUFxeUIsWUFBQSxDQUFBQyxTQUFBLEdBRUF0eUIsR0FBQTZhLFVBQUEsU0FBQTluQixJQUFBdXpCLE1BQ0EsR0FBQSxTQUFBQSxNQUNBLEdBQUEsR0FBQXZ6QixJQUNBaU4sR0FBQTJqQyxhQUFBNXdDLFVBQ0EsR0FBQSxHQUFBQSxJQUFBLENBQ0EsSUFBQWlOLEdBQUE0akMscUJBQUF2MEMsS0FFQSxZQURBdkYsYUFBQXlOLE1BQUEsb0NBRUEsSUFBQXlJLEdBQUF3bUIsYUFFQSxZQURBMThCLGFBQUF5TixNQUFBLHNCQUVBLElBQUF5SSxHQUFBNGpDLHFCQUFBMXBDLFlBRUEsWUFEQXBRLGFBQUF5TixNQUFBLGtDQUdBeUksR0FBQTJqQyxhQUFBNXdDLFVBRUEsR0FBQSxHQUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBaU4sR0FBQWdrQixrQkFBQXJ5QixPQUVBLFlBREE3SCxhQUFBeU4sTUFBQSwrQkFHQXlJLEdBQUE2akMsUUFBQSxFQUNBN2pDLEdBQUE4akMsUUFBQSxFQUNBcDhDLFFBQUFpTSxRQUFBcU0sR0FBQWdrQixrQkFBQSxTQUFBM3JCLE9BQ0EySCxHQUFBNmpDLFFBQ0FqeUIsV0FBQTVSLEdBQUE2akMsU0FBQWp5QixXQUFBdlosTUFBQXFnQixjQUNBMVksR0FBQThqQyxRQUNBbHlCLFdBQUE1UixHQUFBOGpDLFNBQUFseUIsV0FBQXZaLE1BQUF1Z0IsY0FFQTVZLEdBQUE2akMsUUFBQWp5QixXQUFBaFQsS0FBQWlDLE1BQUEsSUFBQWIsR0FBQTZqQyxTQUFBLEtBQ0E3akMsR0FBQThqQyxRQUFBbHlCLFdBQUFoVCxLQUFBaUMsTUFBQSxJQUFBYixHQUFBOGpDLFNBQUEsS0FDQTlqQyxHQUFBMmpDLGFBQUE1d0MsV0FPQSxHQUhBLEdBQUFBLEtBQ0FpTixHQUFBK2pDLGNBQUFoeEMsS0FFQSxHQUFBQSxJQUFBLENBQ0EsSUFBQWlOLEdBQUEreUIsWUFBQUMsYUFFQSxZQURBbHBDLGFBQUF5TixNQUFBLDhCQUVBLElBQUF5SSxHQUFBd21CLGFBRUEsWUFEQTE4QixhQUFBeU4sTUFBQSwrQkFNQXlJLEdBQUErakMsY0FBQWh4QyxPQUtBaU4sR0FBQTJqQyxhQUFBLFNBQUE1d0MsS0FDQTZpQixFQUFBLHFDQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxxQ0FDQWtGLEdBQUEvbkIsS0FDQTBuQixTQUFBLFVBRUE3RSxFQUFBLHFDQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxxQ0FBQTJFLFlBQUEsUUFDQTNFLEVBQUEscUNBQ0FrRixHQUFBL25CLEtBQ0EwbkIsU0FBQSxRQUNBN0UsRUFBQSxxQ0FDQWtGLEdBQUEvbkIsS0FDQTBuQixTQUFBLFdBR0F6YSxHQUFBK2pDLGNBQUEsU0FBQWh4QyxLQUNBNmlCLEVBQUEsMENBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLDBDQUNBa0YsR0FBQS9uQixLQUNBMG5CLFNBQUEsVUFFQTdFLEVBQUEsMENBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLDBDQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSwwQ0FDQWtGLEdBQUEvbkIsS0FDQTBuQixTQUFBLFFBQ0E3RSxFQUFBLDBDQUNBa0YsR0FBQS9uQixLQUNBMG5CLFNBQUEsV0FHQXRwQixXQUNBMUYsZUFBQXVVLEdBQUF4SSxTQUFBOUwsV0FDQWtELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFwSSxZQUFBL0ksS0FBQXhELEtBQ0EyVSxHQUFBK3lCLFlBQUFSLFNBQUE3cUMsUUFBQTRKLEtBQ0EwTyxHQUFBcEksWUFBQXF0QixnQkFBQXhDLGNBRUF6aUIsR0FBQWdsQixnQkFBQXQ5QixRQUFBNEosS0FDQTBPLEdBQUFwSSxZQUFBcXRCLGdCQUFBeEMsY0FFQS8xQixRQUFBQyxJQUFBcVQsR0FBQSt5QixZQUFBUixVQUNBM2MsRUFBQSxhQUNBN2lCLElBQUFpTixHQUFBK3lCLFlBQUFSLFVBQ0FDLFFBQUEsb0JBRUE1akMsS0FBQSxTQUFBd0QsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBK2hCLE9BQUFrTCxPQUFBLDBCQUFBLFNBQUFobkIsT0FDQXVkLEVBQUEsd0JBQUEyRSxZQUFBLDhCQUNBM0UsRUFBQSx3QkFBQTZFLFNBQUEsdUJBR0F6YSxHQUFBelIsbUJBQUEsU0FBQW1rQyxLQUFBQyxJQUNBL2MsRUFBQSxXQUFBck0sT0FDQSxJQUFBcXBCLGFBQUEsQ0FDQUYsS0FBQUEsS0FDQUMsR0FBQUEsSUFFQUQsTUFBQUMsSUFDQXhoQyxXQUNBNUMsbUJBQUFxa0MsY0FDQWhrQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBK3lCLFlBQUFYLGlCQUFBdmpDLEtBQUF4RCxLQUFBK21DLGlCQUVBaGUsU0FBQSxXQUNBd0IsRUFBQSxXQUFBbUMsUUFDQSxPQUVBaHBCLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFLQTROLEdBQUFrekIsZ0JBQUEsV0FDQXhtQyxRQUFBQyxJQUFBcVQsR0FBQSt5QixZQUFBRSxjQUVBNW9DLE1BQUEyVixHQUFBK3lCLFlBQUFDLGNBQ0EsSUFBQWh6QixHQUFBK3lCLFlBQUFDLGFBTUFoekIsR0FBQSt5QixZQUFBRSxjQUFBLElBQUFqekIsR0FBQSt5QixZQUFBRSxhQU1BNW9DLE1BQUEyVixHQUFBK3lCLFlBQUFSLFVBQ0EsSUFBQXZ5QixHQUFBK3lCLFlBQUFSLFNBTUFwZSxPQUFBbUwsZ0JBQUEsRUFKQXgxQixhQUFBeU4sTUFBQSwwQkFSQXpOLGFBQUF5TixNQUFBLCtCQUxBek4sYUFBQXlOLE1BQUEsK0JBb0JBeUksR0FBQW16QixXQUFBLFNBQUF0aUMsS0FBQTRsQixNQUNBLEdBQUEsUUFBQTVsQixLQU1BLE9BQUE0bEIsS0FBQXpXLEdBQUEreUIsWUFBQVgsaUJBTEFweUIsR0FBQSt5QixZQUFBaVIsa0JBQ0Foa0MsR0FBQSt5QixZQUFBaVIsa0JBQUFoa0MsR0FBQSt5QixZQUFBWCxpQkFDQXB5QixHQUFBK3lCLFlBQUFTLGdCQUNBeHpCLEdBQUEreUIsWUFBQVMsZ0JBQUF4ekIsR0FBQSt5QixZQUFBWCxrQkFNQXB5QixHQUFBd2QsV0FBQSxTQUFBQyxTQUFBNXNCLE1BQ0EsU0FBQUEsS0FDQW1QLEdBQUFnYyxVQUFBdnBCLE9BQUFnckIsU0FBQSxHQUVBemQsR0FBQTFMLFlBQUE3QixPQUFBZ3JCLFNBQUEsSUFJQXpkLEdBQUEwZCxtQkFBQSxTQUFBRCxTQUFBNXNCLE1BQ0FzakIsT0FBQXdKLFNBQUE5c0IsS0FDQXNqQixPQUFBeUosVUFBQUgsVUFFQXpkLEdBQUF5ekIsZUFBQSxTQUFBdm1CLE1BQUE3aEIsTUFDQSxTQUFBOG9CLE9BQUF3SixVQUNBM2QsR0FBQWdjLFVBQUE5TyxPQUFBaFQsWUFBQTdPLEtBQ0EsR0FBQTBNLGVBQUF4TixNQUFBeU4sSUFDQTRkLEVBQUEsb0JBQUExSSxPQUFBc2xCLFFBQUEsU0FFQTVjLEVBQUEsdUJBQUExSSxPQUFBc2xCLFFBQUEsV0FHQXh5QixHQUFBMUwsWUFBQTRZLE9BQUFoVCxZQUFBN08sS0FDQSxHQUFBME0sZUFBQXhOLE1BQUF5TixJQUNBNGQsRUFBQSxxQkFBQTFJLE9BQUFzbEIsUUFBQSxTQUVBNWMsRUFBQSx3QkFBQTFJLE9BQUFzbEIsUUFBQSxXQUlBeHlCLEdBQUFpa0MsVUFBQSxTQUFBbHhDLEtBQ0EsT0FBQUEsS0FDQWlOLEdBQUE0akMscUJBQUEsR0FDQTVqQyxHQUFBK2IsU0FBQSxHQUNBL2IsR0FBQWdjLFVBQUEsR0FDQWhjLEdBQUFrYyxXQUFBLEdBQ0FsYyxHQUFBMUwsWUFBQSxHQUNBMEwsR0FBQXdtQixhQUFBLEtBRUF4bUIsR0FBQSt5QixZQUFBLENBQ0FYLGlCQUFBLEVBQ0FtUixrQkFBQSxHQUNBaFIsU0FBQTdxQyxRQUFBNEosS0FBQTBPLEdBQUFwSSxZQUFBcXRCLGdCQUFBeEMsZUFFQS8xQixRQUFBQyxJQUFBcVQsR0FBQSt5QixhQUNBL3lCLEdBQUErYixTQUFBLEdBQ0EvYixHQUFBZ2MsVUFBQSxHQUNBaGMsR0FBQWtjLFdBQUEsR0FDQWxjLEdBQUExTCxZQUFBLEdBQ0EwTCxHQUFBd21CLGFBQUEsR0FDQTVRLEVBQUEsdUJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLHlCQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxjQUFBNkUsU0FBQSxRQUNBemEsR0FBQXlqQyx3QkFBQXpqQyxHQUFBK3lCLFlBQUF3USxxQkFHQXZqQyxHQUFBcXpCLG1CQUFBLFdBQ0EsR0FBQXJ6QixHQUFBd21CLGFBR0EsR0FBQXhtQixHQUFBK3lCLFlBQUFpUixrQkFHQSxHQUFBaGtDLEdBQUEreUIsWUFBQVMsZ0JBQUEsQ0FJQXJmLE9BQUE4SSxZQUFBLEdBQUF6akIsT0FBQXdHLEdBQUFnYyxVQUFBaGMsR0FBQTFMLGFBQ0E1SCxRQUFBQyxJQUFBd25CLE9BQUE4SSxhQUNBLElBQUFELFNBQUEsQ0FDQTN0QixLQUFBMlEsR0FBQSt5QixZQUFBQyxhQUNBN3BCLEtBQUFuSixHQUFBd21CLGFBQ0E5TixhQUFBLENBQ0FyZ0IsTUFBQTJILEdBQUFtekIsV0FBQSxXQUFBbnpCLEdBQUEreUIsWUFBQWlSLG1CQUNBdmhCLGFBQUF6aUIsR0FBQSt5QixZQUFBUixVQUVBM1osV0FBQSxDQUNBdmdCLE1BQUEySCxHQUFBbXpCLFdBQUEsU0FBQW56QixHQUFBK3lCLFlBQUFTLGlCQUNBL1EsYUFBQXppQixHQUFBK3lCLFlBQUFSLFVBRUFnUixrQkFBQXZqQyxHQUFBK3lCLFlBQUF3USxrQkFDQU4sVUFBQWpqQyxHQUFBK3lCLFlBQUFrUSxVQUNBeHZDLE1BQUEwZ0IsT0FBQThJLFlBQ0FoaUIsU0FBQWtaLE9BQUE4SSxZQUFBbHJCLElBQUEsU0FBQUMsRUFBQTRILEdBQ0EsTUFBQSxDQUNBZ3RCLGlCQUFBNTBCLEVBQUFrSSxnQkFJQXhOLFFBQUFDLElBQUFxd0IsVUFDQTdyQixXQUNBM0QsZ0JBQUF3dkIsVUFDQXB1QixLQUFBLFNBQUFDLE1BQ0FzbEIsT0FBQW5jLElBQUEsRUFDQWxPLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxTQUNBeWpCLEVBQUEsZUFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsdUJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLHlCQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxjQUFBNkUsU0FBQSxRQUNBemEsR0FBQStiLFNBQUEsR0FDQS9iLEdBQUFnYyxVQUFBLEdBQ0FoYyxHQUFBa2MsV0FBQSxHQUNBbGMsR0FBQTFMLFlBQUEsR0FDQTBMLEdBQUF3bUIsYUFBQSxHQUdBeG1CLEdBQUF3ZixVQUFBdG5CLFNBQUE2NUIsV0FBQSxFQUNBL3hCLEdBQUFtakMsY0FBQSxZQUFBLFlBQ0FuakMsR0FBQSt5QixZQUFBLENBQ0FYLGlCQUFBLEtBR0FyakMsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixVQWpEQXRJLGFBQUF5TixNQUFBLHdDQUhBek4sYUFBQXlOLE1BQUEsMENBSEF6TixhQUFBeU4sTUFBQSx1QkE0REF5SSxHQUFBalMsZ0JBQUEsU0FBQVosSUFDQWdFLFdBQ0FwRCxnQkFBQVosSUFDQXlCLEtBQUEsU0FBQUMsTUFDQW5DLFFBQUFDLElBQUFrQyxRQUVBRSxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLE1BS0F3akIsRUFBQSxnQkFBQTVaLEdBQUEsZ0JBQUEsV0FDQW1ZLE9BQUFtTCxnQkFBQSxFQUNBdGYsR0FBQSt5QixZQUFBLENBQ0FYLGlCQUFBLEtBS0FweUIsR0FBQWdrQixrQkFBQSxHQUNBaGtCLEdBQUE0akMscUJBQUEsR0FDQTVqQyxHQUFBNGxCLG1CQUFBLEdBR0E1bEIsR0FBQXZILE9BQUE3TyxRQUFBNk8sT0FDQTdPLFFBQUE4TyxjQUFBOUosS0FBQSxTQUFBQyxNQUNBbVIsR0FBQTZ5QixXQUFBaGtDLEtBQUF4RCxLQUNBMlUsR0FBQWtrQyxlQUFBLFNBQUEvaUIsUUFDQSxPQUFBLElBQUEzeUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBSSxLQUFBeEQsV0FLQThGLFdBQ0F6RCxtQkFDQWtCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFtbkIsZ0JBQUF0NEIsS0FBQXhELEtBQUEyckIsT0FFQWpvQixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBZ21CLFVBQUEsQ0FDQXhOLFNBQUEsRUFDQUUsYUFBQSxFQUNBRSxXQUFBLEdBR0E1WSxHQUFBb25CLGdCQUFBLFNBQUFsdkIsVUFDQSxJQUFBbXZCLGFBQUE1OEIsS0FBQXM3QixNQUFBN3RCLFVBQ0FBLFdBQ0E4SCxHQUFBZ21CLFVBQUF0TixhQUFBOUcsV0FDQWhULEtBQUFpQyxNQUNBYixHQUFBZ21CLFVBQUF4TixTQUNBNk8sYUFBQXBELFlBQUF2TCxhQUFBcmdCLE1BQ0EsS0FDQSxLQUVBMkgsR0FBQWdtQixVQUFBcE4sV0FBQWhILFdBQ0FoVCxLQUFBaUMsTUFDQWIsR0FBQWdtQixVQUFBeE4sU0FDQTZPLGFBQUFwRCxZQUFBckwsV0FBQXZnQixNQUNBLEtBQ0EsS0FFQXVkLEVBQUEsd0JBQUEyRSxZQUFBLDhCQUNBM0UsRUFBQSx3QkFBQTZFLFNBQUEsdUJBSUF6YSxHQUFBbWtDLFVBQUEsU0FBQXB4QyxJQUFBMUgsTUFDQSxJQUFBNk0sU0FBQXpOLEtBQUFzN0IsTUFBQTE2QixNQUNBLElBQUEwSCxLQUFBLEdBQUFBLEtBQ0FpTixHQUFBZ21CLFVBQUF4TixTQUFBLEVBQ0F6bEIsSUFBQSxFQUNBaU4sR0FBQWdtQixVQUFBdE4sYUFBQTlHLFdBQ0FoVCxLQUFBaUMsTUFBQTlOLElBQUFtRixTQUFBK3JCLFlBQUF2TCxhQUFBcmdCLE1BQUEsS0FBQSxLQUVBMkgsR0FBQWdtQixVQUFBcE4sV0FBQWhILFdBQ0FoVCxLQUFBaUMsTUFBQTlOLElBQUFtRixTQUFBK3JCLFlBQUFyTCxXQUFBdmdCLE1BQUEsS0FBQSxPQUdBMkgsR0FBQWdtQixVQUFBdE4sYUFBQTlHLFdBQ0FoVCxLQUFBaUMsTUFBQTlOLElBQUFtRixTQUFBK3JCLFlBQUF2TCxhQUFBcmdCLE1BQUEsS0FBQSxLQUVBMkgsR0FBQWdtQixVQUFBcE4sV0FBQWhILFdBQ0FoVCxLQUFBaUMsTUFBQTlOLElBQUFtRixTQUFBK3JCLFlBQUFyTCxXQUFBdmdCLE1BQUEsS0FBQSxPQUtBMkgsR0FBQW1tQixtQkFBQSxXQUNBbm1CLEdBQUE0bEIsbUJBQUFwekIsS0FBQSxDQUNBNHpCLGVBQUEsR0FDQS90QixNQUFBLE1BR0EySCxHQUFBcW1CLHlCQUFBLFNBQUFuWixPQUNBbE4sR0FBQTRsQixtQkFBQW56QixPQUFBeWEsTUFBQSxJQUdBbE4sR0FBQThsQixvQkFBQSxTQUFBNXRCLFVBQ0EsSUFBQTdNLEtBQUFaLEtBQUFzN0IsTUFBQTd0QixVQUNBeEwsUUFBQUMsSUFBQSxhQUFBdEIsTUFDQSxJQUFBQSxPQUNBMlUsR0FBQWdrQixrQkFBQXh4QixLQUFBLENBQ0FrWixXQUFBcmdCLEtBQUFpRixJQUNBakIsS0FBQWhFLEtBQUFnRSxLQUNBbXBCLFNBQUF4WSxHQUFBZ21CLFVBQUF4TixTQUNBRSxhQUFBMVksR0FBQWdtQixVQUFBdE4sYUFDQUUsV0FBQTVZLEdBQUFnbUIsVUFBQXBOLFdBQ0ErTSxvQkFBQTNsQixHQUFBNGxCLHFCQUVBNWxCLEdBQUE0bEIsbUJBQUEsR0FDQTVsQixHQUFBZ21CLFVBQUEsQ0FDQXhOLFNBQUEsRUFDQUUsYUFBQSxFQUNBRSxXQUFBLEdBR0E1WSxHQUFBNGpDLHFCQUFBMWQsY0FBQSxHQUNBdFEsRUFBQSxtQ0FBQXJkLEtBQUEsTUFJQXlILEdBQUE0VSxZQUFBLFNBQUFuaEIsTUFBQTRZLE1BQUE4UCxPQUNBenZCLFFBQUFDLElBQUFxVCxHQUFBK2IsVUFDQSxJQUFBbEgsUUFBQXhJLE1BQUF4UCxPQUFBcEosTUFDQXVNLEdBQUFvYyxVQUFBcndCLE9BQUFDLEtBQUE2b0IsU0FBQTlpQixJQUFBLFNBQUFDLEdBQUEsT0FBQTZpQixRQUFBN2lCLEdBQUEzQyxPQUNBM0gsUUFBQWlNLFFBQUFGLE1BQUEsU0FBQXpCLEVBQUFrYixPQUVBLEdBREFsYixFQUFBa0ksWUFBQSxHQUNBLFNBQUFpaUIsTUFDQSxHQUFBLEdBQUFuYyxHQUFBZ2MsVUFBQXJxQixPQUNBcU8sR0FBQWdjLFVBQUF4cEIsS0FBQVIsT0FDQSxDQUNBLElBQUFxcUIsY0FBQSxFQUNBMzBCLFFBQUFpTSxRQUFBcU0sR0FBQWdjLFVBQUEsU0FBQTNmLEdBQ0FySyxFQUFBM0MsTUFBQWdOLEVBQUFoTixPQUNBZ3RCLGNBQUEsS0FJQUEsYUFHQXZ5QixhQUFBeU4sTUFBQSwyQkFGQXlJLEdBQUFnYyxVQUFBeHBCLEtBQUFSLFFBTUEsR0FBQSxHQUFBZ08sR0FBQTFMLFlBQUEzQyxPQUNBLFFBQUF3QixLQUFBbkIsRUFBQW5CLE1BQ0FtUCxHQUFBZ2MsVUFBQXhwQixLQUFBUixHQUVBZ08sR0FBQTFMLFlBQUE5QixLQUFBUixPQUVBLENBQ0EsSUFBQXFxQixnQkFBQSxFQUNBMzBCLFFBQUFpTSxRQUFBLEdBQUE2RixPQUFBd0csR0FBQTFMLFlBQUEwTCxHQUFBZ2MsV0FBQSxTQUNBM2YsR0FFQXJLLEVBQUEzQyxNQUFBZ04sRUFBQWhOLE9BQ0FndEIsZ0JBQUEsS0FJQUEsZUFPQXZ5QixhQUFBeU4sTUFBQSwyQkFOQSxRQUFBcEUsS0FBQW5CLEVBQUFuQixNQUNBbVAsR0FBQWdjLFVBQUF4cEIsS0FBQVIsR0FFQWdPLEdBQUExTCxZQUFBOUIsS0FBQVIsTUFRQXRGLFFBQUFDLElBQUFxVCxHQUFBZ2MsWUFHQWhjLEdBQUFva0Msd0JBQUEsV0FDQSxJQUFBdGQsT0FBQSxHQUNBM1MsT0FBQThJLFlBQUEsR0FBQXpqQixPQUFBd0csR0FBQWdjLFVBQUFoYyxHQUFBMUwsYUFDQTBMLEdBQUFna0Isa0JBQUFyd0IsUUFBQSxTQUFBM0IsR0FDQTgwQixPQUFBdDBCLEtBQUEsQ0FDQWtaLFdBQUExWixFQUFBMFosV0FDQThNLFNBQUF4bUIsRUFBQXdtQixTQUNBbU4sb0JBQUEzekIsRUFBQTJ6Qix3QkFJQSxJQUFBdDZCLEtBQUEsQ0FDQWdFLEtBQUEyUSxHQUFBNGpDLHFCQUFBdjBDLEtBQ0E4WixLQUFBbkosR0FBQXdtQixhQUNBeEMsa0JBQUE4QyxPQUNBcnpCLE1BQUEwZ0IsT0FBQThJLFlBQ0FoaUIsU0FBQWtaLE9BQUE4SSxZQUFBbHJCLElBQUEsU0FBQUMsRUFBQTRILEdBQ0EsTUFBQSxDQUNBZ3RCLGlCQUFBNTBCLEVBQUFrSSxnQkFLQS9JLFdBQ0FrekMsZUFDQXoxQyxLQUFBLFNBQUFDLE1BQ0F4RCxLQUFBaTlCLFVBQUF6NUIsS0FBQXhELEtBQUFpNUMsU0FDQW56QyxXQUNBL0Msb0JBQUEvQyxNQUNBdUQsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFNBQ0F5akIsRUFBQSx5QkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsbUVBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLCtCQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSx5QkFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsY0FBQTZFLFNBQUEsUUFDQXphLEdBQUErYixTQUFBLEdBQ0EvYixHQUFBZ2MsVUFBQSxHQUNBaGMsR0FBQWtjLFdBQUEsR0FDQWxjLEdBQUExTCxZQUFBLEdBQ0EwTCxHQUFBd21CLGFBQUEsR0FDQXhtQixHQUFBNGpDLHFCQUFBLEtBRUE3MEMsTUFBQSxTQUFBcUQsR0FDQXRJLGFBQUF5TixNQUFBbkYsRUFBQS9HLEtBQUE4RyxhQUdBcEQsTUFBQSxTQUFBcUQsR0FDQXRJLGFBQUF5TixNQUFBbkYsRUFBQS9HLEtBQUE4RyxZQUlBNk4sR0FBQXNuQixjQUFBLFNBQUEvMUIsTUFDQXlPLEdBQUFna0Isa0JBQUF2eEIsT0FBQWxCLEtBQUEsTUExdkJBLEdDQUEsV0FDQTdKLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsbUJBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0E2NUIsYUFDQW55QixXQUNBckgsYUFDQUYsUUFDQUYsVUFDQUcsUUFHQSxJQUFBbVcsR0FBQTdVLEtBQ0FOLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUNBLElBQUF1cEIsWUFBQTFqQixZQUVBLFlBREE5RixTQUtBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUNBeVYsR0FBQW5WLE9BQUEsV0FDQUEsVUFFQW1WLEdBQUErYixTQUFBLEdBQ0EvYixHQUFBa2MsV0FBQSxHQUNBbGMsR0FBQWlrQyxVQUFBLFdBQ0Fqa0MsR0FBQStiLFNBQUEsR0FDQS9iLEdBQUFrYyxXQUFBLEdBQ0FsYyxHQUFBd21CLGFBQUEsR0FDQTVRLEVBQUEsdUJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLHlCQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxjQUFBNkUsU0FBQSxTQUdBdHBCLFdBQ0ExRixlQUFBdVUsR0FBQXhJLFNBQUE5TCxXQUNBa0QsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXBJLFlBQUEvSSxLQUFBeEQsS0FDQTJVLEdBQUFpbEIsZ0JBQUFqbEIsR0FBQXBJLFlBQUFxdEIsZ0JBQUF4QyxhQUNBLzFCLFFBQUFDLElBQUFxVCxHQUFBaWxCLGdCQUFBLHdCQUVBcjJCLEtBQUEsU0FBQXdELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FHQTROLEdBQUEwTCxXQUFBNFgsYUFBQW4yQixHQUNBNlMsR0FBQXZILE9BQUE3TyxRQUFBNk8sT0FDQTdPLFFBQUE4TyxjQUFBOUosS0FBQSxTQUFBQyxNQUNBbVIsR0FBQTZ5QixXQUFBaGtDLEtBQUF4RCxLQUNBMlUsR0FBQWtrQyxlQUFBLFNBQUEvaUIsUUFDQSxPQUFBLElBQUEzeUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBSSxLQUFBeEQsV0FLQTJVLEdBQUFtekIsV0FBQSxTQUFBdGlDLEtBQUE0bEIsTUFDQSxHQUFBLFFBQUE1bEIsS0FJQSxPQUFBNGxCLEtBQUF6VyxHQUFBdWtDLGFBQUFuUyxpQkFIQXB5QixHQUFBZ2tDLGtCQUFBaGtDLEdBQUFna0Msa0JBQUFoa0MsR0FBQXVrQyxhQUFBblMsaUJBQ0FweUIsR0FBQXd6QixnQkFBQXh6QixHQUFBd3pCLGdCQUFBeHpCLEdBQUF1a0MsYUFBQW5TLGtCQU1BcHlCLEdBQUF6UixtQkFBQSxTQUFBbWtDLEtBQUFDLElBQ0EvYyxFQUFBLFdBQUFyTSxPQUNBLElBQUFxcEIsYUFBQSxDQUNBRixLQUFBQSxLQUNBQyxHQUFBQSxJQUVBRCxNQUNBdmhDLFdBQ0E1QyxtQkFBQXFrQyxjQUNBaGtDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF1a0MsYUFBQW5TLGlCQUFBdmpDLEtBQUF4RCxLQUFBK21DLGlCQVNBaGUsU0FBQSxXQUNBd0IsRUFBQSxXQUFBbUMsUUFDQSxPQUVBaHBCLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFNQTROLEdBQUE2YSxVQUFBLFNBQUE5bkIsS0FlQSxTQUFBeXhDLFVBQUF6eEMsS0FDQTZpQixFQUFBLDBDQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSwwQ0FBQWtGLEdBQUEvbkIsS0FBQTBuQixTQUFBLFVBRUE3RSxFQUFBLDBDQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSwwQ0FBQTJFLFlBQUEsUUFDQTNFLEVBQUEsMENBQUFrRixHQUFBL25CLEtBQUEwbkIsU0FBQSxRQUNBN0UsRUFBQSwwQ0FBQWtGLEdBQUEvbkIsS0FBQTBuQixTQUFBLFVBckJBLEdBQUExbkIsSUFDQXl4QyxVQUFBenhDLEtBQ0EsR0FBQUEsTUFDQWlOLEdBQUF1a0MsYUFBQWwxQyxLQUVBMlEsR0FBQXdtQixhQUtBZ2UsVUFBQXp4QyxLQUpBakosYUFBQXlOLE1BQUEsK0JBRkF6TixhQUFBeU4sTUFBQSxnQ0FxQkFwRyxXQUNBNnhDLGtCQUNBcDBDLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFpakMsVUFBQXAwQyxLQUFBeEQsS0FBQTJyQixLQUNBdHFCLFFBQUFDLElBQUFxVCxHQUFBaWpDLFVBQUEsbUJBRUFsMEMsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQUdBNE4sR0FBQThrQixVQUFBLEVBQ0E5a0IsR0FBQStrQixhQUFBLEdBQ0E1USxPQUFBc3dCLGFBQUEsV0FDQXR6QyxXQUNBcEQsZ0JBQUFpUyxHQUFBMEwsWUFDQTljLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUEwa0MsWUFBQTcxQyxLQUFBeEQsS0FDQXFCLFFBQUFDLElBQUFxVCxHQUFBMGtDLGFBQ0Exa0MsR0FBQTJrQyxZQUFBM2tDLEdBQUEwa0MsWUFBQXIxQyxLQUNBMlEsR0FBQTRrQyxZQUFBNWtDLEdBQUEwa0MsWUFBQXY3QixLQUNBbkosR0FBQTZrQyxZQUFBbHpCLE9BQ0EzUixHQUFBMGtDLFlBQUF6Z0IsWUFBQXZMLGFBQUFyZ0IsT0FDQXdaLFFBQUEsR0FDQTdSLEdBQUE4a0Msb0JBQ0E5a0MsR0FBQTBrQyxZQUFBemdCLFlBQUF2TCxhQUFBK0osYUFDQXppQixHQUFBK2tDLGtCQUFBcHpCLE9BQ0EzUixHQUFBMGtDLFlBQUF6Z0IsWUFBQXJMLFdBQUF2Z0IsT0FDQXdaLFFBQUEsR0FDQTdSLEdBQUFnbEMsMEJBQUFobEMsR0FBQTBrQyxZQUFBemdCLFlBQUFyTCxXQUFBNkosYUFDQXppQixHQUFBaWxDLGlCQUFBamxDLEdBQUEwa0MsWUFBQVEsYUFBQUMsVUFBQTkxQyxLQUNBMlEsR0FBQW9sQyxpQkFBQXBsQyxHQUFBMGtDLFlBQUEzUyxVQUNBL3hCLEdBQUFxbEMsaUJBQUFybEMsR0FBQTBrQyxZQUFBM1MsVUFDQTVkLE9BQUFteEIsU0FBQSxDQUNBLENBQUEzcUIsSUFBQSwrQkFBQTNnQixNQUFBLE9BQUEzQixNQUFBMkgsR0FBQTRrQyxhQUNBLENBQUFqcUIsSUFBQSxpQ0FBQTNnQixNQUFBLGdCQUFBM0IsTUFBQTJILEdBQUE2a0MsWUFBQXBpQixhQUFBemlCLEdBQUE4a0MscUJBQ0EsQ0FBQW5xQixJQUFBLGlDQUFBM2dCLE1BQUEsY0FBQTNCLE1BQUEySCxHQUFBK2tDLGtCQUFBdGlCLGFBQUF6aUIsR0FBQWdsQyw0QkFFQTd3QixPQUFBb3hCLHNCQUFBdmxDLEdBQUEwa0MsWUFBQTNTLFVBQUEveEIsR0FBQTBrQyxZQUFBbkIscUJBR0F4MEMsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUdBK2hCLE9BQUFzd0IsZUFDQXR3QixPQUFBb3hCLHNCQUFBLFNBQUF4VCxVQUFBd1IsbUJBQ0EsSUFBQWlDLFlBQUE5b0IsT0FBQXFWLFdBQUF4c0IsT0FBQSxLQUNBa2dDLGtCQUFBL29CLE9BQUFxVixXQUFBdjFCLElBQUErbUMsa0JBQUEsUUFBQWgrQixPQUFBLEtBQ0EsR0FBQWlnQyxZQUFBQyxrQkFDQXpsQyxHQUFBMGxDLG9CQUFBaHBCLE9BQUFxVixXQUFBdjFCLElBQUErbUMsa0JBQUEsUUFBQWgrQixPQUFBLG9CQUNBLENBQ0FoRSxRQUNBLElBQUFva0MsYUFBQWpwQixPQUFBa3BCLElBQUE3VCxXQUFBdjFCLElBQUErbUMsa0JBQUEsUUFBQWgrQixTQUNBNE8sT0FBQW94QixzQkFBQUksYUFBQXBDLHFCQUlBdmpDLEdBQUFrbEIsVUFBQSxTQUFBekgsU0FBQTVzQixNQUNBLGVBQUFBLE1BQ0FtUCxHQUFBK2tCLGFBQUF2eUIsS0FBQXdOLEdBQUEwa0MsWUFBQWp4QyxNQUFBdXJCLE9BQUF2QixVQUFBbnRCLEtBQ0EwUCxHQUFBbWxCLFlBQUExeUIsT0FBQWdyQixTQUFBLElBQ0EsU0FBQTVzQixLQUNBbVAsR0FBQStiLFNBQUF0cEIsT0FBQWdyQixTQUFBLEdBQ0Esb0JBQUE1c0IsTUFDQW1QLEdBQUEra0IsYUFBQXZ5QixLQUFBd04sR0FBQTBrQyxZQUFBanhDLE1BQUF3ckIsS0FBQXhCLFVBQUFudEIsS0FDQTBQLEdBQUFvbEIsY0FBQTN5QixPQUFBZ3JCLFNBQUEsSUFDQSxZQUFBNXNCLE1BQ0FtUCxHQUFBa2MsV0FBQXpwQixPQUFBZ3JCLFNBQUEsSUFHQXpkLEdBQUEwZCxtQkFBQSxTQUFBRCxTQUFBNXNCLE1BQ0FzakIsT0FBQXdKLFNBQUE5c0IsS0FDQXNqQixPQUFBeUosVUFBQUgsVUFFQXpkLEdBQUF5ekIsZUFBQSxTQUFBdm1CLE1BQUE3aEIsTUFDQSxlQUFBOG9CLE9BQUF3SixVQUNBM2QsR0FBQW1sQixZQUFBalksT0FBQWhULFlBQUE3TyxLQUNBMlUsR0FBQW1sQixZQUFBalksT0FBQTBaLGlCQUFBdjdCLE1BQ0EsU0FBQThvQixPQUFBd0osU0FDQTNkLEdBQUErYixTQUFBN08sT0FBQWhULFlBQUE3TyxLQUNBLG9CQUFBOG9CLE9BQUF3SixVQUNBM2QsR0FBQW9sQixjQUFBbFksT0FBQWhULFlBQUE3TyxLQUNBMlUsR0FBQW9sQixjQUFBbFksT0FBQTBaLGlCQUFBdjdCLE1BQ0EsWUFBQThvQixPQUFBd0osV0FDQTNkLEdBQUFrYyxXQUFBaFAsT0FBQWhULFlBQUE3TyxPQUdBMlUsR0FBQXlqQyx3QkFBQSxTQUFBQyxNQUNBMWpDLEdBQUF1a0MsYUFBQWYsZ0JBQUE5bUIsT0FBQTFjLEdBQUF1a0MsYUFBQXhTLFdBQ0F2MUIsSUFBQWtuQyxLQUFBLFFBQ0FuK0IsVUFHQXZGLEdBQUE2bEMscUJBQUEsU0FBQTl5QyxLQUNBLEdBQUEsR0FBQUEsSUFBQSxDQUVBaU4sR0FBQThrQixVQUFBLEVBQ0E5a0IsR0FBQXVrQyxhQUFBNzhDLFFBQUE0SixLQUFBME8sR0FBQTBrQyxhQUNBMWtDLEdBQUF5akMsd0JBQUF6akMsR0FBQTBrQyxZQUFBbkIsbUJBQ0F2akMsR0FBQXdtQixhQUFBeG1CLEdBQUF1a0MsYUFBQXA3QixLQUNBbkosR0FBQW1sQixZQUFBbmxCLEdBQUF1a0MsYUFBQTl3QyxNQUFBdXJCLE9BQ0FoZixHQUFBb2xCLGNBQUFwbEIsR0FBQXVrQyxhQUFBOXdDLE1BQUF3ckIsS0FDQWpmLEdBQUFna0Msa0JBQUFoa0MsR0FBQXVrQyxhQUFBdGdCLFlBQUF2TCxhQUFBcmdCLE1BQ0EySCxHQUFBd3pCLGdCQUFBeHpCLEdBQUF1a0MsYUFBQXRnQixZQUFBckwsV0FBQXZnQixNQUNBMkgsR0FBQXVrQyxhQUFBblMsaUJBQUEsRUFDQXB5QixHQUFBelIsbUJBQUF5UixHQUFBaWxCLGdCQUFBamxCLEdBQUF1a0MsYUFBQWhTLFVBQ0E3cUMsUUFBQWlNLFFBQUFxTSxHQUFBbWxCLFlBQUEsU0FBQW56QixFQUFBa2IsT0FDQWxiLEVBQUFrSSxZQUFBLEtBRUF4UyxRQUFBaU0sUUFBQXFNLEdBQUFvbEIsY0FBQSxTQUFBcHpCLEVBQUFrYixPQUNBbGIsRUFBQWtJLFlBQUEsS0FFQSxJQUFBK29DLFVBQUFqakMsR0FBQXVrQyxhQUFBdEIsVUFBQWx4QyxJQUFBLFNBQUFDLEdBQUEsT0FBQUEsRUFBQTFCLE1BRUE1RCxRQUFBQyxJQUFBcVQsR0FBQXVrQyxhQUFBLG9CQUNBM3VCLEVBQUEsYUFBQTdpQixJQUFBaU4sR0FBQWlsQixpQkFBQXVOLFFBQUEsa0JBQ0E1YyxFQUFBLGNBQUE3aUIsSUFBQWt3QyxXQUFBelEsUUFBQSxrQkFDQTVjLEVBQUEsOEJBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLHVCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSx5QkFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsY0FBQTZFLFNBQUEsYUFDQSxHQUFBLEdBQUExbkIsSUFBQSxDQUNBckcsUUFBQUMsSUFBQXFULEdBQUErYixTQUFBL2IsR0FBQWtjLFlBQ0EvSCxPQUFBN2YsWUFBQSxHQUFBa0YsT0FBQXdHLEdBQUErYixTQUFBL2IsR0FBQWtjLFlBQ0EvSCxPQUFBd1MsZUFBQSxHQUFBbnRCLE9BQUF3RyxHQUFBK2IsU0FBQS9iLEdBQUFrYyxXQUFBbGMsR0FBQW1sQixZQUFBbmxCLEdBQUFvbEIsZUFDQTE0QixRQUFBQyxJQUFBd25CLE9BQUF3UyxnQkFFQTNtQixHQUFBOGtCLFVBQUEsRUFDQSxJQUFBNXFCLFlBQUEsSUFDQThGLEdBQUErYixTQUFBcHFCLE9BQUEsR0FBQXFPLEdBQUFrYyxXQUFBdnFCLE9BQUEsSUFDQXdpQixPQUFBd1MsZUFBQTUwQixJQUFBLFNBQUFDLEVBQUE0SCxHQUNBTSxZQUFBMUgsS0FBQSxDQUNBbzBCLGlCQUFBNTBCLEVBQUFrSSxnQkFJQSxJQUFBNHJDLG1CQUFBLENBQ0F6MkMsS0FBQTJRLEdBQUF1a0MsYUFBQWwxQyxLQUNBOFosS0FBQW5KLEdBQUF3bUIsYUFDQXpCLGFBQUEva0IsR0FBQStrQixhQUNBa2UsVUFBQWpqQyxHQUFBdWtDLGFBQUF0QixVQUNBTSxrQkFBQXZqQyxHQUFBdWtDLGFBQUFoQixrQkFDQXRmLFlBQUEsQ0FDQXZMLGFBQUEsQ0FDQXJnQixNQUFBMkgsR0FBQW16QixXQUFBLFdBQUFuekIsR0FBQWdrQyxtQkFDQXZoQixhQUFBemlCLEdBQUF1a0MsYUFBQWhTLFVBRUEzWixXQUFBLENBQ0F2Z0IsTUFBQTJILEdBQUFtekIsV0FBQSxTQUFBbnpCLEdBQUF3ekIsaUJBQ0EvUSxhQUFBemlCLEdBQUF1a0MsYUFBQWhTLFdBR0E5K0IsTUFBQTBnQixPQUFBN2YsWUFDQTJHLFNBQUFmLGFBRUEvSSxXQUNBdEQsbUJBQUFtUyxHQUFBMEwsV0FBQW82QixvQkFDQWwzQyxLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsU0FDQXlqQixFQUFBLDhCQUFBdUcsTUFBQSxRQUNBaEksT0FBQXN3QixlQUNBemtDLEdBQUFvYyxVQUFBLEtBRUFydEIsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixPQUtBNE4sR0FBQTRVLFlBQUEsU0FBQW5oQixNQUFBNFksT0FDQSxJQUFBd0ksUUFBQXhJLE1BQUF4UCxPQUFBcEosTUFDQXVNLEdBQUFvYyxVQUFBcndCLE9BQUFDLEtBQUE2b0IsU0FBQTlpQixJQUFBLFNBQUFDLEdBQUEsT0FBQTZpQixRQUFBN2lCLEdBQUEzQyxPQUNBM0gsUUFBQWlNLFFBQUFGLE1BQUEsU0FBQXpCLEVBQUFrYixPQUNBbGIsRUFBQWtJLFlBQUEsUUEzU0EsR0NBQSxXQUNBeFMsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxrQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixRQUNBQyxPQUNBZ1osU0FDQWtqQyxVQUNBQyxVQUlBLElBQUFobUMsR0FBQTdVLEtBQ0FOLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUFBZ04sY0FBQWxPLFFBQUErTixhQUFBL04sUUFBQWtPLGNBQ0EsSUFBQXVjLFlBQUExakIsWUFFQSxZQURBOUYsU0FJQW1WLEdBQUF4SSxTQUFBMU0sVUFBQVAsTUFDQSxJQUFBMDdDLEtBQUFwakMsU0FDQXpKLE1BQUE2c0MsS0FBQTdzQyxRQTJPQSxTQUFBOHNDLGtCQUFBbHZCLE1BS0EsT0FKQWhYLEdBQUFxRSxZQUFBMlMsS0FDQTVDLFNBQUEsV0FDQUQsT0FBQWtCLFdBRUEyQixLQVNBLFNBQUFtdkIsZUFBQTVoQyxTQVNBLE9BUkF2RSxHQUFBb21DLGVBQUE3aEMsUUFDQTZQLFNBQUEsV0FDQUQsT0FBQWtCLFNBQ0EsSUFBQWd4QixjQUFBM3dDLFNBQUE0d0MsdUJBQ0Esa0JBQ0EsR0FDQUQsY0FBQTVYLFVBQUE0WCxjQUFBRSxlQUVBaGlDLFFBR0EsU0FBQWlpQyxVQUFBamlDLFNBQ0F2RSxHQUFBeW1DLFlBQUFsaUMsUUFBQTlRLE1BQUF4SCxPQUNBLFNBQUFDLElBQUE4RixHQU1BLE1BTEEsbUJBQUFtQixLQUFBbkIsRUFBQW5CLE1BQ0EzRSxJQUFBOHlCLE9BQUF4c0IsS0FBQVIsR0FFQTlGLElBQUEreUIsS0FBQXpzQixLQUFBUixHQUVBOUYsS0FFQSxDQUNBOHlCLE9BQUEsR0FDQUMsS0FBQSxLQUdBN0ssU0FBQSxXQUNBRCxPQUFBa0IsV0FJQSxTQUFBcXhCLGVBQUF2TyxRQUNBLEdBQUFBLE9BQ0EsT0FBQSxTQUFBNXpCLFNBQ0FwVCxXQUNBdTFDLGVBQUEsQ0FBQUMsV0FBQXBpQyxRQUFBbmIsTUFDQXdGLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUE0bUMsU0FBQS8zQyxLQUFBeEQsS0FBQXU3QyxXQUVBNzNDLE1BQUFrM0MsS0FBQTF1QyxRQWhTQTdLLFFBQUFDLElBQUFxVCxHQUFBeEksVUFDQXJHLFdBQ0EwMUMsNEJBRUFqNEMsS0FBQSxTQUFBQyxNQUNBLE9BQUFBLEtBQUF4RCxLQUFBeTdDLGNBR0FsNEMsS0FBQSxTQUFBekUsT0FDQSxJQUFBQSxNQUFBLE1BQUEsSUFBQTQ4QyxNQUFBLHFCQUVBLE9BQUFkLEtBQUE3L0IsUUFDQXRiLFVBQUFQLE1BQUErRixJQUNBbkcsU0FJQXlFLEtBQUEsU0FBQW80QyxlQUdBLE9BRkFsOUMsYUFBQW9JLFFBQUEsNkJBQ0FrSCxNQUFBdFEsSUFBQSxPQUFBaytDLGVBQ0FqQixVQUFBamlDLGFBQUFoTSxhQUFBdk4sTUFBQStGLE9BR0ExQixLQUFBczNDLG1CQUVBdDNDLEtBeU5BLFNBQUFxNEMsVUFDQSxHQUFBQSxTQUFBdDFDLE9BQUEsRUFDQSxPQUFBbzBDLFVBQUFyaEMsbUJBQUF1aUMsU0FBQSxNQXpOQXI0QyxLQUFBdTNDLGdCQUVBdjNDLEtBQUE4M0MsZ0JBQUEsSUFDQTMzQyxNQUFBazNDLEtBQUExdUMsT0FFQXBHLFdBQ0EyckIsOEJBQUFoeUIsVUFBQVAsTUFBQW1CLFdBQ0FrRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBa25DLGFBQUFyNEMsS0FBQXhELEtBQUFBLE9BRUEwRCxNQUFBazNDLEtBQUExdUMsT0FHQXlJLEdBQUFtbkMsV0FBQSxHQUVBbm5DLEdBQUFnRCxjQUFBLFNBQUFnYSxTQUFBb3FCLGFBQ0F4eEIsRUFBQSxxQkFBQXVHLE1BQUEsUUFDQS9pQixNQUFBN08sSUFBQSxTQUlBdzdDLFVBQUEvaUMsY0FDQW9rQyxZQUNBdDhDLFVBQUFQLE1BQUErRixJQUNBd0gsYUFBQXZOLE1BQUErRixLQUVBMUIsS0FBQSxTQUFBMlYsU0FFQSxPQURBeVksU0FBQTJwQixXQUFBcGlDLFFBQUFuYixJQUNBb0YsUUFBQXlCLElBQUEsQ0FDQXNVLFFBQ0F5WSxTQUFBcWlCLFdBQ0FsdUMsV0FBQWsyQyxlQUFBcnFCLFVBQ0E3ckIsV0FBQW0yQyxxQkFBQSxDQUFBOWlDLE1BQUF3WSxTQUFBcWlCLGlCQUdBendDLEtBQUEsU0FBQTI0QyxPQUFBLElBQUFDLE1BQUFDLGVBQUFGLE1BQUEsR0FBQWhqQyxRQUFBaWpDLE1BQUEsR0FBQWhqQyxNQUFBZ2pDLE1BQUEsR0FDQSxPQUFBekIsVUFBQXpoQyxZQUFBQyxRQUFBQyxTQUVBNVYsS0FBQSxTQUFBK0ssR0FFQSxPQURBN1AsYUFBQW9JLFFBQUEsc0NBQ0E2ekMsVUFBQWppQyxhQUFBaE0sYUFBQXZOLE1BQUErRixPQUVBMUIsS0FBQXMzQyxtQkFDQW4zQyxNQUFBazNDLEtBQUExdUMsUUFHQXlJLEdBQUEwbkMsWUFBQSxTQUFBbmpDLFFBQUE0ekIsUUFDQTV6QixRQUFBb2pDLGFBQ0E1QixVQUFBcmhDLG1CQUFBSCxTQUNBM1YsS0FBQXUzQyxnQkFDQXYzQyxLQUFBODNDLGVBQUF2TyxTQUNBcHBDLE1BQUFrM0MsS0FBQTF1QyxRQUdBeUksR0FBQTRuQyxZQUFBLFNBQUFyakMsU0FDQUEsUUFBQXFqQyxlQUdBNW5DLEdBQUFrRixZQUFBLFNBQUFYLFFBQUFwUyxTQUNBNk4sR0FBQTZuQyxXQUFBLEdBQ0F0akMsUUFBQXVqQyxZQUNBMzFDLFNBQUFBLFFBQUFzaUMsUUFDQXNSLFVBQUE3Z0MsWUFBQVgsUUFBQXBTLFNBQ0F2RCxLQUFBLFNBQUEyVixTQUNBLE9BQUF3aEMsVUFBQXJoQyxtQkFBQUgsV0FFQTNWLEtBQUF1M0MsZ0JBQ0FwM0MsTUFBQWszQyxLQUFBMXVDLFFBSUF5SSxHQUFBK25DLG1CQUFBLFNBQUEzMUMsR0FDQSxLQUFBQSxFQUFBa29CLE9BQ0F0YSxHQUFBa0YsWUFBQThpQyxLQUFBLEtBQUFob0MsR0FBQW9tQyxlQUFBcG1DLEdBQUE2bkMsYUFJQTduQyxHQUFBb0YsZ0JBQUEsU0FBQWIsUUFBQTlRLE9BQ0FtaUIsRUFBQSxpQkFBQXVHLE1BQUEsUUFDQWhyQixXQUNBODJDLHNCQUFBLENBQ0F4MEMsTUFBQUEsUUFFQTdFLEtBQUEsU0FBQUMsTUFBQSxPQUNBTCxRQUFBeUIsSUFBQTgxQyxVQUFBM2dDLGdCQUFBYixRQUFBMVYsS0FBQXhELEtBQUFBLFNBRUF1RCxLQUFBLFNBQUErSyxHQUVBLE9BREE3UCxhQUFBb0ksUUFBQSwrQkFDQTZ6QyxVQUFBcmhDLG1CQUFBSCxXQUVBM1YsS0FBQXUzQyxnQkFDQXAzQyxNQUFBazNDLEtBQUExdUMsUUFHQXlJLEdBQUFrb0MsbUJBQUEsU0FBQUMsR0FDQSxNQUFBLFNBQUFBLEVBQUFDLFlBQ0FELEVBQUFFLFFBQUFDLFNBQUF4OUMsVUFBQVAsTUFBQStGLElBQ0EsY0FFQSxVQUdBNjNDLEVBQUFFLFFBQUFDLFNBQUF4OUMsVUFBQVAsTUFBQStGLElBQ0Esa0JBRUEsZUFLQTBQLEdBQUF1b0MsZ0JBQUEsU0FBQW5DLGVBQUFjLGNBRUEsR0FEQXR4QixFQUFBLGtCQUFBdUcsTUFBQSxRQUNBaXFCLGdCQUFBYyxhQUFBLENBR0EsSUFBQXNCLHNCQUFBejhDLE9BQUFDLEtBQUFvNkMsZUFBQXFDLFdBRUF6b0MsR0FBQTBhLFNBQUF3c0IsYUFDQTF5QyxPQUFBLFNBQUF4QyxHQUNBLFFBQUF3MkMsc0JBQUFuMEMsUUFBQXJDLEVBQUExQixNQUFBLEtBRUF5QixJQUFBLFNBQUFDLEdBRUEsT0FEQUEsRUFBQTAyQyxTQUFBLEVBQ0ExMkMsTUFJQWdPLEdBQUFzRSxZQUFBLFNBQUFDLFFBQUFDLE9BQ0FvUixFQUFBLGtCQUFBdUcsTUFBQSxRQUNBM1gsTUFBQUEsTUFBQWhRLE9BQUEsU0FBQXhDLEdBQUEsT0FBQUEsRUFBQTAyQyxVQUFBMzJDLElBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBMUIsTUFDQWEsV0FDQW0yQyxxQkFBQSxDQUFBOWlDLE1BQUFBLFFBQ0E1VixLQUFBLFNBQUErSyxHQUNBLE9BQUFvc0MsVUFBQXpoQyxZQUFBQyxRQUFBQyxTQUVBNVYsS0FBQSxTQUFBK0ssR0FFQSxPQURBN1AsYUFBQW9JLFFBQUEsbUJBQ0E2ekMsVUFBQWppQyxhQUFBaE0sYUFBQXZOLE1BQUErRixPQUVBMUIsS0FBQXMzQyxtQkFDQW4zQyxNQUFBazNDLEtBQUExdUMsUUFHQXlJLEdBQUEyb0MsZUFBQSxTQUFBcGtDLFNBQ0FxUixFQUFBLHNCQUFBdUcsTUFBQSxRQUNBNHBCLFVBQUEvZ0MsZ0JBQUFULFNBQ0EzVixLQUFBNDNDLFdBQ0F6M0MsTUFBQWszQyxLQUFBMXVDLFFBR0F5SSxHQUFBNG9DLGdCQUFBLFNBQUFya0MsU0FDQSxPQUFBQSxRQUNBc2tDLGVBQUF0a0MsUUFBQXVrQyxhQUFBLEdBQ0E3OEMsT0FBQSxTQUFBQyxJQUFBOEYsR0FFQSxPQURBOUYsSUFBQThGLEVBQUFzMkMsU0FBQXg5QyxVQUFBUCxNQUFBK0YsS0FBQXBFLE1BRUEsSUFHQThULEdBQUErb0MsZ0JBQUEsV0FDQW56QixFQUFBLGlCQUFBdUcsTUFBQSxTQUdBbmMsR0FBQXFuQyxlQUFBLFNBQUFycUIsU0FBQW9wQixlQUFBM2tCLE9BQ0FBLE9BQ0E3TCxFQUFBLGlCQUFBdUcsTUFBQSxRQUNBYSxTQUFBMnBCLFdBQUFQLGVBQUFoOUMsSUFDQStILFdBQ0FrMkMsZUFBQXJxQixVQUNBcHVCLEtBQUEsU0FBQUMsTUFFQSxPQURBL0UsYUFBQW9JLFFBQUEsNkJBQ0FrMEMsaUJBRUF4M0MsS0FBQTgzQyxnQkFBQSxJQUNBMzNDLE1BQUFrM0MsS0FBQTF1QyxRQUVBek4sYUFBQXlOLE1BQUEsZ0NBS0F5dUMsU0FBQWxyQyxPQUdBcVosT0FBQXliLElBQUEsdUJBQUEsU0FBQXg5QixFQUFBL0csTUFDQTJVLEdBQUFvbUMsZUFBQWg5QyxNQUFBaUMsS0FBQWtaLFFBQUFuYixJQUNBNFcsR0FBQTBuQyxZQUFBcjhDLEtBQUFrWixTQUVBd2hDLFVBQUFqaUMsYUFBQWhNLGFBQUF2TixNQUFBK0YsS0FDQTFCLEtBQUFzM0MsbUJBQ0FuM0MsTUFBQWszQyxLQUFBMXVDLFNBSUE0YyxPQUFBeWIsSUFBQSxtQkFBQSxTQUFBeDlCLEVBQUEvRyxNQUNBMDZDLFVBQUFqaUMsYUFBQWhNLGFBQUF2TixNQUFBK0YsS0FDQTFCLEtBQUFzM0MsbUJBQ0FuM0MsTUFBQWszQyxLQUFBMXVDLFNBR0E0YyxPQUFBeWIsSUFBQSxlQUFBLFNBQUF4OUIsRUFBQS9HLE1BQ0Erb0IsU0FBQSxXQUNBRCxPQUFBa0IsYUFnRUFyVixHQUFBblYsT0FBQSxXQUNBQSxVQUdBLElBQUFtK0MsT0FBQUMsT0FDQXY4QyxRQUFBQyxJQUFBcThDLE9BQUEsYUFDQSxJQUFBRSxNQUFBRCxPQUFBQyxNQUdBQyxtQkFBQUEsRUFBQUMsZ0JBQUFBLEVBQUFDLGNBQUFBLEVBR0EsU0FBQUMsYUFBQUMsT0FBQW50QyxXQUNBbXRDLE9BQUE1MUMsUUFBQSxTQUFBNjFDLE9BQ0FwdEMsVUFBQTNGLFlBQUEreUMsTUFBQUMsWUFLQSxTQUFBQyx3QkFBQUMsWUFBQXZ0QyxXQUNBLElBQUFtdEMsT0FBQTd2QyxNQUFBZzVCLEtBQUFpWCxZQUFBSixPQUFBSyxVQUNBTixhQUFBQyxPQUFBbnRDLFdBSUEsU0FBQXl0QyxhQUFBTixRQUNBQSxPQUFBNTFDLFFBQUEsU0FBQTYxQyxPQUNBOThDLFFBQUFDLElBQUE2OEMsT0FDQUEsTUFBQU0sU0FBQW4yQyxRQUFBLFNBQUFvMkMsaUJBQ0FBLGdCQUFBMXlDLGFBTUEsU0FBQTJ5Qyx3QkFBQUwsYUFDQWo5QyxRQUFBQyxJQUFBZzlDLGFBQ0EsSUFBQUosT0FBQTd2QyxNQUFBZzVCLEtBQUFpWCxZQUFBSixPQUFBSyxVQUNBbDlDLFFBQUFDLElBQUE0OEMsUUFDQU0sYUFBQU4sUUFRQSxTQUFBNThDLElBQUF3RixTQUNBdUQsU0FBQTZSLGVBQUEsT0FNQSxTQUFBMGlDLFdBQUFoRSxNQUNBdHBDLE9BQUFzcEMsS0FBQW1ELFdBQUFuRCxLQUVBdDVDLElBQUEsY0FBQTA4QyxTQUFBLEtBQ0EzekMsU0FBQTZSLGVBQUEsZUFBQXZLLE1BQUFrdEMsUUFBQSxPQUNBeDBDLFNBQUE2UixlQUFBLGdCQUFBdkssTUFBQWt0QyxRQUFBLFNBR0EsSUFBQUMsaUJBQUF6MEMsU0FBQTZSLGVBQUEsZUFDQTRpQyxpQkFBQUMsY0FBQSxVQUNBVix3QkFBQXpELEtBQUFvRSxpQkFBQUYsa0JBSUFsRSxLQUFBcUUsYUFBQTMyQyxRQUFBLFNBQUFnMkMsYUFDQWg5QyxJQUFBLHFCQUFBZzlDLFlBQUFOLFNBQUEsS0FDQSxJQUFBYyxpQkFBQXowQyxTQUFBNlIsZUFBQSxnQkFDQW1pQyx3QkFBQUMsWUFBQVEsb0JBSUFsRSxLQUFBanFDLEdBQUEsdUJBQUEsU0FBQTJ0QyxhQUNBaDlDLElBQUEsYUFBQWc5QyxZQUFBTixTQUFBLE9BSUFwRCxLQUFBanFDLEdBQUEsYUFBQSxTQUFBd3RDLE1BQUFHLGFBQ0FoOUMsSUFBQWc5QyxZQUFBTixTQUFBLGlCQUFBRyxNQUFBZSxNQUNBLElBQUFKLGlCQUFBejBDLFNBQUE2UixlQUFBLGdCQUNBK2hDLGFBQUEsQ0FBQUUsT0FBQVcsb0JBSUFsRSxLQUFBanFDLEdBQUEsZUFBQSxTQUFBd3RDLE1BQUFHLGFBQ0FoOUMsSUFBQWc5QyxZQUFBTixTQUFBLG1CQUFBRyxNQUFBZSxNQUNBVixhQUFBLENBQUFMLFVBSUF2RCxLQUFBanFDLEdBQUEsMEJBQUEsU0FBQTJ0QyxhQUNBaDlDLElBQUEsZ0JBQUFnOUMsWUFBQU4sU0FBQSxtQkFDQVcsd0JBQUFMLGVBS0ExRCxLQUFBanFDLEdBQUEsZUFBQSxXQUNBclAsSUFBQSxRQUNBdzhDLGdCQUNBQSxjQUFBeDFDLFFBQUEsU0FBQTYxQyxPQUNBQSxNQUFBbFksU0FFQTZYLGNBQUEsTUFFQWEsd0JBQUEvRCxLQUFBb0Usa0JBQ0FwRSxLQUFBcUUsYUFBQTMyQyxRQUFBcTJDLHlCQUNBWixXQUFBLEtBQ0ExekMsU0FBQTZSLGVBQUEsZUFBQXZLLE1BQUFrdEMsUUFBQSxTQUNBeDBDLFNBQUE2UixlQUFBLGdCQUFBdkssTUFBQWt0QyxRQUFBLFNBcEVBdnRDLE9BQUFDLGlCQUFBLGVBQUFvRCxHQUFBd3FDLG1CQXlFQXhxQyxHQUFBd3FDLGtCQUFBLFdBQ0E1MEIsRUFBQSxrQkFBQXVHLE1BQUEsUUFDQXp2QixRQUFBQyxJQUFBeThDLFlBQ0FELGdCQUNBQSxjQUFBeDFDLFFBQUEsU0FBQTYxQyxPQUNBQSxNQUFBbFksU0FFQTZYLGNBQUEsTUFFQWEsd0JBQUFaLFdBQUFpQixrQkFDQTM5QyxRQUFBQyxJQUFBeThDLFdBQUFrQixjQUNBbEIsV0FBQWtCLGFBQUEzMkMsUUFBQXEyQyx5QkFDQVosV0FBQSxNQUdBcHBDLEdBQUF5cUMsZUFBQSxXQUNBLElBQUFDLG1CQUFBdkIsY0FDQTM2QyxRQUFBQyxRQUFBMDZDLGVBQ0FELE1BQUF5QixvQkFFQUQsbUJBQ0E5N0MsS0FDQSxTQUFBMjZDLFFBQ0E1c0MsT0FBQXdzQyxjQUFBQSxjQUFBSSxPQUNBM3pCLEVBQUEsa0JBQUF1RyxNQUFBLFFBQ0EsSUFBQWd1QixpQkFBQXowQyxTQUFBNlIsZUFBQSxlQUNBNGlDLGlCQUFBQyxjQUFBLFVBQ0FkLGFBQUFDLE9BQUFZLG1CQUdBLFNBQUE1eUMsT0FDQTdLLFFBQUE2SyxNQUFBLCtCQUFBQSxPQUNBek4sYUFBQXlOLE1BQUEsNENBR0EzSSxLQUFBLFNBQUFpdUIsS0FDQSxPQUFBLElBQUFydUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBeUMsV0FDQXk1Qyx1QkFDQWg4QyxLQUFBLFNBQUFDLE1BQ0FKLFFBQUFJLEtBQUF4RCxRQUVBMEQsTUFBQSxTQUFBcUQsR0FDQTFELE9BQUEwRCxTQUlBeEQsS0FBQSxTQUFBdkQsTUFDQXFCLFFBQUFDLElBQUF0QixNQUNBZytDLFNBQUFoK0MsS0FDQSxJQUFBdy9DLGVBQUEsQ0FDQXg3QyxLQUFBLFdBQ0F5N0MsU0FBQSxTQUdBM0IsZ0JBQ0EwQixlQUFBdEIsT0FBQUosZUFLQUQsTUFBQTlpQyxRQUNBL2EsS0FBQWxCLE1BQ0EwZ0QsZ0JBQ0FqOEMsS0FBQXE3QyxXQUFBLFNBQUExeUMsT0FDQTdLLFFBQUFDLElBQUE0SyxPQUNBek4sYUFBQXlOLE1BQUEsZ0NBQUFBLE1BQUFwRixnQkF4ZkEsR0NBQSxXQUNBekssUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxjQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQTFxQixVQUNBMnFCLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixTQUdBLElBQ0FpQixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFDQSxJQUFBdXBCLFlBQUExakIsWUFFQSxZQURBOUYsU0FIQU0sS0FRQXFNLFNBQUExTSxVQUFBUCxNQVJBWSxLQVNBTixPQUFBLFdBQUFBLFVBR0FuQixVQUFBaXNCLE9BR0FDLEVBQUEsZ0JBQUFDLElBQUEsVUFBQSxvQkFFQUQsRUFBQSxnQkFBQUUsY0EvQkEsR0NBQSxXQUNBcHVCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZUFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0EzcUIsT0FDQTRxQixZQUNBbGpCLFdBQ0F2SCxRQUNBRCxvQkFDQUcsYUFDQXdxQixPQUdBLElBQUF0VSxHQUFBN1UsS0FDQUwsV0FBQWxCLFFBQUFnQixTQUFBaEIsUUFBQWlCLE9BQUFqQixRQUFBa0IsV0FHQSxHQUZBa1YsR0FBQXVVLFVBQUEsRUFFQUYsWUFBQTFqQixZQUdBLE9BRkFsSCxPQUFBNk4sR0FBQSxrQkFDQTBJLEdBQUF1VSxVQUFBLEdBTUF2VSxHQUFBK2EsS0FBQSxDQUNBM3hCLElBQ0Esc0ZBQ0E2eEIsT0FBQSxDQUNBLENBQ0FzUSxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBNHdCLFlBQUEsY0FDQUMsUUFBQSxDQUNBLENBQ0FDLFdBQUEsU0FJQSxDQUNBRixZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQTR3QixZQUFBLHFCQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLGlCQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEseUJBQ0FILFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsNkJBQ0FGLFFBQUEsQ0FDQSxDQUNBQyxXQUFBLFNBSUEsQ0FDQUMsWUFBQSwwQkFDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxNQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLFdBQ0FILFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxXQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLFdBQ0FILFlBQUEscUJBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsT0FDQUgsWUFBQSxnQkFDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxPQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLGdCQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsZUFDQUgsWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLGlDQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBN3dCLE1BQUEsYUFJQSxDQUNBK3dCLFlBQUEsYUFDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxVQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGFBSUEsQ0FDQSt3QixZQUFBLFFBQ0FILFlBQUEsV0FDQUMsUUFBQSxDQUNBLENBQ0E3d0IsTUFBQSxhQUlBLENBQ0Erd0IsWUFBQSxRQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQTd3QixNQUFBLGNBS0FxZ0IsUUFBQSxDQUFBLENBQUEsUUFBQSxTQUFBLENBQUEsUUFBQSxXQUdBMUcsTUFBQWdJLFNBQUExdEIsS0FBQSxTQUFBbUQsS0FDQUEsSUFBQTFKLFdBQUEsQ0FDQTR5QixPQUFBamIsR0FBQSthLEtBQUFFLE9BQ0FzQixrQkFBQSxFQUNBcEIsS0FBQSxFQUNBRCxPQUFBLENBQ0FVLElBQUEsUUFDQUMsSUFBQSxhQW9CQTdiLEdBQUErcUMsY0FBQSxXQUNBbjFCLEVBQUEsaUNBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLGtCQUFBdUcsTUFBQSxTQUVBbmMsR0FBQWdyQyxXQUFBLFdBQ0FwMUIsRUFBQSxvQ0FBQXVHLE1BQUEsUUFDQXZHLEVBQUEsZUFBQXVHLE1BQUEsU0FFQW5jLEdBQUFpckMsZ0JBQUEsV0FDQXIxQixFQUFBLGVBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLG9CQUFBdUcsTUFBQSxTQUdBbmMsR0FBQWhWLE1BQUEsU0FBQWtnRCxRQUFBbHVCLFVBQ0F0d0IsUUFBQUMsSUFBQXF3QixVQUNBN3JCLFdBQ0FuRyxNQUFBZ3lCLFVBQ0FwdUIsS0FBQSxTQUFBQyxNQUNBK21CLEVBQUEsZUFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsUUFBQTJFLFlBQUEsY0FDQTNFLEVBQUEsbUJBQUFtQyxPQUNBcHVCLG9CQUFBYixJQUFBLGVBQUErRixLQUFBeEQsS0FBQWxCLE9BQ0FXLFVBQUFoQyxJQUFBK0YsS0FBQXhELEtBQUE2WCxNQUNBelosT0FBQTZOLEdBQUEsYUFDQXhOLGFBQUFvSSxRQUFBLG1CQUVBbkQsTUFBQSxTQUFBQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLFlBSUE2TixHQUFBbXJDLFdBQUEsU0FBQUQsUUFBQWx1QixVQUNBLEdBQUEzeUIsTUFBQTJ5QixTQUNBbHpCLGFBQUF5TixNQUFBLDRCQUNBLENBQ0EsSUFBQWxNLEtBQUEyeEIsU0FDQTdyQixXQUNBN0YsZUFBQUQsTUFDQXVELEtBQUEsU0FBQUMsTUFDQSttQixFQUFBLG9CQUFBdUcsTUFBQSxRQUNBcnlCLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUdBcEQsTUFBQSxTQUFBQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLGFBS0E2TixHQUFBa00sU0FBQSxTQUFBZy9CLFFBQUFsdUIsVUFDQTdyQixXQUNBNUYsYUFBQXl4QixVQUNBcHVCLEtBQUEsU0FBQUMsTUFDQSttQixFQUFBLGtCQUFBdUcsTUFBQSxRQUNBcnlCLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxXQUVBcEQsTUFBQSxTQUFBQyxLQUNBNG1CLEVBQUEsa0JBQUF1RyxNQUFBLFFBQ0FyeUIsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLFlBSUE2TixHQUFBeFUsVUFBQSxTQUFBbzBCLE9BQ0EsZ0RBQ0F6c0IsS0FBQXlzQixPQUlBenVCLFdBQ0EzRixVQUFBLENBQUFvMEIsTUFBQUEsUUFDQWh4QixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBb3JDLGVBQUEsR0FDQXRoRCxhQUFBb0ksUUFBQXJELEtBQUF4RCxLQUFBOEcsV0FFQXBELE1BQUEsU0FBQUMsS0FDQWxGLGFBQUF5TixNQUFBdkksSUFBQTNELEtBQUE4RyxXQVZBckksYUFBQXlOLE1BQUEsb0JBdlRBLEdDQUEsV0FDQTdQLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsY0FFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixRQUNBMHFCLE9BSUEsSUFFQXpwQixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFFQSxJQUFBdXBCLFlBQUExakIsWUFFQSxZQURBOUYsU0FMQU0sS0FXQXFNLFNBQUExTSxVQUFBUCxNQUVBNEcsV0FDQXZGLGtCQUNBZ0QsS0FBQSxTQUFBQyxNQUNBbkMsUUFBQUMsSUFBQWtDLEtBQUF4RCxRQUVBMEQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixLQW5CQWpILEtBc0JBTixPQUFBLFdBQ0FBLFlBdENBLEdDQUEsV0FDQW5ELFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsbUJBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQXdxQixNQUNBMXFCLFFBQ0FELHFCQUVBLElBQUFxVyxHQUFBN1UsS0FDQWdwQixPQUFBazNCLE9BQUEsc0NBQ0FsM0IsT0FBQW0zQixPQUFBLHVDQUhBLElBSUF6Z0QsT0FBQWpCLFFBQUFpQixPQUNBc3BCLE9BQUFvM0IsVUFBQSxHQUNBcDNCLE9BQUFxM0IsbUJBQUEsRUFDQXIzQixPQUFBczNCLFlBQUEsR0FDQXQzQixPQUFBdTNCLFdBQUEsR0FDQXYzQixPQUFBdzNCLE9BQUEsQ0FDQTF4QyxTQUFBLE1BR0FvYSxZQUFBMWpCLGFBQ0E5RixTQUlBbVYsR0FBQW5WLE9BQUEsV0FDQUEsVUFHQXNwQixPQUFBeTNCLFlBQUEsV0FDQSxJQUFBanhCLElBQUEsSUFBQWxmLE1BQ0FrZixJQUFBNWUsSUFBQSxzQ0FDQSxJQUFBOHZDLEtBQUEsSUFBQXB3QyxNQUNBb3dDLEtBQUE5dkMsSUFBQSx1Q0FDQSxJQUFBM0csSUFBQSxJQUFBMDJDLE1BQUEsS0FFQTEyQyxJQUFBMjJDLFNBQUFweEIsSUFBQSxNQUFBLEdBQUEsR0FBQSxHQUFBLElBQ0F2bEIsSUFBQTIyQyxTQUFBRixLQUFBLE1BQUEsSUFBQSxHQUFBLEdBQUEsSUFFQXoyQyxJQUFBNDJDLFVBQUEsQ0FDQUMsS0FBQSxlQUVBQyxPQUFBLENBQUF4ZCxJQUFBLEtBQ0F5ZCxVQUFBLE9BQ0FDLFdBQUEsT0FDQUMsV0FBQSxjQUlBajNDLElBQUFrM0MsWUFBQSxJQUNBbDNDLElBQUFtRCxLQUFBLEdBQUEsSUFBQSxZQUNBbkQsSUFBQWszQyxZQUFBLElBQ0FsM0MsSUFBQW0zQyxRQUFBLGFBRUFuM0MsSUFBQW1ELEtBQUEsR0FBQSxJQUFBLGtGQUNBbkQsSUFBQW1ELEtBQUEsR0FBQSxJQUFBLDJHQUVBbkQsSUFBQW1ELEtBQUEsR0FBQSxJQUFBLHFEQVNBbkQsSUFBQW8zQyxLQUFBLGdCQWtCQSxJQUFBeDFDLFNBQUEsRUFDQXUxQixVQUFBLEVBQ0F2c0IsR0FBQXlzQyxZQUFBLEdBQ0F6c0MsR0FBQXlzQixnQkFBQSxFQUNBenNCLEdBQUEwc0IsV0FBQSxDQUNBQyxNQUFBLFVBQ0E5N0IsTUFBQSxHQTBCQXNqQixPQUFBdTRCLGlCQUFBLFdBRUExc0MsR0FBQXlzQixnQkFBQSxFQUNBdDdCLFdBQ0FvdEMsY0FBQSxDQUNBcmUsT0FBQWxnQixHQUFBeXNDLFlBQ0FoN0IsTUFBQThhLFVBQ0FqM0IsS0FBQSxFQUNBMnFCLEtBQUFqZ0IsR0FBQTBzQixXQUFBQyxNQUNBeE0sU0FBQW5nQixHQUFBMHNCLFdBQUE3N0IsT0FFQWpDLEtBQUEsU0FBQUMsTUFFQW1SLEdBQUEyc0MsZ0JBQUEsR0FDQXg0QixPQUFBdTNCLFdBQUEvNUMsT0FBQSxHQUVBd2lCLE9BQUF1M0IsV0FBQS8zQyxRQUFBLFNBQUF1dUIsU0FDQXJ6QixLQUFBeEQsS0FBQTJyQixLQUFBcmpCLFFBQUEsU0FBQWk1QyxRQUFBMS9CLE9BQ0FnVixRQUFBNXhCLEtBQUFzOEMsUUFBQXQ4QyxJQUVBekIsS0FBQXhELEtBQUEyckIsS0FBQXZrQixPQUFBeWEsTUFBQSxHQUVBeGdCLFFBQUFDLElBQUEsYUFRQXluQixTQUFBLFdBRUFwVSxHQUFBMnNDLGdCQUFBOTlDLEtBQUF4RCxLQUFBMnJCLEtBQ0FwQixFQUFBLG9CQUFBdUcsTUFBQSxRQUNBdkcsRUFBQSxxQkFBQXVHLE1BQUEsUUFDQWhJLE9BQUEwNEIsVUFBQSxNQUdBOTlDLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFHQXdqQixFQUFBLHFCQUFBNVosR0FBQSxnQkFBQSxXQUNBZ0UsR0FBQXlzQixnQkFBQSxJQUdBenNCLEdBQUE4c0MsaUJBQUEsV0FDQWwzQixFQUFBLHFCQUFBdUcsTUFBQSxRQUNBbmMsR0FBQXlzQyxZQUFBLElBR0F0NEIsT0FBQThaLFFBQUEsV0FDQXZoQyxRQUFBQyxJQUFBLG9CQUNBcUssVUFDQUEsU0FBQSxFQUNBb2QsU0FBQSxXQUNBcGQsU0FBQSxHQUNBLEtBQ0F1MUIsV0FBQSxFQUNBcDdCLFdBQ0FvdEMsY0FBQSxDQUNBcmUsT0FBQWxnQixHQUFBeXNDLFlBQ0FoN0IsTUFBQThhLFVBQ0FqM0IsS0FBQSxFQUNBMnFCLEtBQUFqZ0IsR0FBQTBzQixXQUFBQyxNQUNBeE0sU0FBQW5nQixHQUFBMHNCLFdBQUE3N0IsT0FFQWpDLEtBQUEsU0FBQUMsTUFHQW1SLEdBQUEyc0MsZ0JBQUEsR0FDQXg0QixPQUFBdTNCLFdBQUEvNUMsT0FBQSxHQUVBd2lCLE9BQUF1M0IsV0FBQS8zQyxRQUFBLFNBQUF1dUIsU0FFQXJ6QixLQUFBeEQsS0FBQTJyQixLQUFBcmpCLFFBQUEsU0FBQWk1QyxRQUFBMS9CLE9BQ0FnVixRQUFBNXhCLEtBQUFzOEMsUUFBQXQ4QyxLQUNBekIsS0FBQXhELEtBQUEyckIsS0FBQXZrQixPQUFBeWEsTUFBQSxPQVNBa0gsU0FBQSxXQUVBcFUsR0FBQTJzQyxnQkFBQTk5QyxLQUFBeEQsS0FBQTJyQixTQUlBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FNQTROLEdBQUEyK0IsYUFBQSxTQUFBcG1DLE1BQ0E3TCxRQUFBQyxJQUFBLFlBQUE0TCxNQUNBcEgsV0FDQW90QyxjQUFBLENBQ0FyZSxPQUFBbGdCLEdBQUF5c0MsWUFDQWg3QixNQUFBOGEsVUFDQWozQixLQUFBLEVBQ0EycUIsS0FBQWpnQixHQUFBMHNCLFdBQUFDLE1BQ0F4TSxTQUFBbmdCLEdBQUEwc0IsV0FBQTc3QixPQUVBakMsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQTJzQyxnQkFBQTk5QyxLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFNQStoQixPQUFBNDRCLFdBQUEsR0FDQTU0QixPQUFBNjRCLFVBQUEsU0FBQWh6QyxNQUFBM0IsT0FDQWhPLE1BQUEyUCxPQUFBM1AsTUFBQWdPLFFBQ0E4YixPQUFBNDRCLFdBQUF2NkMsS0FBQSxDQUFBc3RDLE1BQUE5bEMsTUFBQWl6QyxNQUFBNTBDLFFBQ0F1ZCxFQUFBLGdCQUFBN2lCLElBQUEsSUFDQTZpQixFQUFBLGdCQUFBN2lCLElBQUEsTUFNQWlOLEdBQUFrdEMsYUFBQSxTQUFBbk0sTUFBQTd6QixNQUFBOU0sT0FFQTJnQyxPQUlBM2dDLE1BQUEzTixPQUFBeWEsTUFBQSxHQUNBaUgsT0FBQXUzQixXQUFBbDVDLEtBQUF1dUMsT0FDQW5yQixFQUFBLHFCQUFBdUcsTUFBQSxRQUNBdkcsRUFBQSxvQkFBQXVHLE1BQUEsU0FHQXJ5QixhQUFBeU4sTUFBQSxpQkFLQXlJLEdBQUFtdEMscUJBQUEsV0FDQXYzQixFQUFBLHFCQUFBdUcsTUFBQSxRQUNBdkcsRUFBQSxvQkFBQXVHLE1BQUEsU0FHQWhJLE9BQUFpNUIsZUFBQSxXQUNBeDNCLEVBQUEsb0JBQUF1RyxNQUFBLFFBQ0FoSSxPQUFBcTNCLG1CQUFBLEdBNEJBcjNCLE9BQUFrNUIsZUFBQSxXQUNBejNCLEVBQUEsbUJBQUF1RyxNQUFBLFNBRUFoSSxPQUFBbTVCLGFBQUEsV0FDQTEzQixFQUFBLGlCQUFBdUcsTUFBQSxTQUVBaEksT0FBQW81QixpQkFBQSxXQUNBMzNCLEVBQUEscUJBQUF1RyxNQUFBLFNBRUFoSSxPQUFBcTVCLGtCQUFBLFdBQ0E1M0IsRUFBQSxzQkFBQXVHLE1BQUEsU0FHQWhJLE9BQUFzNUIsb0JBQUEsV0FDQTczQixFQUFBLG9CQUFBdUcsTUFBQSxTQUlBaEksT0FBQXU1QixhQUFBLFNBQUF0OUMsUUFDQTFELFFBQUFDLElBQUF5RCxRQUNBK2pCLE9BQUFzM0IsWUFBQXp4QyxNQUFBNUosT0FBQTRKLE1BQ0FtYSxPQUFBczNCLFlBQUF2eEMsWUFBQTlKLE9BQUE4SixZQUNBaWEsT0FBQXMzQixZQUFBa0MsWUFBQXY5QyxPQUFBdTlDLFlBQ0F4NUIsT0FBQXMzQixZQUFBN3JCLE1BQUF4dkIsT0FBQXd2QixNQUNBekwsT0FBQXMzQixZQUFBbUMsUUFBQXg5QyxPQUFBdzlDLFFBQ0F6NUIsT0FBQXMzQixZQUFBb0MsTUFBQXo5QyxPQUFBeTlDLE1BQ0ExNUIsT0FBQXMzQixZQUFBN2UsWUFBQXg4QixPQUFBdzhCLFlBQ0F6WSxPQUFBczNCLFlBQUFxQyxTQUFBMTlDLE9BQUEwOUMsU0FDQTM1QixPQUFBczNCLFlBQUFzQyxXQUFBMzlDLE9BQUEyOUMsV0FDQTU1QixPQUFBdTNCLFdBQUEvNUMsT0FBQSxJQUNBd2lCLE9BQUFzM0IsWUFBQUMsV0FBQXYzQixPQUFBdTNCLFlBRUF2M0IsT0FBQTQ0QixXQUFBcDdDLE9BQUEsSUFDQXdpQixPQUFBczNCLFlBQUFzQixXQUFBNTRCLE9BQUE0NEIsWUFFQTU0QixPQUFBczNCLFlBQUF1QyxXQUFBNTlDLE9BQUE0OUMsV0FDQTc1QixPQUFBczNCLFlBQUF3QyxXQUFBNzlDLE9BQUE2OUMsV0FFQXI0QixFQUFBLG1CQUFBdUcsTUFBQSxRQUNBdkcsRUFBQSxpQkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEscUJBQUF1RyxNQUFBLFFBQ0F2RyxFQUFBLHNCQUFBdUcsTUFBQSxRQUNBdkcsRUFBQSxxQkFBQXVHLE1BQUEsU0FHQWhJLE9BQUEwNEIsVUFBQSxFQUNBMTRCLE9BQUErNUIsY0FBQSxXQUNBLzVCLE9BQUEwNEIsVUFBQSxHQUdBMTRCLE9BQUFnNkIsb0JBQUEsU0FBQWpoQyxNQUFBOU0sT0FDQUEsTUFBQTNOLE9BQUF5YSxNQUFBLEdBQ0F4Z0IsUUFBQUMsSUFBQXduQixPQUFBdTNCLGVBcFdBLEdDQUEsV0FDQWhrRCxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGNBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0EwSCxXQUNBckgsYUFDQXdxQixNQUNBMXFCLFFBQ0FELHFCQUVBLElBQUFxVyxHQUFBN1UsS0FFQU4sT0FBQWpCLFFBQUFpQixPQUFBakIsUUFBQWtCLFVBRUF1cEIsWUFBQTFqQixhQUNBOUYsU0FFQXNwQixPQUFBaTZCLFlBQUF6a0Qsb0JBQUFZLElBQUEsWUFFQTRwQixPQUFBazZCLGVBQUEsQ0FBQSxjQUFBLGVBQUEsWUFDQWw5QyxXQUFBeEYsZUFBQWlELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFzdUMsY0FBQXovQyxLQUFBeEQsS0FBQTJyQixPQUVBN2xCLFdBQ0F2RixrQkFDQWdELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFpb0IsWUFBQXA1QixLQUFBeEQsT0FJQTBELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsS0FFQTROLEdBQUFuVixPQUFBLFdBQ0FBLFlBdENBLEdDQUEsV0FDQW5ELFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEscUJBRUEsU0FDQTZxQixPQUNBQyxTQUNBMXFCLFVBQ0EycUIsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFNBR0EsSUFDQWlCLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUNBLElBQUF1cEIsWUFBQTFqQixZQUVBLFlBREE5RixTQUhBTSxLQVFBcU0sU0FBQTFNLFVBQUFQLE1BUkFZLEtBU0FOLE9BQUEsV0FBQUEsVUFLQSxZQUZBbkIsVUFBQWlzQixRQUdBQyxFQUFBLGdCQUFBQyxJQUFBLFVBQUEsb0JBSUFELEVBQUEsZ0JBQUFFLGNBakNBLEdDQUEsV0FDQXB1QixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLGtCQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQTFxQixVQUNBMnFCLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBRixTQUdBLElBQUFvVyxHQUFBN1UsS0FFQWhCLE1BQUFULFVBQUF3MkIsU0FBQS8xQixNQUVBLElBQUFBLE1BQ0EsT0FHQWdILFdBQ0FvOUMsYUFBQSxDQUFBcGtELE1BQUFBLFFBQ0F5RSxLQUFBLFNBQUFDLE1BQ0FuQyxRQUFBQyxJQUFBa0MsS0FBQXhELE1BQ0F3RCxLQUFBeEQsS0FBQW1qRCxZQUNBeHVDLEdBQUFrRCxLQUFBclUsS0FBQXhELEtBQUE2WCxLQUNBMFMsRUFBQSxvQkFBQXVHLE1BQUEsVUFFQXp2QixRQUFBQyxJQUFBLFNBQ0FpcEIsRUFBQSxpQkFBQXVHLE1BQUEsV0FHQXB0QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBR0E0TixHQUFBeXVDLFVBQUEsU0FBQXZELFFBQUE3L0MsTUFFQSxHQURBdXFCLEVBQUEsb0JBQUF1RyxNQUFBLFFBQ0FuYyxHQUFBeXVDLFVBQUFDLFdBQUExdUMsR0FBQXl1QyxVQUFBRSxXQUFBLENBQ0EsSUFBQXRqRCxLQUFBLENBQ0FxakQsU0FBQTF1QyxHQUFBeXVDLFVBQUFDLFNBQ0F4ckMsS0FBQWxELEdBQUFrRCxNQUVBeFcsUUFBQUMsSUFBQXRCLE1BQ0E4RixXQUNBeTlDLFlBQUF2akQsTUFDQXVELEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBckQsS0FBQXhELEtBQUE4RyxTQUNBMUksT0FBQTZOLEdBQUEsY0FFQXZJLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsVUFHQXRJLGFBQUF5TixNQUFBLGtEQUdBeUksR0FBQTZ1QyxLQUFBLFdBQ0FqNUIsRUFBQSxpQkFBQXVHLE1BQUEsUUFDQS9ILFNBQUEsV0FDQTNxQixPQUFBNk4sR0FBQSxpQkE5REEsR0NBQSxXQUNBNVAsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxjQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFFBQ0FDLFFBSUEsSUFBQW1XLEdBQUE3VSxLQUNBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFBQTZNLGFBQUEvTixRQUFBK04sYUFDQSxJQUFBMGMsWUFBQTFqQixZQUVBLFlBREE5RixTQUlBbVYsR0FBQXhJLFNBQUExTSxVQUFBUCxNQUNBb04sYUFBQXBOLE9BQ0F5VixHQUFBcEksWUFBQUQsYUFBQXBOLE1BQ0F5VixHQUFBOU8sV0FBQThPLEdBQUFwSSxZQUFBMUcsWUFFQUMsV0FDQTFGLGVBQUF1VSxHQUFBeEksU0FBQTlMLFdBQ0FrRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBcEksWUFBQS9JLEtBQUF4RCxLQUNBMlUsR0FBQTlPLFdBQUE4TyxHQUFBcEksWUFBQTFHLGFBRUFuQyxNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLEtBSUE0TixHQUFBOHVDLG1CQUFBLFNBQUE5eEIsVUFDQTdyQixXQUNBNDlDLHNCQUFBL3hCLFVBQ0FwdUIsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFNBQ0F3RixhQUFBRSxRQUFBbUksR0FBQXhJLFNBQUE5TCxhQUVBcUQsTUFBQSxTQUFBcUQsR0FDQXRJLGFBQUF5TixNQUFBLHdCQUNBN0ssUUFBQUMsSUFBQXlGLE1BSUE0TixHQUFBZ3ZDLGNBQUEsV0FDQXZsRCxPQUFBNk4sR0FBQSxjQUdBMEksR0FBQW5WLE9BQUEsV0FDQUEsWUF4REEsR0NBQSxXQUNBbkQsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxvQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FySCxhQUNBd3FCLE1BQ0ExcUIsUUFDQUQscUJBRUEsSUFBQXFXLEdBQUE3VSxLQUVBNlUsR0FBQWl2QyxrQkFBQSxHQUNBanZDLEdBQUFrdkMsU0FBQSxHQUpBLElBS0Fya0QsT0FBQWpCLFFBQUFpQixPQUFBakIsUUFBQWlQLFNBQUFqUCxRQUFBa0IsVUFDQXVwQixZQUFBMWpCLGFBQ0E5RixTQUlBbVYsR0FBQW12QyxrQkFBQSxTQUFBdCtDLE1BR0FNLFdBQ0FpK0MscUJBQUEsQ0FDQTk1QyxLQUFBLEVBQ0FtYyxNQUFBLEdBQ0F3TyxLQUFBcHZCLE9BSUFqQyxLQUFBLFNBQUFDLE1BR0FtUixHQUFBcXZDLGlCQUFBeGdELEtBQUF4RCxLQUFBMnJCLEtBQ0FoWCxHQUFBc3ZDLG9CQUFBemdELEtBQUF4RCxLQUFBaTFCLE1BQ0E1ekIsUUFBQUMsSUFBQSxpQkFBQXFULEdBQUFxdkMsa0JBQ0FqN0IsU0FBQSxXQUVBd0IsRUFBQSxlQUFBMkssV0FBQSxDQUNBbHZCLE1BQUEyTyxHQUFBc3ZDLG9CQUNBOXVCLFlBQUEsR0FDQUMsU0FBQSxjQUNBQyxlQUFBLElBQ0FDLFVBQUEsRUFDQXBCLFlBQUEsRUFFQXFCLFlBQUEsU0FBQXRyQixLQUFBK1csT0FDQUEsTUFBQXRQLGlCQUNBNUwsV0FDQWkrQyxxQkFBQSxDQUNBOTVDLEtBQUFBLEtBQ0FtYyxNQUFBLEdBQ0F3TyxLQUFBcHZCLE9BR0FqQyxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBcXZDLGlCQUFBeGdELEtBQUF4RCxLQUFBMnJCLE9BRUFqb0IsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixZQU1BckQsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUlBNE4sR0FBQW12QyxrQkFBQSxXQUdBbnZDLEdBQUF1dkMsUUFBQSxXQUNBcCtDLFdBQ0FxK0MsbUJBQUE1Z0QsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXl2QyxRQUFBNWdELEtBQUF4RCxLQUFBMnJCLEtBQ0F0cUIsUUFBQUMsSUFBQXFULEdBQUF5dkMsV0FDQTFnRCxNQUFBLFNBQUFxRCxPQUtBNE4sR0FBQXV2QyxVQUdBdnZDLEdBQUEwdkMscUJBQUEsV0FDQTk1QixFQUFBLFNBQUErNUIsU0FBQSxXQUNBampELFFBQUFDLElBQUEsUUFDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxnQkFBQTZFLFNBQUEsVUFFQTdFLEVBQUEsU0FBQTJFLFlBQUEsUUFDQTNFLEVBQUEsU0FBQTJFLFlBQUEsVUFFQTNFLEVBQUEsWUFBQTZFLFNBQUEsUUFDQTdFLEVBQUEsWUFBQTZFLFNBQUEsV0FFQTdFLEVBQUEsZ0JBQUErNUIsU0FBQSxZQUNBampELFFBQUFDLElBQUEsV0FDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxnQkFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsWUFBQTZFLFNBQUEsUUFDQTdFLEVBQUEsWUFBQTZFLFNBQUEsWUFNQXphLEdBQUE0dkMseUJBQUEsV0FDQWg2QixFQUFBLGdCQUFBKzVCLFNBQUEsV0FDQWpqRCxRQUFBQyxJQUFBLFFBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsYUFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsU0FBQTZFLFNBQUEsUUFDQTdFLEVBQUEsU0FBQTZFLFNBQUEsV0FFQTdFLEVBQUEsZ0JBQUErNUIsU0FBQSxZQUNBampELFFBQUFDLElBQUEsV0FDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxnQkFBQTZFLFNBQUEsVUFFQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsWUFBQTZFLFNBQUEsUUFDQTdFLEVBQUEsWUFBQTZFLFNBQUEsWUFNQXphLEdBQUE2dkMsVUFBQSxXQUNBajZCLEVBQUEsZ0JBQUErNUIsU0FBQSxXQUNBampELFFBQUFDLElBQUEsUUFDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxhQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxZQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxnQkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsU0FBQTZFLFNBQUEsUUFDQTdFLEVBQUEsU0FBQTZFLFNBQUEsV0FFQTdFLEVBQUEsZ0JBQUErNUIsU0FBQSxZQUNBampELFFBQUFDLElBQUEsV0FDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxhQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxnQkFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsU0FBQTZFLFNBQUEsUUFDQTdFLEVBQUEsU0FBQTZFLFNBQUEsWUFNQXRHLE9BQUEyN0IsZUFBQSxTQUFBNWlDLE1BQUE5TSxPQUNBQSxNQUFBM04sT0FBQXlhLE1BQUEsSUFHQWlILE9BQUE0N0IsWUFBQSxTQUFBN2lDLE1BQUE5TSxPQUNBQSxNQUFBM04sT0FBQXlhLE1BQUEsSUFLQWlILE9BQUE4bkIsU0FBQSxTQUFBeG9DLE9BRUFwSixNQUFBb0osTUFBQSxLQUNBMGdCLE9BQUE2N0IsUUFBQS9QLElBQUFDLGdCQUFBenNDLE1BQUEsSUFDQTBnQixPQUFBODdCLFFBQUF4OEMsTUFBQSxHQUFBcEUsS0FBQTJaLE1BQUEsS0FBQWtuQyxRQUtBdG1ELFFBQUErTyxpQkFBQS9KLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFySCxlQUFBOUosS0FBQXhELEtBRUEyVSxHQUFBa2hCLGdCQUFBLFNBQUFDLFFBQ0EsT0FBQSxJQUFBM3lCLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXhELFdBS0E4RixXQUFBekQsbUJBQUFrQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBbXdDLGFBQUF0aEQsS0FBQXhELEtBQUEyckIsT0FJQWhYLEdBQUFvd0MsVUFBQSxTQUFBL2dELEtBQUFnaEQsS0FBQW50QixLQUFBb3RCLE1BQ0F0d0MsR0FBQWt2QyxTQUFBMThDLEtBQUEsQ0FBQW5ELEtBQUFBLEtBQUF1d0IsTUFBQXl3QixLQUFBRSxRQUFBLENBQUExdUIsU0FBQXFCLEtBQUFwQixZQUFBd3VCLFNBSUF0d0MsR0FBQXd3QyxlQUFBLFdBQ0E1NkIsRUFBQSx5QkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEsaUJBQUF1RyxNQUFBLFNBS0FoSSxPQUFBczhCLG9CQUFBLFNBQUEvZ0QsY0FBQWdoRCxXQUNBaGhELGNBQUFpaEQsV0FBQSxHQUNBamhELGNBQUFXLE1BQUEsR0FDQXFnRCxVQUFBLytDLE9BQUEsR0FDQSsrQyxVQUFBLzhDLFFBQUEsU0FBQXV1QixTQUNBeHlCLGNBQUFpaEQsV0FBQW4rQyxLQUFBMHZCLFFBQUE1eEIsT0FHQTBQLEdBQUFrdkMsU0FBQXY5QyxPQUFBLEdBQ0FxTyxHQUFBa3ZDLFNBQUF2N0MsUUFBQSxTQUFBdXVCLFNBQ0F4eUIsY0FBQVcsTUFBQW1DLEtBQUEwdkIsV0FHQXgxQixRQUFBQyxJQUFBLGdCQUFBK0MsZUFDQXlCLFdBQ0F5L0MsdUJBQUFsaEQsZUFDQWQsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUEscUNBQ0E4TixHQUFBNndDLGNBQ0E3d0MsR0FBQTZ2QyxZQUVBbmdELGNBQUFpaEQsV0FBQSxHQUNBLzZCLEVBQUEseUJBQUF1RyxNQUFBLFFBQ0FuYyxHQUFBbXZDLGtCQUFBLGFBRUFwZ0QsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixHQUNBdEksYUFBQXlOLE1BQUEsMkJBSUF5SSxHQUFBNndDLFlBQUEsV0FFQSxHQURBN3dDLEdBQUF0USxjQUFBLEdBQ0FzUSxHQUFBa3ZDLFNBQUF2OUMsT0FBQSxFQUNBLEtBQUFxTyxHQUFBa3ZDLFNBQUF2OUMsT0FBQSxHQUNBcU8sR0FBQWt2QyxTQUFBZ0IsTUFJQXQ2QixFQUFBLGNBQUE3aUIsSUFBQSxJQUNBNmlCLEVBQUEsY0FBQTRjLFFBQUEsVUFDQXJlLE9BQUE2N0IsYUFBQTNsRCxFQUNBdXJCLEVBQUEsY0FBQTdpQixJQUFBLE1BQ0E2aUIsRUFBQSxlQUFBN2lCLElBQUEsSUFDQTZpQixFQUFBLGdCQUFBN2lCLElBQUEsSUFDQTZpQixFQUFBLG1CQUFBN2lCLElBQUEsSUFDQTZpQixFQUFBLHNCQUFBN2lCLElBQUEsS0FHQWlOLEdBQUE4d0MsZ0JBQUEsU0FBQXhvQixXQUNBNTdCLFFBQUFDLElBQUEyN0IsV0FDQWorQixNQUFBaStCLFVBQ0F4K0IsYUFBQXlOLE1BQUEseUJBR0FwRyxXQUFBNC9DLGNBQUF6b0IsV0FDQTE1QixLQUFBLFNBQUFDLE1BQ0ErbUIsRUFBQSxpQkFBQXVHLE1BQUEsUUFDQXZHLEVBQUEseUJBQUF1RyxNQUFBLFFBQ0FuYyxHQUFBc29CLFVBQUEsR0FDQXgrQixhQUFBb0ksUUFBQSx5QkFDQThOLEdBQUF1dkMsWUFFQXhnRCxNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQUEsMkJBS0E0YyxPQUFBNjhCLFVBQUEsQ0FDQSxDQUFBaDNDLE1BQUEsa0JBQUFpM0MsS0FBQSwwQkFBQXQyQixJQUFBLHlDQUNBLENBQUEzZ0IsTUFBQSxrQkFBQWkzQyxLQUFBLDBCQUFBdDJCLElBQUEseUNBQ0EsQ0FBQTNnQixNQUFBLGtCQUFBaTNDLEtBQUEsMEJBQUF0MkIsSUFBQSx5Q0FDQSxDQUFBM2dCLE1BQUEsa0JBQUFpM0MsS0FBQSwwQkFBQXQyQixJQUFBLHlDQUNBLENBQUEzZ0IsTUFBQSxrQkFBQWkzQyxLQUFBLDBCQUFBdDJCLElBQUEseUNBQ0EsQ0FBQTNnQixNQUFBLGtCQUFBaTNDLEtBQUEsMEJBQUF0MkIsSUFBQSw0Q0E5UkEsR0NBQSxXQUNBanpCLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsMEJBRUEsU0FDQTZxQixPQUNBQyxTQUNBQyxZQUNBNXFCLE9BQ0E2NUIsYUFDQW55QixXQUNBckgsYUFDQXdxQixNQUNBMXFCLFFBQ0FELHFCQUVBLElBQUFxVyxHQUFBN1UsS0FHQU4sT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQ0F1cEIsWUFBQTFqQixhQUNBOUYsU0FFQW1WLEdBQUF4SSxTQUFBMU0sVUFBQVAsTUFHQXlWLEdBQUFuVixPQUFBLFdBQ0FBLFVBRUFtVixHQUFBa3hDLGdCQUFBNXRCLGFBQUFuMkIsR0FDQWduQixPQUFBZzlCLHVCQUFBLFdBQ0FoZ0QsV0FDQWlnRCxxQkFBQXB4QyxHQUFBa3hDLGlCQUNBdGlELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFxeEMsa0JBQUF4aUQsS0FBQXhELEtBQ0E4b0IsT0FBQTY3QixRQUFBaHdDLEdBQUFxeEMsa0JBQUFDLFdBRUExN0IsRUFBQSxhQUFBMjdCLFFBQUEsT0FBQSxDQUFBcGtELEdBQUE2UyxHQUFBd3hDLGtCQUFBakIsUUFBQTF1QixXQUNBbjFCLFFBQUFDLElBQUFxVCxHQUFBcXhDLHNCQUlBbDlCLE9BQUFnOUIseUJBRUFueEMsR0FBQXl4QyxzQkFBQSxXQUNBNzdCLEVBQUEsU0FBQSs1QixTQUFBLFdBQ0FqakQsUUFBQUMsSUFBQSxRQUNBaXBCLEVBQUEsOEJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLGdCQUFBNkUsU0FBQSxVQUVBN0UsRUFBQSxTQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxTQUFBMkUsWUFBQSxVQUVBM0UsRUFBQSxZQUFBNkUsU0FBQSxRQUNBN0UsRUFBQSxZQUFBNkUsU0FBQSxXQUVBN0UsRUFBQSxnQkFBQSs1QixTQUFBLFlBQ0FqakQsUUFBQUMsSUFBQSxXQUNBaXBCLEVBQUEsOEJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLGdCQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxZQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxZQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxZQUFBNkUsU0FBQSxRQUNBN0UsRUFBQSxZQUFBNkUsU0FBQSxZQU1BemEsR0FBQTB4QywwQkFBQSxXQUNBOTdCLEVBQUEsZ0JBQUErNUIsU0FBQSxXQUNBampELFFBQUFDLElBQUEsUUFDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxhQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxZQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxZQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxTQUFBNkUsU0FBQSxRQUNBN0UsRUFBQSxTQUFBNkUsU0FBQSxXQUVBN0UsRUFBQSxnQkFBQSs1QixTQUFBLFlBQ0FqakQsUUFBQUMsSUFBQSxXQUNBaXBCLEVBQUEsOEJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLGdCQUFBNkUsU0FBQSxVQUVBN0UsRUFBQSxZQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxZQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxZQUFBNkUsU0FBQSxRQUNBN0UsRUFBQSxZQUFBNkUsU0FBQSxZQU1BemEsR0FBQTZ2QyxVQUFBLFdBQ0FqNkIsRUFBQSxnQkFBQSs1QixTQUFBLFdBQ0FqakQsUUFBQUMsSUFBQSxRQUNBaXBCLEVBQUEsOEJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLGFBQUE2RSxTQUFBLFVBQ0E3RSxFQUFBLFlBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLGdCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxZQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxTQUFBNkUsU0FBQSxRQUNBN0UsRUFBQSxTQUFBNkUsU0FBQSxXQUVBN0UsRUFBQSxnQkFBQSs1QixTQUFBLFlBQ0FqakQsUUFBQUMsSUFBQSxXQUNBaXBCLEVBQUEsOEJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLGFBQUE2RSxTQUFBLFVBQ0E3RSxFQUFBLGdCQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxZQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxZQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxTQUFBNkUsU0FBQSxRQUNBN0UsRUFBQSxTQUFBNkUsU0FBQSxZQU1BemEsR0FBQXV2QyxRQUFBLFdBQ0FwK0MsV0FDQXErQyxtQkFBQTVnRCxLQUFBLFNBQUFDLE1BQ0FtUixHQUFBeXZDLFFBQUE1Z0QsS0FBQXhELEtBQUEyckIsS0FDQXRxQixRQUFBQyxJQUFBcVQsR0FBQXl2QyxXQUNBMWdELE1BQUEsU0FBQXFELE9BS0E0TixHQUFBdXZDLFVBSUEzbEQsUUFBQStPLGlCQUFBL0osS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXJILGVBQUE5SixLQUFBeEQsS0FFQTJVLEdBQUFraEIsZ0JBQUEsU0FBQUMsUUFDQSxPQUFBLElBQUEzeUIsUUFBQSxTQUFBQyxRQUFBQyxRQUNBRCxRQUFBSSxLQUFBeEQsV0FLQTJVLEdBQUFvd0MsVUFBQSxTQUFBL2dELEtBQUFnaEQsS0FBQW50QixLQUFBb3RCLE1BQ0F0d0MsR0FBQXF4QyxrQkFBQWhoRCxNQUFBbUMsS0FBQSxDQUFBbkQsS0FBQUEsS0FBQXV3QixNQUFBeXdCLEtBQUFFLFFBQUEsQ0FBQTF1QixTQUFBcUIsS0FBQXBCLFlBQUF3dUIsU0FFQW44QixPQUFBNDdCLFlBQUEsU0FBQTdpQyxNQUFBOU0sT0FDQUEsTUFBQTNOLE9BQUF5YSxNQUFBLElBR0FpSCxPQUFBOG5CLFNBQUEsU0FBQXhvQyxPQUVBcEosTUFBQW9KLE1BQUEsS0FDQTBnQixPQUFBNjdCLFFBQUEvUCxJQUFBQyxnQkFBQXpzQyxNQUFBLElBQ0EwZ0IsT0FBQTg3QixRQUFBeDhDLE1BQUEsR0FBQXBFLEtBQUEyWixNQUFBLEtBQUFrbkMsUUFLQS83QixPQUFBdzlCLG9CQUFBLFNBQUFqaUQsY0FBQWloRCxZQUNBamtELFFBQUFDLElBQUErQyxlQUNBaEQsUUFBQUMsSUFBQWdrRCxpQkFDQSxJQUFBQSxZQUVBQSxXQUFBaC9DLE9BQUEsSUFDQWpDLGNBQUFpaEQsV0FBQWgvQyxPQUFBLEVBQ0FnL0MsV0FBQWg5QyxRQUFBLFNBQUF1dUIsU0FFQXh5QixjQUFBaWhELFdBQUFuK0MsS0FBQTB2QixRQUFBNXhCLFFBSUFaLGNBQUFpaEQsV0FBQSxHQUNBQSxXQUFBaDlDLFFBQUEsU0FBQXV1QixTQUNBeHlCLGNBQUFpaEQsV0FBQW4rQyxLQUFBMHZCLFFBQUE1eEIsU0FLQTVELFFBQUFDLElBQUEsaUJBQUErQyxlQUVBeUIsV0FBQXdnRCxvQkFBQWppRCxlQUNBZCxLQUFBLFNBQUFDLE1BQ0EvRSxhQUFBb0ksUUFBQSx1QkFDQTBqQixFQUFBLGlCQUFBdUcsTUFBQSxRQUNBaEksT0FBQWc5QiwyQkFDQXBpRCxNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQUEsdUNBekxBLEdDQUEsV0FDQTdQLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZUFFQSxTQUNBNnFCLE9BQ0ExWixXQUNBMlosU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFFBQ0FrVyxtQkFDQWpXLE9BQ0FGLHFCQUVBLElBQUFxVyxHQUFBN1UsS0FDQTZVLEdBQUFpdkMsa0JBQUEsR0FDQWp2QyxHQUFBa3ZDLFNBQUEsR0FIQSxJQUlBcmtELE9BQUFqQixRQUFBaUIsT0FBQWpCLFFBQUFpUCxTQUFBalAsUUFBQWtCLFVBQ0FxcEIsT0FBQW1MLGdCQUFBLEVBRUFqTCxZQUFBMWpCLGFBQ0E5RixTQUdBbVYsR0FBQTR4QyxhQUFBLFNBQUEvZ0QsTUFHQU0sV0FDQTZ4QyxnQkFBQSxDQUNBMXRDLEtBQUEsRUFDQW1jLE1BQUEsR0FDQXdPLEtBQUFwdkIsT0FJQWpDLEtBQUEsU0FBQUMsTUFHQW1SLEdBQUE2eEMsYUFBQWhqRCxLQUFBeEQsS0FBQTJyQixLQUNBaFgsR0FBQTh4QyxjQUFBampELEtBQUF4RCxLQUFBaTFCLE1BQ0E1ekIsUUFBQUMsSUFBQSxpQkFBQXFULEdBQUE2eEMsY0FDQXo5QixTQUFBLFdBRUF3QixFQUFBLGVBQUEySyxXQUFBLENBQ0FsdkIsTUFBQTJPLEdBQUE4eEMsY0FDQXR4QixZQUFBLEdBQ0FDLFNBQUEsY0FDQUMsZUFBQSxJQUNBQyxVQUFBLEVBQ0FwQixZQUFBLEVBRUFxQixZQUFBLFNBQUF0ckIsS0FBQStXLE9BQ0FBLE1BQUF0UCxpQkFDQTVMLFdBQ0E2eEMsZ0JBQUEsQ0FDQTF0QyxLQUFBQSxLQUNBbWMsTUFBQSxLQUlBN2lCLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUE2eEMsYUFBQWhqRCxLQUFBeEQsS0FBQTJyQixPQUVBam9CLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsWUFNQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFJQTROLEdBQUE0eEMsYUFBQSxXQUdBejlCLE9BQUE4bkIsU0FBQSxTQUFBeG9DLE9BRUFwSixNQUFBb0osTUFBQSxLQUNBMGdCLE9BQUE2N0IsUUFBQS9QLElBQUFDLGdCQUFBenNDLE1BQUEsSUFDQTBnQixPQUFBODdCLFFBQUF4OEMsTUFBQSxHQUFBcEUsS0FBQTJaLE1BQUEsS0FBQWtuQyxRQUtBdG1ELFFBQUErTyxpQkFBQS9KLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFySCxlQUFBOUosS0FBQXhELEtBRUEyVSxHQUFBa2hCLGdCQUFBLFNBQUFDLFFBQ0EsT0FBQSxJQUFBM3lCLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXhELFdBS0E4RixXQUFBekQsbUJBQUFrQixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBbXdDLGFBQUF0aEQsS0FBQXhELEtBQUEyckIsT0FJQWhYLEdBQUEreUIsWUFBQSxTQUFBeGhDLE1BQ0F5TyxHQUFBaXZDLGtCQUFBejhDLEtBQUFqQixPQUlBeU8sR0FBQW93QyxVQUFBLFNBQUEvZ0QsS0FBQWdoRCxLQUFBbnRCLEtBQUFvdEIsTUFDQXR3QyxHQUFBa3ZDLFNBQUExOEMsS0FBQSxDQUFBbkQsS0FBQUEsS0FBQXV3QixNQUFBeXdCLEtBQUFFLFFBQUEsQ0FBQTF1QixTQUFBcUIsS0FBQXBCLFlBQUF3dUIsU0FLQXR3QyxHQUFBK3hDLGdCQUFBLFdBQ0FuOEIsRUFBQSxTQUFBKzVCLFNBQUEsV0FDQWpqRCxRQUFBQyxJQUFBLFFBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsZ0JBQUE2RSxTQUFBLFVBRUE3RSxFQUFBLFNBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLFNBQUEyRSxZQUFBLFVBRUEzRSxFQUFBLFlBQUE2RSxTQUFBLFFBQ0E3RSxFQUFBLFlBQUE2RSxTQUFBLFdBRUE3RSxFQUFBLGdCQUFBKzVCLFNBQUEsWUFDQWpqRCxRQUFBQyxJQUFBLFdBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsZ0JBQUE2RSxTQUFBLFVBQ0E3RSxFQUFBLFlBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLFlBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLFlBQUE2RSxTQUFBLFFBQ0E3RSxFQUFBLFlBQUE2RSxTQUFBLFlBS0F6YSxHQUFBZ3lDLG9CQUFBLFdBQ0FwOEIsRUFBQSxnQkFBQSs1QixTQUFBLFdBQ0FqakQsUUFBQUMsSUFBQSxRQUNBaXBCLEVBQUEsOEJBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLGFBQUE2RSxTQUFBLFVBQ0E3RSxFQUFBLFlBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLFlBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLFNBQUE2RSxTQUFBLFFBQ0E3RSxFQUFBLFNBQUE2RSxTQUFBLFdBRUE3RSxFQUFBLGdCQUFBKzVCLFNBQUEsWUFDQWpqRCxRQUFBQyxJQUFBLFdBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsZ0JBQUE2RSxTQUFBLFVBRUE3RSxFQUFBLFlBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLFlBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLFlBQUE2RSxTQUFBLFFBQ0E3RSxFQUFBLFlBQUE2RSxTQUFBLFlBTUF6YSxHQUFBNnZDLFVBQUEsV0FDQWo2QixFQUFBLGdCQUFBKzVCLFNBQUEsV0FDQWpqRCxRQUFBQyxJQUFBLFFBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsYUFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsZ0JBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLFlBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLFNBQUE2RSxTQUFBLFFBQ0E3RSxFQUFBLFNBQUE2RSxTQUFBLFdBRUE3RSxFQUFBLGdCQUFBKzVCLFNBQUEsWUFDQWpqRCxRQUFBQyxJQUFBLFdBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsYUFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsZ0JBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLFlBQUEyRSxZQUFBLFFBQ0EzRSxFQUFBLFlBQUEyRSxZQUFBLFVBQ0EzRSxFQUFBLFNBQUE2RSxTQUFBLFFBQ0E3RSxFQUFBLFNBQUE2RSxTQUFBLFlBT0F0RyxPQUFBMjdCLGVBQUEsU0FBQTVpQyxNQUFBOU0sT0FDQUEsTUFBQTNOLE9BQUF5YSxNQUFBLElBR0FpSCxPQUFBNDdCLFlBQUEsU0FBQTdpQyxNQUFBOU0sT0FDQUEsTUFBQTNOLE9BQUF5YSxNQUFBLElBR0FpSCxPQUFBODlCLGVBQUEsU0FBQXppRCxTQUFBOHpDLFdBQ0E5ekMsU0FBQTBpRCxTQUFBLEdBQ0ExaUQsU0FBQWEsTUFBQSxHQUVBaXpDLFVBQUEzeEMsT0FBQSxHQUNBMnhDLFVBQUEzdkMsUUFBQSxTQUFBdXVCLFNBQ0ExeUIsU0FBQTBpRCxTQUFBMS9DLEtBQUEwdkIsUUFBQTV4QixPQUdBMFAsR0FBQWt2QyxTQUFBdjlDLE9BQUEsR0FDQXFPLEdBQUFrdkMsU0FBQXY3QyxRQUFBLFNBQUF1dUIsU0FDQTF5QixTQUFBYSxNQUFBbUMsS0FBQTB2QixXQUlBeDFCLFFBQUFDLElBQUEsV0FBQTZDLFVBQ0EyQixXQUNBZ2hELGtCQUFBM2lELFVBQ0FaLEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBLHdDQUNBOE4sR0FBQTZ3QyxjQUNBN3dDLEdBQUE2dkMsWUFDQXJnRCxTQUFBMGlELFNBQUEsR0FDQTFpRCxTQUFBYSxNQUFBLEdBRUF1bEIsRUFBQSxtQkFBQXVHLE1BQUEsUUFDQW5jLEdBQUE0eEMsYUFBQSxhQUVBN2lELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsR0FDQXRJLGFBQUF5TixNQUFBLDJCQUlBeUksR0FBQTZ3QyxZQUFBLFdBRUEsR0FEQTd3QyxHQUFBeFEsU0FBQSxHQUNBd1EsR0FBQWt2QyxTQUFBdjlDLE9BQUEsRUFDQSxLQUFBcU8sR0FBQWt2QyxTQUFBdjlDLE9BQUEsR0FDQXFPLEdBQUFrdkMsU0FBQWdCLE1BR0Fsd0MsR0FBQWl2QyxrQkFBQSxHQUNBcjVCLEVBQUEsbUJBQUE3aUIsSUFBQSxJQUNBNmlCLEVBQUEsbUJBQUE0YyxRQUFBLFVBQ0FyZSxPQUFBNjdCLGFBQUEzbEQsRUFDQXVyQixFQUFBLGNBQUE3aUIsSUFBQSxNQUNBNmlCLEVBQUEsZUFBQTdpQixJQUFBLElBQ0E2aUIsRUFBQSxnQkFBQTdpQixJQUFBLElBQ0E2aUIsRUFBQSxtQkFBQTdpQixJQUFBLElBQ0E2aUIsRUFBQSxzQkFBQTdpQixJQUFBLEtBSUFvaEIsT0FBQTY4QixVQUFBLENBQ0EsQ0FBQWgzQyxNQUFBLGtCQUFBaTNDLEtBQUEsMEJBQUF0MkIsSUFBQSx5Q0FDQSxDQUFBM2dCLE1BQUEsa0JBQUFpM0MsS0FBQSwwQkFBQXQyQixJQUFBLHlDQUNBLENBQUEzZ0IsTUFBQSxrQkFBQWkzQyxLQUFBLDBCQUFBdDJCLElBQUEseUNBQ0EsQ0FBQTNnQixNQUFBLGtCQUFBaTNDLEtBQUEsMEJBQUF0MkIsSUFBQSx5Q0FDQSxDQUFBM2dCLE1BQUEsa0JBQUFpM0MsS0FBQSwwQkFBQXQyQixJQUFBLHlDQUNBLENBQUEzZ0IsTUFBQSxrQkFBQWkzQyxLQUFBLDBCQUFBdDJCLElBQUEsNENBaFFBLEdDQUEsV0FDQWp6QixRQUFBQyxPQUFBLE9BQUEyQixXQUFBLHNCQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBNjVCLGFBQ0FueUIsV0FDQXJILGFBQ0F3cUIsTUFDQTFxQixRQUNBRCxvQkFDQUQsV0FFQSxJQUFBc1csR0FBQTdVLEtBRUFOLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUNBdXBCLFlBQUExakIsYUFDQTlGLFNBRUFtVixHQUFBeEksU0FBQTFNLFVBQUFQLE1BRUE0cEIsT0FBQStWLFlBQUEsU0FBQXZVLE1BQ0EsT0FBQWpzQixVQUFBaXNCLFNBQUFBLEtBQUEsU0FBQSxJQUdBM1YsR0FBQW5WLE9BQUEsV0FDQUEsVUFFQW1WLEdBQUFveUMsV0FBQTl1QixhQUFBbjJCLEdBQ0FnbkIsT0FBQWsrQixrQkFBQSxXQUNBbGhELFdBQ0FtaEQsZ0JBQUF0eUMsR0FBQW95QyxZQUNBeGpELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUF1eUMsYUFBQTFqRCxLQUFBeEQsS0FDQThvQixPQUFBNjdCLFFBQUFod0MsR0FBQXV5QyxhQUFBakIsV0FDQTVrRCxRQUFBQyxJQUFBcVQsR0FBQXV5QyxpQkFJQXArQixPQUFBaytCLG9CQUlBcnlDLEdBQUEreEMsZ0JBQUEsV0FDQW44QixFQUFBLFNBQUErNUIsU0FBQSxXQUNBampELFFBQUFDLElBQUEsUUFDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxnQkFBQTZFLFNBQUEsVUFFQTdFLEVBQUEsU0FBQTJFLFlBQUEsUUFDQTNFLEVBQUEsU0FBQTJFLFlBQUEsVUFFQTNFLEVBQUEsWUFBQTZFLFNBQUEsUUFDQTdFLEVBQUEsWUFBQTZFLFNBQUEsV0FFQTdFLEVBQUEsZ0JBQUErNUIsU0FBQSxZQUNBampELFFBQUFDLElBQUEsV0FDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxnQkFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsWUFBQTZFLFNBQUEsUUFDQTdFLEVBQUEsWUFBQTZFLFNBQUEsWUFLQXphLEdBQUFneUMsb0JBQUEsV0FDQXA4QixFQUFBLGdCQUFBKzVCLFNBQUEsV0FDQWpqRCxRQUFBQyxJQUFBLFFBQ0FpcEIsRUFBQSw4QkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsYUFBQTZFLFNBQUEsVUFDQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsU0FBQTZFLFNBQUEsUUFDQTdFLEVBQUEsU0FBQTZFLFNBQUEsV0FFQTdFLEVBQUEsZ0JBQUErNUIsU0FBQSxZQUNBampELFFBQUFDLElBQUEsV0FDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxnQkFBQTZFLFNBQUEsVUFFQTdFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsWUFBQTZFLFNBQUEsUUFDQTdFLEVBQUEsWUFBQTZFLFNBQUEsWUFNQXphLEdBQUE2dkMsVUFBQSxXQUNBajZCLEVBQUEsZ0JBQUErNUIsU0FBQSxXQUNBampELFFBQUFDLElBQUEsUUFDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxhQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxZQUFBMkUsWUFBQSxRQUNBM0UsRUFBQSxnQkFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsU0FBQTZFLFNBQUEsUUFDQTdFLEVBQUEsU0FBQTZFLFNBQUEsV0FFQTdFLEVBQUEsZ0JBQUErNUIsU0FBQSxZQUNBampELFFBQUFDLElBQUEsV0FDQWlwQixFQUFBLDhCQUFBMkUsWUFBQSxVQUNBM0UsRUFBQSxhQUFBNkUsU0FBQSxVQUNBN0UsRUFBQSxnQkFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsUUFDQTNFLEVBQUEsWUFBQTJFLFlBQUEsVUFDQTNFLEVBQUEsU0FBQTZFLFNBQUEsUUFDQTdFLEVBQUEsU0FBQTZFLFNBQUEsWUFNQTd3QixRQUFBK08saUJBQUEvSixLQUFBLFNBQUFDLE1BQ0FtUixHQUFBckgsZUFBQTlKLEtBQUF4RCxLQUVBMlUsR0FBQWtoQixnQkFBQSxTQUFBQyxRQUNBLE9BQUEsSUFBQTN5QixRQUFBLFNBQUFDLFFBQUFDLFFBQ0FELFFBQUFJLEtBQUF4RCxXQUtBMlUsR0FBQW93QyxVQUFBLFNBQUEvZ0QsS0FBQWdoRCxLQUFBbnRCLEtBQUFvdEIsTUFDQXR3QyxHQUFBdXlDLGFBQUFsaUQsT0FDQTJQLEdBQUF1eUMsYUFBQWxpRCxNQUFBc0IsT0FBQSxFQUNBcU8sR0FBQXV5QyxhQUFBbGlELE1BQUFtQyxLQUFBLENBQUFuRCxLQUFBQSxLQUFBdXdCLE1BQUF5d0IsS0FBQUUsUUFBQSxDQUFBMXVCLFNBQUFxQixLQUFBcEIsWUFBQXd1QixTQVVBdHdDLEdBQUF1eUMsYUFBQWxpRCxNQUFBLEdBQ0EyUCxHQUFBdXlDLGFBQUFsaUQsTUFBQW1DLEtBQUEsQ0FBQW5ELEtBQUFBLEtBQUF1d0IsTUFBQXl3QixLQUFBRSxRQUFBLENBQUExdUIsU0FBQXFCLEtBQUFwQixZQUFBd3VCLFVBSUFuOEIsT0FBQTQ3QixZQUFBLFNBQUE3aUMsTUFBQTlNLE9BQ0FBLE1BQUEzTixPQUFBeWEsTUFBQSxJQUdBL2IsV0FBQXpELG1CQUFBa0IsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQW13QyxhQUFBdGhELEtBQUF4RCxLQUFBMnJCLE9BSUE3QyxPQUFBOG5CLFNBQUEsU0FBQXhvQyxNQUFBdEcsSUFHQTlDLE1BQUFvSixNQUFBLEtBQ0EwZ0IsT0FBQTY3QixRQUFBL1AsSUFBQUMsZ0JBQUF6c0MsTUFBQSxJQUNBMGdCLE9BQUE4N0IsUUFBQXg4QyxNQUFBLEdBQUFwRSxLQUFBMlosTUFBQSxLQUFBa25DLFFBS0EvN0IsT0FBQXErQixlQUFBLFNBQUFoakQsU0FBQTh6QyxXQUNBNTJDLFFBQUFDLElBQUE2QyxlQUNBLElBQUE4ekMsV0FFQUEsVUFBQTN4QyxPQUFBLElBQ0FuQyxTQUFBMGlELFNBQUF2Z0QsT0FBQSxFQUNBMnhDLFVBQUEzdkMsUUFBQSxTQUFBdXVCLFNBRUExeUIsU0FBQTBpRCxTQUFBMS9DLEtBQUEwdkIsUUFBQTV4QixRQUlBMFAsR0FBQXV5QyxhQUFBTCxTQUFBLEdBQ0E1TyxVQUFBM3ZDLFFBQUEsU0FBQXV1QixTQUNBMXlCLFNBQUEwaUQsU0FBQTEvQyxLQUFBMHZCLFFBQUE1eEIsU0FNQWEsV0FBQXFoRCxlQUFBaGpELFVBQ0FaLEtBQUEsU0FBQUMsTUFDQS9FLGFBQUFvSSxRQUFBLHVCQUNBMGpCLEVBQUEseUJBQUF1RyxNQUFBLFFBQ0FoSSxPQUFBaytCLHNCQUNBdGpELE1BQUEsU0FBQXFELEdBQ0F0SSxhQUFBeU4sTUFBQSxrQ0FoTUEsR0NBQSxXQUNBN1AsUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxpQkFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTY1QixhQUNBbnlCLFdBQ0FySCxhQUNBd3FCLE1BQ0ExcUIsUUFDQUQscUJBRUEsSUFBQXFXLEdBQUE3VSxLQUVBTixPQUFBakIsUUFBQWlCLE9BQUFDLFVBQUFsQixRQUFBa0IsVUFBQTZNLGFBQUEvTixRQUFBK04sYUFDQTBjLFlBQUExakIsYUFDQTlGLFNBRUFtVixHQUFBeEksU0FBQTFNLFVBQUFQLE1BQ0F5VixHQUFBeXlDLEdBRUF6eUMsR0FBQW5WLE9BQUEsV0FDQUEsVUFHQW1WLEdBQUF1dkMsUUFBQSxXQUNBcCtDLFdBQ0FxK0MsbUJBQ0E1Z0QsS0FBQSxTQUFBQyxNQUNBbVIsR0FBQXl2QyxRQUFBNWdELEtBQUF4RCxLQUFBQSxLQUNBcUIsUUFBQUMsSUFBQSxRQUFBcVQsR0FBQXl2QyxXQUVBMWdELE1BQUEsU0FBQXFELE9BR0E0TixHQUFBMHlDLFVBQUEsQ0FBQSxLQUFBLE1BQ0ExeUMsR0FBQTJ5QyxlQUFBLEtBQ0EzeUMsR0FBQXV2QyxVQUNBdnZDLEdBQUE0eUMsVUFBQSxTQUFBdHFCLFdBQ0E1N0IsUUFBQUMsSUFBQTI3QixXQUNBaitCLE1BQUFpK0IsVUFDQXgrQixhQUFBeU4sTUFBQSx5QkFFQXBHLFdBQ0E0L0MsY0FBQXpvQixXQUNBMTVCLEtBQUEsU0FBQUMsTUFDQSttQixFQUFBLGVBQUF1RyxNQUFBLFFBQ0FuYyxHQUFBc29CLFVBQUEsR0FDQXgrQixhQUFBb0ksUUFBQSx5QkFDQThOLEdBQUF1dkMsWUFFQXhnRCxNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQUEsMkJBS0F5SSxHQUFBNnlDLFVBQUEsU0FBQTFsRCxJQUNBNlMsR0FBQXl5QyxHQUFBdGxELEdBQ0F5b0IsRUFBQSxvQkFBQXVHLE1BQUEsU0FFQW5jLEdBQUE4eUMsZ0JBQUEsV0FDQTNoRCxXQUNBMmhELGdCQUFBOXlDLEdBQUF5eUMsSUFDQTdqRCxLQUFBLFNBQUFDLE1BQ0ErbUIsRUFBQSxvQkFBQXVHLE1BQUEsUUFDQXJ5QixhQUFBb0ksUUFBQSxvQ0FDQThOLEdBQUF1dkMsWUFFQXhnRCxNQUFBLFNBQUFxRCxHQUNBdEksYUFBQXlOLE1BQUEsMkJBSUEzTixRQUFBOE8sY0FBQTlKLEtBQUEsU0FBQUMsTUFDQW1SLEdBQUE2eUIsV0FBQWhrQyxLQUFBeEQsS0FDQTJVLEdBQUFra0MsZUFBQSxTQUFBL2lCLFFBQ0EsT0FBQSxJQUFBM3lCLFFBQUEsU0FBQUMsUUFBQUMsUUFDQUQsUUFBQUksS0FBQXhELFdBT0EyVSxHQUFBK3lDLHNCQUFBcDdDLGFBQUFwTixNQUFBMDZCLGdCQUFBeEMsYUFFQXppQixHQUFBZ3pDLHNCQUFBLFNBQUF6Z0IsVUFDQXBoQyxXQUNBNUMsbUJBQUEsQ0FDQW1rQyxLQUFBLzZCLGFBQUFwTixNQUFBMDZCLGdCQUFBeEMsYUFDQWtRLEdBQUFKLFdBRUEzakMsS0FBQSxTQUFBQyxNQUNBLE9BQUFBLEtBQUF4RCxLQUFBK21DLG1CQUVBeGpDLEtBQUEsU0FBQXdqQyxrQkFJQSxPQUhBdG9DLGFBQUFvSSxRQUNBLGtEQUVBZixXQUFBNmhELHNCQUFBLENBQ0E1Z0IsaUJBQUFBLGlCQUNBM1AsYUFBQThQLGFBR0EzakMsS0FBQSxTQUFBQyxNQUNBLElBQUFva0QsWUFBQWxuRCxPQUFBbW9CLE9BQUF2YyxhQUFBcE4sTUFBQSxDQUNBMDZCLGdCQUFBLENBQ0F4QyxhQUFBOFAsWUFHQTU2QixhQUFBN08sSUFBQW1xRCxlQUVBbGtELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsUUFySEEsR0NBQSxXQUNBMUssUUFBQUMsT0FBQSxPQUFBMkIsV0FBQSxXQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFFBQ0FDLE9BQ0E2eUIsUUFJQSxJQUFBMWMsR0FBQTdVLEtBQ0FOLE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUNBLElBQUF1cEIsWUFBQTFqQixZQUVBLFlBREE5RixTQThEQSxTQUFBcW9ELFVBQUFya0QsTUFDQXNsQixPQUFBZy9CLFVBQUF0a0QsS0FBQXhELEtBQUFBLEtBNURBMlUsR0FBQW5WLE9BQUEsV0FDQUEsVUFHQW1WLEdBQUF4SSxTQUFBMU0sVUFBQVAsTUFDQXlWLEdBQUFvekMsTUFBQSxDQUNBLENBQUEvakQsS0FBQSxhQUNBLENBQUFBLEtBQUEsYUFDQSxDQUFBQSxLQUFBLGFBQ0EsQ0FBQUEsS0FBQSxhQUNBLENBQUFBLEtBQUEsY0FHQTJRLEdBQUF5YyxVQUFBQyxTQUNBMWMsR0FBQTJjLFdBQUEsc0JBRUEzYyxHQUFBcW5DLGVBQUEsU0FBQXJxQixTQUFBeUUsT0FDQSxHQUFBQSxNQUFBLENBQ0E3TCxFQUFBLGVBQUF1RyxNQUFBLFFBQ0EsSUFBQTl3QixLQUFBMnhCLFNBQ0EzeEIsS0FBQTZ4QixLQUFBUixPQUFBcnhCLEtBQUE2eEIsTUFBQTNYLE9BQUEsdUJBQ0FwVSxXQUNBazJDLGVBQUFoOEMsTUFDQXVELEtBQUEsU0FBQUMsTUFDQSxPQUFBc0MsV0FBQXc2QixvQkFFQS84QixLQUFBc2tELFdBQ0Fua0QsTUFBQSxTQUFBQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLGdCQUdBckksYUFBQXlOLE1BQUEsZ0NBSUF5SSxHQUFBeWMsVUFBQSxJQUFBOW5CLEtBRUFxTCxHQUFBNGMsVUFBQSxTQUFBQyxLQUNBN2MsR0FBQXF6QyxTQUFBLElBR0FsaUQsV0FDQTJyQiw4QkFBQWh5QixVQUFBUCxNQUFBbUIsV0FDQWtELEtBQUEsU0FBQUMsTUFDQW1SLEdBQUFrbkMsYUFBQXI0QyxLQUFBeEQsS0FBQUEsS0FDQXFCLFFBQUFDLElBQUFxVCxHQUFBa25DLGdCQUVBbjRDLE1BQUEsU0FBQUMsS0FDQWxGLGFBQUF5TixNQUFBdkksSUFBQTNELEtBQUE4RyxXQUdBaEIsV0FDQXc2QixrQkFDQS84QixLQUFBc2tELFdBQ0Fua0QsTUFBQSxTQUFBQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLGFBN0VBLEdDQUEsV0FDQXpLLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsZUFFQSxTQUNBNnFCLE9BQ0FDLFNBQ0FDLFlBQ0E1cUIsT0FDQTBILFdBQ0FteUIsYUFDQXg1QixhQUNBRixRQUNBQyxRQUlBc3FCLE9BQUFnL0IsVUFBQSxDQUNBLENBQUF4NEIsSUFBQSxnQ0FBQThXLFNBQUEsS0FBQXozQixNQUFBLGlGQUFBMDNCLEtBQUEsWUFBQTRoQixVQUFBLGFBQ0EsQ0FBQTM0QixJQUFBLGdDQUFBOFcsU0FBQSxLQUFBejNCLE1BQUEsaUZBQUEwM0IsS0FBQSxXQUFBNGhCLFVBQUEsZ0JBQ0EsQ0FBQTM0QixJQUFBLGdDQUFBOFcsU0FBQSxLQUFBejNCLE1BQUEsaUZBQUEwM0IsS0FBQSxZQUFBNGhCLFVBQUEsZUFDQSxDQUFBMzRCLElBQUEsZ0NBQUE4VyxTQUFBLEtBQUF6M0IsTUFBQSxpRkFBQTAzQixLQUFBLGFBQUE0aEIsVUFBQSxjQUNBLENBQUEzNEIsSUFBQSxnQ0FBQThXLFNBQUEsS0FBQXozQixNQUFBLGlGQUFBMDNCLEtBQUEsYUFBQTRoQixVQUFBLGNBQ0EsQ0FBQTM0QixJQUFBLGdDQUFBOFcsU0FBQSxLQUFBejNCLE1BQUEsaUZBQUEwM0IsS0FBQSxhQUFBNGhCLFVBQUEsZUFJQSxJQUNBem9ELE9BQUFqQixRQUFBaUIsT0FBQUMsVUFBQWxCLFFBQUFrQixVQUNBLElBQUF1cEIsWUFBQTFqQixZQUVBLFlBREE5RixTQUhBTSxLQU1BTixPQUFBLFdBQ0FBLFVBUEFNLEtBVUFxTSxTQUFBMU0sVUFBQVAsTUFFQSxJQUFBZ3BELFdBQUFqd0IsYUFBQW4yQixHQUNBZ0UsV0FBQXc2QixnQkFBQTRuQixZQUFBM2tELEtBQUEsU0FBQUMsTUFDQXNsQixPQUFBcS9CLEtBQUEza0QsS0FBQXhELEtBQUFBLE9BQ0EwRCxNQUFBLFNBQUFDLEtBQ0FsRixhQUFBeU4sTUFBQXZJLElBQUEzRCxLQUFBOEcsV0FoQkFoSCxLQW1CQXNvRCxXQUFBLFNBQUF6MkIsVUFDQSxJQUFBM3hCLEtBQUEyeEIsU0FDQXR3QixRQUFBQyxJQUFBdEIsTUFDQThGLFdBQ0F1aUQsZUFBQUgsV0FBQWxvRCxNQUNBdUQsS0FBQSxTQUFBQyxNQUNBc2xCLE9BQUFxL0IsS0FBQTNrRCxLQUFBeEQsS0FBQUEsS0FDQXZCLGFBQUFvSSxRQUFBLDBCQUVBbkQsTUFBQSxTQUFBQyxLQUNBbEYsYUFBQXlOLE1BQUF2SSxJQUFBM0QsS0FBQThHLGNBdkRBLEdDQUEsV0FDQXpLLFFBQUFDLE9BQUEsT0FBQTJCLFdBQUEsb0JBRUEsU0FDQTZxQixPQUNBQyxTQUNBM3FCLE9BQ0FDLFVBQ0FFLFFBQ0F5cUIsWUFDQWxqQixXQUNBckgsYUFDQTBqQixnQkFDQUMsZUFDQWttQyxnQkFDQWhxRCxvQkFDQTRqQixnQkFDQXFtQyxpQkFDQSxJQUNBL29ELE9BQUFqQixRQUFBaUIsT0FBQWpCLFFBQUFrQixVQUNBLElBQUF1cEIsWUFBQTFqQixZQUVBLFlBREE5RixTQW9FQSxHQTVEQStxQixFQUFBLGlCQUFBaStCLFVBQUEsWUFVQSxTQUFBQyxNQUFBMWhELEdBQ0EsSUFBQTJoRCxLQUFBLEVBQ0FDLEtBQUEsRUFDQUMsS0FBQSxFQUNBQyxLQUFBLEVBV0EsU0FBQUMsY0FBQS9oRCxJQUNBQSxFQUFBQSxHQUFBdUssT0FBQTBQLE9BQ0F0UCxpQkFFQWszQyxLQUFBN2hELEVBQUFnaUQsUUFDQUYsS0FBQTloRCxFQUFBaWlELFFBQ0EzK0MsU0FBQTQrQyxVQUFBQyxpQkFFQTcrQyxTQUFBOCtDLFlBQUFDLFlBR0EsU0FBQUEsWUFBQXJpRCxJQUNBQSxFQUFBQSxHQUFBdUssT0FBQTBQLE9BQ0F0UCxpQkFFQWczQyxLQUFBRSxLQUFBN2hELEVBQUFnaUQsUUFDQUosS0FBQUUsS0FBQTloRCxFQUFBaWlELFFBQ0FKLEtBQUE3aEQsRUFBQWdpRCxRQUNBRixLQUFBOWhELEVBQUFpaUQsUUFFQVAsTUFBQTkyQyxNQUFBMHhCLElBQUFvbEIsTUFBQVksVUFBQVYsS0FBQSxLQUNBRixNQUFBOTJDLE1BQUF3aEIsS0FBQXMxQixNQUFBYSxXQUFBWixLQUFBLEtBR0EsU0FBQVEsbUJBRUE3K0MsU0FBQTQrQyxVQUFBLEtBQ0E1K0MsU0FBQTgrQyxZQUFBLEtBckNBOStDLFNBQUE2UixlQUFBdXNDLE1BQUEzbUQsR0FBQSxVQUVBdUksU0FBQTZSLGVBQ0F1c0MsTUFBQTNtRCxHQUFBLFVBQ0F5bkQsWUFBQVQsY0FHQUwsTUFBQWMsWUFBQVQsY0FyQkFVLENBQ0FuL0MsU0FBQTZSLGVBQ0FxTyxFQUFBenFCLE1BQ0EycEQsUUFBQSxPQUNBL2pCLEtBQUEsV0FzREExYyxZQUFBMWpCLFlBRUEsT0FVQSxJQUFBcVAsR0FBQTdVLEtBbUNBLFNBQUE0cEQsWUFBQUMsVUFNQSxJQUFBQyxlQUFBRCxTQUFBOXRDLGVBQ0E4dEMsU0FBQTl0QyxZQUFBZ3VDLFlBT0FwcUMsY0FBQTBDLGdCQUFBMUMsZ0JBSUFtSixZQUFBeEcsZUFBQXdHLGNBRUEwL0IsZ0JBQUE3bEMsY0FBQW1HLGFBRUFqVSxHQUFBb0ssV0FBQSxDQUNBK3FDLFVBQUEsY0FDQUMsWUFBQSxxQkFDQWpYLFVBQUEsNEJBQ0FoZ0MsWUFBQSxHQUtBNkIsR0FBQTQ3QixVQUFBLENBQ0FDLFFBQUEsRUFDQXdaLFdBQUEsT0FDQTl2QyxPQUFBLE1BQ0F1MkIsS0FBQSxRQUNBQyxPQUFBLEdBSUEvN0IsR0FBQWc4QixTQUFBLENBQ0FDLFNBQUEsU0FBQUMsSUFBQXZoQyxNQUFBdzlCLFFBQ0EsSUFBQS91QixJQUFBLEdBQ0FBLElBQUFsTCxPQUFBOEIsR0FBQW9LLFdBQUFnckMsWUFDQWhzQyxJQUFBaEwsS0FBQTRCLEdBQUFvSyxXQUFBK3pCLFVBQ0FscUIsWUFBQW5yQixJQUFBc2dCLE9BS0FwSixHQUFBczFDLGtCQUFBLFdBQ0FyaEMsWUFBQW5yQixJQUFBLENBQ0FxVixZQUFBNkIsR0FBQW9LLFdBQUFqTSxlQVFBLElBQUFqRCxNQUFBc1MsZ0JBQUF2RyxZQUNBLFFBQ0EsQ0FDQW5SLE9BQUE2RyxPQUFBNDRDLFlBQ0F4L0MsTUFBQTRHLE9BQUE2NEMsWUFFQVIsU0FBQTl0QyxhQUtBaUYsWUFBQW9CLGdCQUFBcEIsWUFBQWpSLE9BRUFpUixZQUFBRCxTQUFBLFlBQUEsV0FFQWxNLEdBQUF5MUMsZ0JBQUEsQ0FDQXpqRCxFQUFBa0osTUFBQTBDLHFCQUFBNUwsRUFDQXFLLEVBQUFuQixNQUFBMEMscUJBQUF2QixHQUVBOFgsT0FBQWtCLFdBS0EsSUFBQWhZLFVBQUFtUSxnQkFBQW5RLFlBRUE4VyxPQUFBeWIsSUFBQSxrQkFBQSxTQUFBeDlCLEVBQUEyVyxZQUNBL0ksR0FBQTAxQyxpQkFBQTNzQyxhQUlBLElBQUEyRCxVQUFBdW9DLGFBQ0EvNUMsTUFBQTBWLGNBQUEsR0FDQWdqQyxnQkFBQXBuQyxZQUFBdFIsT0FFQXk2QyxhQUFBL0IsZ0JBQUFubkMsZ0JBQUF2UixNQUFBd1IsV0FFQTNCLGVBQUF5QyxnQkFBQXpDLGlCQUlBNnFDLGlCQUFBcG9DLGdCQUFBakQsYUFBQW1DLFdBTUExRSxXQUFBMnJDLGdCQUFBM3JDLFdBQUE5TSxNQUFBd1IsV0FFQXhELGlCQUFBc0UsZ0JBQUF0RSxtQkFJQTBLLFFBQUFuRyxlQUFBbUcsVUFPQSxHQUxBNVQsR0FBQTYxQyxXQUFBLEVBQ0E3MUMsR0FBQTgxQyxVQUFBLElBQ0E5MUMsR0FBQTZULFVBR0FvaEMsYUFBQSxDQUNBLEdBQUFELFNBQUE5dEMsYUFBQTh0QyxTQUFBOXRDLFlBQUE2dUMsWUFBQSxDQUNBN3NDLGlCQUFBcGdCLElBQUFrc0QsU0FBQTl0QyxZQUFBNnVDLGFBRUEsSUFBQUMsZ0JBQUE5NkMsTUFDQTBWLGNBQUEsR0FDQUEsY0FDQXBjLE9BQUEsU0FBQXhDLEdBQ0EsUUFBQSxXQUFBbUIsS0FBQW5CLEVBQUEzQyxVQUVBMm1ELGdCQUFBcmtELE9BQUEsRUFDQWdrRCxhQUFBdG9DLGNBQUEyb0MsaUJBRUFMLGFBQUEvb0MsZ0JBSUFvb0MsU0FBQTl0QyxhQUFBOHRDLFNBQUE5dEMsWUFBQSt1QyxXQUNBdEMsZ0JBQUE1bEMsWUFBQWluQyxTQUFBOXRDLFlBQUErdUMsZ0JBR0FOLGFBQUEvb0MsZ0JBSUE1TSxHQUFBazJDLGdCQUFBaHRDLGlCQUFBM2UsTUFFQXlWLEdBQUFtMkMsa0JBQUEsU0FBQXBqRCxLQUNBLE9BQUFBLElBQUE4ZSxRQUFBLElBSUE3UixHQUFBMk0sVUFBQWdwQyxhQUFBNW9DLGVBSUEvTSxHQUFBcUwsYUFBQW1DLGdCQUFBbkMsZUFJQSxJQUFBN1AsU0FBQSxJQUFBQyxNQUNBRCxTQUFBRSxZQUFBLFlBRUFzNUMsU0FBQTl0QyxhQUFBOHRDLFNBQUE5dEMsWUFBQUMsWUFDQTNMLFNBQUFPLElBQUFpNUMsU0FBQS81QyxTQUFBN1IsSUFDQW9TLFNBQUF4RyxPQUFBLFdBQ0EsSUFBQW9oRCxlQUFBMXBDLFVBQUFuaUIsSUFBQSxZQUFBLEdBQ0E2ckQsZUFBQXY2QyxNQUFBTCxVQUVBd0UsR0FBQXEyQyxXQUFBLENBQ0Fya0QsRUFBQTRNLEtBQUFpQyxNQUFBdTFDLGVBQUFyZ0QsU0FDQXNHLEVBQUF1QyxLQUFBaUMsTUFBQXUxQyxlQUFBdGdELFdBRUFvRixNQUFBWSxVQUdBTixTQUFBTyxJQUFBaTVDLFNBQUEvNUMsU0FBQTdSLElBRUFvUyxTQUFBeEcsT0FBQSxXQUVBLElBQUFzaEQsWUFBQTEzQyxLQUFBaUMsTUFBQTNGLE1BQUFwRixTQUFBLElBQ0F5Z0QsWUFBQS82QyxTQUFBMUYsT0FBQXdnRCxZQUNBRSxXQUFBNTNDLEtBQUFpQyxNQUFBckYsU0FBQXpGLE1BQUF3Z0QsYUFFQXYyQyxHQUFBcTJDLFdBQUEsQ0FDQXJrRCxFQUFBd2tELFdBQ0FuNkMsRUFBQWk2QyxhQUdBLElBQUEzNkMsUUFBQSxJQUFBUCxNQUFBSyxNQUFBLENBQ0FJLE1BQUFMLFNBQ0FuTSxLQUFBLFVBQ0FsQyxHQUFBLFVBQ0EySSxPQUFBd2dELFlBQ0FHLGNBQUEsRUFDQUMsY0FBQSxFQUNBQyxjQUFBLEdBQ0Eza0QsRUFBQWtKLE1BQUFuRixRQUFBLEVBQUF5Z0QsV0FBQSxFQUVBbjZDLEVBQUEsR0FDQXRHLE1BQUF5Z0QsYUFHQTc2QyxRQUFBSyxHQUFBLFFBQUEsU0FBQTVKLEdBQ0F3akQsaUJBQUFuckMsY0FHQWlDLFVBQUFsUSxJQUFBYixTQUNBK1EsVUFBQTVRLE9BRUE0USxVQUFBaFEsaUJBS0EsSUFBQTJNLGFBQUFtRSxnQkFBQW5FLGVBU0F1dEMsWUFBQXJwQyxnQkFBQTFCLGFBQUFsUCxRQUNBaTZDLFlBQUExcUMsU0FBQWhSLE9BQ0E4RSxHQUFBNjJDLFdBQUEsQ0FDQTdrRCxPQUFBM0gsRUFDQWdTLE9BQUFoUyxHQUlBc1MsT0FBQUMsaUJBQUEsUUFBQSxTQUFBeEssR0FJQSxrQkFBQTNJLE9BQUFxdEQsU0FBQXpuRCxPQUVBLGFBQUE4RCxLQUNBdUMsU0FBQTJrQixxQkFBQSxRQUFBLEdBQUE5TCxZQUVBbmMsRUFBQTJLLGlCQUlBNkIsS0FBQWlDLE1BQUEzRixNQUFBcEYsU0FBQSxHQUNBOEksS0FBQWlDLE1BQUEzRixNQUFBbkYsUUFBQSxHQUVBLEdBQUEzRCxFQUFBMmtELFFBQUEsQ0FDQSxJQUFBQyxTQUFBdHFDLFVBQUE2RixTQUNBMGtDLGFBQUEsQ0FDQWpsRCxFQUNBa0osTUFBQTBDLHFCQUFBNUwsRUFBQWdsRCxTQUNBdHFDLFVBQUExYSxJQUFBZ2xELFNBQ0EzNkMsRUFDQW5CLE1BQUEwQyxxQkFBQXZCLEVBQUEyNkMsU0FBQXRxQyxVQUFBclEsSUFBQTI2QyxVQUdBRSxTQUFBOWtELEVBQUEra0QsT0FBQSxFQXpCQSxLQXlCQUgsU0FBQUEsU0F6QkEsS0EwQkF0cUMsVUFBQTJELE1BQUEsQ0FDQXJlLEVBQUFrbEQsU0FDQTc2QyxFQUFBNjZDLFdBR0EsSUFBQUUsT0FBQSxDQUNBcGxELElBQ0FpbEQsYUFBQWpsRCxFQUFBa0osTUFBQTBDLHFCQUFBNUwsRUFBQWtsRCxVQUNBQSxTQUNBNzZDLElBQ0E0NkMsYUFBQTU2QyxFQUFBbkIsTUFBQTBDLHFCQUFBdkIsRUFBQTY2QyxVQUNBQSxVQUlBYixXQUFBLENBQ0FoNkMsRUFBQXVDLEtBQUFpQyxNQUFBNkwsVUFBQTlRLEtBQUEsWUFBQSxHQUFBOUYsU0FBQW9oRCxVQUNBbGxELEVBQUE0TSxLQUFBaUMsTUFBQTZMLFVBQUE5USxLQUFBLFlBQUEsR0FBQTdGLFFBQUFtaEQsV0FFQWwzQyxHQUFBcTJDLFdBQUFBLFdBRUFyMkMsR0FBQTgxQyxVQUFBbDNDLEtBQUFpQyxNQUFBLElBQUE2TCxVQUFBMkQsUUFBQXJlLEdBQ0F5YixlQUFBaUcsNEJBQUFoSCxXQUdBeUgsT0FBQWtCLFNBQ0EzSSxVQUFBL08sU0FBQXk1QyxRQUNBbDhDLE1BQUErTyxlQUlBdE4sT0FBQUMsaUJBQUEsY0FBQSxTQUFBeEssR0FDQSxXQUFBQSxFQUFBeUssT0FBQUMsVUFDQTFLLEVBQUEySyxpQkFDQTQyQyxnQkFBQS9rQyxnQkFDQWxDLFVBQUE1USxPQUNBdUIsVUFBQTNGLFdBTUFzSSxHQUFBcTNDLFdBQUEsU0FBQXhtRCxNQUdBLElBQUF5bUQsUUFBQTE0QyxLQUFBaUMsTUFBQTNGLE1BQUFwRixTQUFBLEdBQ0F5aEQsUUFBQTM0QyxLQUFBaUMsTUFBQTNGLE1BQUFuRixRQUFBLEdBRUFpaEQsU0FBQXRxQyxVQUFBNkYsU0FDQTBrQyxhQUFBLENBQ0FqbEQsRUFBQXVsRCxRQUFBUCxTQUFBdHFDLFVBQUExYSxJQUFBZ2xELFNBQ0EzNkMsRUFBQWk3QyxRQUFBTixTQUFBdHFDLFVBQUFyUSxJQUFBMjZDLFVBRUFFLFNBQUFybUQsS0FBQSxFQU5BLEtBTUFtbUQsU0FBQUEsU0FOQSxLQU9BdHFDLFVBQUEyRCxNQUFBLENBQ0FyZSxFQUFBa2xELFNBQ0E3NkMsRUFBQTY2QyxXQUVBLElBQUFFLE9BQUEsQ0FDQXBsRCxJQUFBaWxELGFBQUFqbEQsRUFBQXVsRCxRQUFBTCxVQUFBQSxTQUNBNzZDLElBQUE0NkMsYUFBQTU2QyxFQUFBaTdDLFFBQUFKLFVBQUFBLFVBSUFiLFdBQUEsQ0FDQWg2QyxFQUFBdUMsS0FBQWlDLE1BQUE2TCxVQUFBOVEsS0FBQSxZQUFBLEdBQUE5RixTQUFBb2hELFVBQ0FsbEQsRUFBQTRNLEtBQUFpQyxNQUFBNkwsVUFBQTlRLEtBQUEsWUFBQSxHQUFBN0YsUUFBQW1oRCxXQUVBbDNDLEdBQUFxMkMsV0FBQUEsV0FDQTVvQyxlQUFBaUcsNEJBQUFoSCxXQUNBMU0sR0FBQTgxQyxVQUFBbDNDLEtBQUFpQyxNQUFBLElBQUE2TCxVQUFBMkQsUUFBQXJlLEdBRUEwYSxVQUFBL08sU0FBQXk1QyxRQUNBbDhDLE1BQUErTyxhQUdBakssR0FBQXczQyxXQUFBLFNBQUFDLFlBQ0EsSUFBQUgsUUFBQTE0QyxLQUFBaUMsTUFBQTNGLE1BQUFwRixTQUFBLEdBQ0F5aEQsUUFBQTM0QyxLQUFBaUMsTUFBQTNGLE1BQUFuRixRQUFBLEdBRUFpaEQsU0FBQXRxQyxVQUFBNkYsU0FDQTBrQyxhQUFBLENBQ0FqbEQsRUFBQXVsRCxRQUFBUCxTQUFBdHFDLFVBQUExYSxJQUFBZ2xELFNBQ0EzNkMsRUFBQWk3QyxRQUFBTixTQUFBdHFDLFVBQUFyUSxJQUFBMjZDLFVBR0FFLFNBQUFPLFdBQUEsSUFDQS9xQyxVQUFBMkQsTUFBQSxDQUNBcmUsRUFBQWtsRCxTQUNBNzZDLEVBQUE2NkMsV0FFQSxJQUFBRSxPQUFBLENBQ0FwbEQsSUFBQWlsRCxhQUFBamxELEVBQUF1bEQsUUFBQUwsVUFBQUEsU0FDQTc2QyxJQUFBNDZDLGFBQUE1NkMsRUFBQWk3QyxRQUFBSixVQUFBQSxVQUlBYixXQUFBLENBQ0FoNkMsRUFBQXVDLEtBQUFpQyxNQUFBNkwsVUFBQTlRLEtBQUEsWUFBQSxHQUFBOUYsU0FBQW9oRCxVQUNBbGxELEVBQUE0TSxLQUFBaUMsTUFBQTZMLFVBQUE5USxLQUFBLFlBQUEsR0FBQTdGLFFBQUFtaEQsV0FFQWwzQyxHQUFBcTJDLFdBQUFBLFdBQ0E1b0MsZUFBQWlHLDRCQUFBaEgsV0FDQTFNLEdBQUE4MUMsVUFBQWwzQyxLQUFBaUMsTUFBQSxJQUFBNkwsVUFBQTJELFFBQUFyZSxHQUVBMGEsVUFBQS9PLFNBQUF5NUMsUUFDQWw4QyxNQUFBK08sYUFLQWpLLEdBQUEwM0MsVUFBQSxXQUNBMTNDLEdBQUE4MUMsVUFBQSxJQUNBcHBDLFVBQUEvTyxTQUFBLENBQ0EzTCxFQUFBLEVBQ0FxSyxFQUFBLElBRUFxUSxVQUFBMkQsTUFBQSxDQUNBcmUsRUFBQSxFQUNBcUssRUFBQSxJQUVBbkIsTUFBQStPLGFBR0EsSUFBQTB0QyxlQUFBcHFDLGdCQUFBaEIsWUFBQUcsV0FjQSxTQUFBa3JDLHNCQUFBQyxZQUFBQyxVQUFBanVDLFNBQ0EsSUFBQWt1QyxlQUFBeHFDLGdCQUFBakIsWUFDQXVyQyxZQUFBaHZDLE9BRUEsSUFBQWdCLFFBQUEsQ0FFQSxJQUFBbXVDLGVBQUFyQyxhQUFBM29DLGFBQ0FnckMsZUFBQXg3QyxJQUFBcTdDLFlBQUFodkMsT0FDQW12QyxlQUFBQyxZQUdBLElBQUE5a0Msa0JBQUExRixlQUFBMEYsa0JBQ0FqWSxNQUNBd1IsVUFDQW1yQyxZQUFBaHZDLE9BQ0EsR0FFQXNLLGtCQUFBcnFCLElBQUErdUQsWUFBQWh2QyxNQUFBNUosVUFDQTIyQyxpQkFBQXA1QyxJQUFBMlcsa0JBQUFELFlBS0E2a0MsZUFBQTdyQyxTQUFBLFlBQUE0ckMsVUFBQSxTQUFBMWxELEdBQ0ErZ0Isa0JBQUFHLE9BQUEsQ0FDQXRoQixFQUFBNmxELFlBQUFodkMsTUFBQTdXLElBQ0FxSyxFQUFBdzdDLFlBQUFodkMsTUFBQXhNLFFBT0EwN0MsZUFBQTdyQyxTQUFBLG1CQUFBLFdBQ0EsSUFBQW1FLE1BQ0EsSUFBQW5ILGlCQUFBM2UsTUFBQThOLFdBQ0FoTyxFQUNBNmUsaUJBQUEzZSxNQUFBOE4sTUFFQXViLFFBQUFFLGFBQUEsQ0FDQS9CLEtBQUF0RSxlQUFBNkQsWUFBQXVtQyxZQUFBaHZDLE1BQUE1SixTQUFBb1IsT0FDQWxILEtBQUFELGlCQUFBM2UsTUFBQTRlLE9BRUFnTCxPQUFBa0IsU0FDQXJWLEdBQUE2VCxVQUFBRCxRQUFBSSxlQUVBNmpDLFlBQUFodkMsTUFBQTVKLE9BQUFrVSxrQkFBQUssZUFJQXVrQyxlQUFBN3JDLFNBQUEsU0FBQTRyQyxVQUFBLFdBQ0FELFlBQUFodkMsTUFBQW92QyxZQUNBbnRDLGNBQUFoaUIsSUFBQSt1RCxZQUFBaHZDLE9BQ0E2RCxVQUFBNVEsT0FDQXFYLGtCQUFBRyxPQUFBLENBQ0F0aEIsRUFBQTZsRCxZQUFBaHZDLE1BQUE3VyxJQUNBcUssRUFBQXc3QyxZQUFBaHZDLE1BQUF4TSxNQUdBMkQsR0FBQWs0QyxpQkFDQSxJQUFBN25DLE1BQ0EsSUFBQW5ILGlCQUFBM2UsTUFBQThOLFdBQ0FoTyxFQUNBNmUsaUJBQUEzZSxNQUFBOE4sTUFFQXViLFFBQUFFLGFBQUEsQ0FDQS9CLEtBQUF0RSxlQUFBNkQsWUFBQXVtQyxZQUFBaHZDLE1BQUE1SixTQUFBb1IsT0FDQWxILEtBQUFELGlCQUFBM2UsTUFBQTRlLE9BRUFpTCxTQUFBLFdBQ0FELE9BQUFrQixXQUVBclYsR0FBQTZULFVBQUFELFFBQUFJLGVBQ0FoVSxHQUFBNjFDLFdBQUEsRUFFQUQsaUJBQUFuckMsWUFDQWlDLFVBQUFsUSxJQUFBMlcsa0JBQUFELFlBQ0F4RyxVQUFBNVEsU0FNQSxJQUFBdU8sU0FBQW1ELGdCQUFBbkQsV0FFQTB0QyxlQUFBN3JDLFNBQUEsYUFBQTRyQyxVQUFBLFNBQUExbEQsR0FDQWlZLFNBQUE3TixJQUNBcEssRUFBQXlLLE9BQUFvdUIsaUJBR0E4c0IsZUFBQTdyQyxTQUFBLFdBQUE0ckMsVUFBQSxTQUFBMWxELEdBRUFpWCxhQUFBN1csS0FDQWdiLGdCQUFBN0QsY0FDQXpPLE1BQ0EyOEMsWUFBQWh2QyxNQUNBOHNDLGFBQUEzb0MsYUFDQSxPQUNBM0MsU0FBQTdOLElBQUFwSyxFQUFBeUssT0FBQW91QixtQkFNQSxTQUFBa3RCLG9CQUFBTixZQUFBQyxVQUFBanVDLFNBQ0EsSUFBQXV1QyxhQUFBN3FDLGdCQUFBakIsWUFDQXVyQyxZQUFBaHZDLE9BRUEsSUFBQWdCLFFBQUEsQ0FFQSxJQUFBbXVDLGVBQUFyQyxhQUFBM29DLGFBQ0FnckMsZUFBQXg3QyxJQUFBcTdDLFlBQUFodkMsT0FDQW12QyxlQUFBQyxZQUtBLElBQUE5bEMsa0JBQUExRSxlQUFBMEUsa0JBQ0FqWCxNQUNBd1IsVUFDQW1yQyxZQUFBaHZDLE9BR0FzSixrQkFBQXJwQixJQUFBK3VELFlBQUFodkMsTUFBQTVLLFVBQ0EyM0MsaUJBQUFwNUMsSUFBQTJWLGtCQUFBZSxZQUVBa2xDLGFBQUFsc0MsU0FBQSxtQkFBQSxTQUFBOVosR0FDQStmLGtCQUFBL0IsV0FDQStCLGtCQUFBMUUsZUFBQTBFLGtCQUNBalgsTUFDQXdSLFVBQ0FtckMsWUFBQWh2QyxRQUVBL2YsSUFBQSt1RCxZQUFBaHZDLE1BQUE1SyxVQUNBMjNDLGlCQUFBcDVDLElBQUEyVixrQkFBQWUsY0FHQWtsQyxhQUFBbHNDLFNBQUEsZ0JBQUEsU0FBQTlaLEdBQ0F5bEQsWUFBQWh2QyxNQUFBb3ZDLFlBQ0F2ckMsVUFBQTVRLE9BRUE4NUMsaUJBQUFuckMsWUFDQUssY0FBQWhpQixJQUFBK3VELFlBQUFodkMsT0FDQTdJLEdBQUFrNEMsaUJBRUEsSUFBQTduQyxNQUNBLElBQUFuSCxpQkFBQTNlLE1BQUE4TixXQUNBaE8sRUFDQTZlLGlCQUFBM2UsTUFBQThOLE1BRUF1YixRQUFBRSxhQUFBLENBQ0EvQixLQUFBdEUsZUFBQXVFLFlBQUE2bEMsWUFBQWh2QyxNQUFBNUssU0FBQW9TLE9BQ0FsSCxLQUFBRCxpQkFBQTNlLE1BQUE0ZSxPQUdBZ0osa0JBQUEvQixXQUNBK0Isa0JBQUExRSxlQUFBMEUsa0JBQ0FqWCxNQUNBd1IsVUFDQW1yQyxZQUFBaHZDLFFBRUEvZixJQUFBK3VELFlBQUFodkMsTUFBQTVLLFVBQ0EyM0MsaUJBQUFwNUMsSUFBQTJWLGtCQUFBZSxZQUNBeEcsVUFBQTVRLE9BRUFrRSxHQUFBNlQsVUFBQUQsUUFBQUksZUFDQWhVLEdBQUE2MUMsV0FBQSxFQUNBemhDLFNBQUEsV0FDQUQsT0FBQWtCLGFBSUEraUMsYUFBQWxzQyxTQUFBLG1CQUFBLFNBQUE5WixHQUdBLElBQUFpZSxNQUNBLElBQUFuSCxpQkFBQTNlLE1BQUE4TixXQUNBaE8sRUFDQTZlLGlCQUFBM2UsTUFBQThOLE1BRUF1YixRQUFBRSxhQUFBLENBQ0EvQixLQUFBdEUsZUFBQXVFLFlBQUE2bEMsWUFBQWh2QyxNQUFBNUssU0FBQW9TLE9BQ0FsSCxLQUFBRCxpQkFBQTNlLE1BQUE0ZSxPQUdBbkosR0FBQTZULFVBQUFELFFBQUFJLGVBQ0FoVSxHQUFBNjFDLFdBQUEsSUFLQSxJQUFBeHJDLFNBQUFtRCxnQkFBQW5ELFdBRUErdEMsYUFBQWxzQyxTQUFBLG9CQUFBLFNBQUE5WixHQUNBaVksU0FBQTdOLElBQ0FwSyxFQUFBeUssT0FBQW91QixpQkFHQW10QixhQUFBbHNDLFNBQUEsa0JBQUEsU0FBQTlaLEdBRUFpWCxhQUFBN1csS0FDQWdiLGdCQUFBN0QsY0FDQXpPLE1BQ0EyOEMsWUFBQWh2QyxNQUNBOHNDLGFBQUEzb0MsYUFDQSxPQUNBM0MsU0FBQTdOLElBQUFwSyxFQUFBeUssT0FBQW91QixtQkFNQSxTQUFBb3RCLG9CQUFBUixZQUFBaHVDLFNBQ0EsSUFBQXl1QyxhQUFBL3FDLGdCQUFBakIsWUFDQXVyQyxZQUFBM3ZDLFNBRUEsSUFBQTJCLFFBQUEsQ0FFQSxJQUFBbXVDLGVBQUFyQyxhQUFBM29DLGFBQ0FnckMsZUFBQXg3QyxJQUFBcTdDLFlBQUEzdkMsU0FDQTh2QyxlQUFBQyxZQUdBLElBQUE5a0Msa0JBQUExRixlQUFBMEYsa0JBQ0FqWSxNQUNBd1IsVUFDQW1yQyxZQUFBM3ZDLFNBQ0EsR0FFQWlMLGtCQUFBcnFCLElBQUErdUQsWUFBQTN2QyxRQUFBakosVUFDQTIyQyxpQkFBQXA1QyxJQUFBMlcsa0JBQUFELFlBS0FvbEMsYUFBQXBzQyxTQUFBLG1CQUFBLFNBQUE5WixHQUNBK2dCLGtCQUFBRyxPQUFBLENBQ0F0aEIsRUFBQTZsRCxZQUFBM3ZDLFFBQUFsVyxJQUNBcUssRUFBQXc3QyxZQUFBM3ZDLFFBQUE3TCxRQUdBaThDLGFBQUFwc0MsU0FBQSxnQkFBQSxTQUFBOVosR0FDQStnQixrQkFBQUcsT0FBQSxDQUNBdGhCLEVBQUE2bEQsWUFBQTN2QyxRQUFBbFcsSUFDQXFLLEVBQUF3N0MsWUFBQTN2QyxRQUFBN0wsUUFPQSxJQUFBZ08sU0FBQW1ELGdCQUFBbkQsV0FFQWl1QyxhQUFBcHNDLFNBQUEsb0JBQUEsU0FBQTlaLEdBQ0FpWSxTQUFBN04sSUFDQXBLLEVBQUF5SyxPQUFBb3VCLGlCQUdBcXRCLGFBQUFwc0MsU0FBQSxrQkFBQSxTQUFBOVosR0FFQWlYLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBM3ZDLFFBQ0F5dEMsYUFBQTNvQyxhQUNBLE9BQ0EzQyxTQUFBN04sSUFBQXBLLEVBQUF5SyxPQUFBb3VCLG1CQU9BcXRCLGFBQUFwc0MsU0FBQSxtQkFBQSxXQUNBLElBQUFtRSxNQUNBLElBQUFuSCxpQkFBQTNlLE1BQUE4TixXQUNBaE8sRUFDQTZlLGlCQUFBM2UsTUFBQThOLE1BRUF1YixRQUFBRSxhQUFBLENBQ0EvQixLQUFBdEUsZUFBQTZELFlBQ0F1bUMsWUFBQTN2QyxRQUFBakosU0FDQW9SLE9BRUFsSCxLQUFBRCxpQkFBQTNlLE1BQUE0ZSxPQUVBaUwsU0FBQSxXQUNBRCxPQUFBa0IsV0FFQXJWLEdBQUE2VCxVQUFBRCxRQUFBSSxlQUVBNmpDLFlBQUEzdkMsUUFBQWpKLE9BQUFrVSxrQkFBQUssZUFJQThrQyxhQUFBcHNDLFNBQUEsUUFBQSxXQUNBMnJDLFlBQUEzdkMsUUFBQSt2QyxZQUNBdnJDLFVBQUE1USxPQUNBZ1AsY0FBQWhpQixJQUFBK3VELFlBQUEzdkMsU0FDQWxJLEdBQUFrNEMsaUJBQ0EsSUFBQTduQyxNQUNBLElBQUFuSCxpQkFBQTNlLE1BQUE4TixXQUNBaE8sRUFDQTZlLGlCQUFBM2UsTUFBQThOLE1BRUF1YixRQUFBRSxhQUFBLENBQ0EvQixLQUFBdEUsZUFBQTZELFlBQ0F1bUMsWUFBQTN2QyxRQUFBakosU0FDQW9SLE9BRUFsSCxLQUFBRCxpQkFBQTNlLE1BQUE0ZSxPQUVBZ0wsT0FBQWtCLFNBQ0FyVixHQUFBNlQsVUFBQUQsUUFBQUksZUFDQWhVLEdBQUE2MUMsV0FBQSxFQUVBRCxpQkFBQW5yQyxZQUNBaUMsVUFBQWxRLElBQUEyVyxrQkFBQUQsWUFDQXhHLFVBQUE1USxTQUlBLFNBQUF5OEMscUJBQUFWLFlBQUFodUMsU0FDQSxJQUFBMnVDLGNBQUFqckMsZ0JBQUFqQixZQUNBdXJDLFlBQUEzdkMsU0FFQSxJQUFBMkIsUUFBQSxDQUVBLElBQUFtdUMsZUFBQXJDLGFBQUEzb0MsYUFDQWdyQyxlQUFBeDdDLElBQUFxN0MsWUFBQTN2QyxTQUNBOHZDLGVBQUFDLFlBS0EsSUFBQTV0QyxTQUFBbUQsZ0JBQUFuRCxXQUVBbXVDLGNBQUF0c0MsU0FBQSxvQkFBQSxTQUFBOVosR0FDQWlZLFNBQUE3TixJQUNBcEssRUFBQXlLLE9BQUFvdUIsaUJBR0F1dEIsY0FBQXRzQyxTQUFBLGtCQUFBLFNBQUE5WixHQUVBaVgsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMjhDLFlBQUEzdkMsUUFDQXl0QyxhQUFBM29DLGFBQ0EsT0FDQTNDLFNBQUE3TixJQUFBcEssRUFBQXlLLE9BQUFvdUIsbUJBTUF1dEIsY0FBQXRzQyxTQUFBLFFBQUEsV0FDQTJyQyxZQUFBM3ZDLFFBQUErdkMsWUFDQXZyQyxVQUFBNVEsT0FDQWdQLGNBQUFoaUIsSUFBQSt1RCxZQUFBM3ZDLFNBQ0FsSSxHQUFBazRDLGlCQUNBLElBQUE3bkMsTUFDQSxJQUFBbkgsaUJBQUEzZSxNQUFBOE4sV0FDQWhPLEVBQ0E2ZSxpQkFBQTNlLE1BQUE4TixNQUNBdWIsUUFBQUUsYUFBQSxDQUNBL0IsS0FBQXRFLGVBQUE2RCxZQUNBdW1DLFlBQUEzdkMsUUFBQWpKLFNBQ0FvUixPQUVBbEgsS0FBQUQsaUJBQUEzZSxNQUFBNGUsT0FFQWlMLFNBQUEsV0FDQUQsT0FBQWtCLFdBRUFyVixHQUFBNlQsVUFBQUQsUUFBQUksZUFDQWhVLEdBQUE2MUMsV0FBQSxFQUNBRCxpQkFBQW5yQyxZQUNBaUMsVUFBQTVRLFNBSUEsU0FBQTI4QyxpQkFBQVosWUFBQWh1QyxTQUNBLElBQUE2dUMsVUFBQW5yQyxnQkFBQWpCLFlBQUF1ckMsWUFBQTk0QyxNQUVBLElBQUE4SyxRQUFBLENBRUEsSUFBQW11QyxlQUFBckMsYUFBQTNvQyxhQUNBZ3JDLGVBQUF4N0MsSUFBQXE3QyxZQUFBOTRDLE1BQ0FpNUMsZUFBQUMsWUFLQSxJQUFBNXRDLFNBQUFtRCxnQkFBQW5ELFdBRUFxdUMsVUFBQXhzQyxTQUFBLGlCQUFBLFNBQUE5WixHQUNBaVksU0FBQTdOLElBQ0FwSyxFQUFBeUssT0FBQW91QixpQkFHQXl0QixVQUFBeHNDLFNBQUEsZUFBQSxTQUFBOVosR0FFQWlYLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBOTRDLEtBQ0E0MkMsYUFBQTNvQyxhQUNBLE9BQ0EzQyxTQUFBN04sSUFBQXBLLEVBQUF5SyxPQUFBb3VCLG1CQU1BeXRCLFVBQUF4c0MsU0FBQSxRQUFBLFdBQ0EyckMsWUFBQTk0QyxLQUFBazVDLFlBQ0FudEMsY0FBQWhpQixJQUFBK3VELFlBQUE5NEMsTUFDQWlCLEdBQUFrNEMsaUJBRUF0QyxpQkFBQW5yQyxZQUNBaUMsVUFBQTVRLFNBSUEsU0FBQTY4QyxzQkFBQWQsWUFBQWh1QyxTQUNBLElBQUEydUMsY0FBQWpyQyxnQkFBQWpCLFlBQ0F1ckMsWUFBQTN2QyxTQUVBLElBQUEyQixRQUFBLENBRUEsSUFBQW11QyxlQUFBckMsYUFBQTNvQyxhQUNBZ3JDLGVBQUF4N0MsSUFBQXE3QyxZQUFBM3ZDLFNBQ0E4dkMsZUFBQUMsWUFLQSxJQUFBNXRDLFNBQUFtRCxnQkFBQW5ELFdBRUFtdUMsY0FBQXRzQyxTQUFBLDJCQUFBLFNBQUE5WixHQUNBaVksU0FBQTdOLElBQ0FwSyxFQUFBeUssT0FBQW91QixpQkFHQXV0QixjQUFBdHNDLFNBQUEseUJBQUEsU0FBQTlaLEdBRUFpWCxhQUFBN1csS0FDQWdiLGdCQUFBN0QsY0FDQXpPLE1BQ0EyOEMsWUFBQTN2QyxRQUNBeXRDLGFBQUEzb0MsYUFDQSxPQUNBM0MsU0FBQTdOLElBQUFwSyxFQUFBeUssT0FBQW91QixtQkFNQXV0QixjQUFBdHNDLFNBQUEsdUJBQUEsV0FDQTJyQyxZQUFBM3ZDLFFBQUErdkMsWUFDQXZyQyxVQUFBNVEsT0FFQWdQLGNBQUFoaUIsSUFBQSt1RCxZQUFBM3ZDLFNBQ0FsSSxHQUFBazRDLGlCQUVBdEMsaUJBQUFuckMsWUFDQWlDLFVBQUE1USxTQTRGQSxTQUFBODhDLGlCQUFBL3JDLE1BQUFoRCxTQUNBLElBQUFndkMsVUFBQXRyQyxnQkFBQWpCLFlBQ0FPLE9BRUEsSUFBQWhELFFBQUEsQ0FFQSxJQUFBbXVDLGVBQUFyQyxhQUFBM29DLGFBQ0FnckMsZUFBQXg3QyxJQUFBcVEsT0FDQW1yQyxlQUFBQyxZQUlBLElBQUE5a0Msa0JBQUExRixlQUFBMEYsa0JBQ0FqWSxNQUNBd1IsVUFDQUcsT0FDQSxHQUVBaXNDLFFBQUFqc0MsTUFBQStELGNBQUEsR0FDQXJZLEtBQUFzVSxNQUFBK0QsY0FBQSxHQUVBdUMsa0JBQUFycUIsSUFBQWd3RCxRQUFBNzVDLFVBQ0EyMkMsaUJBQUFwNUMsSUFBQTJXLGtCQUFBRCxZQUtBMmxDLFVBQUEzc0MsU0FBQSxxQkFBQSxTQUFBOVosR0FDQStnQixrQkFBQUcsT0FBQSxDQUNBdGhCLEVBQUE2YSxNQUFBN2EsSUFDQXFLLEVBQUF3USxNQUFBeFEsUUFPQXc4QyxVQUFBM3NDLFNBQUEsbUJBQUEsV0FDQTRzQyxRQUFBNzVDLE9BQUFrVSxrQkFBQUssYUFFQSxJQUFBdWxDLGNBQUFELFFBQUE3NUMsU0FFQTFHLEtBQUF4QyxNQUFBNkksS0FBQUMsSUFBQWs2QyxjQUFBLEdBQUFBLGNBQUEsSUFBQSxJQUNBeGdELEtBQUFvRixTQUFBLENBQ0EzTCxFQUFBK21ELGNBQUEsR0FBQSxFQUNBMThDLEVBQUEwOEMsY0FBQSxHQUFBLElBRUFyc0MsVUFBQTVRLFNBSUErOEMsVUFBQTNzQyxTQUFBLGtCQUFBLFdBQ0FXLE1BQUFvckMsWUFDQW50QyxjQUFBaGlCLElBQUF5UCxNQUNBbVUsVUFBQTVRLE9BQ0FxWCxrQkFBQUcsT0FBQSxDQUNBdGhCLEVBQUE2YSxNQUFBN2EsSUFDQXFLLEVBQUF3USxNQUFBeFEsTUFHQStYLFNBQUEsV0FDQUQsT0FBQWtCLFdBR0F1Z0MsaUJBQUFuckMsWUFDQWlDLFVBQUFsUSxJQUFBMlcsa0JBQUFELFlBQ0E0bEMsUUFBQTU2QyxPQUFBLFFBQ0F3TyxVQUFBNVEsT0FDQWtFLEdBQUFnNUMsdUJBTUEsSUFBQTN1QyxTQUFBbUQsZ0JBQUFuRCxXQUVBd3VDLFVBQUEzc0MsU0FBQSxzQkFBQSxTQUFBOVosR0FDQWlZLFNBQUE3TixJQUNBcEssRUFBQXlLLE9BQUFvdUIsaUJBR0E0dEIsVUFBQTNzQyxTQUFBLG9CQUFBLFNBQUE5WixHQUVBaVgsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMlIsTUFDQThvQyxhQUFBM29DLGFBQ0EsT0FDQTNDLFNBQUE3TixJQUFBcEssRUFBQXlLLE9BQUFvdUIsbUJBbnBCQTBzQixlQUFBenJDLFNBQUEsUUFBQSxTQUFBOVosR0FDQSxVQUFBQSxFQUFBeUssT0FBQTBSLFlBQ0FxbkMsaUJBQUFuckMsWUFDQXpLLEdBQUFpNUMsa0JBQ0FqNUMsR0FBQWs1QyxzQkFDQXB1QyxjQUFBcFQsV0E4dEJBdTlDLGVBdEVBdnRELFFBQUFpTSxRQUFBK1ksVUFBQWtFLGNBQUEsU0FBQTVlLEdBQ0EsV0FBQW1CLEtBQUFuQixFQUFBM0MsU0FDQTNILFFBQUFpTSxRQUFBM0IsRUFBQTRlLGNBQUEsU0FBQUMsT0FHQSxHQUFBLFlBQUFBLE1BQUF0QyxVQUNBNHBDLG9CQUNBLENBQ0F0dkMsTUFBQWdJLE9BRUEsV0FDQSxRQUlBLEdBQ0EsU0FBQUEsTUFBQXRDLFdBQ0EsVUFBQXNDLE1BQUF0QyxVQUNBLENBRUEsSUFBQXJELFVBQUEyRixNQUFBeGhCLE9BQ0EsUUFBQThELEtBQUErWCxXQUNBMHNDLHNCQUNBLENBQ0EvdUMsTUFBQWdJLE9BRUEsYUFDQSxHQUVBLFdBQUExZCxLQUFBK1gsV0FDQW10QyxvQkFDQSxDQUNBbndDLFFBQUEySSxRQUVBLEdBRUEsUUFBQTFkLEtBQUErWCxXQUNBdXRDLGlCQUNBLENBQ0ExNUMsS0FBQThSLFFBRUEsR0FFQSxZQUFBMWQsS0FBQStYLFdBQ0FxdEMscUJBQ0EsQ0FDQXJ3QyxRQUFBMkksUUFFQSxHQUVBLGtCQUFBMWQsS0FBQStYLFlBQ0F5dEMsc0JBQ0EsQ0FDQXp3QyxRQUFBMkksUUFFQSxPQUtBLGFBQUExZCxLQUFBMGQsTUFBQXhoQixTQUNBdXBELGlCQUFBL25DLE9BQUEsT0FNQStrQyxpQkFBQW5yQyxhQWNBekssR0FBQTZILFVBQUEsU0FBQUMsUUFDQSxJQUFBZ3dDLFVBQUFod0MsT0FBQSxTQUFBLFlBQ0F6SyxVQUFBdlUsSUFBQSxVQUFBZ3ZELFdBQ0FwaUQsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsWUFDQXZRLFFBQUFDLElBQUFxVCxHQUFBMDFDLGlCQUFBOXRDLE9BQUFFLFFBRUE2dkMsZUFBQXpyQyxTQUFBLFNBQUE0ckMsVUFBQSxXQUNBLEdBQUF6NkMsVUFBQTRMLE1BQUEsVUFBQTZ1QyxXQUFBLENBQ0EsSUFBQUQsWUFBQWxFLGdCQUFBMWxDLFlBQ0EsRUFDQVQsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFJQXduQyxZQUFBbHBELE9BQ0ErZCxVQUFBbFEsSUFBQXE3QyxZQUFBaHZDLE9BR0FRLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBaHZDLE1BQ0E4c0MsYUFBQTNvQyxhQUNBLFdBR0FOLFVBQUE1USxTQUdBODdDLHNCQUFBQyxZQUFBQyxXQUVBcGlELFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFVBQ0FJLFVBQUEzRixRQUNBaThDLGdCQUFBaGxDLG1CQUlBZ3BDLGVBQUF6ckMsU0FBQSxhQUFBNHJDLFVBQUEsV0FDQXo2QyxVQUFBNEwsTUFBQSxVQUFBNnVDLGFBQ0FuRSxnQkFBQXZsQyxVQUNBWixnQkFBQTlDLFdBQ0F4UCxNQUFBMEMscUJBQ0E4TyxVQUFBdWUsY0FDQXZlLFVBQUEyRCxTQUVBdkksUUFFQTRFLFVBQUE1USxXQU1Ba0UsR0FBQStILFFBQUEsU0FBQXJKLFFBQ0EsSUFBQW81QyxVQUFBcDVDLE9BQUEsU0FBQSxVQUNBckIsVUFBQXZVLElBQUEsVUFBQWd2RCxXQUNBcGlELFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFlBSUEwNkMsZUFBQXpyQyxTQUFBLFNBQUE0ckMsVUFBQSxXQUNBLEdBQUF6NkMsVUFBQTRMLE1BQUEsVUFBQTZ1QyxXQUFBLENBQ0EsSUFBQUQsWUFBQWxFLGdCQUFBMWxDLFlBQ0EsRUFDQVQsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFHQXduQyxZQUFBbHBELE9BQ0ErZCxVQUFBbFEsSUFBQXE3QyxZQUFBaHZDLE9BQ0FRLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBaHZDLE1BQ0E4c0MsYUFBQTNvQyxhQUNBLFdBR0FOLFVBQUE1USxTQUVBcEcsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFFQWs3QyxvQkFBQU4sWUFBQUMsV0FFQXo2QyxVQUFBM0YsUUFDQWk4QyxnQkFBQWhsQyxtQkFJQWdwQyxlQUFBenJDLFNBQUEsYUFBQTRyQyxVQUFBLFdBQ0F6NkMsVUFBQTRMLE1BQUEsVUFBQTZ1QyxhQUNBbkUsZ0JBQUF2bEMsVUFDQVosZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsU0FFQTNSLFFBRUFnTyxVQUFBNVEsV0FNQWtFLEdBQUFrSSxRQUFBLFdBQ0E3SyxVQUFBdlUsSUFBQSxrQkFDQTRNLFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFlBR0EwNkMsZUFBQXpyQyxTQUFBLGdCQUFBLFdBQ0EsR0FBQTdPLFVBQUE0TCxNQUFBLGtCQUFBLENBQ0EsSUFBQTR1QyxZQUFBbEUsZ0JBQUE3a0MsY0FDQXRCLGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBR0F3bkMsY0FDQUEsWUFBQWxwRCxPQUNBMGEsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMjhDLFlBQUEzdkMsUUFDQXl0QyxhQUFBM29DLGFBQ0EsV0FHQU4sVUFBQWxRLElBQUFxN0MsWUFBQTN2QyxXQUlBbXdDLG9CQUFBUixhQUVBbmlELFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFVBQ0FJLFVBQUEzRixRQUNBaThDLGdCQUFBaGxDLGlCQUdBakMsVUFBQTVRLFVBSUE2N0MsZUFBQXpyQyxTQUFBLG9CQUFBLFdBQ0E3TyxVQUFBNEwsTUFBQSxvQkFDQTBxQyxnQkFBQTFrQyxZQUNBekIsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFHQTNELFVBQUE1USxXQU1Ba0UsR0FBQWlJLFNBQUEsV0FDQTVLLFVBQUF2VSxJQUFBLHdCQUNBNE0sU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsWUFHQTA2QyxlQUFBenJDLFNBQUEscUJBQUEsV0FDQSxHQUFBN08sVUFBQTRMLE1BQUEsd0JBQUEsQ0FDQSxJQUFBNHVDLFlBQUFsRSxnQkFBQTdrQyxjQUNBdEIsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFFQSxHQUVBd25DLGNBQ0FBLFlBQUFscEQsT0FDQTBhLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBM3ZDLFFBQ0F5dEMsYUFBQTNvQyxhQUNBLFdBR0FOLFVBQUFsUSxJQUFBcTdDLFlBQUEzdkMsV0FJQXF3QyxxQkFBQVYsYUFFQW5pRCxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxVQUNBSSxVQUFBM0YsUUFDQWk4QyxnQkFBQWhsQyxpQkFHQWpDLFVBQUE1USxVQUlBNjdDLGVBQUF6ckMsU0FBQSxxQkFBQSxXQUNBN08sVUFBQTRMLE1BQUEsMEJBQ0EwcUMsZ0JBQUExa0MsWUFDQXpCLGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBRUEsR0FFQTNELFVBQUE1USxXQU1Ba0UsR0FBQW01QyxXQUFBLFNBQUF0b0QsTUFDQXdNLFVBQUF2VSxJQUFBLFlBQUErSCxNQUNBNkUsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsWUFHQTA2QyxlQUFBenJDLFNBQUEsU0FBQXJiLEtBQUEsV0FDQSxHQUFBd00sVUFBQTRMLE1BQUEsWUFBQXBZLE1BQUEsQ0FDQSxJQUFBZ25ELFlBQUFsRSxnQkFBQXprQyxXQUNBMUIsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsU0FFQXhmLE1BRUFnbkQsY0FDQUEsWUFBQWxwRCxPQUNBMGEsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMjhDLFlBQUE5NEMsS0FDQTQyQyxhQUFBM29DLGFBQ0EsV0FHQU4sVUFBQWxRLElBQUFxN0MsWUFBQTk0QyxNQUNBMk4sVUFBQTVRLFNBR0EyOEMsaUJBQUFaLGFBRUFuaUQsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFDQUksVUFBQTNGLFFBQ0FpOEMsZ0JBQUFobEMsaUJBR0FqQyxVQUFBNVEsVUFJQTY3QyxlQUFBenJDLFNBQUEsYUFBQXJiLEtBQUEsV0FDQXdNLFVBQUE0TCxNQUFBLFlBQUFwWSxRQUNBOGlELGdCQUFBcGtDLFNBQ0EvQixnQkFBQTlDLFdBQ0F4UCxNQUFBMEMscUJBQ0E4TyxVQUFBdWUsY0FDQXZlLFVBQUEyRCxVQUdBM0QsVUFBQTVRLFdBS0FrRSxHQUFBbzVDLFdBQUEsV0FDQS83QyxVQUFBdlUsSUFBQSxtQkFDQTRNLFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFlBQ0EwNkMsZUFBQXpyQyxTQUFBLGVBQUEsV0FDQSxHQUFBN08sVUFBQTRMLE1BQUEsbUJBQUEsQ0FDQSxJQUFBNHVDLFlBQUFsRSxnQkFBQW5rQyxpQkFDQWhDLGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBR0F3bkMsY0FDQUEsWUFBQWxwRCxPQUNBMGEsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMjhDLFlBQUE5NEMsS0FDQTQyQyxhQUFBM29DLGFBQ0EsV0FHQU4sVUFBQWxRLElBQUFxN0MsWUFBQTk0QyxNQUNBMk4sVUFBQTVRLFVBcmpCQSxTQUFBKzdDLFlBQUFodUMsU0FDQSxJQUFBd3ZDLFlBQUE5ckMsZ0JBQUFqQixZQUNBdXJDLFlBQUE5NEMsTUFFQSxJQUFBOEssUUFBQSxDQUVBLElBQUFtdUMsZUFBQXJDLGFBQUEzb0MsYUFDQWdyQyxlQUFBeDdDLElBQUFxN0MsWUFBQTk0QyxNQUNBaTVDLGVBQUFDLFlBR0EsSUFBQXhrQyxrQkFBQWhHLGVBQUFnRyxrQkFDQXZZLE1BQ0F3UixVQUNBbXJDLFlBQUE5NEMsTUFFQTBVLGtCQUFBM3FCLElBQUErdUQsWUFBQTk0QyxLQUFBRSxVQUNBMjJDLGlCQUFBcDVDLElBQUFpWCxrQkFBQVAsWUFLQW1tQyxZQUFBbnRDLFNBQUEsbUJBQUEsU0FBQTlaLEdBQ0FxaEIsa0JBQUFILE9BQUEsQ0FDQXRoQixFQUFBNmxELFlBQUE5NEMsS0FBQS9NLElBQ0FxSyxFQUFBdzdDLFlBQUE5NEMsS0FBQTFDLFFBR0FnOUMsWUFBQW50QyxTQUFBLGdCQUFBLFNBQUE5WixHQUNBcWhCLGtCQUFBSCxPQUFBLENBQ0F0aEIsRUFBQTZsRCxZQUFBOTRDLEtBQUEvTSxJQUNBcUssRUFBQXc3QyxZQUFBOTRDLEtBQUExQyxRQU9BLElBQUFnTyxTQUFBbUQsZ0JBQUFuRCxXQUVBZ3ZDLFlBQUFudEMsU0FBQSxvQkFBQSxTQUFBOVosR0FDQWlZLFNBQUE3TixJQUNBcEssRUFBQXlLLE9BQUFvdUIsaUJBR0FvdUIsWUFBQW50QyxTQUFBLGtCQUFBLFNBQUE5WixHQUVBaVgsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMjhDLFlBQUE5NEMsS0FDQTQyQyxhQUFBM29DLGFBQ0EsT0FDQTNDLFNBQUE3TixJQUFBcEssRUFBQXlLLE9BQUFvdUIsbUJBT0FvdUIsWUFBQW50QyxTQUFBLGtCQUFBLFdBQ0EyckMsWUFBQTk0QyxLQUFBRSxPQUFBd1Usa0JBQUFELGVBSUE2bEMsWUFBQW50QyxTQUFBLFFBQUEsV0FDQTJyQyxZQUFBOTRDLEtBQUFrNUMsWUFDQXZyQyxVQUFBNVEsT0FDQWdQLGNBQUFoaUIsSUFBQSt1RCxZQUFBOTRDLE1BQ0FpQixHQUFBazRDLGlCQUNBLElBQUE3bkMsTUFDQSxJQUFBbkgsaUJBQUEzZSxNQUFBOE4sV0FDQWhPLEVBQ0E2ZSxpQkFBQTNlLE1BQUE4TixNQUVBdWIsUUFBQUUsYUFBQSxDQUNBL0IsS0FBQXRFLGVBQUE2RCxZQUFBdW1DLFlBQUE5NEMsS0FBQUUsU0FBQW9SLE9BQ0FsSCxLQUFBRCxpQkFBQTNlLE1BQUE0ZSxPQUVBbkosR0FBQTZULFVBQUFELFFBQUFJLGVBQ0FoVSxHQUFBNjFDLFdBQUEsRUFFQUQsaUJBQUFuckMsWUFDQWlDLFVBQUFsUSxJQUFBaVgsa0JBQUFQLFlBQ0F4RyxVQUFBNVEsU0FvZUF3OUMsQ0FBQXpCLGFBRUFuaUQsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFDQUksVUFBQTNGLFFBQ0FpOEMsZ0JBQUFobEMsaUJBR0FqQyxVQUFBNVEsVUFJQTY3QyxlQUFBenJDLFNBQUEsbUJBQUEsV0FDQTdPLFVBQUE0TCxNQUFBLHFCQUNBMHFDLGdCQUFBOWpDLGVBQ0FyQyxnQkFBQTlDLFdBQ0F4UCxNQUFBMEMscUJBQ0E4TyxVQUFBdWUsY0FDQXZlLFVBQUEyRCxVQUdBM0QsVUFBQTVRLFdBTUFrRSxHQUFBdTVDLGVBQUEsV0FDQWw4QyxVQUFBdlUsSUFBQSxtQkFDQTRNLFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFlBR0EwNkMsZUFBQXpyQyxTQUFBLHFCQUFBLFdBQ0EsR0FBQTdPLFVBQUE0TCxNQUFBLG1CQUFBLENBQ0EsSUFBQTR1QyxZQUFBbEUsZ0JBQUE3a0MsY0FDQXRCLGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBRUEsR0FDQSxHQUVBd25DLGNBQ0FBLFlBQUFscEQsT0FDQTBhLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBM3ZDLFFBQ0F5dEMsYUFBQTNvQyxhQUNBLFdBR0FOLFVBQUFsUSxJQUFBcTdDLFlBQUEzdkMsV0FFQXl3QyxzQkFBQWQsYUFDQW5pRCxTQUFBYyxLQUFBd0csTUFBQUMsT0FBQSxVQUNBSSxVQUFBM0YsUUFDQWk4QyxnQkFBQWhsQyxpQkFHQWpDLFVBQUE1USxVQUlBNjdDLGVBQUF6ckMsU0FBQSxxQkFBQSxXQUNBN08sVUFBQTRMLE1BQUEscUJBQ0EwcUMsZ0JBQUExa0MsWUFDQXpCLGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBRUEsR0FFQTNELFVBQUE1USxXQUtBa0UsR0FBQXc1QyxXQUFBLFdBQ0FuOEMsVUFBQXZVLElBQUEsZUFDQTRNLFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFlBRUEwNkMsZUFBQXpyQyxTQUFBLG9CQUFBLFdBQ0EsR0FBQTdPLFVBQUE0TCxNQUFBLGVBQUEsQ0FDQSxJQUFBNHVDLFlBQUFsRSxnQkFBQTFsQyxZQUNBLEVBQ0FULGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBSUEsR0FBQXduQyxZQUFBbHBELE1BQ0ErZCxVQUFBbFEsSUFBQXE3QyxZQUFBaHZDLE9BR0FRLGFBQUE3VyxLQUNBZ2IsZ0JBQUE3RCxjQUNBek8sTUFDQTI4QyxZQUFBaHZDLE1BQ0E4c0MsYUFBQTNvQyxhQUNBLGVBR0EsQ0FHQSxJQUFBaUQsVUFBQTBqQyxnQkFBQTNqQyxrQkFFQUMsVUFBQXpULElBQUFxN0MsWUFBQWh2QyxPQUdBLElBQUE1SixPQUFBNDRDLFlBQUFodkMsTUFBQTVKLFNBQ0F3NkMsVUFBQSxDQUNBOTdDLFNBQUEsQ0FDQTNMLEVBQUFpTixPQUFBLEdBQUEsR0FDQTVDLEVBQUE0QyxPQUFBLEdBQUEsSUFFQWxKLE1BQUE2SSxLQUFBQyxJQUFBSSxPQUFBLEdBQUFBLE9BQUEsSUFBQSxJQUVBeTZDLFFBQUEvRixnQkFBQTdqQyxXQUFBMnBDLFdBQ0F4cEMsVUFBQXpULElBQUFrOUMsU0FFQWQsaUJBQUEzb0MsV0FFQXZhLFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFVBQ0FJLFVBQUEzRixRQUNBaThDLGdCQUFBaGxDLGVBRUFqQyxVQUFBNVEsV0FJQTY3QyxlQUFBenJDLFNBQUEsd0JBQUEsV0FDQTdPLFVBQUE0TCxNQUFBLGlCQUNBMHFDLGdCQUFBdmxDLFVBQ0FaLGdCQUFBOUMsV0FDQXhQLE1BQUEwQyxxQkFDQThPLFVBQUF1ZSxjQUNBdmUsVUFBQTJELFVBRUEsRUFDQSxXQUVBM0QsVUFBQTVRLFdBS0FrRSxHQUFBMjVDLGdCQUFBLFNBQUFDLFVBQ0FoRSxpQkFBQW5yQyxZQUNBSyxjQUFBcFQsUUFDQW9ULGNBQUFoaUIsSUFBQTh3RCxVQUNBQSxTQUFBM3RDLEtBQUEsVUFHQWpNLEdBQUE2NUMsY0FBQSxXQUNBeDhDLFVBQUF2VSxJQUFBLHNCQUVBNE0sU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsWUFFQTA2QyxlQUFBenJDLFNBQUEsc0JBQUEsV0FDQSxHQUFBN08sVUFBQTRMLE1BQUEsc0JBQUEsQ0FDQWpKLEdBQUE4NUMsaUJBQUEsR0FDQSxJQUFBakMsWUFBQWxFLGdCQUFBMWxDLFlBQ0EsRUFDQVQsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFHQTNELFVBQUFsUSxJQUFBcTdDLFlBQUFodkMsT0FDQTZELFVBQUE1USxVQUlBNjdDLGVBQUF6ckMsU0FBQSxvQkFBQSxXQUNBLEdBQUE3TyxVQUFBNEwsTUFBQSxzQkFBQSxDQUNBdlQsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFDQUksVUFBQTNGLFFBR0EsSUFBQW1YLGdCQUFBOGtDLGdCQUFBL2tDLGdCQUNBc0MsZUFBQXlpQyxnQkFBQTdpQyxhQUNBcEUsVUFDQW1DLGlCQUVBa3JDLG1CQUFBN29DLGVBQUFuZixJQUFBLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQTNDLFNBR0EwYixlQUFBM1IsTUFBQThYLGdCQUNBeHBCLFFBQUFpTSxRQUFBcU0sR0FBQTJNLFVBQUEsU0FBQTlDLFNBQ0FuaUIsUUFBQWlNLFFBQUFrVyxRQUFBK0csY0FBQSxTQUFBQyxPQUNBa3BDLG1CQUFBMWxELFFBQUF3YyxNQUFBeGhCLFNBQUEsSUFDQXdoQixNQUFBNVcsVUFBQSxPQUtBeVMsVUFBQTVRLFVBR0E2N0MsZUFBQXpyQyxTQUFBLHNCQUFBLFdBQ0E3TyxVQUFBNEwsTUFBQSx3QkFDQTBxQyxnQkFBQXZsQyxVQUNBWixnQkFBQTlDLFdBQ0F4UCxNQUFBMEMscUJBQ0E4TyxVQUFBdWUsY0FDQXZlLFVBQUEyRCxVQUVBLEVBQ0EsV0FFQTNELFVBQUE1USxXQUtBa0UsR0FBQTg1QyxnQkFBQSxTQUFBRSxhQUNBLElBQUFycEMsVUFBQWdqQyxnQkFBQWpqQyxpQkFBQWhFLFdBQ0FzdEMsWUFDQWp2QyxlQUFBM1IsTUFBQXVYLFdBRUE1RixlQUFBSyxRQUVBMWpCLFFBQUFpTSxRQUFBZ2QsVUFBQSxTQUFBM2UsR0FDQUEsRUFBQWlJLFdBQUErL0MsZUFJQWg2QyxHQUFBaTZDLHNCQUFBLFNBQUFweEMsT0FDQStzQyxpQkFBQW5yQyxZQUNBNUIsTUFBQXF4QyxTQUFBcnhDLE1BQUFxeEMsV0FDQXh0QyxVQUFBNVEsUUFHQWtFLEdBQUFnSSxXQUFBLFdBQ0EzSyxVQUFBdlUsSUFBQSwwQkFDQWtmLFdBQUEyckMsZ0JBQUEzckMsV0FBQTlNLE1BQUF3UixXQUNBaXJDLGVBQUF6ckMsU0FBQSxtQkFBQSxXQUNBN08sVUFBQTRMLE1BQUEsMkJBQ0FqQixXQUNBd0YsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFFQSxLQUtBc25DLGVBQUF6ckMsU0FBQSx1QkFBQSxXQUNBN08sVUFBQTRMLE1BQUEsMkJBQ0FqQixXQUNBd0YsZ0JBQUE5QyxXQUNBeFAsTUFBQTBDLHFCQUNBOE8sVUFBQXVlLGNBQ0F2ZSxVQUFBMkQsVUFFQSxNQVFBOEQsT0FBQXliLElBQUEsYUFBQSxTQUFBeDlCLEVBQUErbkQsZ0JBR0F2a0MsRUFBQSxtQkFBQXVHLE1BQUEsUUFHQSxJQUFBbGQsT0FBQWs3QyxlQUFBbDdDLFNBQ0FtN0MsU0FBQXg3QyxLQUFBeTdDLEtBQ0F6N0MsS0FBQTA3QyxJQUFBcjdDLE9BQUEsR0FBQUEsT0FBQSxHQUFBLEdBQ0FMLEtBQUEwN0MsSUFBQXI3QyxPQUFBLEdBQUFBLE9BQUEsR0FBQSxJQUdBZSxHQUFBdTZDLG9CQUFBSCxTQUNBcDZDLEdBQUF3NkMsZ0JBQUEsV0FDQSxJQUVBbnFDLE1BRkFoWSxNQUFBMkgsR0FBQXk2QyxpQkFBQXBpRCxNQUlBZ1ksTUFBQTJnQixTQUFBMzRCLE9BQUEraEQsU0FHQWx4QyxpQkFBQXBnQixJQUFBLENBQ0F1UCxNQUFBZ1ksTUFDQWxILEtBQUFuSixHQUFBeTZDLGlCQUFBdHhDLE9BR0FuSixHQUFBazJDLGdCQUFBaHRDLGlCQUFBM2UsTUFFQXlWLEdBQUE2MUMsV0FBQSxFQUNBNzFDLEdBQUE2VCxVQUFBRCxRQUFBSSxlQUNBbW1DLGVBQUEvcEMsVUFDQTFELFVBQUE1USxPQUVBOFosRUFBQSxtQkFBQXVHLE1BQUEsU0FHQXZHLEVBQUEsbUJBQUE1WixHQUFBLGdCQUFBLFNBQUE1SixHQUNBK25ELGVBQUEvcEMsVUFDQTFELFVBQUE1USxXQUlBa0UsR0FBQTA2QyxZQUFBLFNBQUFkLFVBQ0EsSUFBQS93QyxNQUFBK3dDLFVBQUE5dUMsY0FBQXZnQixNQUNBc2UsUUFDQStzQyxpQkFBQW5yQyxZQUNBcEIsYUFBQTdXLEtBQ0FnYixnQkFBQTdELGNBQ0F6TyxNQUNBMk4sTUFDQUEsTUFBQTh4QyxZQUNBLFdBR0E5eEMsTUFBQXhSLFNBQ0FxVixVQUFBNVEsT0FDQWtFLEdBQUFpNUMsa0JBQ0FqNUMsR0FBQWs1QyxzQkFDQXB1QyxjQUFBcFQsVUFJQXNJLEdBQUFrNEMsZUFBQSxXQUNBLElBQUFydkMsTUFBQWlDLGNBQUF2Z0IsTUFDQXlWLEdBQUE0NkMsZ0JBQUEsQ0FDQXZyRCxLQUFBd1osTUFBQXhaLE9BQ0E4bEQsVUFBQSxTQUNBajNDLE9BQUEySyxNQUFBM0ssU0FDQUUsS0FBQXlLLE1BQUF6SyxPQUNBRCxZQUFBMEssTUFBQTFLLGVBRUE2QixHQUFBNjZDLGlCQUFBLEdBR0E3NkMsR0FBQTg2QyxXQUFBLENBQ0EsQ0FDQWpxRCxLQUFBLFNBQ0F3SCxNQUFBLFVBRUEsQ0FDQXhILEtBQUEsT0FDQXdILE1BQUEsU0FJQTJILEdBQUErNkMsZUFBQSxDQUNBLENBQ0FscUQsS0FBQSxhQUNBd0gsTUFBQSxVQUVBLENBQ0F4SCxLQUFBLE9BQ0F3SCxNQUFBLFNBSUEySCxHQUFBZzdDLFdBQUEsQ0FDQSxDQUNBbnFELEtBQUEsU0FDQXdILE1BQUEsVUFFQSxDQUNBeEgsS0FBQSxPQUNBd0gsTUFBQSxRQUVBLENBQ0F4SCxLQUFBLFNBQ0F3SCxNQUFBLFdBSUEySCxHQUFBaTdDLGFBQUEsQ0FDQSxRQUNBLFVBQ0EsWUFDQSxrQkFDQSxRQUNBLGNBQ0EsVUFDQSxVQUNBLFVBQ0EsV0FDQSxXQUNBLFVBQ0EsZ0JBQ0EsZUFDQSxjQUNBLFVBR0FqN0MsR0FBQWc1QyxtQkFBQSxXQUNBLElBQUFud0MsTUFBQWlDLGNBQUF2Z0IsTUFDQXlWLEdBQUFrN0Msb0JBQUEsQ0FDQS9GLFVBQUEsU0FDQTU4QyxLQUFBc1EsTUFBQXRRLE9BQ0FnSCxTQUFBc0osTUFBQXRKLFdBQ0E0N0MsVUFBQXR5QyxNQUFBc3lDLFlBQ0EzN0MsV0FBQXFKLE1BQUFySixhQUNBdEIsT0FBQTJLLE1BQUEzSyxTQUNBRSxLQUFBeUssTUFBQXpLLE9BQ0FELFlBQUEwSyxNQUFBMUssZUFFQTZCLEdBQUFvN0MsZ0JBQUEsRUFDQWpuQyxPQUFBa0IsVUFHQXJWLEdBQUFxN0MsZUFBQSxTQUFBOTBDLEtBQUFsTyxPQUNBLElBQUF3USxNQUFBaUMsY0FBQXZnQixNQUNBc2UsTUFBQXRDLE1BQUFsTyxPQUNBcVUsVUFBQTVRLFFBR0FrRSxHQUFBczdDLGlCQUFBLFNBQUF2b0QsS0FDQSxJQUFBOFYsTUFBQWlDLGNBQUF2Z0IsTUF1QkFzZSxNQUFBMUssWUFBQXBMLEtBQ0EyWixVQUFBNVEsUUFHQSxJQUFBeS9DLGlCQUFBL3RDLGdCQUFBbEQsdUJBRUF0SyxHQUFBdzdDLGlCQUFBLENBQ0F2ZixTQUFBLFNBQUFDLElBQUF2aEMsTUFBQXc5QixRQUNBLElBQUF0dkIsTUFBQWlDLGNBQUF2Z0IsTUFDQSxTQUFBeVYsR0FBQTQ2QyxnQkFBQXpGLFVBQ0F0c0MsTUFBQXpLLEtBQUF6RCxPQUNBLFdBQUFxRixHQUFBNDZDLGdCQUFBekYsV0FDQXRzQyxNQUFBM0ssT0FBQXZELE9BRUErUixVQUFBNVEsUUFHQTIvQyxPQUFBLFNBQUF2ZixJQUFBdmhDLE1BQUF3OUIsUUFDQSxJQUFBdHZCLE1BQUFpQyxjQUFBdmdCLE1BQ0F3ZixNQUFBLENBQ0E3TCxPQUFBMkssTUFBQTNLLFNBQ0FFLEtBQUF5SyxNQUFBekssT0FDQUQsWUFBQTBLLE1BQUExSyxlQUVBbzlDLGlCQUFBLytDLElBQUF1TixRQUVBMnhDLFFBQUEsU0FBQXhmLElBQUF2aEMsTUFBQXc5QixRQUNBLElBQUF0dkIsTUFBQWlDLGNBQUF2Z0IsTUFDQXdmLE1BQUEsQ0FDQTdMLE9BQUEySyxNQUFBM0ssU0FDQUUsS0FBQXlLLE1BQUF6SyxPQUNBRCxZQUFBMEssTUFBQTFLLGVBRUFrTCxhQUFBN1csS0FDQWdiLGdCQUFBN0QsY0FDQXpPLE1BQ0EyTixNQUNBOHNDLGFBQUEzb0MsYUFDQSxhQUNBdXVDLGlCQUFBLytDLElBQUF1TixTQUlBd3hDLGlCQUFBL3RDLGdCQUFBbEQseUJBSUF0SyxHQUFBMjdDLHFCQUFBLENBQ0ExZixTQUFBLFNBQUFDLElBQUF2aEMsTUFBQXc5QixRQUNBLElBQUF0dkIsTUFBQWlDLGNBQUF2Z0IsTUFDQSxHQUFBLFNBQUF5VixHQUFBazdDLG9CQUFBL0YsVUFDQXRzQyxNQUFBekssS0FBQXpELFlBQ0EsR0FBQSxXQUFBcUYsR0FBQWs3QyxvQkFBQS9GLFVBQUEsQ0FDQSxJQUFBMkQsUUFBQWp3QyxNQUFBOHhDLFlBQUEvK0MsS0FBQSxRQUNBazlDLFFBQUExNkMsS0FBQXpELE9BRUErUixVQUFBNVEsUUFHQTIvQyxPQUFBLFNBQUF2ZixJQUFBdmhDLE1BQUF3OUIsUUFDQSxJQUFBdHZCLE1BQUFpQyxjQUFBdmdCLE1BQ0F3ZixNQUFBLENBQ0E3TCxPQUFBMkssTUFBQTNLLFNBQ0FFLEtBQUF5SyxNQUFBekssT0FDQUQsWUFBQTBLLE1BQUExSyxlQUVBbzlDLGlCQUFBLytDLElBQUF1TixRQUVBMnhDLFFBQUEsU0FBQXhmLElBQUF2aEMsTUFBQXc5QixRQUNBLElBQUF0dkIsTUFBQWlDLGNBQUF2Z0IsTUFDQXdmLE1BQUEsQ0FDQTdMLE9BQUEySyxNQUFBM0ssU0FDQUUsS0FBQXlLLE1BQUF6SyxPQUNBRCxZQUFBMEssTUFBQTFLLGVBRUFrTCxhQUFBN1csS0FDQWdiLGdCQUFBN0QsY0FDQXpPLE1BQ0EyTixNQUNBOHNDLGFBQUEzb0MsYUFDQSxhQUNBdXVDLGlCQUFBLytDLElBQUF1TixTQUlBd3hDLGlCQUFBL3RDLGdCQUFBbEQseUJBSUF0SyxHQUFBaTVDLGdCQUFBLFdBQ0FqNUMsR0FBQTY2QyxpQkFBQSxHQUdBNzZDLEdBQUFrNUMsb0JBQUEsV0FDQSxJQUFBM2dELEtBQUF1UyxjQUFBdmdCLE1BQ0EsR0FBQWdPLE1BQUEsU0FBQUEsS0FBQWxKLE9BQUEsQ0FDQSxJQUFBd2QsTUFBQXRVLEtBQUFvaUQsWUFDQTdCLFFBQUFqc0MsTUFBQWpSLEtBQUEsUUFBQSxHQUNBazlDLFFBQUE1NkMsT0FBQSxNQUNBd08sVUFBQTVRLE9BQ0E4NUMsaUJBQUFuckMsWUFFQXpLLEdBQUFvN0MsZ0JBQUEsR0FNQXA3QyxHQUFBNDdDLGlCQUFBLEVBQ0E1N0MsR0FBQTY3QyxTQUFBLFdBQ0E3N0MsR0FBQTQ3QyxnQkFBQWx2QyxVQUFBck8sWUFDQTJCLEdBQUE0N0MsZ0JBQ0FsbUQsU0FBQWMsS0FBQXdHLE1BQUFDLE9BQUEsVUFDQXZILFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLE9BQ0F5UCxVQUFBck8sV0FBQTJCLEdBQUE0N0MsaUJBQ0FsdkMsVUFBQTVRLFFBS0FrRSxHQUFBODdDLFdBQUEsU0FBQWpyRCxNQUVBK2tELGlCQUFBbnJDLFlBQ0EsSUFBQTVaLEtBQUF3WSxhQUFBMUosT0FBQTBKLGFBQUEzSixRQUtBTSxHQUFBKzdDLGNBQUEsV0FDQSxJQUFBNWxELFFBQUErRSxNQUFBOUUsWUFDQUMsS0FBQVgsU0FBQUMsY0FBQSxLQUNBVSxLQUFBQyxTQUFBLGtCQUFBM0IsS0FBQUMsTUFDQXlCLEtBQUFFLEtBQUFKLFFBQ0FULFNBQUFjLEtBQUFDLFlBQUFKLE1BQ0FBLEtBQUFLLFFBQ0FoQixTQUFBYyxLQUFBRyxZQUFBTixPQUdBMkosR0FBQXk2QixhQUFBLFdBQ0EsSUFBQXVoQixLQUFBOWdELE1BQUF3QyxTQUNBbkssS0FBQSxJQUFBb25DLEtBQUEsQ0FBQXFoQixNQUFBLENBQ0FuckQsS0FBQSxxQkFFQXdGLEtBQUFYLFNBQUFDLGNBQUEsS0FDQVUsS0FBQUUsS0FBQTBwQyxJQUFBQyxnQkFBQTNzQyxNQUNBOEMsS0FBQUMsU0FBQSxpQkFBQTNCLEtBQUFDLE1BQ0FjLFNBQUFjLEtBQUFDLFlBQUFKLE1BQ0FBLEtBQUFLLFFBQ0FoQixTQUFBYyxLQUFBRyxZQUFBTixPQUdBMkosR0FBQTFTLGFBQUEsV0FDQXNvRCxpQkFBQW5yQyxZQUNBLElBQUF1eEMsS0FBQTlnRCxNQUFBd0MsU0FJQXZNLFdBQ0E3RCxhQUFBMG5ELFNBQUExa0QsSUFBQSxDQUNBNlcsV0FBQTYwQyxLQUNBakcsWUFBQTdzQyxpQkFBQTNlLE1BQ0EwckQsVUFBQXRDLGdCQUFBM2xDLGFBQ0EzQyxhQUFBckwsR0FBQXFMLGFBQUFJLDJCQUVBN2MsS0FBQSxTQUFBQyxNQUNBL0UsYUFBQW9JLFFBQUFyRCxLQUFBeEQsS0FBQThHLFNBRUFoQixXQUNBL0Qsb0JBQUF6RCxvQkFBQVksSUFBQSxvQkFDQXFFLEtBQUEsU0FBQUMsTUFDQWxGLG9CQUFBYixJQUFBLFlBQUErRixLQUFBeEQsS0FBQUEsUUFFQTBELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsT0FHQXJELE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFNQTROLEdBQUFvTixZQUFBLFNBQUFGLE9BQ0Ewb0MsaUJBQUFuckMsWUFDQWtyQyxhQUFBdm9DLFlBQUFGLFFBRUFsTixHQUFBbU4sWUFBQSxTQUFBRCxPQUNBeW9DLGFBQUF4b0MsWUFBQUQsUUFHQWxOLEdBQUFpOEMsV0FBQSxXQUNBdEcsYUFBQS9vQyxnQkFDQTVNLEdBQUEyTSxVQUFBZ3BDLGFBQUE1b0MsZ0JBR0EvTSxHQUFBazhDLFlBQUEsU0FBQXRpRCxHQUNBb0csR0FBQW04QyxjQUFBdmlELEVBQ0ErN0MsYUFBQTFvQyxXQUFBclQsSUFJQW9HLEdBQUFrOEMsWUFBQSxHQUVBbDhDLEdBQUFvOEMsaUJBQUEsU0FBQXZ6QyxPQUNBQSxNQUFBNU8sU0FDQThRLGVBQUF2WSxLQUFBcVcsT0FDQWtDLGVBQUFFLEtBQUFwQyxNQUFBeFosU0FHQTJRLEdBQUFxOEMsY0FBQSxTQUFBbnhDLFdBQ0EsTUFBQSxRQUFBL1gsS0FBQStYLFdBQ0EsU0FFQSxXQUFBL1gsS0FBQStYLFdBQ0EsU0FFQSxXQUFBL1gsS0FBQStYLFdBQ0EsVUFFQSxRQUFBL1gsS0FBQStYLFdBQ0EsT0FFQSxhQUFBL1gsS0FBQStYLFdBQ0EsT0FFQSxZQUFBL1gsS0FBQStYLFdBQ0EsY0FEQSxHQUtBbEwsR0FBQXM4QyxjQUFBLFdBQ0EsSUFBQXByQyxlQUFBbkcsZUFBQXhnQixNQUNBbUMsUUFBQUMsSUFBQXVrQixnQkFDQTBrQyxpQkFBQW5yQyxZQUNBL2lCLFFBQUFpTSxRQUFBdWQsZUFBQSxTQUFBckksT0FDQUEsTUFBQXF4QyxTQUFBLEtBRUF4dEMsVUFBQTVRLFFBR0FrRSxHQUFBdThDLGdCQUFBLFdBQ0EsSUFBQXJyQyxlQUFBbkcsZUFBQXhnQixNQUNBcXJELGlCQUFBbnJDLFlBQ0EvaUIsUUFBQWlNLFFBQUF1ZCxlQUFBLFNBQUFySSxPQUNBUSxhQUFBN1csS0FDQWdiLGdCQUFBN0QsY0FDQXpPLE1BQ0EyTixNQUNBQSxNQUFBOHhDLFlBQ0EsV0FHQTl4QyxNQUFBeFIsV0FFQXFWLFVBQUE1USxRQUdBa0UsR0FBQXc4QyxhQUFBLFNBQUFDLFdBQ0E3bUMsRUFBQSxpQkFBQXVHLE1BQUEsU0FHQW5jLEdBQUFzTCxrQkFBQSxTQUFBNUQsUUFBQTZELFNBQUExYSxNQUNBbVAsR0FBQXFMLGFBQUFDLGtCQUFBNUQsUUFBQTZELFNBQUExYSxNQUNBK2tCLEVBQUEsaUJBQUF1RyxNQUFBLFNBR0FoSSxPQUFBeWIsSUFBQSxtQkFBQSxTQUFBeDlCLEVBQUEvRyxNQUNBcUIsUUFBQUMsSUFBQSx1QkFBQXRCLFFBdG9FQTJVLEdBQUEwOEMsZUFBQSxFQUVBMThDLEdBQUE4dUIsVUFBQW5sQyxvQkFBQVksSUFBQSxhQUVBeVYsR0FBQTI4QyxXQUFBLFNBQUFubkMsTUFDQXhWLEdBQUE0OEMsYUFBQXBuQyxLQUFBbGxCLElBQ0F5a0QsWUFBQXYvQixNQUNBeFYsR0FBQTA4QyxlQUFBLEdBRUExOEMsR0FBQTI4QyxXQUFBaHpELG9CQUFBWSxJQUFBLGlCQVdBeVYsR0FBQTY4QyxtQkFBQSxXQUNBbm5ELFNBQUFjLEtBQUF3RyxNQUFBQyxPQUFBLFVBQ0EyWSxFQUFBLG9CQUFBdUcsTUFBQSxRQUNBMXlCLE9BQUE2TixHQUFBLGdCQWhJQSxHQ0FBLFdBQ0E1UCxRQUFBQyxPQUFBLE9BQUEyQixXQUFBLG1CQUVBLFNBQ0E2cUIsT0FDQUMsU0FDQUMsWUFDQTVxQixPQUNBMEgsV0FDQXJILGFBQ0FGLFFBQ0EwcUIsTUFDQXpxQixPQUNBNnlCLE9BQ0FoekIsV0FHQSxJQUNBbUIsT0FBQWpCLFFBQUFpQixPQUFBQyxVQUFBbEIsUUFBQWtCLFVBQUFsQixRQUFBaVAsU0FDQSxJQUFBd2IsWUFBQTFqQixZQUVBLFlBREE5RixTQUhBTSxLQVFBcU0sU0FBQTFNLFVBQUFQLE1BRUFtQyxRQUFBQyxJQVZBeEIsS0FVQXFNLFVBVkFyTSxLQVdBTixPQUFBLFdBQ0FBLFVBR0FzcEIsT0FBQStWLFlBQUEsU0FBQXZVLE1BQ0EsT0FBQWpzQixVQUFBaXNCLFNBQUFBLEtBQUEsU0FBQSxNQWpDQSxHQ0FBLFdBQ0FqdUIsUUFBQUMsT0FBQSxPQUFBbTFELFVBQUEsWUFFQSxTQUFBcmlELFdBQUF0SixXQUFBaWpCLFNBQUF4cUIsUUFBQUUsY0FDQSxNQUFBLENBQ0FpekQsU0FBQSxJQUNBcmlELE1BQUEsQ0FDQXNpRCxRQUFBLEtBRUEzbUQsS0FBQSxTQUFBOGQsT0FBQThvQyxLQUFBQyxPQUNBdHpELFFBQUE0USxXQUFBMlosT0FBQTZvQyxRQUFBQyxLQUFBLElBQ0E3b0MsU0FBQSxXQUNBRCxPQUFBa0IsZUFaQSxHQ0FBLFdBQ0EzdEIsUUFBQUMsT0FBQSxPQUFBbTFELFVBQUEsY0FFQSxTQUNBcmlELFdBQ0F0SixXQUNBaWpCLFNBQ0F4cUIsUUFDQUUsY0FFQSxNQUFBLENBQ0FpekQsU0FBQSxJQUNBcmlELE1BQUEsQ0FDQXl0QyxFQUFBLElBQ0F0M0MsS0FBQSxLQUVBc3NELFNBQUEsdUNBQ0E5bUQsS0FBQSxTQUFBOGQsT0FBQThvQyxLQUFBQyxPQUNBdHpELFFBQUFrTyxhQUNBcWMsT0FBQWlwQyxZQUFBLFNBQUE3M0MsUUFDQSxNQUFBLG1CQUFBcFMsS0FBQW9TLGFBcEJBLEdDQUEsV0FDQTdkLFFBQUFDLE9BQUEsT0FBQW0xRCxVQUFBLGFBRUEsU0FBQXJpRCxXQUFBdEosV0FBQWlqQixTQUFBeHFCLFFBQUFFLGNBQ0EsTUFBQSxDQUNBaXpELFNBQUEsSUFDQTF6RCxZQUFBLDRCQUNBcVIsTUFBQSxDQUNBNDVCLFFBQUEsSUFDQStvQixRQUFBLElBQ0ExeUQsT0FBQSxJQUNBMnlELFdBQUEsSUFDQUMsVUFBQSxLQUVBbG5ELEtBQUEsU0FBQThkLE9BQUE4b0MsS0FBQUMsT0FDQSxJQUFBTSxZQUFBLEdBQ0ExbEQsYUFBQWxPLFFBQUFrTyxhQUNBcWMsT0FBQTFnQixNQUFBLEdBQ0EwZ0IsT0FBQXViLFdBQUEsY0FDQXZiLE9BQUFzcEMsY0FBQSxHQUNBdHBDLE9BQUF1cEMsZUFBQSxLQUNBdnBDLE9BQUF3YixhQUFBLEVBRUF4YixPQUFBd3BDLFdBQUEsU0FBQTVvQyxRQUNBLElBQUExbEIsS0FBQTBsQixPQUFBMWxCLEtBQ0FtdUQsWUFBQWhyRCxLQUFBdWlCLFFBQ0FaLE9BQUF1cEMsZUFDQXZzRCxXQUNBMGxDLGNBQUE5aEIsT0FBQXprQixLQUNBMUIsS0FBQSxTQUFBQyxNQUNBc2xCLE9BQUF1cEMsZUFBQTNvQyxPQUNBWixPQUFBc3BDLGNBQUExb0MsT0FBQTFsQixLQUNBOGtCLE9BQUFtZ0IsUUFBQXpsQyxLQUFBeEQsS0FBQWlwQyxRQUNBbmdCLE9BQUExZ0IsTUFBQTVFLEtBQUF4RCxLQUFBb0ksTUFDQTBnQixPQUFBcmhCLFlBQUFqRSxLQUFBeEQsS0FBQTByQyxZQUNBNWlCLE9BQUF1YixXQUFBcmdDLEtBQ0EsZUFBQThrQixPQUFBdWIsV0FDQXZiLE9BQUF3YixhQUFBLEVBRUF4YixPQUFBd2IsYUFBQSxJQUdBNWdDLE1BQUEsU0FBQXFELEdBQ0ExRixRQUFBQyxJQUFBeUYsTUFJQStoQixPQUFBeXBDLFdBQUEsU0FBQXJxRCxLQUFBVCxhQUNBUyxLQUFBVCxZQUFBQSxZQUNBMkgsV0FBQTZELFdBQUEsVUFBQSxHQUNBN0QsV0FBQTZELFdBQUEsc0JBQUEvSyxPQUdBNGdCLE9BQUEwNkIsS0FBQSxXQUNBMk8sWUFBQXROLE1BRUEsSUFBQTJOLFNBQUFMLFlBQUFBLFlBQUE3ckQsT0FBQSxHQUNBeXhDLFFBQUF5YSxTQUFBLGdCQUFBLGVBQ0FDLE1BQUFELFNBQUFBLFNBQUF2dEQsSUFBQXdILGFBQUF2TixNQUFBK0YsSUFFQWEsV0FBQWl5QyxTQUFBMGEsT0FDQWx2RCxLQUFBLFNBQUFDLE1BQ0FzbEIsT0FBQXVwQyxlQUFBRyxVQUFBLEtBQ0ExcEMsT0FBQXNwQyxjQUFBSSxTQUFBQSxTQUFBeHVELEtBQUEsS0FDQThrQixPQUFBbWdCLFFBQUF1cEIsU0FDQWh2RCxLQUFBeEQsS0FBQWlwQyxRQUNBemxDLEtBQUF4RCxLQUFBQSxLQUFBNGpDLFlBQ0E5YSxPQUFBMWdCLE1BQUFvcUQsU0FBQWh2RCxLQUFBeEQsS0FBQW9JLE1BQUEsR0FDQTBnQixPQUFBdWIsV0FBQW11QixTQUFBQSxTQUFBeHVELEtBQUEsY0FFQSxlQUFBOGtCLE9BQUF1YixXQUNBdmIsT0FBQXdiLGFBQUEsRUFFQXhiLE9BQUF3YixhQUFBLElBR0E1Z0MsTUFBQSxTQUFBcUQsR0FDQTFGLFFBQUFDLElBQUF5RixNQUlBK2hCLE9BQUE0cEMsT0FBQSxTQUFBaHBDLE9BQUFwcUIsUUFDQSxHQUFBb3FCLE9BQUEsQ0FLQSxJQUFBOXBCLFFBQUEsQ0FDQTZHLFFBQUFxaUIsT0FBQW1wQyxXQUFBaHRELElBQ0EyQixTQUFBdEgsT0FBQTRxQyxZQUFBamxDLElBQ0FvQixPQUFBcWpCLE9BQUF6a0IsS0FHQWEsV0FDQXFrQyxXQUFBdnFDLFNBQ0EyRCxLQUFBLFNBQUFDLE1BRUFzbEIsT0FBQW9wQyxZQUNBcHBDLE9BQUFvcEMsVUFBQXBwQyxPQUFBb3BDLFVBQUEvb0QsT0FDQSxTQUFBeEMsR0FBQSxPQUFBQSxFQUFBMUIsTUFBQTZqQixPQUFBbXBDLFdBQUFodEQsT0FHQXhHLGFBQUFvSSxRQUFBLDJCQUNBMGpCLEVBQUEsV0FBQXVHLE1BQUEsVUFFQXB0QixNQUFBLFNBQUFxRCxHQUNBMUYsUUFBQUMsSUFBQXlGLFdBMUdBLEdDQ0ExSyxRQUFBQyxPQUFBLE9BQUFtMUQsVUFBQSxlQUFBLFNBQUExb0MsVUFDQSxPQUFBLFNBQUExWixNQUFBc2pELFNBQUFDLFFBQ0FELFNBQUFFLGFBQUEsQ0FDQXZ6RCxPQUFBK1AsTUFBQXVqRCxPQUFBRSxTQUNBQyxPQUFBLFdBQ0FocUMsU0FBQSxXQUNBNHBDLFNBQUF4ckIsUUFBQSxVQUNBLFNBUUE5cUMsUUFBQUMsT0FBQSxPQUFBbTFELFVBQUEsU0FBQSxXQUNBLE1BQUEsQ0FDQXptRCxLQUFBLFNBQUFxRSxNQUFBd25CLFFBQUFnN0IsT0FDQWg3QixRQUFBM2hCLEtBQUEsUUFBQSxXQUNBMjhDLE1BQUFuaEQsS0FBQW1oRCxNQUFBbUIsUUFDQW5CLE1BQUFvQixLQUFBLE1BQUFwQixNQUFBbUIsY0NyQkEsV0FDQTMyRCxRQUFBQyxPQUFBLE9BQUFtMUQsVUFBQSxpQkFFQSxTQUNBcmlELFdBQ0F0SixXQUNBaWpCLFNBQ0F4cUIsUUFDQUUsY0FFQSxNQUFBLENBQ0FpekQsU0FBQSxJQUNBMXpELFlBQUEsZ0NBQ0FxUixNQUFBLENBQ0E2akQsYUFBQSxJQUNBN21DLGlCQUFBLElBQ0E4bUMsYUFBQSxJQUNBbnpDLGFBQUEsS0FFQWhWLEtBQUEsU0FBQThkLE9BQUE4b0MsS0FBQUMsT0E0QkEvb0MsT0FBQW9SLGFBQUEsR0FDQXBSLE9BQUFzcUMsV0FBQSxFQUNBdHRELFdBQ0F6RCxtQkFDQWtCLEtBQUEsU0FBQUMsTUFDQXNsQixPQUFBb1IsYUFBQTEyQixLQUFBeEQsS0FBQTJyQixLQUNBN0MsT0FBQXVELGlCQUFBaHdCLFFBQUE0SixLQUFBNmlCLE9BQUFvUixhQUFBLE1BRUF4MkIsTUFBQSxTQUFBcUQsTUFHQStoQixPQUFBdXFDLFFBQUEsR0FDQXZ0RCxXQUNBeEQsd0JBQ0FpQixLQUFBLFNBQUFDLE1BQ0FzbEIsT0FBQXVxQyxRQUFBN3ZELEtBQUF4RCxLQUFBMnJCLE9BRUFqb0IsTUFBQSxTQUFBcUQsTUFHQStoQixPQUFBd3FDLGNBQUEsR0FDQXh0RCxXQUNBdkQsb0JBQ0FnQixLQUFBLFNBQUFDLE1BQ0FzbEIsT0FBQXdxQyxjQUFBOXZELEtBQUF4RCxLQUFBMnJCLE9BRUFqb0IsTUFBQSxTQUFBcUQsTUFFQStoQixPQUFBeXFDLHFCQUFBLFNBQUExbUQsVUFDQXVDLFdBQUE2RCxXQUFBLG1CQUFBcEcsVUFDQXhMLFFBQUFDLElBQUF1TCxVQUNBaWMsT0FBQTBxQyxlQUFBM21ELFVBR0FpYyxPQUFBMEQsa0JBQUEsU0FBQXRtQixNQUNBNGlCLE9BQUF1RCxpQkFBQW5tQixNQUdBNGlCLE9BQUEycUMsc0JBQUEsU0FBQS9yRCxLQUNBb2hCLE9BQUF1RCxtQkFHQWhyQixRQUFBQyxJQUFBd25CLE9BQUFxcUMsY0FDQSxHQUFBenJELEtBQ0FvaEIsT0FBQXVELGlCQUFBaHdCLFFBQUE0SixLQUFBNmlCLE9BQUFvUixhQUFBLElBQ0FwUixPQUFBc3FDLFdBQUExckQsSUFBQSxHQUNBLEdBQUFBLEtBQ0FvaEIsT0FBQXVELGlCQUFBaHdCLFFBQUE0SixLQUFBNmlCLE9BQUF1cUMsUUFBQSxJQUNBdnFDLE9BQUFzcUMsV0FBQTFyRCxJQUFBLElBRUFvaEIsT0FBQXVELGlCQUFBaHdCLFFBQUE0SixLQUFBNmlCLE9BQUF3cUMsY0FBQSxJQUNBeHFDLE9BQUFzcUMsV0FBQTFyRCxJQUFBLEtBSUFvaEIsT0FBQTRxQyxlQUFBLFNBQUFyM0MsUUFBQTZELFNBQUExYSxNQUNBK2tCLEVBQUEsaUJBQUF1RyxNQUFBLFFBQ0FoSSxPQUFBOUksYUFBQUMsa0JBQUE1RCxRQUFBNkQsU0FBQTFhLFdBeEdBLEdDQUEsV0FFQW5KLFFBQUFDLE9BQUEsT0FBQTZNLE9BQUEsa0JBRUEsV0FDQSxPQUFBLFNBQUFqRSxNQUFBNmlDLGdCQUNBLE9BQUE3aUMsTUFHQUEsTUFBQTZpQyxlQUZBLEtBU0ExckMsUUFBQUMsT0FBQSxPQUFBNk0sT0FBQSxXQUVBLFdBQ0EsT0FBQSxTQUFBakUsTUFBQXl1RCxPQUNBLE9BQUF6dUQsTUFHQW9oQixPQUFBcGhCLE9BQUFzaEIsUUFBQW10QyxPQUZBLEtBU0F0M0QsUUFBQUMsT0FBQSxPQUFBNk0sT0FBQSxZQUVBLFdBQ0EsT0FBQSxTQUFBakUsTUFBQXl1RCxPQUNBLE9BQUF6dUQsTUFHQW9oQixPQUFBcGhCLE9BQUFzaEIsUUFBQW10QyxPQUZBLE1BU0F0M0QsUUFBQUMsT0FBQSxPQUFBNk0sT0FBQSxpQkFFQSxXQUNBLE9BQUEsU0FBQWpFLE9BQ0EsR0FBQUEsTUFDQSxNQUFBLGFBQUE0QyxLQUFBNUMsTUFBQThKLFlBQ0E5SixNQUFBOEosV0FBQU4sUUFBQSxRQUFBLFFBQ0F4SixNQUFBMHVELGFBTUF2M0QsUUFBQUMsT0FBQSxPQUFBNk0sT0FBQSxxQkFFQSxXQUNBLE9BQUEsU0FBQWpFLE9BQ0EsR0FBQUEsT0FBQUEsTUFBQW9CLE9BR0EsT0FBQXBCLE1BQUFvQixPQUFBLEVBQ0FwQixNQUFBb0IsT0FBQSx1QkFFQXBCLE1BQUEsR0FBQTJ1RCxTQUFBLGtCQU1BeDNELFFBQUFDLE9BQUEsT0FBQTZNLE9BQUEsY0FFQSxXQUNBLE9BQUEsU0FBQTJxRCxXQUFBQyxRQUNBLElBQUE5K0IsTUFBQSxFQU1BLE9BSkE2K0IsV0FBQXhyRCxRQUFBLFNBQUFwQyxNQUNBK3VCLE9BQUEwUSxTQUFBei9CLEtBQUE2dEQsV0FHQTkrQixTQUtBNTRCLFFBQUFDLE9BQUEsT0FBQTZNLE9BQUEsWUFFQSxXQUtBLE9BQUEsU0FBQTZxRCxJQUFBQyxjQUNBLElBQUFBLGFBQ0EsT0FBQUQsSUFHQSxJQUFBbHFELE9BQUEsR0FhQSxPQVhBbXFELGFBQUFBLGFBQUE5bEMsY0FHQTl4QixRQUFBaU0sUUFBQTByRCxJQUFBLFNBQUE5dEQsT0FDQSxJQUFBQSxLQUFBbEMsS0FBQW1xQixjQUFBbmxCLFFBQUFpckQsY0FDQW5xRCxPQUFBM0MsS0FBQWpCLE1BRUE0RCxPQUFBM0MsS0FBQThzRCxnQkFJQW5xRCxVQWpIQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIiwgW1xyXG4gIFwidWkucm91dGVyXCIsXHJcbiAgXCJyb3V0ZXNNb2R1bGVcIixcclxuICBcIkxvY2FsU3RvcmFnZU1vZHVsZVwiLFxyXG4gIFwidWlHbWFwZ29vZ2xlLW1hcHNcIixcclxuICBcIm5nUHJvZ3Jlc3NcIixcclxuICBcInVpLW5vdGlmaWNhdGlvblwiLFxyXG4gIFwibmdNYXBcIixcclxuICBcInVpLnNlbGVjdFwiLFxyXG4gIFwidWkuc2VsZWN0MlwiLFxyXG4gIFwibmdTYW5pdGl6ZVwiLFxyXG4gIFwiY29sb3IucGlja2VyXCIsXHJcbiAgXCJ1aS5ib290c3RyYXBcIixcclxuICBcImRhdGF0YWJsZXNcIixcclxuICBcIm5nVGFnc0lucHV0XCIsXHJcbiAgXCJuZ0ZpbGVVcGxvYWRcIixcclxuICBcImluZmluaXRlLXNjcm9sbFwiLFxyXG4gIFwidWkudHJlZVwiLFxyXG4gIFwiYW5ndWxhck1vbWVudFwiLFxyXG4gIFwiYnRvcmZzLm11bHRpc2VsZWN0XCIsXHJcbiAgXCJodG1sVG9QZGZTYXZlXCIsXHJcbiAgXCJkbmRMaXN0c1wiLFxyXG4gIFwiYW5ndWxhci5jaGlwc1wiLFxyXG4gIFwidWkuYm9vdHN0cmFwLmNvbnRleHRNZW51XCIsXHJcbiAgXCJjbG91ZGluYXJ5XCIsXHJcbiAgXCJGaWxlU2F2ZXJcIixcclxuICBcIm1vbWVudC1waWNrZXJcIixcclxuICBcIm5nRHJhZ1RvUmVvcmRlclwiXHJcbl0pO1xyXG5hcHAuY29uZmlnKGNvbmZpZyk7XHJcblxyXG5mdW5jdGlvbiBjb25maWcoXHJcbiAgTm90aWZpY2F0aW9uUHJvdmlkZXIsXHJcbiAgdWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIsXHJcbiAgdHJlZUNvbmZpZyxcclxuICBjbG91ZGluYXJ5UHJvdmlkZXJcclxuKSB7XHJcbiAgLyogR29vZ2xlIG1hcCBjb25maWcgKi9cclxuXHJcbiAgdWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIuY29uZmlndXJlKHtcclxuICAgIGtleTogXCJBSXphU3lBM01JQS1tS1dxXzYwcTFLMHpPSGd1cmF4VC0xUVB4TlVcIixcclxuICAgIHY6IFwiMy5leHBcIixcclxuICAgIGxpYnJhcmllczogXCJwbGFjZXMsd2VhdGhlcixnZW9tZXRyeSx2aXN1YWxpemF0aW9uXCJcclxuICB9KTtcclxuXHJcbiAgLyogTm90aWZpY2F0aW9uIGNvbmZpZyAqL1xyXG5cclxuICBOb3RpZmljYXRpb25Qcm92aWRlci5zZXRPcHRpb25zKHtcclxuICAgIGRlbGF5OiAzMDAwLFxyXG4gICAgc3RhcnRUb3A6IDIwLFxyXG4gICAgc3RhcnRSaWdodDogMTAsXHJcbiAgICB2ZXJ0aWNhbFNwYWNpbmc6IDIwLFxyXG4gICAgaG9yaXpvbnRhbFNwYWNpbmc6IDIwLFxyXG4gICAgcG9zaXRpb25YOiBcInJpZ2h0XCIsXHJcbiAgICBwb3NpdGlvblk6IFwidG9wXCJcclxuICB9KTtcclxuXHJcbiAgLyogVHJlZSBjb25maWd1cmF0aW9uICovXHJcbiAgdHJlZUNvbmZpZy5kZWZhdWx0Q29sbGFwc2VkID0gdHJ1ZTtcclxuXHJcbiAgLyogQ2xvdWRpbmFyeSBjb25maWcgKi9cclxuICBjbG91ZGluYXJ5UHJvdmlkZXJcclxuICAgIC5zZXQoXCJjbG91ZF9uYW1lXCIsIFwiZGt0bmhtc2p4XCIpXHJcbiAgICAuc2V0KFwidXBsb2FkX3ByZXNldFwiLCBcImNsb3VkZXNfZnJvbnRlbmRcIik7XHJcbn1cclxuIiwiYW5ndWxhci5tb2R1bGUoXCJyb3V0ZXNNb2R1bGVcIiwgW10pLmNvbmZpZyhyb3V0ZUNvbmZpZyk7XHJcblxyXG5mdW5jdGlvbiByb3V0ZUNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcIi9cIik7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJlTG9naW5cIiwge1xyXG4gICAgdXJsOiBcIi9cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9wcmVMb2dpbi5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInByZUxvZ2luQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGFzaGJvYXJkXCIsIHtcclxuICAgIHVybDogXCIvZGFzaGJvYXJkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvZGFzaGJvYXJkLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiZGFzaGJvYXJkQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gIC8qICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGFzaGJvYXJkX29sZFwiLCB7XHJcbiAgICB1cmw6IFwiL2Rhc2hib2FyZF9vbGRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9kYXNoYm9hcmRfb2xkLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiZGFzaGJvYXJkQ3RybCBhcyB2bVwiXHJcbiAgfSk7ICovXHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY3JlYXRlUHJvamVjdFwiLCB7XHJcbiAgICB1cmw6IFwiL2NyZWF0ZV9wcm9qZWN0XCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvY3JlYXRlUHJvamVjdC5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImNyZWF0ZVByb2plY3RDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ2aXN1YWxQbGFubmVyXCIsIHtcclxuICAgIHVybDogXCIvdmlzdWFsX3BsYW5uZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy92aXN1YWxQbGFubmVyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwidmlzdWFsUGxhbm5lckN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb2plY3RzXCIsIHtcclxuICAgIHVybDogXCIvcHJvamVjdHNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9wcm9qZWN0cy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInByb2plY3RDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJtYXRlcmlhbHNcIiwge1xyXG4gICAgdXJsOiBcIi9tYXRlcmlhbHNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9tYXRlcmlhbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJtYXRlcmlhbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIm1hdGVyaWFsVmlld1wiLCB7XHJcbiAgICB1cmw6IFwiL21hdGVyaWFsLzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL21hdGVyaWFsVmlldy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIm1hdGVyaWFsVmlld0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImNvbWJvTWF0ZXJpYWxWaWV3XCIsIHtcclxuICAgIHVybDogXCIvY29tYm9fbWF0ZXJpYWwvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvY29tYm9NYXRlcmlhbFZpZXcuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJjb21ib01hdGVyaWFsVmlld0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVxdWlwbWVudHNcIiwge1xyXG4gICAgdXJsOiBcIi9lcXVpcG1lbnRzXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvZXF1aXBtZW50cy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImVxdWlwbWVudEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVxdWlwbWVudFZpZXdcIiwge1xyXG4gICAgdXJsOiBcIi9lcXVpcG1lbnRWaWV3LzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2VxdWlwbWVudFZpZXcuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJlcXVpcG1lbnRWaWV3Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZmlsZU1hbmFnZXJcIiwge1xyXG4gICAgdXJsOiBcIi9maWxlX21hbmFnZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9maWxlTWFuYWdlci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImZpbGVNYW5hZ2VyQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZmlsZU1hbmFnZXJPbGRcIiwge1xyXG4gICAgdXJsOiBcIi9maWxlX21hbmFnZXJfb2xkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvZmlsZU1hbmFnZXItb2xkLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiZmlsZU1hbmFnZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwYXlyb2xsXCIsIHtcclxuICAgIHVybDogXCIvcGF5cm9sbFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3BheXJvbGwuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJwYXlyb2xsQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY2FsY3VsYXRpb25cIiwge1xyXG4gICAgdXJsOiBcIi9jYWxjdWxhdGlvblwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2NhbGN1bGF0aW9uLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY2FsY3VsYXRpb25DdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJyZXBvcnRcIiwge1xyXG4gICAgdXJsOiBcIi9yZXBvcnRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9yZXBvcnRzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0c0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImlzc3Vlc1wiLCB7XHJcbiAgICB1cmw6IFwiL2lzc3Vlc1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2lzc3Vlcy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImlzc3Vlc0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaXNzdWVzRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvaXNzdWVzX2RldGFpbHMvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvaXNzdWVzX2RldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJpc3N1ZURldGFpbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInJlcG9ydHNEZXRhaWxcIiwge1xyXG4gICAgdXJsOiBcIi9yZXBvcnRzX2RldGFpbHMvOmlkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvcmVwb3J0c2RldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJyZXBvcnREZXRhaWxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJiaWxsaW5nQXJjaGl2ZVwiLCB7XHJcbiAgICB1cmw6IFwiL2JpbGxpbmdfYXJjaGl2ZVwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2JpbGxpbmdBcmNoaXZlLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiYmlsbGluZ0FyY2hpdmVDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJyZXBvcnRzTGlzdGluZ1wiLCB7XHJcbiAgICB1cmw6IFwiL3JlcG9ydHNfbGlzdGluZ1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3JlcG9ydHNMaXN0aW5nLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0c0xpc3RpbmdDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCIzZERhc2hib2FyZFwiLCB7XHJcbiAgICB1cmw6IFwiLzNkX2Rhc2hib2FyZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzLzNkLWRhc2hib2FyZC5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIl8zZERhc2hib2FyZEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNldFBhc3N3b3JkXCIsIHtcclxuICAgIHVybDogXCIvc2V0X3Bhc3N3b3JkXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc2V0X3Bhc3N3b3JkLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic2V0UGFzc3dvcmRDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNldHRpbmdcIiwge1xyXG4gICAgdXJsOiBcIi9zZXR0aW5nXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc2V0dGluZy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInNldHRpbmdDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlbXBsb3llZXNcIiwge1xyXG4gICAgdXJsOiBcIi9lbXBsb3llZXNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9lbXBsb3llZS5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImVtcGxveWVlc0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIjNkdmlld2VyXCIsIHtcclxuICAgIHVybDogXCIvM2R2aWV3ZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy8zZC12aWV3ZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJfM2R2aWV3ZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJjbGllbnRzXCIsIHtcclxuICAgIHVybDogXCIvY2xpZW50c1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2NsaWVudHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJjbGllbnRzQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic3VwcGxpZXJcIiwge1xyXG4gICAgdXJsOiBcIi9zdXBwbGllclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3N1cHBsaWVyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic3VwcGxpZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInN1cHBsaWVyRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvc3VwcGxpZXJfZGV0YWlscy86aWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9zdXBwbGllcmRldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJzdXBwbGllckRldGFpbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInN1YmNvbnRyYWN0b3JcIiwge1xyXG4gICAgdXJsOiBcIi9zdWJjb250cmFjdG9yXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvc3ViY29udHJhY3Rvci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInN1YmNvbnRyYWN0b3JDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzdWJjb250cmFjdG9yRGV0YWlsXCIsIHtcclxuICAgIHVybDogXCIvc3ViY29udHJhY3Rvcl9kZXRhaWxzLzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3N1YmNvbnRyYWN0b3JkZXRhaWxzLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwic3ViY29udHJhY3RvckRldGFpbEN0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIm1lZXRpbmdyb29tXCIsIHtcclxuICAgIHVybDogXCIvbWVldGluZ3Jvb21cIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9tZWV0aW5nUm9vbS5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIm1lZXRpbmdSb29tQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY2FsZW5kZXJcIiwge1xyXG4gICAgdXJsOiBcIi9jYWxlbmRlclwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2NhbGVuZGVyLmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiY2FsZW5kZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0b2RvXCIsIHtcclxuICAgIHVybDogXCIvdG9kb1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL3RvZG8uaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJ0b2RvQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidG9kb1ZpZXdcIiwge1xyXG4gICAgdXJsOiBcIi90b2RvVmlldy86aWRcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy90b2RvVmlldy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInRvZG9WaWV3Q3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiY2xpZW50c0RldGFpbFwiLCB7XHJcbiAgICB1cmw6IFwiL2NsaWVudHNfZGV0YWlsLzppZFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwicGFydGlhbHMvY2xpZW50c2RldGFpbC5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImNsaWVudHNEZXRhaWxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzeXN0ZW10YWdzXCIsIHtcclxuICAgIHVybDogXCIvc3lzdGVtdGFnc1wiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwicGFydGlhbHMvc3lzdGVtdGFncy5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcInN5c3RlbVRhZ3NDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlY29ub21pY1wiLCB7XHJcbiAgICB1cmw6IFwiL2Vjb25vbWljXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvZWNvbm9taWMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJlY29ub21pY0N0cmwgYXMgdm1cIlxyXG4gIH0pO1xyXG5cclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImNyZWF0ZUludm9pY2VcIiwge1xyXG4gICAgdXJsOiBcIi9jcmVhdGVJbnZvaWNlXCIsXHJcbiAgICB0ZW1wbGF0ZVVybDogXCIvcGFydGlhbHMvY3JlYXRlSW52b2ljZS5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImNyZWF0ZUludm9pY2VDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJjcmVhdGVWYXJpYXRpb25zT3JkZXJcIiwge1xyXG4gICAgdXJsOiBcIi9jcmVhdGVWYXJpYXRpb25zT3JkZXJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9jcmVhdGVWYXJpYXRpb25zT3JkZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJjcmVhdGVWYXJpYXRpb25zT3JkZXJDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJpbnZvaWNlXCIsIHtcclxuICAgIHVybDogXCIvaW52b2ljZVwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2ludm9pY2UuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJpbnZvaWNlQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaW52b2ljZUxpc3RcIiwge1xyXG4gICAgdXJsOiBcIi9pbnZvaWNlTGlzdFwiLFxyXG4gICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL2ludm9pY2VMaXN0Lmh0bWxcIixcclxuICAgIGNvbnRyb2xsZXI6IFwiaW52b2ljZUxpc3RDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzdXBwbGllckRldGFpbHNcIiwge1xyXG4gICAgdXJsOiBcIi9zdXBwbGllckRldGFpbHNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9zdXBwbGllcmRldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJzdXBwbGllckRldGFpbHNDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ3b3JraW5nSG91cnNcIiwge1xyXG4gICAgdXJsOiBcIi93b3JraW5nSG91cnNcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9zdXBwbGllcmRldGFpbHMuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJ3b3JraW5nSG91cnNDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlY29ub21pY1BheXJvbGxcIiwge1xyXG4gICAgdXJsOiBcIi9lY29ub21pY1BheXJvbGxcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9lY29ub21pY1BheXJvbGwuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJlY29ub21pY1BheXJvbGxDdHJsIGFzIHZtXCJcclxuICB9KTtcclxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIkFSXCIsIHtcclxuICAgIHVybDogXCIvQVJcIixcclxuICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9BUi5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcIkFSQ3RybCBhcyB2bVwiXHJcbiAgfSk7XHJcbn1cclxuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiYXBpRmFjdG9yeVwiLCBhcGlGYWN0b3J5KTtcclxuXHJcbiAgZnVuY3Rpb24gYXBpRmFjdG9yeShcclxuICAgICRodHRwLFxyXG4gICAgJHN0YXRlLFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgIGdsb2JhbHMsXHJcbiAgICBVcGxvYWQsXHJcbiAgICBOb3RpZmljYXRpb24sXHJcbiAgICAkcVxyXG4gICkge1xyXG4gICAgLy9jb25zdCB1cmwgPSBcImh0dHA6Ly8xOTIuMTY4LjEwLjE4ODoxMzM3XCIsXHJcbiAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vYXBpLnN0YWdpbmcuY2xvdWRlcy5ldVwiLFxyXG4gICAgICAvL2NvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo0MjAwXCIsXHJcbiAgICAgIC8vY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjEzMzdcIixcclxuICAgICAgaGVhZGVycyA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IG1ldGhvZCA9PT0gXCJHRVRcIiA/IHVuZGVmaW5lZCA6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgcGxhdGZvcm06IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgc291cmNlOiBcIndlYlwiXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIGhlYWRlcnMzRCA9IChtZXRob2QsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IG1ldGhvZCA9PT0gXCJHRVRcIiA/IHVuZGVmaW5lZCA6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlblxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAga2V5OiBcImZhdnlAMTIzXCJcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICB7IHByb2dyZXNzLCB1c2VyU3RvcmUsIGxvZ291dCB9ID0gZ2xvYmFscztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsb2dpbjogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2F1dGhlbnRpY2F0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBmb3Jnb3RQYXNzd29yZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2ZvcmdldFBhc3N3b3JkXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICByZWdpc3RyYXRpb246IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9kYXNoYm9hcmRSZWdpc3RyYXRpb25cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL3N1YnNjcmliZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0Q29tcGFueUJ5SWQ6IGZ1bmN0aW9uKGNvbXBhbnlJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldENvbXBhbnlCeUlkLyR7Y29tcGFueUlkfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbFVzZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0YWRtaW51c2Vyc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIGxpc3RBbGxDb3VudHJ5Q29kZSA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAvLyAgICRyb290U2NvcGUuYXBpV2FpdCA9IHRydWU7XHJcbiAgICAgIC8vICAgJGh0dHBcclxuICAgICAgLy8gICAgIC5nZXQoXCJhcHAvZGF0YS9jb21tb24tYXBpL0NvdW50cnlDb2RlLmpzb25cIiwgdm0uZ2V0Q29uZmlnKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAvLyAgICAgICAkcm9vdFNjb3BlLmFwaVdhaXQgPSBmYWxzZTtcclxuICAgICAgLy8gICAgICAgY2IocmVzLmRhdGEpO1xyXG4gICAgICAvLyAgICAgfSxcclxuICAgICAgLy8gICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgLy8gICAgICAgJHJvb3RTY29wZS5hcGlXYWl0ID0gZmFsc2U7XHJcbiAgICAgIC8vICAgICAgIGlmIChlcnIuc3RhdHVzKSB7XHJcbiAgICAgIC8vICAgICAgICAgdm0uc2hvd0FsZXJ0KHRoaXMsIGVycik7XHJcbiAgICAgIC8vICAgICAgIH1cclxuICAgICAgLy8gICAgICAgZWxzZSB7XHJcbiAgICAgIC8vICAgICAgICAgY2IoZXJyLmRhdGEpO1xyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvL30sXHJcblxyXG4gICAgICBsaXN0QWxsUHJvamVjdHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsUHJvamVjdHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxDbGllbnRzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIC8vIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgIC8vICAgJGh0dHAoe1xyXG4gICAgICAgIC8vICAgICB1cmw6IHVybCArIFwiXCIsXHJcbiAgICAgICAgLy8gICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAvLyAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyApO1xyXG4gICAgICAgIC8vIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbENsaWVudHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxSb29mZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbFJvb2ZlcnNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjcmVhdGVQcm9qZWN0OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZVByb2plY3RcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZUlzc3VlOiBmdW5jdGlvbihpc3N1ZW9iaikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW4gY3JlYXRlIGlzc3VlIGFwaVwiLCBpc3N1ZW9iaik7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlSXNzdWVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogaXNzdWVvYmosXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZUlzc3VlUzNVcGxvYWQ6IGZ1bmN0aW9uKGlzc3Vlb2JqKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlSXNzdWVGb3JTM1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpc3N1ZW9iaixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldElzc3VlQnlJZDogZnVuY3Rpb24oaXNzdWVJRCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldElzc3VlQnlJZC8ke2lzc3VlSUR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldENsaWVudEJ5SWQ6IGZ1bmN0aW9uKGNsaWVudElEKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvZ2V0Q2xpZW50QnlJZC8ke2NsaWVudElEfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlSXNzdWU6IGZ1bmN0aW9uKGlzc3Vlb2JqLCBpZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwZGF0ZUlzc3VlL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogaXNzdWVvYmosXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldFByb2plY3RSb29mUGxhbnM6IGZ1bmN0aW9uKHByb2plY3RJZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRQcm9qZWN0Um9vZlBsYW5zL1wiICsgcHJvamVjdElkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNhdmVSb29mUGxhbjogZnVuY3Rpb24ocm9vZlBsYW5JZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9zYXZlUm9vZlBsYW4vXCIgKyByb29mUGxhbklkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZU1hdGVyaWFsczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZU1hdGVyaWFsXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjcmVhdGVFcXVpcG1lbnQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVFcXVpcG1lbnRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxNYXRlcmlhbHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsTWF0ZXJpYWxzXCIgKyBxdWVyeSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBsaXN0QWxsQ29tYm9NYXRlcmlhbHM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0Q29tYm9NYXRlcmlhbHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxpc3RBbGxFcXVpcG1lbnRzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdEFsbEVxdWlwbWVudHNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZU1hdGVyaWFsQnlJZDogZnVuY3Rpb24oaWQsIHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVNYXRlcmlhbEJ5SWQvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVFcXVpcG1lbnRCeUlkOiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwZGF0ZUVxdWlwbWVudEJ5SWQvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRNYXRlcmlhbEJ5SWQ6IGZ1bmN0aW9uKG1hdGVyaWFsSUQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9nZXRNYXRlcmlhbEJ5SWQvJHttYXRlcmlhbElEfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0Q29tYm9NYXRlcmlhbEJ5SWQ6IGZ1bmN0aW9uKGNvbWJvSWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiBgJHt1cmx9L2FwaS9nZXRDb21ib01hdGVyaWFsQnlJZC8ke2NvbWJvSWR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRFcXVpcG1lbnRCeUlkOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldEVxdWlwbWVudEJ5SWQvJHtpZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlQ29tYm9NYXRlcmlhbDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogYCR7dXJsfS9hcGkvY3JlYXRlQ29tYm9NYXRlcmlhbGAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZUNvbWJvTWF0ZXJpYWxMaXN0OiBmdW5jdGlvbihpZCwgcGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL3VwZGF0ZUNvbWJvTWF0ZXJpYWxMaXN0LyR7aWR9YCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdXBkYXRlQ29tYm9NYXRlcmlhbDogZnVuY3Rpb24oaWQsIHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL3VwZGF0ZUNvbWJvTWF0ZXJpYWwvJHtpZH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNob3dDb252ZXJzaW9uUmF0ZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9zaG93Q29udmVyc2lvblJhdGVcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIGdldEN1cnJlbmN5QmFzZWRPbkNhbGN1bGF0aW9uRGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgIC8vICAgICAkaHR0cCh7XHJcbiAgICAgIC8vICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEN1cnJlbmN5QmFzZWRPbkNhbGN1bGF0aW9uRGF0ZVwiLFxyXG4gICAgICAvLyAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAvLyAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgLy8gICAgICAgZGF0YToge1xyXG4gICAgICAvLyAgICAgICAgIGRhdGU6IG5ldyBEYXRlKClcclxuICAgICAgLy8gICAgICAgfVxyXG4gICAgICAvLyAgICAgfSlcclxuICAgICAgLy8gICApO1xyXG4gICAgICAvLyAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAvLyB9LFxyXG4gICAgICBnZXRNYXRlcmlhbEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldE1hdGVyaWFsQnlJZC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLyogRGVjb3JhdGUgYWpheCBjYWxscyB3aXRoIHByb2dyZXNzIGJhciAqL1xyXG4gICAgICBwcm9ncmVzc2lmeTogcHJvbWlzZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIHByb2dyZXNzLnN0YXJ0KCk7XHJcbiAgICAgICAgICBwcm9taXNlXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIHByb2dyZXNzLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dvdXQoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGlzdEFsbElzc3VlczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxJc3N1ZXNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldElzc3Vlc0xpc3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9hbGxJc3N1ZXNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGlzVG9rZW5WYWxpZDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2lzVG9rZW5WYWxpZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2V0UGFzc3dvcmQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9yZXNldFBhc3N3b3JkQWRtaW5cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVSb2xlQmFzZWRBY2Nlc3M6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdXBkYXRlUm9sZUJhc2VkQWNjZXNzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyogRmlsZSBNYW5hZ2VyIEFQSXMgKi9cclxuICAgICAgYWRkSGllcmFyY2h5OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZEhpZXJhcmNoeVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRIaWVyYXJjaHlDaGlsZHJlbjogZnVuY3Rpb24oaGllcmFyY2h5SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0SGllcmFyY2h5Q2hpbGRyZW4vXCIgKyBoaWVyYXJjaHlJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEhpZXJhcmNoeTogZnVuY3Rpb24ocHJvamVjdElkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEhpZXJhcmNoeS9cIiArIHByb2plY3RJZCArIFwiP2RlcHRoPTJcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIHZpZXdQcm9qZWN0QXNzZXRzOiBmdW5jdGlvbihwcm9qZWN0SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdmlld1Byb2plY3RBc3NldHMvXCIgKyBwcm9qZWN0SWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYWRkRmlsZVRvSGllcmFyY2h5OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZEZpbGVUb0hpZXJhcmNoeVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHZpZXdIaWVyYXJjaHk6IGZ1bmN0aW9uKGhpZXJhcmNoeUlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3ZpZXdIaWVyYXJjaHkvXCIgKyBoaWVyYXJjaHlJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjbG9uZUFzc2V0czogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jbG9uZUFzc2V0c1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdXBsb2FkRmlsZUluRmlsZU1hbmFnZXI6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGxvYWRGaWxlSW5GaWxlTWFuYWdlclwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZHJhZ01vdmVOb2RlczogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9kcmFnTW92ZU5vZGVzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG1vdmVBc3NldHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbW92ZUFzc2V0c1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBkZWxldGVBc3NldHM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZGVsZXRlQXNzZXRzXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLy8zRC1zaXRlIHJlZGlyZWN0aW9uIGFwaSBjYWxsXHJcblxyXG4gICAgICBnZXQzRFBhZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpO1xyXG5cclxuICAgICAgICB2YXIgRGF0YTNEID0ge1xyXG4gICAgICAgICAgXCJ4LWFjY2Vzcy10b2tlblwiOiB0b2tlbixcclxuICAgICAgICAgIHByb2plY3RJZDogXCI1YjY5N2MwMzBhN2U5NzA1NjgzNWE5NGFcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkZXMtM2QuY29tXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IERhdGEzRFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy9jcmVhdGUgbmV3IGNsaWVudFxyXG4gICAgICBjcmVhdGVDbGllbnQ6IGZ1bmN0aW9uKGNsaWVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpZW50IGluIGFwaSBmYWN0b3J5XCIsIGNsaWVudCk7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NyZWF0ZUNsaWVudFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogY2xpZW50XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzYXZlSGllcmFyY2h5VHJlZTogZnVuY3Rpb24ocHJvamVjdElkLCBuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3NhdmVIaWVyYXJjaHlUcmVlL1wiICsgcHJvamVjdElkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBuYW1lXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRTeXN0ZW1UYWc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRDb21ib1N5c3RlbVRhZ1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgYm9va01hcmtQcm9qZWN0OiBmdW5jdGlvbihpZCwgYWRkZWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYm9va01hcmtQcm9qZWN0XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIHByb2plY3RJZDogaWQsXHJcbiAgICAgICAgICAgICAgYWRkZWQ6IGFkZGVkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEJvb2ttYXJrczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEJvb2ttYXJrc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SGllcmFyY2h5VGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRIaWVyYXJjaHlUZW1wbGF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGxvYWRIaWVyYXJjaHlUcmVlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xvYWRIaWVyYXJjaHlUcmVlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIG5ld0ZpbGVVcGxvYWQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbmV3RmlsZVVwbG9hZFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2hvd1Byb2plY3RGaWxlczogZnVuY3Rpb24ocXVlcnlPYmopIHtcclxuICAgICAgICBsZXQgcXVlcnkgPSAhcXVlcnlPYmogLy8gYnVpbGRpbmcgcXVlcnkgc3RyaW5nXHJcbiAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgIDogT2JqZWN0LmtleXMocXVlcnlPYmopLnJlZHVjZSgoYWNjLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHN0ciA9IGAke3Z9PSR7cXVlcnlPYmpbdl19JmA7XHJcbiAgICAgICAgICAgICAgYWNjICs9IHN0cjtcclxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBcIj9cIik7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5zbGljZSgwLCAtMSk7IC8vIHJlbW92ZSB0cmFpbGluZyAmXHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3Nob3dQcm9qZWN0RmlsZXNcIiArIHF1ZXJ5LFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY2hhbmdlUHJvamVjdFRlbXBsYXRlOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2NoYW5nZVByb2plY3RUZW1wbGF0ZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBzaG93UHJvamVjdEZpbGVzOiBmdW5jdGlvbihpZCwgbGltaXQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvc2hvd1Byb2plY3RGaWxlcy9cIiArIGlkICsgXCI/bGltaXQ9XCIgKyBsaW1pdCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldFByb2plY3RCeUlkOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRQcm9qZWN0QnlJZC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgY2hlY2tBc3NldER1cGxpY2F0ZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jaGVja0Fzc2V0RHVwbGljYXRlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZU5ld1N1cHBsaWVyOiBmdW5jdGlvbihzdXBwbGllcikge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZHN1cHBsaWVyXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHN1cHBsaWVyLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0QWxsU3VwcGxpZXJzOiBmdW5jdGlvbihxdWVyeU9iaikge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICFxdWVyeU9iaiAvLyBidWlsZGluZyBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgOiBPYmplY3Qua2V5cyhxdWVyeU9iaikucmVkdWNlKChhY2MsIHYpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgc3RyID0gYCR7dn09JHtxdWVyeU9ialt2XX0mYDtcclxuICAgICAgICAgICAgICBhY2MgKz0gc3RyO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFwiP1wiKTtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsgLy8gcmVtb3ZlIHRyYWlsaW5nICZcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbGlzdGFsbHN1cHBsaWVyc1wiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0QWxsU3ViY29udHJhY3RvcnM6IGZ1bmN0aW9uKHF1ZXJ5T2JqKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0gIXF1ZXJ5T2JqIC8vIGJ1aWxkaW5nIHF1ZXJ5IHN0cmluZ1xyXG4gICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKHF1ZXJ5T2JqKS5yZWR1Y2UoKGFjYywgdikgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBzdHIgPSBgJHt2fT0ke3F1ZXJ5T2JqW3ZdfSZgO1xyXG4gICAgICAgICAgICAgIGFjYyArPSBzdHI7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfSwgXCI/XCIpO1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuc2xpY2UoMCwgLTEpOyAvLyByZW1vdmUgdHJhaWxpbmcgJlxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0YWxsc3ViY29udHJhY3RvclwiICsgcXVlcnksXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgYWRkUHJvamVjdFJvb2ZQbGFuOiBmdW5jdGlvbihwYXlsb2FkLCBwcm9qZWN0SWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvYWRkUHJvamVjdFJvb2ZQbGFuXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcblxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2VuZXJhdGVSb29mUGxhbnM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2VuZXJhdGVSb29mUGxhbnNcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGFkZFJvb2ZQbGFuc0Zyb21Bc3NldDogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9hZGRSb29mUGxhbnNGcm9tQXNzZXRcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldFN1cHBsaWVyQnlJZDogZnVuY3Rpb24oc3VwcGxpZXJJRCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldHN1cHBsaWVyLyR7c3VwcGxpZXJJRH1gLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNyZWF0ZU5ld1N1YmNvbnRyYWN0b3I6IGZ1bmN0aW9uKHN1YmNvbnRyYWN0b3IpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9hZGRzdWJjb250cmFjdG9yXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHN1YmNvbnRyYWN0b3IsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBnZXRTdWJjb250cmFjdG9yQnlJZDogZnVuY3Rpb24oc3VwcGxpZXJJRCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IGAke3VybH0vYXBpL2dldHN1YmNvbnRyYWN0b3IvJHtzdXBwbGllcklEfWAsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgaXNzdWVJbWFnZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2lzc3VlSW1hZ2VcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG5ld0lzc3VlczNGaWxlVXBsb2FkOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJTiBTMyBJU1NVRSBGVU5DVElPTlwiKTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvbmV3SXNzdWVzM0ZpbGVVcGxvYWRcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHBvc3RDb21tZW50Rm9ySXNzdWU6IGZ1bmN0aW9uKGlkLCBjb21tZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb21tZW50OiBcIiwgY29tbWVudCk7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZGNvbW1lbnQvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBjb21tZW50LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzYXZlTG9jYWxJc3N1ZUFzc2V0OiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvc2F2ZUxvY2FsSXNzdWVBc3NldFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgcG9zdE1hcmtJbWc6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9wb3N0bWFya2luZ3NcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHJlT3Blbklzc3VlU3RhdHVzVXBkYXRlOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIHZhciBJc3N1ZXN0YXR1c09iaiA9IHsgY29tcGxldGlvblN0YXR1czogXCJPUEVOXCIgfTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvcmVvcGVuU3RhdHVzL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogSXNzdWVzdGF0dXNPYmosXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldEFsbEF0T25jZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gbWFrZSBvdXIgb3duIHByb21pc2VcclxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAvLyB3ZSdsbCBhc3VtZSB0aGF0IHlvdSBjYW4gcHV0IHRoZSBmcnVpdCBhcyBwYXJ0IG9mIHRoZSBwYXRoXHJcbiAgICAgICAgdmFyIGluZm9Qcm9taXNlID0gJGh0dHAoe1xyXG4gICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvZ2V0YWRtaW51c2Vyc1wiLFxyXG4gICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBkZXRhaWxzUHJvbWlzZSA9ICRodHRwKHtcclxuICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2xpc3RBbGxSb29mZXJzXCIsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gJGh0dHAuZ2V0KHVybCArIFwiL2FwaS9saXN0QWxsUm9vZmVyc1wiKTtcclxuXHJcbiAgICAgICAgJHEuYWxsKFtpbmZvUHJvbWlzZSwgZGV0YWlsc1Byb21pc2VdKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xyXG4gICAgICAgICAgICBmcnVpdEluZm86IGRhdGFbMF0sXHJcbiAgICAgICAgICAgIGZydWl0RGV0YWlsczogZGF0YVsxXVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBzYXZlSXNzdWVBc0NvbXBsZXRlOiBmdW5jdGlvbihpZCwgb2JqZWN0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cob2JqZWN0KTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9tYXJraXNzdWVhc2NvbXBsZXRlL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogb2JqZWN0LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBhZGRTdGFmZk1lbWJlcjogZnVuY3Rpb24oc3RhZmYsIGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2FkZHN0YWZmbWVtYmVyL1wiICsgaWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogc3RhZmYsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHNhdmVTeXN0ZW1UYWc6IGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVUYWdcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogb2JqZWN0LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZ2V0QWxsU3lzdGVtVGFnczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldFRhZ3NMaXN0XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgZGVsZXRlU3lzdGVtVGFnOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9kZWxldGV0YWcvXCIgKyBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiREVMRVRFXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB1cGRhdGVTdWJjb250cmFjdG9yOiBmdW5jdGlvbihzdWJjb250cmFjdG9yKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvdXBkYXRlc3ViY29udHJhY3Rvci9cIiArIHN1YmNvbnRyYWN0b3IuX2lkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHN1YmNvbnRyYWN0b3IsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlU3VwcGxpZXI6IGZ1bmN0aW9uKHN1cHBsaWVyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coc3VwcGxpZXIpO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwZGF0ZXN1cHBsaWVyL1wiICsgc3VwcGxpZXIuX2lkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHN1cHBsaWVyLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vQ3JlYXRlIE5ldyBUb2RvXHJcbiAgICAgIGNyZWF0ZVRvZG9MaXN0OiBmdW5jdGlvbihpbnB1dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0KTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY3JlYXRlVG9kb1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpbnB1dCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLy9saXMgYWxsIHRvZG9cclxuICAgICAgbGlzdEFsbFRvZG9MaXN0OiBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIGxldCBhcGlVUkwgPSAhIWlkXHJcbiAgICAgICAgICA/IFwiL2FwaS9nZXRUb2RvTGlzdD90b2RvSWQ9XCIgKyBpZFxyXG4gICAgICAgICAgOiBcIi9hcGkvZ2V0VG9kb0xpc3RcIjtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBhcGlVUkwsXHJcblxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgLy91cGRhdGUgdG9kb1xyXG4gICAgICB1cGRhdGVUb2RvTGlzdDogZnVuY3Rpb24oaWQsIG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVUb2RvTGlzdC9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IG9iamVjdCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRBbGxNZW1iZXJzSW5DdXJyZW50Q29tcGFueTogZnVuY3Rpb24oY29tcGFueUlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEN1cnJlbnRDb21wYW55TWVtYmVycy9cIiArIGNvbXBhbnlJZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZUV2ZW50OiBmdW5jdGlvbihpbnB1dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0KTtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVFdmVudFwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBpbnB1dCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBPU1RcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIHVwZGF0ZU15RXZlbnQ6IGZ1bmN0aW9uKGlucHV0LCBldmVudElkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coaW5wdXQpO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVFdmVudC9cIiArIGV2ZW50SWQsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogaW5wdXQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vbGlzdCBhbGwgZXZlbnRzXHJcbiAgICAgIGdldEFsbEV2ZW50czogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICBsZXQgYXBpVVJMID0gISFpZFxyXG4gICAgICAgICAgPyBcIi9hcGkvZ2V0QWxsRXZlbnRzP2V2ZW50SWQ9XCIgKyBpZFxyXG4gICAgICAgICAgOiBcIi9hcGkvZ2V0QWxsRXZlbnRzXCI7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgYXBpVVJMLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGdldEFjY2Vzc01lZXRpbmdSb29tVG9rZW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSAkaHR0cCh7XHJcbiAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRBY2Nlc3NNZWV0aW5nUm9vbVRva2VuXCIsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiR0VUXCIsIHRydWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8qIFRPRE86ICovXHJcbiAgICAgIGludml0ZVVzZXJzVG9NZWV0aW5nOiBmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2ludml0ZVVzZXJzVG9NZWV0aW5nXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIG5ld01lZXRpbmdGaWxlTWVzc2FnZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL25ld01lZXRpbmdGaWxlTWVzc2FnZVwiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRNZWV0aW5nVG9kbzogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSAkaHR0cCh7XHJcbiAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9nZXRNZWV0aW5nVG9kb1wiLFxyXG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBjaGFuZ2VDb21wYW55Q3VycmVuY3k6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgdXJsOiB1cmwgKyBcIi9hcGkvY2hhbmdlQ29tcGFueUN1cnJlbmN5XCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZCxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIlBVVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRUd2lsaW9BY2Nlc3NUb2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldFR3aWxpb0FjY2Vzc1Rva2VuXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyhcIkdFVFwiLCB0cnVlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgY3JlYXRlSW52b2ljZTogZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9jcmVhdGVJbnZvaWNlXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWQsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxpc3RBbGxQcm9qZWN0SW52b2ljZTogZnVuY3Rpb24ocHJvamVjdFRhZykge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByb2dyZXNzaWZ5KFxyXG4gICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9saXN0QWxsUHJvamVjdEludm9pY2UvXCIgKyBwcm9qZWN0VGFnLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZWRpdElzc3VlTWFya2luZ3M6IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS9lZGl0SXNzdWVNYXJraW5nc1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlQ29tcGFueUxvZ286IGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9ncmVzc2lmeShcclxuICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCArIFwiL2FwaS91cGRhdGVDb21wYW55TG9nb1wiLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUE9TVFwiLCB0cnVlKSxcclxuICAgICAgICAgICAgZGF0YTogcGF5bG9hZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgICB1cGRhdGVDb21wYW55QnlJZDogZnVuY3Rpb24oY29tcGFueUlkLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL3VwZGF0ZUNvbXBhbnlCeUlkL1wiICsgY29tcGFueUlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQVVRcIiwgdHJ1ZSksXHJcbiAgICAgICAgICAgIGRhdGE6IHBheWxvYWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0QWxsU3lzdGVtVGFnczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEFsbFN5c3RlbVRhZ3NcIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKFwiUFVUXCIsIHRydWUpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxpc3RBbGxTdGFmZnM6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucHJvZ3Jlc3NpZnkoXHJcbiAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2dldEFsbFN0YWZmcy9cIiArIGlkLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJHRVRcIiwgdHJ1ZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJhdXRoRmFjdG9yeVwiLCBhdXRoRmFjdG9yeSk7XG5cbiAgZnVuY3Rpb24gYXV0aEZhY3RvcnkoJGh0dHAsICRsb2NhdGlvbiwgbG9jYWxTdG9yYWdlU2VydmljZSkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGVja1VzZXI6ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImFjY2Vzcy10b2tlblwiKTtcbiAgICAgICAgaWYgKHRva2VuICYmIHRva2VuICE9IFwiXCIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjaGVja1ByaXZpbGVnZTogKHR5cGUsIHN1YlR5cGUpID0+IHtcbiAgICAgICAgbGV0IHsgcHJpdmlsZWdlIH0gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInVzZXJEYXRhXCIpO1xuICAgICAgICBsZXQgeyBwcml2aWxlZ2VzIH0gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImNvbXBhbnlEYXRhXCIpO1xuXG4gICAgICAgIGlmIChwcml2aWxlZ2UgPD0gcHJpdmlsZWdlc1t0eXBlXVtzdWJUeXBlXSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiZmlsZU1hbmFnZXJGYWN0b3J5XCIsIGZpbGVNYW5hZ2VyRmFjdG9yeSk7XG5cbiAgZnVuY3Rpb24gZmlsZU1hbmFnZXJGYWN0b3J5KGFwaUZhY3RvcnksIE5vdGlmaWNhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBjbGlwQm9hcmQ6IChmdW5jdGlvbigpIHtcbiAgICAgICAgLyogICovXG4gICAgICAgIGxldCBpdGVtcyA9IHtcbiAgICAgICAgICB0eXBlOiAwLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgIHNvdXJjZTogbnVsbFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvcHk6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW1zLnNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBpdGVtcy50eXBlID0gMDtcbiAgICAgICAgICAgIGl0ZW1zLmRhdGEgPSBbaXRlbV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjdXQ6IGZ1bmN0aW9uKGl0ZW0sIHNvdXJjZSkge1xuICAgICAgICAgICAgaXRlbXMuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgaXRlbXMudHlwZSA9IDE7XG4gICAgICAgICAgICBpdGVtcy5kYXRhID0gW2l0ZW1dO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFzdGU6IGZ1bmN0aW9uKGRlc3RJZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGl0ZW1zLmRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiQ2xpcGJvYXJkIGlzIGVtcHR5XCIpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IGFwaVR5cGUgPSBpdGVtcy50eXBlID09PSAwID8gXCJjbG9uZUFzc2V0c1wiIDogXCJtb3ZlQXNzZXRzXCI7XG5cbiAgICAgICAgICAgICAgLyogQ2hhbmdlIHBheWxvYWQgZGVwZW5kaW5nIHVwb24gY3V0IG9yIGNvcHkgKi9cbiAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgYXNzZXRJZDogaXRlbXMuZGF0YS5tYXAoeCA9PiB4Ll9pZCksXG4gICAgICAgICAgICAgICAgc291cmNlSWQ6IGl0ZW1zLnR5cGUgPT09IDAgPyB1bmRlZmluZWQgOiBpdGVtcy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgZGVzdElkOiBpdGVtcy50eXBlID09PSAwID8gdW5kZWZpbmVkIDogZGVzdElkLFxuICAgICAgICAgICAgICAgIGhpZXJhcmNoeUlkOiBpdGVtcy50eXBlID09PSAwID8gZGVzdElkIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVthcGlUeXBlXShwYXlsb2FkKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgLyogQ2xlYXIgY2xpcGJvYXJkIGFmdGVyIHBhc3RpbmcgKi9cbiAgICAgICAgICAgICAgICAgIGl0ZW1zID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAwLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBudWxsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgcmVqZWN0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKCksXG5cbiAgICAgIG5hdmlnYXRpb25TdGFjazogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzdGFjayA9IFtdLFxuICAgICAgICAgIGhlYWQgPSBzdGFjay5sZW5ndGggLSAxLFxuICAgICAgICAgIC8vIFRPRE86IG5vIGFjdGlvbiBoYW5kbGVyIHJlcXVpcmVkIGZvciBub3dcbiAgICAgICAgICBhdHRhY2hIYW5kbGVyID0gYWN0aW9uID0+IHtcbiAgICAgICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwdXNoOiBpdGVtID0+IHtcbiAgICAgICAgICAgIHN0YWNrLnNwbGljZShoZWFkICsgMSwgc3RhY2subGVuZ3RoLCBpdGVtKTtcbiAgICAgICAgICAgIGhlYWQgPSBzdGFjay5sZW5ndGggLSAxO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yd2FyZDogKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG9iajtcbiAgICAgICAgICAgIGlmICghc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8qIElnbm9yZSBmb3IgZW1wdHkgc3RhY2sgKi9cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhlYWQgPT09IHN0YWNrLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgLyogSWdub3JlIGZvciBlbmQgb2YgdGhlIHN0YWNrICovXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGVhZCsrO1xuICAgICAgICAgICAgaWYgKHN0YWNrW2hlYWRdKSB7XG4gICAgICAgICAgICAgIHN0YWNrW2hlYWRdLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICBvYmogPSBzdGFja1toZWFkXTtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJhY2t3YXJkOiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgb2JqO1xuICAgICAgICAgICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLyogSWdub3JlIGZvciBlbXB0eSBzdGFjayAqL1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoZWFkIDwgMCkge1xuICAgICAgICAgICAgICAvKiBJZ25vcmUgZm9yIGVuZCBvZiB0aGUgc3RhY2sgKi9cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YWNrW2hlYWRdKSB7XG4gICAgICAgICAgICAgIHN0YWNrW2hlYWRdLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICBoZWFkLS07XG4gICAgICAgICAgICAgIG9iaiA9IHN0YWNrW2hlYWRdO1xuICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIGJyZWFkQ3J1bWI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgYnJlYWRDcnVtYnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZXQ6IHZhbCA9PiB7XG4gICAgICAgICAgICBicmVhZENydW1icy5wdXNoKHZhbCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBicmVhZENydW1icztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxlT2JqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgeyBzMzogW2ZpbGVzXSwgY2xvdWRpbmFyeTogW2ZpbGVzXSB9XG4gICAgICAgKi9cblxuICAgICAgc3BsaXREZXN0aW5hdGlvbjogZmlsZXNBcnJheSA9PiB7XG4gICAgICAgIHJldHVybiBmaWxlc0FycmF5LnJlZHVjZShcbiAgICAgICAgICAoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHguc2l6ZSA8IDUwMDAwMDAwICYmXG4gICAgICAgICAgICAgICh4LnR5cGUgPT09IFwiYXBwbGljYXRpb24vcGRmXCIgfHwgL2ltYWdlKi8udGVzdCh4LnR5cGUpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGFjYy5jbG91ZGluYXJ5LnB1c2goeCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvKiBJZiBmaWxlIHNpemUgaXMgZ3JlYXRlciB0aGFuIDUwbWIgYW5kIHRoZSBmaWxlIGlzIGEgcGRmLCBnZW5lcmF0ZSBhIHRodW1ibmFpbCAqL1xuICAgICAgICAgICAgICBhY2MuczMucHVzaCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IHMzOiBbXSwgY2xvdWRpbmFyeTogW10gfVxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsZVxuICAgICAgICogQHJldHVybnMge051bWJlcn0gIDEgLSBkaXJlY3QgczMsIDIgLSBzMyAtPiBjbG91ZGluYXJ5XG4gICAgICAgKi9cblxuICAgICAgcmVzb2x2ZURlc3RUeXBlOiBmaWxlID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZpbGUuc2l6ZSA8IDUwMDAwMDAwICYmXG4gICAgICAgICAgKGZpbGUudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fCAvaW1hZ2UqLy50ZXN0KGZpbGUudHlwZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBmaWxlc1xuICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIGNoZWNrVXBsb2FkQ29tcGxldGlvbjogZmlsZXMgPT4ge1xuICAgICAgICBsZXQgYm9vbCA9IHRydWU7XG4gICAgICAgIGZpbGVzLnMzLmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgaWYgKCF4LmNvbXBsZXRlZCAmJiAheC5hYm9ydGVkICYmIGJvb2wpIHtcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmaWxlcy5jbG91ZGluYXJ5LmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgaWYgKCF4LmNvbXBsZXRlZCAmJiAheC5hYm9ydGVkICYmIGJvb2wpIHtcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYm9vbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gZmlsZXMgLSBBcnJheSBvZiBmaWxlXG4gICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBSZXNvbHZpbmcgd2lsbCBmZXRjaCBhbiBvYmplY3Qgb2YgZmlsZXMgY2F0ZWdvcml6ZWQgaW50byB0d28gYXJyYXlzXG4gICAgICAgKi9cblxuICAgICAgY2hlY2tEdXBsaWNhdGVGaWxlczogKGZpbGVzLCBkZXN0SWQpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAuY2hlY2tBc3NldER1cGxpY2F0ZSh7XG4gICAgICAgICAgICAgIGFzc2V0TmFtZXM6IGZpbGVzLm1hcCh4ID0+IHgubmFtZSksXG4gICAgICAgICAgICAgIGRlc3RJZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAvKiBHZXQgZHVwbGljYXRlIGZpbGUgb2JqICovXG4gICAgICAgICAgICAgIGxldCBkdXBsaWNhdGVGaWxlcyA9IGZpbGVzXG4gICAgICAgICAgICAgICAgLm1hcCh4ID0+IHtcbiAgICAgICAgICAgICAgICAgIHguYWN0aW9uID0gXCJyZW5hbWVcIjtcbiAgICAgICAgICAgICAgICAgIHguYXNzZXROYW1lID0geC5uYW1lO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKFxuICAgICAgICAgICAgICAgICAgKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNwLmRhdGEuZHVwbGljYXRlcy5pbmRleE9mKHgubmFtZSkgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgPyBhY2MudXBsb2FkRmlsZXMucHVzaCh4KVxuICAgICAgICAgICAgICAgICAgICAgIDogYWNjLmR1cGxpY2F0ZXMucHVzaCh4KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHsgZHVwbGljYXRlczogW10sIHVwbG9hZEZpbGVzOiBbXSB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICByZXNvbHZlKGR1cGxpY2F0ZUZpbGVzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtPYmplY3RbXX0gZmlsZXMgLSBBcnJheSBvZiBmaWxlXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAqL1xuXG4gICAgICBjaGVja05hbWVDaGFuZ2U6IGZpbGVzID0+IHtcbiAgICAgICAgcmV0dXJuIGZpbGVzLmZpbHRlcih4ID0+IHguYWN0aW9uID09PSBcInJlbmFtZVwiKS5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgIGFjYyA9IGFjYyB8fCB4LmFzc2V0TmFtZSA9PT0geC5uYW1lO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVOYW1lXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICovXG5cbiAgICAgIGdlbmVyYXRlVmVyc2lvbjogZmlsZU5hbWUgPT4ge1xuICAgICAgICByZXR1cm4gYCR7ZmlsZU5hbWV9ICh2JHtEYXRlLm5vdygpfSlgO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGVcbiAgICAgICAqL1xuICAgICAgZ2VuZXJhdGVUaHVtYm5haWw6IGZpbGUgPT4ge1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBkZmpzTGliLmdldERvY3VtZW50KHsgdXJsOiByZWFkZXIucmVzdWx0IH0pLnRoZW4oZG9jID0+IHtcbiAgICAgICAgICAgIGRvYy5nZXRQYWdlKDEpLnRoZW4ocGFnZSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGFnZSEhIVwiLCBwYWdlKTtcbiAgICAgICAgICAgICAgdmFyIHNjYWxlID0gMTtcbiAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydChzY2FsZSk7XG4gICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuXG4gICAgICAgICAgICAgIHZhciB0YXNrID0gcGFnZS5yZW5kZXIoe1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0YXNrLnByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gXCJyb29mcGxhbl9pbWFnZV9cIiArIERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgbGluay5ocmVmID0gZGF0YVVSTDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSxcbiAgICAgIHNwbGl0RmlsZURlc3Q6IGZpbGVzQXJyYXkgPT4ge1xuICAgICAgICByZXR1cm4gZmlsZXNBcnJheS5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB4LmZpbGUuc2l6ZSA8IDUwMDAwMDAwICYmXG4gICAgICAgICAgICAgICh4LmZpbGUudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9wZGZcIiB8fCAvaW1hZ2UqLy50ZXN0KHguZmlsZS50eXBlKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBhY2MuY2xvdWRpbmFyeS5wdXNoKHgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWNjLnMzLnB1c2goeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzMzogW10sIGNsb3VkaW5hcnk6IFtdIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImdsb2JhbHNcIiwgZ2xvYmFscyk7XG5cbiAgZnVuY3Rpb24gZ2xvYmFscyhcbiAgICAkaHR0cCxcbiAgICAkc3RhdGUsXG4gICAgJGxvY2F0aW9uLFxuICAgIG5nUHJvZ3Jlc3NGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlXG4gICkge1xuICAgIC8qIFRvIGF2b2lkIHJlZHVuZGFudCBmdW5jdGlvbiBjYWxscyBvZiB0aGUgc2FtZSB0eXBlIChFZy4gbXVsdGlwbGUgdG9rZW4gZXhwaXJlZCBtZXNzYWdlcykgKi9cbiAgICBsZXQgdGhyb3R0bGVyID0gKCgpID0+IHtcbiAgICAgIGxldCBlbmFibGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmbiA9PiB7XG4gICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm4oKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2dyZXNzOiAoKCkgPT4ge1xuICAgICAgICBsZXQgcHJvZ3Jlc3NiYXIgPSBuZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xuICAgICAgICByZXR1cm4gcHJvZ3Jlc3NiYXI7XG4gICAgICB9KSgpLFxuICAgICAgbG9nb3V0OiAoKSA9PiB7XG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwiYWNjZXNzLXRva2VuXCIpO1xuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcInVzZXJEYXRhXCIpO1xuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImNvbXBhbnlEYXRhXCIpO1xuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImN1cnJlbnRQcm9qZWN0XCIsIG51bGwpO1xuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImludmVudG9yeVN0YXRlXCIpO1xuXG4gICAgICAgICRzdGF0ZS5nbyhcInByZUxvZ2luXCIpO1xuICAgICAgICB0aHJvdHRsZXIoKCkgPT4gTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGxvZ2luXCIpKTtcbiAgICAgIH0sXG4gICAgICAvKiBBY2Nlc3MgdXNlciBpbmZvIGdsb2JhbGx5ICovXG4gICAgICB1c2VyU3RvcmU6ICgoKSA9PiB7XG4gICAgICAgIGxldCB1c2VyRGF0YSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwidXNlckRhdGFcIikgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZXQ6IGRhdGEgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXNlclJvbGVzID0gW1xuICAgICAgICAgICAgICBcImFkbWluXCIsXG4gICAgICAgICAgICAgIFwibWFuYWdlclwiLFxuICAgICAgICAgICAgICBcInN1Yl9jb250cmFjdG9yXCIsXG4gICAgICAgICAgICAgIFwidGVhbV9sZWFkZXJcIixcbiAgICAgICAgICAgICAgXCJ3b3JrZXJcIlxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGRhdGEucHJpdmlsZWdlID0gdXNlclJvbGVzLmluZGV4T2YoZGF0YS5kZXNpZ25hdGlvbik7XG5cbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwidXNlckRhdGFcIiwgZGF0YSk7XG4gICAgICAgICAgICB1c2VyRGF0YSA9IGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gdXNlckRhdGE7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6ICgpID0+IHVzZXJEYXRhLFxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcInVzZXJEYXRhXCIpO1xuICAgICAgICAgICAgdXNlckRhdGEgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSgpLFxuXG4gICAgICBjb21wYW55U3RvcmU6ICgoKSA9PiB7XG4gICAgICAgIGxldCBjb21wYW55RGF0YSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiY29tcGFueURhdGFcIikgfHwgbnVsbDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldDogZGF0YSA9PiB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImNvbXBhbnlEYXRhXCIsIGRhdGEpO1xuICAgICAgICAgICAgY29tcGFueURhdGEgPSBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBhbnlEYXRhO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiAoKSA9PiBjb21wYW55RGF0YSxcbiAgICAgICAgICAvKiBDYWxsIHJlZmV0Y2ggd2hlbiBjb21wYW55IGRlcGVuZGFudCBkYXRhIGlzIG1vZGlmaWVkICovXG4gICAgICAgICAgcmVmZXRjaDogaWQgPT4ge1xuICAgICAgICAgICAgJGh0dHAoe1xuICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIngtYWNjZXNzLXRva2VuXCI6IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiYWNjZXNzLXRva2VuXCIpLFxuICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBKU09OLnN0cmluZ2lmeSh7IHNvdXJjZTogXCJ3ZWJcIiB9KVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1cmw6IGBodHRwczovL2FwaS5zdGFnaW5nLmNsb3VkZXMuZXUvYXBpL2dldENvbXBhbnlCeUlkLyR7aWR9YFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJjb21wYW55RGF0YVwiLCByZXNwLmRhdGEpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UucmVtb3ZlKFwiY29tcGFueURhdGFcIik7XG4gICAgICAgICAgICBjb21wYW55RGF0YSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKCksXG5cbiAgICAgIHByb2plY3RTdG9yZTogKCgpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJjdXJyZW50UHJvamVjdFwiKSB8fCBudWxsO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldDogZGF0YSA9PiB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImN1cnJlbnRQcm9qZWN0XCIsIGRhdGEpO1xuICAgICAgICAgICAgY3VycmVudFByb2plY3QgPSBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9qZWN0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiAoKSA9PiBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImN1cnJlbnRQcm9qZWN0XCIpLFxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZShcImN1cnJlbnRQcm9qZWN0XCIpO1xuICAgICAgICAgICAgY3VycmVudFByb2plY3QgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKCksXG5cbiAgICAgIGludmVudG9yeVN0YXRlOiAoKSA9PiB7XG4gICAgICAgIGxldCBzdGF0ZSA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwiaW52ZW50b3J5U3RhdGVcIikgfHwge1xuICAgICAgICAgIHRhYjogMCxcbiAgICAgICAgICBzZWFyY2hUZXh0OiBcIlwiLFxuICAgICAgICAgIHBhZ2U6IHtcbiAgICAgICAgICAgIG1hdGVyaWFsOiAxLFxuICAgICAgICAgICAgY29tYm86IDFcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZXRQYWdlOiAodHlwZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnBhZ2VbdHlwZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwiaW52ZW50b3J5U3RhdGVcIiwgc3RhdGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0VGFiOiB2YWwgPT4ge1xuICAgICAgICAgICAgc3RhdGUudGFiID0gdmFsO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJpbnZlbnRvcnlTdGF0ZVwiLCBzdGF0ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0ID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnNlYXJjaFRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJpbnZlbnRvcnlTdGF0ZVwiLCBzdGF0ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBtVW5pdHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwibXRcIixcbiAgICAgICAgICB2YWx1ZTogXCJtdFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcInNxLm10XCIsXG4gICAgICAgICAgdmFsdWU6IFwic3EubXRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IFwiY3UubXRcIixcbiAgICAgICAgICBuYW1lOiBcImN1Lm10XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiZnRcIixcbiAgICAgICAgICB2YWx1ZTogXCJmdFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcInNxLmZ0XCIsXG4gICAgICAgICAgdmFsdWU6IFwic3EuZnRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IFwiY3UuZnRcIixcbiAgICAgICAgICBuYW1lOiBcImN1LmZ0XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiBcInVuaXRcIixcbiAgICAgICAgICBuYW1lOiBcInVuaXRcIlxuICAgICAgICB9XG4gICAgICBdLFxuXG4gICAgICBnZXRDdXJyZW5jeTogKCkgPT4ge1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiL2RhdGEvY3VycmVuY2llcy5qc29uXCIpO1xuICAgICAgfSxcbiAgICAgIGdldENvdW50cnlDb2RlOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvZGF0YS9Db3VudHJ5Q29kZS5qc29uXCIpO1xuICAgICAgfSxcbiAgICAgIGdldEluZHVzdHJ5OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvZGF0YS9pbmR1c3RyeS5qc29uXCIpO1xuICAgICAgfSxcblxuICAgICAgZGVib3VuY2U6IHJhdGUgPT4ge1xuICAgICAgICBsZXQgdGltZXI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihmbiwgYXJncykge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgIH0sIHJhdGUpO1xuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgZ2VuZXJpY1N0b3JlOiAoKSA9PiB7XG4gICAgICAgIGxldCBpdGVtO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0b3JlOiB2YWwgPT4ge1xuICAgICAgICAgICAgaXRlbSA9IHZhbDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGRmTGlua1xuICAgICAgICogQHJldHVybnMge09iamVjdFtdfSAtIGxpbmtzIG9mIGluZGl2aWR1YWwgcGFnZXMgYXMgaW1hZ2UgKGNsb3VkaW5hcnkpXG4gICAgICAgKi9cblxuICAgICAgZXh0cmFjdFBhZ2VzRnJvbVBkZjogKHBkZkxpbmssIHBhZ2VDb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gWy4uLkFycmF5KHBhZ2VDb3VudCkua2V5cygpXS5yZWR1Y2UoKGFjYywgXywgaSkgPT4ge1xuICAgICAgICAgIGxldCBwYWdlT2JqID0ge1xuICAgICAgICAgICAgcGFnZU5vOiBpLFxuICAgICAgICAgICAgdXJsOiBwZGZMaW5rXG4gICAgICAgICAgICAgIC5yZXBsYWNlKFwiL3VwbG9hZC9cIiwgYC91cGxvYWQvcGdfJHtpICsgMX0vYClcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLnBkZiQvLCBcIi5wbmdcIiksXG4gICAgICAgICAgICB0aXRsZTogYHRpdGxlXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCJcbiAgICAgICAgICB9O1xuICAgICAgICAgIGFjYy5wdXNoKHBhZ2VPYmopO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBkZiAtIEZpbGUgb2JqZWN0XG4gICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgICAqL1xuXG4gICAgICBjcmVhdGVQYWdlc0Zyb21QZGY6IHBkZiA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcGRmanNMaWJcbiAgICAgICAgICAgIC5nZXREb2N1bWVudChwZGYuc2VjdXJlX3VybClcbiAgICAgICAgICAgIC5wcm9taXNlLnRoZW4oZG9jID0+IHtcbiAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgWy4uLkFycmF5KGRvYy5udW1QYWdlcykua2V5cygpXS5tYXAoKF8sIGkpID0+XG4gICAgICAgICAgICAgICAgICBkb2MuZ2V0UGFnZShpICsgMSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAudGhlbihwYWdlcyA9PiB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBwYWdlcy5tYXAoKHgsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAoeC5wYWdlTm8gPSBpKSwgKHgudGl0bGUgPSBgdGl0bGVfJHtEYXRlLm5vdygpfWApO1xuICAgICAgICAgICAgICAgICAgICAgIHguc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICB4LmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgcmVuZGVyUGFnZTogKHBhZ2UsIGNhbnZhcykgPT4ge1xuICAgICAgICB2YXIgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KFxuICAgICAgICAgIGNhbnZhcy53aWR0aCAvIHBhZ2UuZ2V0Vmlld3BvcnQoMSkud2lkdGhcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB0YXNrID0gcGFnZS5yZW5kZXIoe1xuICAgICAgICAgIGNhbnZhc0NvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJpbWFnZU1hcmtlclwiLCBpbWFnZU1hcmtlcik7XHJcblxyXG4gIGZ1bmN0aW9uIGltYWdlTWFya2VyKCRodHRwLCAkbG9jYXRpb24sICRyb290U2NvcGUsIGxvY2FsU3RvcmFnZVNlcnZpY2UpIHtcclxuICAgIGxldCBzY29wZSA9IG51bGwsXHJcbiAgICAgIHN0YXRlID0gbnVsbCxcclxuICAgICAgY29sb3IgPSBcInJnYmEoMCwwLDAsMSlcIixcclxuICAgICAgY3VycmVudERyYXdpbmcgPSBudWxsLFxyXG4gICAgICBzdGFjayA9IFtdLFxyXG4gICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMSxcclxuICAgICAgbWV0aG9kcyA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbihkaXZJZCwgaW5pdGlhbFNpemUsIGFzc2V0T2JqKSB7XHJcbiAgICAgICAgICAvKiBJbml0aWF0ZSBjYW52YXMgc2NvcGUgKi9cclxuICAgICAgICAgIHNjb3BlID0ge307XHJcbiAgICAgICAgICBsZXQgc3RhZ2U7XHJcbiAgICAgICAgICBpZiAoYXNzZXRPYmoubWFya2luZ0pzb24pIHtcclxuICAgICAgICAgICAgc3RhZ2UgPSBLb252YS5Ob2RlLmNyZWF0ZShhc3NldE9iai5tYXJraW5nSnNvbiwgZGl2SWQpO1xyXG4gICAgICAgICAgICBzdGFnZS53aWR0aChhc3NldE9iai53aWR0aCk7XHJcbiAgICAgICAgICAgIHN0YWdlLmhlaWdodChhc3NldE9iai5oZWlnaHQpO1xyXG4gICAgICAgICAgICBzY29wZS5zdGFnZSA9IHN0YWdlO1xyXG4gICAgICAgICAgICBzY29wZS5sYXllciA9IHN0YWdlLmdldChcIiNiYXNlTGF5ZXJcIilbMF07XHJcbiAgICAgICAgICAgIGxldCBpbWFnZU9iaiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWFnZU9iai5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XHJcbiAgICAgICAgICAgIC8qIEFkZCBzb3VyY2Ugb24gbG9hZCAqL1xyXG4gICAgICAgICAgICBsZXQgYmdJbWFnZSA9IHNjb3BlLmxheWVyLmZpbmQoXCIjbWFya2luZ0ltYWdlXCIpWzBdO1xyXG4gICAgICAgICAgICBpbWFnZU9iai5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBiZ0ltYWdlLmltYWdlKGltYWdlT2JqKTtcclxuICAgICAgICAgICAgICBzY29wZS5sYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGltYWdlT2JqLnNyYyA9IGFzc2V0T2JqLnNlY3VyZV91cmw7XHJcbiAgICAgICAgICAgIC8qIEF0dGFjaCBldmVudHMgKi9cclxuICAgICAgICAgICAgYmdJbWFnZS5vbihcImNsaWNrXCIsIG1ldGhvZHMuaW1hZ2VDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBiZ0ltYWdlLm9uKFwibW91c2Vtb3ZlXCIsIG1ldGhvZHMuZHJhd2luZ0hhbmRsZXIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RhZ2UgPSBuZXcgS29udmEuU3RhZ2Uoe1xyXG4gICAgICAgICAgICAgIGNvbnRhaW5lcjogZGl2SWQsXHJcbiAgICAgICAgICAgICAgeDogMSxcclxuICAgICAgICAgICAgICB5OiAxLFxyXG4gICAgICAgICAgICAgIHdpZHRoOiBpbml0aWFsU2l6ZS53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IGluaXRpYWxTaXplLmhlaWdodFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2NvcGUuc3RhZ2UgPSBzdGFnZTtcclxuICAgICAgICAgICAgbGV0IG5ld2xheWVyID0gbmV3IEtvbnZhLkxheWVyKHtcclxuICAgICAgICAgICAgICBpZDogXCJiYXNlTGF5ZXJcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2NvcGUuc3RhZ2UuYWRkKG5ld2xheWVyKTtcclxuICAgICAgICAgICAgc2NvcGUubGF5ZXIgPSBuZXdsYXllcjtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbWFnZU9iaiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWFnZU9iai5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XHJcbiAgICAgICAgICAgIGltYWdlT2JqLnNyYyA9IGFzc2V0T2JqLnNlY3VyZV91cmw7XHJcblxyXG4gICAgICAgICAgICBpbWFnZU9iai5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB2YXIgYmdJbWFnZSA9IG5ldyBLb252YS5JbWFnZSh7XHJcbiAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2VPYmosXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hcmtpbmdJbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwibWFya2luZ0ltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNjb3BlLnN0YWdlLmhlaWdodCgpLFxyXG4gICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgIC8qIENlbnRlcmluZyB0aGUgaW1hZ2Ugb24gdGhlIHN0YWdlICovXHJcbiAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHNjb3BlLnN0YWdlLndpZHRoKCksXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgYmdJbWFnZS5vbihcImNsaWNrXCIsIG1ldGhvZHMuaW1hZ2VDbGlja0hhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICBiZ0ltYWdlLm9uKFwibW91c2Vtb3ZlXCIsIG1ldGhvZHMuZHJhd2luZ0hhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNoYXBlIHRvIHRoZSBsYXllclxyXG4gICAgICAgICAgICAgIHNjb3BlLmxheWVyLmFkZChiZ0ltYWdlKTtcclxuICAgICAgICAgICAgICBzY29wZS5sYXllci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgc2NvcGUubGF5ZXIubW92ZVRvQm90dG9tKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSBcIkNBTlZBU1wiKSB7XHJcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgc2NvcGUubGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICAgIG1ldGhvZHMucmVtb3ZlU3RhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNjb3BlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0U2NvcGU6ICgpID0+IHtcclxuICAgICAgICAgIHJldHVybiBzY29wZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldFN0YXRlOiBkcmF3U3RhdGUgPT4ge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xyXG4gICAgICAgICAgc3RhdGUgPSBkcmF3U3RhdGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRDb2xvcjogc2VsZWN0ZWRDb2xvciA9PiB7XHJcbiAgICAgICAgICBjb2xvciA9IHNlbGVjdGVkQ29sb3I7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVTdGF0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0Q2FudmFzSW1hZ2U6ICgpID0+IHtcclxuICAgICAgICAgIGlmIChzY29wZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuc3RhZ2UudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VyaWFsaXplOiAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoc2NvcGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLnN0YWdlLnRvSlNPTigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW1hZ2VDbGlja0hhbmRsZXI6IGUgPT4ge1xyXG4gICAgICAgICAgLyogUmV0dXJuIGlmIHNjb3BlIGFuZCBzdGF0ZSBoYXMgbm90IGJlZW4gc2V0ICovXHJcbiAgICAgICAgICBpZiAoIXNjb3BlIHx8ICFzdGF0ZSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbGV0IHBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiBzY29wZS5zdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS54LFxyXG4gICAgICAgICAgICB5OiBzY29wZS5zdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKS55XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgLyogQ2FsbCBtZXRob2RzIGJhc2VkIG9uIGRyYXdTdGF0ZSBhbmQgY3VycmVudERyYXdpbmcgKi9cclxuICAgICAgICAgIGN1cnJlbnREcmF3aW5nXHJcbiAgICAgICAgICAgID8gbWV0aG9kcy5lbmREcmF3aW5nKClcclxuICAgICAgICAgICAgOiBtZXRob2RzW2Bpbml0XyR7c3RhdGV9YF0ocG9zaXRpb24pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHJhd2luZ0hhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgIC8qIFJldHVybiBmdW5jdGlvbnMgYmFzZWQgb24gc3RhdGUgKi9cclxuICAgICAgICAgIGlmICghc3RhdGUgfHwgIWN1cnJlbnREcmF3aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgeDogc2NvcGUuc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueCxcclxuICAgICAgICAgICAgeTogc2NvcGUuc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG1ldGhvZHNbYGRyYXdfJHtzdGF0ZX1gXShwb3NpdGlvbik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbml0X21hcmtlcjogcG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgbGV0IG1hcmtlciA9IG5ldyBLb252YS5DaXJjbGUoe1xyXG4gICAgICAgICAgICB4OiBwb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiBwb3NpdGlvbi55LFxyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3IsXHJcbiAgICAgICAgICAgIG5hbWU6IFwiQ2lyY2xlXCIsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgICAgICAgICBmaWxsOiBjb2xvcixcclxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNjb3BlLmxheWVyLmFkZChtYXJrZXIpO1xyXG4gICAgICAgICAgc2NvcGUubGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFwic2F2ZURyYXdpbmdcIik7XHJcbiAgICAgICAgICBtZXRob2RzLnVuZG9SZWRvKCkubmV3SXRlbShtYXJrZXIpO1xyXG4gICAgICAgICAgcmV0dXJuIG1hcmtlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGluaXRfY2lyY2xlOiBwb3NpdGlvbiA9PiB7XHJcbiAgICAgICAgICBsZXQgY2lyY2xlID0gbmV3IEtvbnZhLkNpcmNsZSh7XHJcbiAgICAgICAgICAgIHg6IHBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIHJhZGl1czogMSxcclxuICAgICAgICAgICAgZmlsbDogY29sb3IsXHJcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3IsXHJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiA0XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNjb3BlLmxheWVyLmFkZChjaXJjbGUpO1xyXG4gICAgICAgICAgc2NvcGUubGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgY3VycmVudERyYXdpbmcgPSBjaXJjbGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkcmF3X2NpcmNsZTogcG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgaWYgKGN1cnJlbnREcmF3aW5nKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnREcmF3aW5nLnJhZGl1cyhNYXRoLmFicyhwb3NpdGlvbi54IC0gY3VycmVudERyYXdpbmcueCgpKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLmxheWVyLmRyYXcoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGluaXRfbGluZTogcG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgbGV0IGxpbmUgPSBuZXcgS29udmEuTGluZSh7XHJcbiAgICAgICAgICAgIG5hbWU6IFwibGluZVNpbXBsZVwiLFxyXG4gICAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXHJcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3IsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzY29wZS5sYXllci5hZGQobGluZSk7XHJcbiAgICAgICAgICBzY29wZS5sYXllci5kcmF3KCk7XHJcbiAgICAgICAgICBjdXJyZW50RHJhd2luZyA9IGxpbmU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkcmF3X2xpbmU6IHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgIGlmIChjdXJyZW50RHJhd2luZykge1xyXG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gY3VycmVudERyYXdpbmcucG9pbnRzKCk7XHJcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICAgIGN1cnJlbnREcmF3aW5nLnBvaW50cyhwb2ludHMpO1xyXG4gICAgICAgICAgICBzY29wZS5sYXllci5kcmF3KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZW5kRHJhd2luZzogKCkgPT4ge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcInNhdmVEcmF3aW5nXCIpO1xyXG4gICAgICAgICAgbWV0aG9kcy51bmRvUmVkbygpLm5ld0l0ZW0oY3VycmVudERyYXdpbmcpO1xyXG4gICAgICAgICAgc3RhdGUgPSBudWxsO1xyXG4gICAgICAgICAgY3VycmVudERyYXdpbmcgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZpbGxfdGV4dDogdGV4dCA9PiB7XHJcbiAgICAgICAgICBpZiAoIXNjb3BlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxldCBzaW1wbGVUZXh0ID0gbmV3IEtvbnZhLlRleHQoe1xyXG4gICAgICAgICAgICB4OiBzY29wZS5zdGFnZS5nZXRXaWR0aCgpIC8gMixcclxuICAgICAgICAgICAgeTogMTUsXHJcbiAgICAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAzMCxcclxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcIkNhbGlicmlcIixcclxuICAgICAgICAgICAgZmlsbDogY29sb3JcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gdG8gYWxpZ24gdGV4dCBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4sIHdlIGNhbiBzZXQgdGhlXHJcbiAgICAgICAgICAvLyBzaGFwZSBvZmZzZXQgdG8gdGhlIGNlbnRlciBvZiB0aGUgdGV4dCBzaGFwZSBhZnRlciBpbnN0YW50aWF0aW5nIGl0XHJcbiAgICAgICAgICBzaW1wbGVUZXh0LnNldE9mZnNldCh7XHJcbiAgICAgICAgICAgIHg6IHNpbXBsZVRleHQuZ2V0V2lkdGgoKSAvIDJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2NvcGUubGF5ZXIuYWRkKHNpbXBsZVRleHQpO1xyXG4gICAgICAgICAgc2NvcGUubGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgbWV0aG9kcy51bmRvUmVkbygpLm5ld0l0ZW0oc2ltcGxlVGV4dCk7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzYXZlRHJhd2luZ1wiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qIFVuZG8gcmVkbyBzdGF0ZSBtYW5hZ2VtZW50ICovXHJcbiAgICAgICAgdW5kb1JlZG86ICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSB7XHJcbiAgICAgICAgICAgIG5ld0l0ZW06IGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgIHN0YWNrLnNwbGljZShoZWFkICsgMSwgc3RhY2subGVuZ3RoLCBpdGVtKTtcclxuICAgICAgICAgICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5kbzogKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChoZWFkID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5kb1wiLCBzdGFja1toZWFkXSk7XHJcbiAgICAgICAgICAgICAgICBzdGFja1toZWFkXS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmxheWVyLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIGhlYWQtLTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZG86ICgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoaGVhZCA8IHN0YWNrLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGhlYWQrKztcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVkb1wiLCBzdGFja1toZWFkXSk7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5sYXllci5hZGQoc3RhY2tbaGVhZF0pO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUubGF5ZXIuZHJhdygpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVzZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAoc3RhY2sgPSBbXSksIChoZWFkID0gc3RhY2subGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUobWV0aG9kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIHJldHVybiBtZXRob2RzO1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5mYWN0b3J5KFwiaXNzdWVjcmVhdGVGYWN0b3J5XCIsIGlzc3VlY3JlYXRlRmFjdG9yeSk7XG4gIFxuICAgIGZ1bmN0aW9uIGlzc3VlY3JlYXRlRmFjdG9yeShcbiAgICAgICRodHRwLFxuICAgICAgJHN0YXRlLFxuICAgICAgJGxvY2F0aW9uLFxuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcbiAgICAgIGdsb2JhbHMsXG4gICAgICBVcGxvYWQsXG4gICAgICBOb3RpZmljYXRpb24sXG4gICAgICAkcSxcbiAgICAgIGFwaUZhY3RvcnksXG4gICAgICB1cGxvYWRGYWN0b3J5LFxuICAgICAgZmlsZU1hbmFnZXJGYWN0b3J5XG4gICAgKSB7XG4gICAgICAgIGxldCB2bT10aGlzO1xuICAgICAgICBsZXQgczNGaWxlT2JqZXRzPVtdO1xuICAgICAgICAvL2NvbnN0IHVybCA9IFwiaHR0cHM6Ly9hcGkuc3RhZ2luZy5jbG91ZGVzLmV1XCIsXG4gICAgICAgXG4gICAgICAgIGhlYWRlcnMgPSAobWV0aG9kLCB0b2tlbikgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBtZXRob2QgPT09IFwiR0VUXCIgPyB1bmRlZmluZWQgOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIFwieC1hY2Nlc3MtdG9rZW5cIjogdG9rZW5cbiAgICAgICAgICAgICAgPyBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImFjY2Vzcy10b2tlblwiKVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBsYXRmb3JtOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHNvdXJjZTogXCJ3ZWJcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB7IHByb2dyZXNzLCB1c2VyU3RvcmUsIGxvZ291dCB9ID0gZ2xvYmFscztcblxuICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldEFsbEF0T25jZSA6IGZ1bmN0aW9uKG9iamVjdCxmaWxlc2FycmF5KXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9CSkVDVDogXCIsb2JqZWN0KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFSUkFZIE9GIEZJTEVTOiBcIiwgZmlsZXNhcnJheSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBUlJBWSBPRiBGSUxFUyBzMzogXCIsIGZpbGVzYXJyYXkuczMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQVJSQVkgT0YgRklMRVMgY2xvdWRpbmFyeTogXCIsIGZpbGVzYXJyYXkuY2xvdWRpbmFyeSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugb3VyIG93biBwcm9taXNlXG4gICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgICAgaWYoZmlsZXNhcnJheS5zMy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGxldCBhcnJheT1maWxlc2FycmF5LnMzO1xuICAgICAgICAgICAgICAgdmFyIFMzPSAgYXJyYXkuZm9yRWFjaCggKHgsaSxhcnJheSkgPT4ge1xuICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHgsaSk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTMyBGSUxFIEZPUkVBQ0ggTUV0aG9kIGFzIGFycmF5IGlzIG5vdCBudWxsXCIpO1xuICAgICAgICAgICAgICAgICAgICAvKiBBdHRhY2ggZXZlbnRzIGFuZCBwcm9wcyB0byBmaWxlT2JqIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSB2aWV3ICovXG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGxvYWRIYW5kbGVyID0gZXZhcG9yYXRlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvKiB1cGxvYWQgdG8gczMgaWYgdmFsdWUgaXMgbGVzcyB0aGFuIDMgKi9cbiAgICAgICAgICAgICAgICAgICAgICB4LmZpbGUucGF1c2UgPSB1cGxvYWRGYWN0b3J5LnBhdXNlLmJpbmQoZXZhcG9yYXRlLCB4KTtcbiAgICAgICAgICAgICAgICAgICAgICB4LmZpbGUucmVzdW1lID0gdXBsb2FkRmFjdG9yeS5yZXN1bWUuYmluZChldmFwb3JhdGUsIHgpO1xuICAgICAgICAgICAgICAgICAgICAgIHguZmlsZS5hYm9ydCA9IHVwbG9hZEZhY3RvcnkuYWJvcnQuYmluZChldmFwb3JhdGUsIHgpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBhZGRDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB4LmZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHguZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAocCwgc3RhdHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQVdTIHByb2dyZXNzIHBlcmNlbnRhZ2UgZmFsbHMgYmFjayBzb21ldGltZXMgZHVlIHRvIG1pc3NpbmcgZnJhZ21lbnRhdGlvbi4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZSBwcm9ncmVzcyB2YWx1ZSBvbmx5IHdoZW4gaXQncyBoaWdoZXIgdGhhbiB0aGUgcHJldmlvdXMgdmFsdWUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgeC5maWxlLnByb2dyZXNzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmZpbGUucHJvZ3Jlc3MgPiBNYXRoLnJvdW5kKHAgKiAxMDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHguZmlsZS5wcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKHAgKiAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja1VwbG9hZENvbXBsZXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoX3hociwgYXdzS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHguZmlsZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBsZXRlIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgZXZhcG9yYXRlLmFkZChhZGRDb25maWcpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihhd3NPYmplY3RLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogU3VjY2VzcyBibG9jayAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZU1hbmFnZXJGYWN0b3J5LnJlc29sdmVEZXN0VHlwZSh4LmZpbGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0RGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXROYW1lOiB4LmZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0ZGVzY3JpcHRpb246eC5jb21tZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0OiBcIjNkZmlsZXNkYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGB0ZXN0LyR7eC5maWxlLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbWV0eXBlOiB4LmZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzOiB4LmZpbGUuc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgYXBpRmFjdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5uZXdJc3N1ZXMzRmlsZVVwbG9hZChwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL25ld0lzc3VlczNGaWxlVXBsb2FkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInMzIHJlc3A6IFwiLHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczNGaWxlT2JqZXRzLnB1c2gocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGk9PWZpbGVzYXJyYXkuczMubGVuZ3RoLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiYWxlcnRzIGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFycmF5OlwiLCB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAvLyAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiRmlsZSBzdWNjZXNzZnVsbHkgdXBsb2FkZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJGaWxlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCB0bzpcIiwgYXdzT2JqZWN0S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogRmFpbHVyZSBibG9jayAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICB4LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZpbGVNYW5hZ2VyRmFjdG9yeS5jaGVja1VwbG9hZENvbXBsZXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRmlsZSBkaWQgbm90IHVwbG9hZCBzdWNlc3NmdWxseTpcIiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZEZhY3Rvcnkuc3RhcnQodXBsb2FkSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vY2xvdWRpbmFyeSB1cGxvYWQgZnVuY3Rpb24gIFxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgIFxuICAgICAgICAgICAgICAgICBpZiAoZmlsZXNhcnJheS5jbG91ZGluYXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3VkaW5hcnlQYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICBmaWxlczogZmlsZXNhcnJheS5jbG91ZGluYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAgICAgIC8vICAgLmlzc3VlSW1hZ2UoJHNjb3BlLmNsb3VkaW5hcnlQYXlsb2FkKVxuICAgICAgICAgICAgICAgIHZhciBjbG91ZCA9ICBVcGxvYWQudXBsb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsICsgXCIvYXBpL2lzc3VlSW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjbG91ZGluYXJ5UGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoXCJQT1NUXCIsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzcG9uc2Ugb2YgY2xvdWRpbmFyeTogXCIsIHJlc3ApO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc2FycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICRxLmFsbChbUzMsIGNsb3VkXSkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgczNkYXRhOiBkYXRhWzBdLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2xvdWRkYXRhOiBkYXRhWzFdXG4gICAgICAgICAgICAgICAgLy8gICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG5cblxuICAgICAgICAgICAgfSxcblxuXG4gICAgICAgICAgICBzZW5kRGF0YTpmdW5jdGlvbihvYmplY3QsZmlsZXMpe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvYmplY3QpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVzKTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIC8vIHNlbmRBbGw6ZnVuY3Rpb24ob2JqZWN0LCBmaWxlc2FycmF5KXtcbiAgICAgICAgICAgIC8vICAgaWYoZmlsZXNhcnJheSlcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgIH1cbiAgICBcblxuXG59KSgpOyIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJ1cGxvYWRGYWN0b3J5XCIsIHVwbG9hZEZhY3RvcnkpO1xuXG4gIGZ1bmN0aW9uIHVwbG9hZEZhY3RvcnkoXG4gICAgJGh0dHAsXG4gICAgJGxvY2F0aW9uLFxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBVcGxvYWQsXG4gICAgY2xvdWRpbmFyeSxcbiAgICBOb3RpZmljYXRpb25cbiAgKSB7XG4gICAgLyogQVdTIENPTkZJRyAqL1xuICAgIGNvbnN0IGJ1Y2tldE5hbWUgPSBcIjNkZmlsZXNkYXRhXCI7XG4gICAgY29uc3QgYnVja2V0UmVnaW9uID0gXCJhcC1zb3V0aC0xXCI7XG4gICAgbGV0IGNvbmZpZyA9IHtcbiAgICAgIHNpZ25lclVybDogYGh0dHBzOi8vYXBpLnN0YWdpbmcuY2xvdWRlcy5ldS9zaWdudjRfYXV0aGAsXG4gICAgICBhd3Nfa2V5OiBcIkFLSUFKTU8zWUpUUEtZVjVETjVBXCIsXG4gICAgICBidWNrZXQ6IFwiM2RmaWxlc2RhdGEvdGVzdFwiLFxuICAgICAgYXdzUmVnaW9uOiBidWNrZXRSZWdpb24sXG4gICAgICBjb21wdXRlQ29udGVudE1kNTogdHJ1ZSxcbiAgICAgIGFsbG93UzNFeGlzdGVuY2VPcHRpbWl6YXRpb246IHRydWUsXG4gICAgICBjcnlwdG9NZDVNZXRob2Q6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIEFXUy51dGlsLmNyeXB0by5tZDUoZGF0YSwgXCJiYXNlNjRcIik7XG4gICAgICB9LFxuICAgICAgY3J5cHRvSGV4RW5jb2RlZEhhc2gyNTY6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIEFXUy51dGlsLmNyeXB0by5zaGEyNTYoZGF0YSwgXCJoZXhcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBpbml0OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBFdmFwb3JhdGUuY3JlYXRlKGNvbmZpZyk7XG4gICAgICB9LFxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgbGV0IGZpbGVVcGxvYWQgPSB0aGlzLmluaXQoKTtcblxuICAgICAgICBmaWxlVXBsb2FkLnRoZW4oaGFuZGxlcikuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHBhdXNlOiBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHRoaXMucGF1c2UoYDNkZmlsZXNkYXRhL3Rlc3QvJHtmaWxlLm5hbWV9YCwgeyBmb3JjZTogdHJ1ZSB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZmlsZS5pc1BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhdXNlZCFcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZXN1bWU6IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdGhpcy5yZXN1bWUoYDNkZmlsZXNkYXRhL3Rlc3QvJHtmaWxlLm5hbWV9YClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZpbGUuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdW1lZCFcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBhYm9ydDogZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB0aGlzLmNhbmNlbChgM2RmaWxlc2RhdGEvdGVzdC8ke2ZpbGUubmFtZX1gKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy9maWxlLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYW5jZWxlZCFcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIHVwbG9hZDogZmlsZSA9PiB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiZmlsZSEhXCIsIGZpbGUpO1xuICAgICAgLy8gICAvKiBDaGVjayBmaWxlIHNpemUgKi9cbiAgICAgIC8vICAgaWYgKGZpbGUuc2l6ZSA+IDEwMDAwMDAwKSB7XG4gICAgICAvLyAgICAgLyogczMgZm9yIGZpbGVzIGxhcmdlciB0aGFuIDEwbWIgKi9cbiAgICAgIC8vICAgICBjb25zdCBwYXJhbXMgPSB7IEtleTogZmlsZS5uYW1lLCBDb250ZW50VHlwZTogZmlsZS50eXBlLCBCb2R5OiBmaWxlIH07XG4gICAgICAvLyAgICAgczMucHV0T2JqZWN0KHBhcmFtcylcbiAgICAgIC8vICAgICAgIC5vbihcImh0dHBVcGxvYWRQcm9ncmVzc1wiLCBwcm9ncmVzcyA9PiB7XG4gICAgICAvLyAgICAgICAgIC8qIFRPRE86IEdyYWJiaW5nIHByb2dyZXNzIGV2ZW50ICovXG4gICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZ3Jlc1wiLCBwcm9ncmVzcyk7XG4gICAgICAvLyAgICAgICB9KVxuICAgICAgLy8gICAgICAgLnNlbmQoKGVyciwgZGF0YSkgPT4ge1xuICAgICAgLy8gICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcbiAgICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhcImRvbmVcIiwgZGF0YSk7XG4gICAgICAvLyAgICAgICAgIH1cbiAgICAgIC8vICAgICAgIH0pO1xuICAgICAgLy8gICB9IGVsc2Uge1xuICAgICAgLy8gICAgIC8qIFNlbmQgdG8gY2xvdWRpbmFyeSAqL1xuICAgICAgLy8gICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgLy8gICAgICAgdXJsOlxuICAgICAgLy8gICAgICAgICBcImh0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEvXCIgK1xuICAgICAgLy8gICAgICAgICBjbG91ZGluYXJ5LmNvbmZpZygpLmNsb3VkX25hbWUgK1xuICAgICAgLy8gICAgICAgICBcIi91cGxvYWRcIixcbiAgICAgIC8vICAgICAgIGRhdGE6IHtcbiAgICAgIC8vICAgICAgICAgdXBsb2FkX3ByZXNldDogY2xvdWRpbmFyeS5jb25maWcoKS51cGxvYWRfcHJlc2V0LFxuICAgICAgLy8gICAgICAgICB0YWdzOiBmaWxlLm5hbWUsXG4gICAgICAvLyAgICAgICAgIGNvbnRleHQ6IFwicGhvdG89XCIgKyBEYXRlLm5vdygpLFxuICAgICAgLy8gICAgICAgICBmaWxlOiBmaWxlXG4gICAgICAvLyAgICAgICB9XG4gICAgICAvLyAgICAgfSlcbiAgICAgIC8vICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcInJlc3AhIVwiLCByZXNwKTtcbiAgICAgIC8vICAgICAgIH0pXG4gICAgICAvLyAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyXCIsIGUpO1xuICAgICAgLy8gICAgICAgfSk7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH1cbiAgICB9O1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcIlNCY2hhbm5lbFwiLCBTQmNoYW5uZWwpO1xuXG4gIGZ1bmN0aW9uIFNCY2hhbm5lbChcbiAgICAkaHR0cCxcbiAgICAkbG9jYXRpb24sXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIFNCY29tbW9uLFxuICAgIE5vdGlmaWNhdGlvblxuICApIHtcbiAgICBsZXQgc2IgPSBTQmNvbW1vbi5nZXRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgICBjcmVhdGVDaGFubmVsOiAoY2hhbm5lbE5hbWUsIHVzZXIsIHByb2plY3QpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcGFyYW1zID0gbmV3IHNiLkdyb3VwQ2hhbm5lbFBhcmFtcygpO1xuICAgICAgICAgIHBhcmFtcy5pc1B1YmxpYyA9IGZhbHNlO1xuICAgICAgICAgIHBhcmFtcy5pc0VwaGVtZXJhbCA9IGZhbHNlO1xuICAgICAgICAgIHBhcmFtcy5pc0Rpc3RpbmN0ID0gZmFsc2U7XG4gICAgICAgICAgcGFyYW1zLmFkZFVzZXJJZHModXNlcik7XG4gICAgICAgICAgcGFyYW1zLm9wZXJhdG9ycyA9IHVzZXI7XG4gICAgICAgICAgcGFyYW1zLm5hbWUgPSBjaGFubmVsTmFtZTtcbiAgICAgICAgICBwYXJhbXMuY3VzdG9tVHlwZSA9IHByb2plY3Q7XG4gICAgICAgICAgLy9UT0RPOiBBZGQgdGhlc2UgZGF0YSBsYXRlclxuICAgICAgICAgIC8vIHBhcmFtcy5jb3ZlckltYWdlID0gRklMRTtcbiAgICAgICAgICAvLyBwYXJhbXMuY292ZXJVcmwgPSBDT1ZFUl9VUkw7XG4gICAgICAgICAgLy8gcGFyYW1zLmRhdGEgPSBEQVRBO1xuICAgICAgICAgIHNiLkdyb3VwQ2hhbm5lbC5jcmVhdGVDaGFubmVsKHBhcmFtcywgKGdyb3VwQ2hhbm5lbCwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShncm91cENoYW5uZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBsaXN0Q2hhbm5lbHM6IHByb2plY3RJZCA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgbGV0IGNoYW5uZWxMaXN0UXVlcnkgPSBzYi5Hcm91cENoYW5uZWwuY3JlYXRlTXlHcm91cENoYW5uZWxMaXN0UXVlcnkoKTtcbiAgICAgICAgICBjaGFubmVsTGlzdFF1ZXJ5LmluY2x1ZGVFbXB0eSA9IHRydWU7XG4gICAgICAgICAgY2hhbm5lbExpc3RRdWVyeS5jdXN0b21UeXBlc0ZpbHRlciA9IFtwcm9qZWN0SWRdO1xuICAgICAgICAgIGlmIChjaGFubmVsTGlzdFF1ZXJ5Lmhhc05leHQpIHtcbiAgICAgICAgICAgIGNoYW5uZWxMaXN0UXVlcnkubmV4dCgoY2hhbm5lbExpc3QsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGNoYW5uZWxMaXN0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBpbnZpdGVVc2VyczogKGNoYW5uZWwsIHVzZXJzKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY2hhbm5lbC5pbnZpdGVXaXRoVXNlcklkcyh1c2VycywgKHJlc3AsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0Q2hhbm5lbE1lc3NhZ2VzOiBjaGFubmVsID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcHJldk1lc3NhZ2VMaXN0UXVlcnkgPSBjaGFubmVsLmNyZWF0ZVByZXZpb3VzTWVzc2FnZUxpc3RRdWVyeSgpO1xuICAgICAgICAgIHByZXZNZXNzYWdlTGlzdFF1ZXJ5LmxpbWl0ID0gMzA7XG4gICAgICAgICAgcHJldk1lc3NhZ2VMaXN0UXVlcnkucmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgIHByZXZNZXNzYWdlTGlzdFF1ZXJ5LmxvYWQoKG1lc3NhZ2VzLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGFubmVsLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG4gICAgICAgICAgICAgIHJlc29sdmUoY2hhbm5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgZ2V0Q2hhbm5lbEZpbGVzOiBjaGFubmVsID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBsZXQgcHJldk1lc3NhZ2VMaXN0UXVlcnkgPSBjaGFubmVsLmNyZWF0ZVByZXZpb3VzTWVzc2FnZUxpc3RRdWVyeSgpO1xuICAgICAgICAgIHByZXZNZXNzYWdlTGlzdFF1ZXJ5LmxpbWl0ID0gMzA7XG4gICAgICAgICAgcHJldk1lc3NhZ2VMaXN0UXVlcnkucmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgcHJldk1lc3NhZ2VMaXN0UXVlcnkubWVzc2FnZVR5cGVGaWx0ZXIgPSAyO1xuICAgICAgICAgIHByZXZNZXNzYWdlTGlzdFF1ZXJ5LmxvYWQoKGZpbGVzLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGFubmVsLmZpbGVzID0gZmlsZXM7XG4gICAgICAgICAgICAgIHJlc29sdmUoY2hhbm5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgc2VuZE1lc3NhZ2U6IChjaGFubmVsLCBtZXNzYWdlKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY2hhbm5lbC5zZW5kVXNlck1lc3NhZ2UoXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgXCJtZWV0aW5nUm9vbU1lc3NhZ2VcIixcbiAgICAgICAgICAgIChtZXNzYWdlLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGNoYW5uZWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBzZW5kRmlsZU1lc3NhZ2U6IChjaGFubmVsLCBmaWxlcykgPT4ge1xuICAgICAgICBsZXQgcHJvbWlzZUFycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNoYW5uZWwuc2VuZEZpbGVNZXNzYWdlKFxuICAgICAgICAgICAgICBmaWxlLnNlY3VyZV91cmwsXG4gICAgICAgICAgICAgIGZpbGUuYXNzZXROYW1lLFxuICAgICAgICAgICAgICBmaWxlLmZvcm1hdCxcbiAgICAgICAgICAgICAgZmlsZS5ieXRlcyxcbiAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgKGZpbGVNZXNzYWdlLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlTWVzc2FnZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcHJvbWlzZUFycmF5LnB1c2gocHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2VBcnJheTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBtZXRob2RzO1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcIlNCY29tbW9uXCIsIFNCY29tbW9uKTtcblxuICBmdW5jdGlvbiBTQmNvbW1vbigkaHR0cCwgJGxvY2F0aW9uLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlLCBOb3RpZmljYXRpb24pIHtcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IHtcbiAgICAgICAgYXBwSWQ6IFwiQzgzRDk0RTAtRjgyRS00RjIyLUE3QUQtRjk5MjI1NjlBQUI0XCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2FwaS5zZW5kYmlyZC5jb21cIlxuICAgICAgfSxcbiAgICAgIC8qIFNlbmRCaXJkIGluc3RhbmNlICovXG4gICAgICBzYiA9IG5ldyBTZW5kQmlyZCh7XG4gICAgICAgIGFwcElkOiBjcmVkZW50aWFscy5hcHBJZFxuICAgICAgfSk7XG5cbiAgICBjb25zdCBtZXRob2RzID0ge1xuICAgICAgZ2V0SW5zdGFuY2U6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHNiO1xuICAgICAgfSxcbiAgICAgIGNvbm5lY3Q6IChpZCwgdG9rZW4pID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAvLyBEaXNjb25uZWN0IGJlZm9yZSBjb25uZWN0aW5nIHRvIGF2b2lkIGNhY2hlZCBkYXRhIGJlaGF2aW91clxuICAgICAgICAgIHNiLmRpc2Nvbm5lY3QoKCkgPT4ge1xuICAgICAgICAgICAgc2IuY29ubmVjdChcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgICAodXNlciwgZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUodXNlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBkaXNjb25uZWN0OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgc2IuZGlzY29ubmVjdCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKFwiRGlzY29ubmVjdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc3RvcmU6ICgpID0+IHtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICBjdXJyZW50TWVldGluZzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGdldDogKHByb3AgPSBudWxsKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCA/IGRhdGFbcHJvcF0gOiBkYXRhO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiAocHJvcCwgdmFsKSA9PiB7XG4gICAgICAgICAgICBkYXRhW3Byb3BdID0gdmFsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGRhdGEgPSBPYmplY3Qua2V5cyhkYXRhKS5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgICBhY2NbeF0gPSBudWxsO1xuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZSA9PiB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBtZXRob2RzO1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcIlNCZXZlbnRzXCIsIFNCZXZlbnRzKTtcblxuICBmdW5jdGlvbiBTQmV2ZW50cyhcbiAgICAkaHR0cCxcbiAgICAkbG9jYXRpb24sXG4gICAgJHJvb3RTY29wZSxcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxuICAgIFNCY29tbW9uLFxuICAgIE5vdGlmaWNhdGlvblxuICApIHtcbiAgICBsZXQgc2IgPSBTQmNvbW1vbi5nZXRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgICBpbml0OiAoKSA9PiB7XG4gICAgICAgIC8qIE5ldyBtZXNzYWdlICovXG4gICAgICAgIGxldCBuZXdNZXNzYWdlSGFuZGxlciA9IG5ldyBzYi5DaGFubmVsSGFuZGxlcigpO1xuXG4gICAgICAgIG5ld01lc3NhZ2VIYW5kbGVyLm9uTWVzc2FnZVJlY2VpdmVkID0gKGNoYW5uZWwsIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJuZXdNZWVpbmdSb29tTWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBjaGFubmVsLFxuICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNiLmFkZENoYW5uZWxIYW5kbGVyKFwibWVzc2FnZVJlY2VpdmVkXCIsIG5ld01lc3NhZ2VIYW5kbGVyKTtcblxuICAgICAgICAvKiBOZXcgY2hhbm5lbCAqL1xuICAgICAgICBsZXQgbmV3VXNlckpvaW5lZCA9IG5ldyBzYi5DaGFubmVsSGFuZGxlcigpO1xuICAgICAgICBuZXdVc2VySm9pbmVkLm9uVXNlckpvaW5lZCA9IChjaGFubmVsLCB1c2VyKSA9PiB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFwibmV3Q2hhbm5lbEpvaW5lZFwiLCB7XG4gICAgICAgICAgICBjaGFubmVsLFxuICAgICAgICAgICAgdXNlclxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNiLmFkZENoYW5uZWxIYW5kbGVyKFwibmV3Q2hhbm5lbEpvaW5lZFwiLCBuZXdVc2VySm9pbmVkKTtcblxuICAgICAgICBsZXQgdHlwaW5nU3RhdHVzSGFuZGxlciA9IG5ldyBzYi5DaGFubmVsSGFuZGxlcigpO1xuICAgICAgICB0eXBpbmdTdGF0dXNIYW5kbGVyLm9uVHlwaW5nU3RhdHVzVXBkYXRlZCA9IGNoYW5uZWwgPT4ge1xuICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcInR5cGluZ1N0YXR1c1wiLCB7XG4gICAgICAgICAgICBjaGFubmVsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2IuYWRkQ2hhbm5lbEhhbmRsZXIoXCJ0eXBpbmdTdGF0dXNcIiwgdHlwaW5nU3RhdHVzSGFuZGxlcik7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbWV0aG9kcztcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImNvbW1vblZQRmFjdG9yeVwiLCBjb21tb25WUEZhY3RvcnkpO1xuXG4gIC8qKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gY29tbW9uVlBGYWN0b3J5KCRyb290U2NvcGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gSW5pdGlhbGl6ZXMgYSBzdGFnZSBmb3IgdGhlIHZpc3VhbCBwbGFubmVyXG4gICAgICBjcmVhdGVTdGFnZTogZnVuY3Rpb24oZGl2SWQsIGluaXRpYWxTaXplLCBwbGFubmVyRGF0YSkge1xuICAgICAgICB2YXIgc3RhZ2U7XG4gICAgICAgIGlmIChwbGFubmVyRGF0YSAmJiBwbGFubmVyRGF0YS5qc29uU3RyaW5nKSB7XG4gICAgICAgICAgc3RhZ2UgPSBLb252YS5Ob2RlLmNyZWF0ZShwbGFubmVyRGF0YS5qc29uU3RyaW5nLCBcInN0YWdlXCIpO1xuICAgICAgICAgIHN0YWdlLndpZHRoKGluaXRpYWxTaXplLndpZHRoKTtcbiAgICAgICAgICBzdGFnZS5oZWlnaHQoaW5pdGlhbFNpemUuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFnZSA9IG5ldyBLb252YS5TdGFnZSh7XG4gICAgICAgICAgICBjb250YWluZXI6IGRpdklkLFxuICAgICAgICAgICAgeDogMSxcbiAgICAgICAgICAgIHk6IDEsXG4gICAgICAgICAgICB3aWR0aDogaW5pdGlhbFNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGluaXRpYWxTaXplLmhlaWdodFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZXRTdGFnZVNpemUgPSB0aGlzLmdldFN0YWdlU2l6ZTtcbiAgICAgICAgc3RhZ2Uub24oXCJ3aW5kb3dSZXNpemVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBkaW1lbnNpb25zID0gZ2V0U3RhZ2VTaXplKGRpdklkKTtcbiAgICAgICAgICBzdGFnZS53aWR0aChkaW1lbnNpb25zLndpZHRoKTtcbiAgICAgICAgICBzdGFnZS5oZWlnaHQoZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgICAgIHN0YWdlLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdGFnZTtcbiAgICAgIH0sXG4gICAgICBnZXRTdGFnZVNpemU6IGZ1bmN0aW9uKGRpdklkKSB7XG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBoZWlnaHQ6IGVsLmNsaWVudEhlaWdodCxcbiAgICAgICAgICB3aWR0aDogZWwuY2xpZW50V2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvLyBnZW5lcmF0ZXMgc2hhcGUgSWQgYW5kIGluY3JlbWVudHMgaXQgZXZlcnl0aW1lIHlvdSBjYWxsIGl0XG5cbiAgICAgIHNoYXBlSWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVmYXVsdENvdW50ID0ge1xuICAgICAgICAgIHNoYXBlczoge1xuICAgICAgICAgICAgcmVjdGFuZ2xlOiAwLFxuICAgICAgICAgICAgc3F1YXJlOiAwLFxuICAgICAgICAgICAgY2lyY2xlOiAwLFxuICAgICAgICAgICAgZWxsaXBzZTogMCxcbiAgICAgICAgICAgIGNhbGlicmF0b3I6IDAsXG4gICAgICAgICAgICBmcmVlSGFuZDogMCxcbiAgICAgICAgICAgIHBvbHlnb246IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1hcmtpbmdzOiB7XG4gICAgICAgICAgICBsaW5lOiAwLFxuICAgICAgICAgICAgc2luZ2xlQXJyb3c6IDAsXG4gICAgICAgICAgICBkb3VibGVBcnJvdzogMCxcbiAgICAgICAgICAgIGJlemllcjogMCxcbiAgICAgICAgICAgIGZyZWVoYW5kOiAwLFxuICAgICAgICAgICAgdGV4dDogMCxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVhc3VyZW1lbnQ6IHtcbiAgICAgICAgICAgIHJlY3RhbmdsZTogMCxcbiAgICAgICAgICAgIHNxdWFyZTogMCxcbiAgICAgICAgICAgIGNpcmNsZTogMCxcbiAgICAgICAgICAgIGVsbGlwc2U6IDAsXG4gICAgICAgICAgICBjYWxpYnJhdG9yOiAwLFxuICAgICAgICAgICAgcG9seWdvbjogMCxcbiAgICAgICAgICAgIGZyZWVIYW5kOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjdXJyZW50Q291bnQgPSBkZWZhdWx0Q291bnQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbG9hZDogZnVuY3Rpb24oY291bnQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRDb3VudCA9IGNvdW50O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0Q291bnQ6IGZ1bmN0aW9uKHR5cGUsIHNoYXBlKSB7XG4gICAgICAgICAgICBjdXJyZW50Q291bnRbdHlwZV1bc2hhcGVdKys7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudENvdW50W3R5cGVdW3NoYXBlXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudENvdW50O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY3VycmVudENvdW50ID0gZGVmYXVsdENvdW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvKiBcbiAgICAgICBEcmF3c3RhdGUgZnVuY3Rpb24gbGV0cyB5b3Ugc2V0IGFuZCBjaGVjayB0aGUgY3VycmVudCBkcmF3aW5nIHN0YXRlIGZvciB0aGUgY2FudmFzLiAoRWcuIFNxdWFyZSwgZWxsaXBzZSBldGMpXG4gICAgICAgWW91IGNhbid0IGRyYXcgYSBzaGFwZSBvbiB0aGUgY2FudmFzIHVubGVzcyB0aGUgc3RhdGUgZm9yIHRoZSBwYXJ0aWN1bGFyIHNoYXBlIGlzIHRydWUuIFRoZXNlIHN0YXRzIHdpbGwgY2hlY2tlZFxuICAgICAgIGluIHRoZSBldmVudCBsaXN0ZW5lcnMgb2YgdGhlIHRhcmdldCBzdWNoIGFzIHN0YWdlICwgbGF5ZXIgZXRjLlxuICAgICAgKi9cbiAgICAgIGRyYXdTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8qICBEbyBub3QgbW9kaWZ5IHRoaXMgdmFyICovXG4gICAgICAgIHZhciBpbml0aWFsRHJhd1N0YXRlcyA9IHtcbiAgICAgICAgICBzaGFwZXM6IHtcbiAgICAgICAgICAgIHJlY3RhbmdsZTogZmFsc2UsXG4gICAgICAgICAgICBzcXVhcmU6IGZhbHNlLFxuICAgICAgICAgICAgY2lyY2xlOiBmYWxzZSxcbiAgICAgICAgICAgIGVsbGlwc2U6IGZhbHNlLFxuICAgICAgICAgICAgY2FsaWJyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBwb2x5Z29uOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFya2luZ3M6IHtcbiAgICAgICAgICAgIGxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgc2luZ2xlQXJyb3c6IGZhbHNlLFxuICAgICAgICAgICAgZG91YmxlQXJyb3c6IGZhbHNlLFxuICAgICAgICAgICAgYmV6aWVyOiBmYWxzZSxcbiAgICAgICAgICAgIGZyZWVoYW5kOiBmYWxzZSxcbiAgICAgICAgICAgIHRleHQ6IGZhbHNlLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVhc3VyZW1lbnQ6IHtcbiAgICAgICAgICAgIHJlY3RhbmdsZTogZmFsc2UsXG4gICAgICAgICAgICBzcXVhcmU6IGZhbHNlLFxuICAgICAgICAgICAgY2lyY2xlOiBmYWxzZSxcbiAgICAgICAgICAgIGVsbGlwc2U6IGZhbHNlLFxuICAgICAgICAgICAgY2FsaWJyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBwb2x5Z29uOiBmYWxzZSxcbiAgICAgICAgICAgIGZyZWVIYW5kOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKiBEcmF3IHN0YXRlcyBmcm9tIHRoZSB2aWV3IGFyZSBhc3NpZ25lZCB0byB0aGlzIHZhciAqL1xuICAgICAgICB2YXIgZHJhd1N0YXRlcyA9IGFuZ3VsYXIuY29weShpbml0aWFsRHJhd1N0YXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAvLyBmdW5jdGlvbiB0byBzZXQgdGhlIGRyYXdTdGF0ZXNcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gdHlwZS5zcGxpdChcIi5cIik7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7IC8vIHJlc2V0IGRyYXdzdGF0ZXMgYmVmb3JlIGFzc2lnbmluZyBzdGF0ZXNcbiAgICAgICAgICAgIGRyYXdTdGF0ZXNba2V5c1swXV1ba2V5c1sxXV0gPSB0cnVlO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFwiZHJhd1N0YXRlQ2hhbmdlXCIsIGRyYXdTdGF0ZXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gdG8gY2hlY2sgdGhlIGRyYXdTdGF0ZXNcbiAgICAgICAgICBjaGVjazogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSB0eXBlID8gdHlwZS5zcGxpdChcIi5cIikgOiBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPyBkcmF3U3RhdGVzW2tleXNbMF1dW2tleXNbMV1dIDogZHJhd1N0YXRlcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRyYXdTdGF0ZXMgPSBhbmd1bGFyLmNvcHkoaW5pdGlhbERyYXdTdGF0ZXMpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFwiZHJhd1N0YXRlQ2hhbmdlXCIsIGRyYXdTdGF0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8vIGNhbGlicmF0aW9uIHN0YXRlXG5cbiAgICAgIGNhbGlicmF0aW9uU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgICAgdW5pdDogXCJ1bml0c1wiXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgc3RhdGUgPSBvYmo7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8vIFVuZG8gcmVkbyBmdW5jdGlvbmFsaXR5XG4gICAgICBhY3Rpb25TdGF0ZXM6IGZ1bmN0aW9uKGFjdGlvbnMpIHtcbiAgICAgICAgdmFyIHN0YWNrID0gYWN0aW9ucyB8fCBbXTtcbiAgICAgICAgdmFyIGhlYWQgPSBzdGFjay5sZW5ndGggLSAxO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgc3RhY2suc3BsaWNlKGhlYWQgKyAxLCBzdGFjay5sZW5ndGgsIHZhbCk7XG4gICAgICAgICAgICBoZWFkID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcGVlazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbaGVhZF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1bmRvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChoZWFkID4gLTEpIHtcbiAgICAgICAgICAgICAgc3RhY2tbaGVhZF0uZGVsZXRlKCk7XG4gICAgICAgICAgICAgIGhlYWQgPSBoZWFkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGhlYWQgPCBzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgPT09IHN0YWNrLmxlbmd0aCAtIDEgPyBoZWFkIDogaGVhZCArIDE7XG4gICAgICAgICAgICAgIHN0YWNrW2hlYWRdLnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKiBBdHRhY2ggYWN0aW9uIGhhbmRsZXJzIHRvIGVudGl0aWVzIGJlZm9yZSBwdXNoaW5nIGludG8gYWN0aW9uIHN0YXRlIHN0YWNrICovXG4gICAgICBhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbihzdGFnZSwgZW50aXR5LCBwcm9jZXNzLCBhY3Rpb25UeXBlLCBwcm9wcykge1xuICAgICAgICB2YXIgZW50aXR5ID0gZW50aXR5O1xuICAgICAgICB2YXIgc3RhZ2UgPSBzdGFnZTtcbiAgICAgICAgdmFyIHByb2Nlc3MgPSBwcm9jZXNzO1xuICAgICAgICB2YXIgcHJvcHMgPSBwcm9wcztcblxuICAgICAgICAvKiBIYW5kbGVycyAqL1xuICAgICAgICB2YXIgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgICBkZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBwcm9jZXNzLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgICBzdGFnZS5iYXRjaERyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vdmU6IHtcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVudGl0eS5wb3NpdGlvbihwcm9wcy5zdGFydCk7XG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ocHJvcHMuZW5kKTtcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3MuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3RvcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbnRpdHkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2hhcGVQcm9wczoge1xuICAgICAgICAgICAgZGVsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgZW50aXR5W2tleV0ocHJvcHMuc3RhcnRba2V5XSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzdGFnZS5iYXRjaERyYXcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN0b3JlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzLmVuZCkge1xuICAgICAgICAgICAgICAgIGVudGl0eVtrZXldKHByb3BzLmVuZFtrZXldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGFnZS5iYXRjaERyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbnRpdHk6IGVudGl0eSxcbiAgICAgICAgICByZXN0b3JlOiBoYW5kbGVyc1thY3Rpb25UeXBlXS5yZXN0b3JlLFxuICAgICAgICAgIGRlbGV0ZTogaGFuZGxlcnNbYWN0aW9uVHlwZV0uZGVsZXRlXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgbW92ZW1lbnQgdmFsdWVzIGZvciB1bmRvL3JlZG8gKi9cbiAgICAgIG1vdmVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGlmICghc3RhcnQpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZDogcG9zaXRpb25cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBzaGFwZVByb3BlcnR5SGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFydDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICAgICAgICAgIHN0YXJ0ID0gcHJvcHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IHByb3BzXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyogVHJhbnNmb3JtZXJzICovXG4gICAgICB0cmFuc2Zvcm1lcnM6IGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgIHZhciBzdGFnZSA9IHN0YWdlO1xuICAgICAgICB2YXIgbGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVycyA9IFtdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWRkOiBmdW5jdGlvbih0cmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtZXIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFuc2Zvcm1lcnMsIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgeC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvKiBcbiAgICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBwb2ludGVyIGRvZXNuJ3QgY2hhbmdlIHdoZW4gdGhlIGJhY2tncm91bmQgaW1hZ2UgbGF5ZXIgaXMgYmVpbmcgZHJhZ2dlZCBhcm91bmQuXG4gICAgICAgIEluIG9yZGVyIHRvIGNvbXBlbnNhdGUgdGhhdCBvZmZzZXQsIFRoZSBzdGFnZSBwb2ludGVyIHBvc2l0aW9uIG11c3QgYmUgc3VidHJhY3RlZCBmcm9tIHRoZSBsYXllciBwb3NpdGlvblxuICAgICAgKi9cbiAgICAgIGRyYWdPZmZzZXQ6IGZ1bmN0aW9uKHN0YWdlUG9zaXRpb24sIGxheWVyT2Zmc2V0LCBzdGFnZVNjYWxlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogKHN0YWdlUG9zaXRpb24ueCAtIGxheWVyT2Zmc2V0LngpIC8gc3RhZ2VTY2FsZS54LFxuICAgICAgICAgIHk6IChzdGFnZVBvc2l0aW9uLnkgLSBsYXllck9mZnNldC55KSAvIHN0YWdlU2NhbGUueVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyogU2VsZWN0ZWQgU2hhcGUgKi9cbiAgICAgIHNlbGVjdGVkU2hhcGU6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgIHZhciBzaGFwZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHNoYXBlID0gdmFsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2hhcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyogU2VsZWN0aW9uIHN0b3JlIC0gVG8gc3RvcmUgYW5kIHJldHJpZXZlIHNlbGVjdGVkIHNoYXBlcyAqL1xuXG4gICAgICBzZWxlY3Rpb25TdG9yZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb25zID0gW107XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RvcmU6IGZ1bmN0aW9uKHNoYXBlcykge1xuICAgICAgICAgICAgc2VsZWN0aW9ucyA9IHNoYXBlcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9ucztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHB1bGw6IGZ1bmN0aW9uKHNoYXBlTmFtZSkge1xuICAgICAgICAgICAgc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgIGlmIChzaGFwZS5uYW1lKCkgPT09IHNoYXBlTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHVzaDogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgIHZhciBzaGFwZU5hbWVzID0gc2VsZWN0aW9ucy5tYXAoZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlLm5hbWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCEoc2hhcGVOYW1lcy5pbmRleE9mKHNoYXBlLm5hbWUoKSkgPiAtMSkpIHtcbiAgICAgICAgICAgICAgc2VsZWN0aW9ucy5wdXNoKHNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBhc3NvY2lhdGlvbnM6ICgpID0+IHtcbiAgICAgICAgbGV0IGFzc29jaWF0aW9ucyA9IHt9O1xuXG4gICAgICAgIGxldCBtZXRob2RzID0ge1xuICAgICAgICAgIGNyZWF0ZUFzc29jaWF0aW9uOiAoc2hhcGVJZCwgZW50aXR5SWQsIHR5cGUpID0+IHtcbiAgICAgICAgICAgIGxldCBrZXkgPSBgJHtzaGFwZUlkfS0ke2VudGl0eUlkfS0ke0RhdGUubm93KCl9YDtcbiAgICAgICAgICAgIGFzc29jaWF0aW9uc1trZXldID0ge1xuICAgICAgICAgICAgICBzaGFwZUlkLFxuICAgICAgICAgICAgICBlbnRpdHlJZCxcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRBc3NvY2lhdGlvbnM6IGtleSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ga2V5ID8gYXNzb2NpYXRpb25zW2tleV0gOiBhc3NvY2lhdGlvbnM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRBc3NvY2lhdGlvbnNGb3JTYXZlOiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYXNzb2NpYXRpb25zKS5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgICAgIHNoYXBlSWQ6IGFzc29jaWF0aW9uc1t4XS5zaGFwZUlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IGFzc29jaWF0aW9uc1t4XS50eXBlXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgc3dpdGNoIChhc3NvY2lhdGlvbnNbeF0udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgIG9iai5tYXRlcmlhbElkID0gYXNzb2NpYXRpb25zW3hdLmVudGl0eUlkO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgb2JqLmNvbWJvSWQgPSBhc3NvY2lhdGlvbnNbeF0uZW50aXR5SWQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBvYmouZXF1aXBtZW50SWQgPSBhc3NvY2lhdGlvbnNbeF0uZW50aXR5SWQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhY2MucHVzaChvYmopO1xuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlQXNzb2NpYXRpb246IGtleSA9PiB7XG4gICAgICAgICAgICBhc3NvY2lhdGlvbnNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICAgICAgICBhc3NvY2lhdGlvbnMgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUobWV0aG9kcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImV2ZW50c1ZQRmFjdG9yeVwiLCBldmVudHNWUEZhY3RvcnkpO1xuXG4gIC8qKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZXZlbnRzVlBGYWN0b3J5KCRyb290U2NvcGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2luZG93RXZlbnRzOiBmdW5jdGlvbih3aW5kb3dPYmplY3QpIHtcbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgdmFyIGVudGl0aWVzID0gW107XG4gICAgICAgIHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGVudGl0aWVzLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICB2LmZpcmUoXCJ3aW5kb3dSZXNpemVkXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgICAgICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHN0YWdlRXZlbnRzOiBmdW5jdGlvbihzdGFnZSkge1xuICAgICAgICB2YXIgc3RhZ2UgPSBzdGFnZTtcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKCFzdGFnZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgICBzdGFnZS5vbihldmVudCwgaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHNoYXBlRXZlbnRzOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICB2YXIgc2hhcGUgPSBzaGFwZTtcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGV2ZW50cy5pbmRleE9mKGV2ZW50KSA+IC0xKSB7XG4gICAgICAgICAgICAgIC8qIENoZWNrIGZvciBkdXBsaWNhdGUgZXZlbnRzICovXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgc2hhcGUub24oZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBsYXllckV2ZW50czogZnVuY3Rpb24obGF5ZXIpIHtcbiAgICAgICAgdmFyIGxheWVyID0gbGF5ZXI7XG4gICAgICAgIHZhciBldmVudHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmIChldmVudHMuaW5kZXhPZihldmVudCkgPiAtMSkge1xuICAgICAgICAgICAgICAvKiBDaGVjayBmb3IgZHVwbGljYXRlIGV2ZW50cyAqL1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBldmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgICAgIGxheWVyLm9uKGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcImxheWVyc1ZQRmFjdG9yeVwiLCBsYXllcnNWUEZhY3RvcnkpO1xuXG4gIC8qKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gbGF5ZXJzVlBGYWN0b3J5KCRyb290U2NvcGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlTGF5ZXI6IGZ1bmN0aW9uKHN0YWdlKSB7XG4gICAgICAgIHZhciBsYXllciA9IG5ldyBLb252YS5MYXllcigpO1xuICAgICAgICBzdGFnZS5hZGQobGF5ZXIpO1xuICAgICAgICByZXR1cm4gbGF5ZXI7XG4gICAgICB9LFxuICAgICAgaW5pdGlhdGVQcm9jZXNzOiBmdW5jdGlvbihzdGFnZSwgYmFzZUxheWVyKSB7XG4gICAgICAgIHZhciBwcm9jZXNzZXMgPSBbXSxcbiAgICAgICAgICBoZWFkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNyZWF0ZVByb2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gbmV3IEtvbnZhLkdyb3VwKHtcbiAgICAgICAgICAgICAgbmFtZTogXCJwcm9jZXNzLVwiICsgRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9jZXNzZXMucHVzaChncm91cCk7XG4gICAgICAgICAgICBoZWFkID0gcHJvY2Vzc2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGdyb3VwKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldFByb2Nlc3NlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0Q3VycmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VzW2hlYWRdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0Q3VycmVudDogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIGhlYWQgPSBpbmRleDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3dQcm9jZXNzOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChwcm9jZXNzZXNbaW5kZXhdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm9jZXNzZXMsIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuYWRkKHgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoaWRlUHJvY2VzczogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3Nlc1tpbmRleF0ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvY2Vzc2VzLCBmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgeC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgLyogTG9hZGluZyBwcm9jZXNzIGZyb20ganNvbiAqL1xuICAgICAgICAgIGxvYWRQcm9jZXNzZXM6IGZ1bmN0aW9uKHByb2Nlc3Nlc0Zyb21Kc29uKSB7XG4gICAgICAgICAgICBwcm9jZXNzZXMgPSBwcm9jZXNzZXNGcm9tSnNvbjtcbiAgICAgICAgICAgIGhlYWQgPSBwcm9jZXNzZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmFjdG9yeShcInNoYXBlc1ZQRmFjdG9yeVwiLCBzaGFwZXNWUEZhY3RvcnkpO1xuXG4gIC8qKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gc2hhcGVzVlBGYWN0b3J5KFxuICAgICRyb290U2NvcGUsXG4gICAgZXZlbnRzVlBGYWN0b3J5LFxuICAgIGNvbW1vblZQRmFjdG9yeSxcbiAgICB0b29sc1ZQRmFjdG9yeVxuICApIHtcbiAgICB2YXIgc2hhcGVJZCA9IGNvbW1vblZQRmFjdG9yeS5zaGFwZUlkKCk7XG4gICAgdmFyIGNyZWF0ZWRTaGFwZTtcblxuICAgIC8qIE9wdGlvbnMgY29tbW9uIGZvciBwb2x5Z29uIGNyZWF0aW9uICovXG4gICAgdmFyIHBvbHlnb25PcHRpb25zID0ge1xuICAgICAgaW5pdDogZmFsc2UsXG4gICAgICAvKiB0byBjaGVjayBpZiBhIHBvbHlnb24gaXMgaW5pdGF0ZWQgb3Igbm90ICovXG4gICAgICBwb2ludHM6IFtdLFxuICAgICAgcG9pbnRTZXQ6IHRydWUgLyogdHJ1ZSBmb3IgY2xpY2sgZXZlbnQgYW5kIGZhbHNlIGZvciBtb3VzZSBvdmVyIGV2ZW50ICovXG4gICAgfTtcblxuICAgIHZhciBzaGFwZVRvb2xzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qIFRoaXMgbWV0aG9kIGlzIGZpcmVkIGluIHRoZSBjb250cm9sbGVyIGFuZCBzZXRzIHRoZSBnbG9iYWwgc2hhcGVUb29scyAqL1xuICAgICAgZ2V0U2hhcGVUb29sczogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHNoYXBlVG9vbHMgPSBvYmo7XG4gICAgICB9LFxuICAgICAgLyogXG4gICAgICAgIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgc2hhcGUgd2hpY2ggaXMgaW50dXJuIHBhc3NlZCB0byB0aGUgZHJhd1NoYXBlIGZ1bmN0aW9uLlxuICAgICAgICBCYXNlZWQgb24gbW91c2UgY2xpY2sgZXZlbnRcbiAgICAgICovXG5cbiAgICAgIGxvYWRTaGFwZUlkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgc2hhcGVJZC5sb2FkKG9iaik7XG4gICAgICB9LFxuXG4gICAgICBnZXRTaGFwZUlkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlSWQuZ2V0KCk7XG4gICAgICB9LFxuXG4gICAgICBjcmVhdGVTaGFwZTogZnVuY3Rpb24odHlwZSwgcG9zaXRpb24pIHtcbiAgICAgICAgLyogMCAtIFJlY3RhbmdsZS9TcXVhcmUgLCAxIC0gRWxsaXBzZS9DaXJjbGUgKi9cbiAgICAgICAgaWYgKGNyZWF0ZWRTaGFwZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogZmFsc2UsXG4gICAgICAgICAgICBzaGFwZTogY3JlYXRlZFNoYXBlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhcGU7XG4gICAgICAgIHZhciBzaGFwZVByb3BzID0gc2hhcGVUb29scy5nZXQoKTtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBzaGFwZSA9IG5ldyBLb252YS5MaW5lKHtcbiAgICAgICAgICAgICAgcG9pbnRzOiBbXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgbmFtZTogXCJSZWN0XCIgKyBzaGFwZUlkLmdldENvdW50KFwic2hhcGVzXCIsIFwicmVjdGFuZ2xlXCIpLFxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwsXG4gICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgY2xvc2VkOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHNoYXBlID0gbmV3IEtvbnZhLkVsbGlwc2Uoe1xuICAgICAgICAgICAgICB4OiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgICAgICB4OiAxLFxuICAgICAgICAgICAgICAgIHk6IDFcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZVByb3BzLnN0cm9rZSB8fCBcImJsYWNrXCIsXG4gICAgICAgICAgICAgIG5hbWU6IFwiRWxsaXBzZVwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcImVsbGlwc2VcIiksXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZVByb3BzLnN0cm9rZVdpZHRoIHx8IDEsXG4gICAgICAgICAgICAgIGZpbGw6IHNoYXBlUHJvcHMuZmlsbCxcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZWRTaGFwZSA9IHNoYXBlO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnQ6IHRydWUsXG4gICAgICAgICAgc2hhcGU6IGNyZWF0ZWRTaGFwZVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyogXG4gICAgICAgIFRoaXMgZnVuY3Rpb24gZHJhd3MgdGhlIHNoYXBlIHdoaWNoIGlzIGFscmVhZHkgY3JlYXRlZCBieSBjcmVhdGVTaGFwZVxuICAgICAgICBCYXNlZCBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICAgICovXG4gICAgICBkcmF3U2hhcGU6IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaGFwZUxvY2ssIG1pc2MpIHtcbiAgICAgICAgLyogaWYgc2hhcGVsb2NrIGlzIHRydWUgLCBsb2NrIHRoZSBhc3BlY3QgcmF0aW8gKi9cblxuICAgICAgICAvKiBNaXNjIGlzIGEgc3BlY2lhbCBwYXJhbSBmb3IgcmVjdGFuZ2xlcyBzdWNoIGFzIGdyYWIgc2VsZWN0b3IgYW5kIHRleHQgd3JhcHBlciAqL1xuXG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcbiAgICAgICAgICBzd2l0Y2ggKGNyZWF0ZWRTaGFwZS5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJMaW5lXCI6XG4gICAgICAgICAgICAgIC8qIFRyZWF0aW5nIHJlY3RhbmdsZSBsaWtlIGEgcG9seWdvbiAqL1xuXG4gICAgICAgICAgICAgIHRoaXMuZHJhd1JlY3RhbmdsZShwb3NpdGlvbiwgY3JlYXRlZFNoYXBlLCBzaGFwZUxvY2ssIG1pc2MpO1xuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkVsbGlwc2VcIjpcbiAgICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnJhZGl1cyh7XG4gICAgICAgICAgICAgICAgLyogTWFrZSBzdXJlIHJhZGl1cyBpc24ndCBuZWdhdGl2ZSAqL1xuICAgICAgICAgICAgICAgIHg6IE1hdGguYWJzKHBvc2l0aW9uLnggLSBjcmVhdGVkU2hhcGUueCgpKSxcbiAgICAgICAgICAgICAgICB5OiBNYXRoLmFicyhcbiAgICAgICAgICAgICAgICAgIHNoYXBlTG9ja1xuICAgICAgICAgICAgICAgICAgICA/IHBvc2l0aW9uLnggLSBjcmVhdGVkU2hhcGUueCgpXG4gICAgICAgICAgICAgICAgICAgIDogcG9zaXRpb24ueSAtIGNyZWF0ZWRTaGFwZS55KClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGRyYXdSZWN0YW5nbGU6IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaGFwZSwgc2hhcGVsb2NrLCBtaXNjKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHMoKTsgLyogZ2V0IHJlY3RhbmdsZSB2ZXJ0aWNlcyAqL1xuICAgICAgICAvKiBEaWFnb25hbCBoaW5nZSAtIFJlYXNzaWduIGJvdGggeCBhbmQgeSBiYXNlZCBvbiBwb3NpdGlvbiAqL1xuXG4gICAgICAgIHBvaW50c1s0XSA9IHBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50c1s1XSA9IHNoYXBlbG9ja1xuICAgICAgICAgID8gTWF0aC5hYnMocG9pbnRzWzFdICsgKHBvc2l0aW9uLnggLSBwb2ludHNbMF0pKVxuICAgICAgICAgIDogcG9zaXRpb24ueTtcblxuICAgICAgICAvKiBZIC0gYXhpcyBoaW5nZSAoY2hhbmdlIHggLSBheGlzIGFuZCBrZWVwIHkgLSBmaXhlZCkqL1xuXG4gICAgICAgIHBvaW50c1s3XSA9IHNoYXBlbG9ja1xuICAgICAgICAgID8gTWF0aC5hYnMocG9pbnRzWzFdICsgKHBvc2l0aW9uLnggLSBwb2ludHNbMF0pKVxuICAgICAgICAgIDogcG9zaXRpb24ueTtcbiAgICAgICAgLyogWCAtIGF4aXMgaGluZ2UgKGNoYW5nZSB5IC0gYXhpcyBhbmQga2VlcCB4IC0gZml4ZWQpICovXG5cbiAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcbiAgICAgICAgLyogSGFuZGxlIHNlbGVjdGlvbiAqL1xuXG4gICAgICAgIHN3aXRjaCAobWlzYykge1xuICAgICAgICAgIGNhc2UgXCJncmFiYmVyXCI6XG4gICAgICAgICAgICBzaGFwZS5kYXNoKFsxMCwgMTBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ3cmFwcGVyXCI6XG4gICAgICAgICAgICBzaGFwZS5zdHJva2UoXCJncmV5XCIpO1xuICAgICAgICAgICAgc2hhcGUuZHJhZ2dhYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogUmVhc3NpZ24gdG8gc2hhcGUgKi9cbiAgICAgICAgc2hhcGUucG9pbnRzKHBvaW50cyk7XG4gICAgICB9LFxuXG4gICAgICAvKiBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYWN0dWFsbHkgZGVzdHJveSB0aGUgc2hhcGUgdGhhdCBoYXMgYmVlbiBkcmF3cy4gSXQgc2ltcGx5IHJlbW92ZXMgdGhlIHZhciBpbnNpZGUgdGhpcyBmYWN0b3J5IGZ1bnRpb24gKi9cbiAgICAgIGRlc3Ryb3lTaGFwZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNyZWF0ZWRTaGFwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcG9seWdvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgaW5pdDogZmFsc2UsXG4gICAgICAgICAgcG9pbnRzOiBbXSxcbiAgICAgICAgICBwb2ludFNldDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNsZWFyIHRoZSBkcmF3aW5nIHdoZW4gdGhlIHVzZXIgY2FuY2VscyBpdCBtaWR3YXkgKi9cbiAgICAgIGNhbmNlbERyYXdpbmc6IGZ1bmN0aW9uKHNlbGVjdGlvbikge1xuICAgICAgICB2YXIgc2VsZWN0aW9uUG9pbnRzID0gY3JlYXRlZFNoYXBlLnBvaW50cygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICBjcmVhdGVkU2hhcGUgJiYgY3JlYXRlZFNoYXBlLnJlbW92ZSgpO1xuICAgICAgICBjcmVhdGVkU2hhcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHBvbHlnb25PcHRpb25zID0ge1xuICAgICAgICAgIGluaXQ6IGZhbHNlLFxuICAgICAgICAgIHBvaW50czogW10sXG4gICAgICAgICAgcG9pbnRTZXQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvblBvaW50cztcbiAgICAgIH0sXG5cbiAgICAgIC8qIFxuICAgICAgICBAcGFyYW0gcG9zaXRpb24gPSBzdGFnZSBwb2ludGVyIHBvc2l0aW9uXG4gICAgICAgIEBwYXJhbSBmcmVlSGFuZCA9IEJvb2xlYW4gKGVuYWJsaW5nIGZyZWVoYW5kKVxuICAgICAgICBAcGFyYW0gZnJlZUhhbmRNYWtlciA9IEJvb2xlYW4gKGVuYWJsaW5nIG1hcmtlciBmdW5jdGlvbmFsaXR5IHdoaWNoIGRvZXNuJ3QgY2hlY2sgZm9yIHRocmVzaG9sZClcbiAgICAgICovXG5cbiAgICAgIGNyZWF0ZVBvbHlnb246IGZ1bmN0aW9uKHBvc2l0aW9uLCBmcmVlSGFuZCwgZnJlZUhhbmRNYXJrZXIpIHtcbiAgICAgICAgaWYgKCFwb2x5Z29uT3B0aW9ucy5pbml0ICYmICFjcmVhdGVkU2hhcGUpIHtcbiAgICAgICAgICAvKiBDaGVjayBpZiBhIHBvbHlnb24gaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYW5kIGFsc28gaWYgYW55IG90aGVyIHNoYXBlIGV4aXN0cyAqL1xuICAgICAgICAgIHZhciBzaGFwZVByb3BzID0gc2hhcGVUb29scy5nZXQoKTsgLyogR2V0IHNoYXBlIHByb3BzICovXG4gICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzID0gW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnldO1xuXG4gICAgICAgICAgaWYgKGZyZWVIYW5kTWFya2VyKSB7XG4gICAgICAgICAgICAvKiBGb3IgTWFya2VyICovXG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUgPSBuZXcgS29udmEuTGluZSh7XG4gICAgICAgICAgICAgIG5hbWU6IFwibWFya2VyRnJlZUhhbmRcIiArIHNoYXBlSWQuZ2V0Q291bnQoXCJtYXJraW5nc1wiLCBcImZyZWVoYW5kXCIpLFxuICAgICAgICAgICAgICBwb2ludHM6IHBvbHlnb25PcHRpb25zLnBvaW50cyxcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVQcm9wcy5maWxsLFxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIEZvciBjbG9zYWJsZSBmcmVlaGFuZCBhbmQgcG9seWdvbiAqL1xuICAgICAgICAgICAgY3JlYXRlZFNoYXBlID0gbmV3IEtvbnZhLkxpbmUoe1xuICAgICAgICAgICAgICBuYW1lOiBmcmVlSGFuZFxuICAgICAgICAgICAgICAgID8gXCJmcmVlSGFuZFwiICsgc2hhcGVJZC5nZXRDb3VudChcInNoYXBlc1wiLCBcImZyZWVIYW5kXCIpXG4gICAgICAgICAgICAgICAgOiBcInBvbHlnb25cIiArIHNoYXBlSWQuZ2V0Q291bnQoXCJzaGFwZXNcIiwgXCJwb2x5Z29uXCIpLFxuICAgICAgICAgICAgICBwb2ludHM6IHBvbHlnb25PcHRpb25zLnBvaW50cyxcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVQcm9wcy5maWxsLFxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHNoYXBlUHJvcHMuc3Ryb2tlV2lkdGggfHwgMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9seWdvbk9wdGlvbnMuaW5pdCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBFbmQgZm9yIGZyZWVoYW5kIG1hcmtlciAqL1xuICAgICAgICAgIGlmIChmcmVlSGFuZE1hcmtlcikge1xuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRTZXQgPSB0cnVlO1xuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmRyYWdnYWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN0YXJ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIENsb3NlIG9ubHkgd2hlbiB0aHJlc2hvbGQgaXMgYXR0YWluZWQgZm9yIHJlZ3VsYXIgcG9seWdvbnMgYW5kIGZyZWVoYW5kICovXG5cbiAgICAgICAgICBpZiAodGhpcy5jaGVja1RocmVzaG9sZChwb3NpdGlvbikpIHtcbiAgICAgICAgICAgIC8qIENsb3NlIGlmIHRocmVzaG9sZCBpcyByZWFjaGVkICovXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMuc3BsaWNlKFxuICAgICAgICAgICAgICAtMlxuICAgICAgICAgICAgKTsgLyogUmVtb3ZlIGV4aXN0aW5nIG1vdXNlIG92ZXIgcG9pbnRzICovXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChcbiAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdLFxuICAgICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHNbMV1cbiAgICAgICAgICAgICk7IC8qIENsb3NlIHBvbHlnb24gd2l0aCBpbml0YWwgcG9pbnRzICovXG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvbHlnb25PcHRpb25zLnBvaW50cyk7XG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludFNldCA9IHRydWU7XG4gICAgICAgICAgICBjcmVhdGVkU2hhcGUuY2xvc2VkKHRydWUpO1xuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLmRyYWdnYWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN0YXJ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgcG9seWdvbjogY3JlYXRlZFNoYXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMuc3BsaWNlKFxuICAgICAgICAgICAgICAtMlxuICAgICAgICAgICAgKTsgLyogUmVtb3ZlIGV4aXN0aW5nIG1vdXNlIG92ZXIgcG9pbnRzICovXG4gICAgICAgICAgICBwb2x5Z29uT3B0aW9ucy5wb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcbiAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50U2V0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGRyYXdQb2x5Z29uOiBmdW5jdGlvbihwb3NpdGlvbiwgZnJlZUhhbmQpIHtcbiAgICAgICAgaWYgKGNyZWF0ZWRTaGFwZSkge1xuICAgICAgICAgIGlmIChmcmVlSGFuZCkge1xuICAgICAgICAgICAgLyogRnJlZWhhbmQgYmxvY2sgKi9cbiAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50cy5wdXNoKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgY3JlYXRlZFNoYXBlLnBvaW50cyhwb2x5Z29uT3B0aW9ucy5wb2ludHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiBQb2x5Z29uIGJsb2NrICovXG4gICAgICAgICAgICBpZiAocG9seWdvbk9wdGlvbnMucG9pbnRTZXQpIHtcbiAgICAgICAgICAgICAgcG9seWdvbk9wdGlvbnMucG9pbnRzLnB1c2gocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50U2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50c1twb2x5Z29uT3B0aW9ucy5wb2ludHMubGVuZ3RoIC0gMl0gPVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLng7XG4gICAgICAgICAgICAgIHBvbHlnb25PcHRpb25zLnBvaW50c1twb2x5Z29uT3B0aW9ucy5wb2ludHMubGVuZ3RoIC0gMV0gPVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9seWdvbk9wdGlvbnMucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNyZWF0ZUxpbmU6IGZ1bmN0aW9uKHBvc2l0aW9uLCB0eXBlKSB7XG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IGZhbHNlLFxuICAgICAgICAgICAgbGluZTogY3JlYXRlZFNoYXBlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lO1xuICAgICAgICB2YXIgc2hhcGVQcm9wcyA9IHNoYXBlVG9vbHMuZ2V0KCk7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImxpbmVcIjpcbiAgICAgICAgICAgIGxpbmUgPSBuZXcgS29udmEuTGluZSh7XG4gICAgICAgICAgICAgIG5hbWU6IFwibGluZVNpbXBsZVwiICsgc2hhcGVJZC5nZXRDb3VudChcIm1hcmtpbmdzXCIsIFwibGluZVwiKSxcbiAgICAgICAgICAgICAgcG9pbnRzOiBbcG9zaXRpb24ueCwgcG9zaXRpb24ueV0sXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZVByb3BzLnN0cm9rZVdpZHRoIHx8IDEsXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxuICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInNpbmdsZUFycm93XCI6XG4gICAgICAgICAgICBsaW5lID0gbmV3IEtvbnZhLkFycm93KHtcbiAgICAgICAgICAgICAgbmFtZTogXCJsaW5lQXJyb3dcIiArIHNoYXBlSWQuZ2V0Q291bnQoXCJtYXJraW5nc1wiLCBcInNpbmdsZUFycm93XCIpLFxuICAgICAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxuICAgICAgICAgICAgICBmaWxsOiBzaGFwZVByb3BzLmZpbGwgfHwgXCJibGFja1wiLFxuICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgIHBvaW50ZXJMZW5ndGg6IDEwLFxuICAgICAgICAgICAgICBwb2ludGVyV2lkdGg6IDEwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImRvdWJsZUFycm93XCI6XG4gICAgICAgICAgICBsaW5lID0gbmV3IEtvbnZhLkFycm93KHtcbiAgICAgICAgICAgICAgbmFtZTpcbiAgICAgICAgICAgICAgICBcImxpbmVBcnJvd0RvdWJsZVwiICsgc2hhcGVJZC5nZXRDb3VudChcIm1hcmtpbmdzXCIsIFwiZG91YmxlQXJyb3dcIiksXG4gICAgICAgICAgICAgIHBvaW50czogW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnldLFxuICAgICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxuICAgICAgICAgICAgICBzdHJva2U6IHNoYXBlUHJvcHMuc3Ryb2tlIHx8IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgZmlsbDogc2hhcGVQcm9wcy5maWxsIHx8IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBwb2ludGVyTGVuZ3RoOiAxMCxcbiAgICAgICAgICAgICAgcG9pbnRlcldpZHRoOiAxMCxcbiAgICAgICAgICAgICAgcG9pbnRlckF0QmVnaW5uaW5nOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZWRTaGFwZSA9IGxpbmU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnQ6IHRydWUsXG4gICAgICAgICAgbGluZTogY3JlYXRlZFNoYXBlXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZHJhd0xpbmU6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcbiAgICAgICAgICB2YXIgcG9pbnRzID0gY3JlYXRlZFNoYXBlLnBvaW50cygpO1xuICAgICAgICAgIHBvaW50c1syXSA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgcG9pbnRzWzNdID0gcG9zaXRpb24ueTtcbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKHBvaW50cyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNyZWF0ZUJlemllckxpbmU6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChjcmVhdGVkU2hhcGUpIHtcbiAgICAgICAgICB2YXIgY3JlYXRlZFBvaW50cyA9IGNyZWF0ZWRTaGFwZS5wb2ludHMoKTtcblxuICAgICAgICAgIHZhciBxID0gW1xuICAgICAgICAgICAgKGNyZWF0ZWRQb2ludHNbMl0gLSBjcmVhdGVkUG9pbnRzWzBdKSAqIDAuNSArIGNyZWF0ZWRQb2ludHNbMF0sXG4gICAgICAgICAgICAoY3JlYXRlZFBvaW50c1szXSAtIGNyZWF0ZWRQb2ludHNbMV0pICogMC41ICsgY3JlYXRlZFBvaW50c1sxXVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICB2YXIgYjEgPSBbXG4gICAgICAgICAgICAoY3JlYXRlZFBvaW50c1syXSAtIGNyZWF0ZWRQb2ludHNbMF0pICogMC4yNSArIGNyZWF0ZWRQb2ludHNbMF0sXG4gICAgICAgICAgICAoY3JlYXRlZFBvaW50c1szXSAtIGNyZWF0ZWRQb2ludHNbMV0pICogMC4yNSArIGNyZWF0ZWRQb2ludHNbMV1cbiAgICAgICAgICBdO1xuICAgICAgICAgIHZhciBiMiA9IFtcbiAgICAgICAgICAgIChjcmVhdGVkUG9pbnRzWzJdIC0gY3JlYXRlZFBvaW50c1swXSkgKiAwLjc1ICsgY3JlYXRlZFBvaW50c1swXSxcbiAgICAgICAgICAgIChjcmVhdGVkUG9pbnRzWzNdIC0gY3JlYXRlZFBvaW50c1sxXSkgKiAwLjc1ICsgY3JlYXRlZFBvaW50c1sxXVxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBjcmVhdGVkUG9pbnRzLnB1c2gocVswXSwgcVsxXSk7XG5cbiAgICAgICAgICBjcmVhdGVkU2hhcGUucG9pbnRzKGNyZWF0ZWRQb2ludHMpO1xuICAgICAgICAgIGNyZWF0ZWRTaGFwZS50ZW5zaW9uKDEuMSk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IGZhbHNlLFxuICAgICAgICAgICAgbGluZTogY3JlYXRlZFNoYXBlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFwZVByb3BzID0gc2hhcGVUb29scy5nZXQoKTtcblxuICAgICAgICB2YXIgYmV6aWVyID0gbmV3IEtvbnZhLkxpbmUoe1xuICAgICAgICAgIG5hbWU6IFwiYmV6aWVyXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJiZXppZXJcIiksXG4gICAgICAgICAgbGluZUpvaW46IFwicm91bmRcIixcbiAgICAgICAgICBwb2ludHM6IFtwb3NpdGlvbi54LCBwb3NpdGlvbi55XSxcbiAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGVQcm9wcy5zdHJva2VXaWR0aCB8fCAxLFxuICAgICAgICAgIHN0cm9rZTogc2hhcGVQcm9wcy5zdHJva2UgfHwgXCJibGFja1wiLFxuICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY3JlYXRlZFNoYXBlID0gYmV6aWVyO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnQ6IHRydWUsXG4gICAgICAgICAgbGluZTogY3JlYXRlZFNoYXBlXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBkcmF3QmV6aWVyTGluZTogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKGNyZWF0ZWRTaGFwZSkge1xuICAgICAgICAgIHZhciBwb2ludHMgPSBjcmVhdGVkU2hhcGUucG9pbnRzKCk7XG4gICAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcbiAgICAgICAgICBwb2ludHNbM10gPSBwb3NpdGlvbi55O1xuICAgICAgICAgIGNyZWF0ZWRTaGFwZS5wb2ludHMocG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLy8gdGV4dFxuXG4gICAgICBjcmVhdGVUZXh0OiBmdW5jdGlvbihwcm9wcykge1xuICAgICAgICB2YXIgdGV4dFNoYXBlID0gbmV3IEtvbnZhLlRleHQoe1xuICAgICAgICAgIHg6IHByb3BzLnBvc2l0aW9uLngsXG4gICAgICAgICAgeTogcHJvcHMucG9zaXRpb24ueSxcbiAgICAgICAgICBuYW1lOiBcInRleHRcIixcbiAgICAgICAgICB0ZXh0OiBcIlBsYWNlaG9sZGVyIHRleHRcIixcbiAgICAgICAgICB3aWR0aDogcHJvcHMud2lkdGgsXG4gICAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICAgIGZvbnRGYW1pbHk6IFwiQ2FsaWJyaVwiLFxuICAgICAgICAgIGZpbGw6IFwiYmxhY2tcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRleHRTaGFwZTtcbiAgICAgIH0sXG5cbiAgICAgIGNyZWF0ZVRleHRHcm91cDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0R3JvdXAgPSBuZXcgS29udmEuR3JvdXAoe1xuICAgICAgICAgIG5hbWU6IFwidGV4dEdyb3VwXCIgKyBzaGFwZUlkLmdldENvdW50KFwibWFya2luZ3NcIiwgXCJ0ZXh0XCIpLFxuICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGV4dEdyb3VwO1xuICAgICAgfSxcblxuICAgICAgLy8gY2FsaWJyYXRvciBmdW5jdGlvblxuICAgICAgY2FsaWJyYXRvcjogZnVuY3Rpb24oc3RhZ2UsIGxheWVyKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgdmFyIGlzRG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgaW5pdCA9IHRydWU7XG4gICAgICAgIHZhciBsaW5lO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocG9zaXRpb24sIHNldCwga2lsbCkge1xuICAgICAgICAgIC8vIGtpbGxsaW5nIHRoZSBmdW5jdGlvblxuXG4gICAgICAgICAgaWYgKGtpbGwpIHtcbiAgICAgICAgICAgIGxpbmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBvc2l0aW9uID0ge1xuICAgICAgICAgICAgeDogcG9zaXRpb24ueCAvIHN0YWdlLnNjYWxlKCkueCxcbiAgICAgICAgICAgIHk6IHBvc2l0aW9uLnkgLyBzdGFnZS5zY2FsZSgpLnlcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKCFpc0RvbmUpIHtcbiAgICAgICAgICAgIGlmIChpbml0ICYmIHNldCkge1xuICAgICAgICAgICAgICBwb2ludHMucHVzaChwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgbGluZSA9IG5ldyBLb252YS5MaW5lKHtcbiAgICAgICAgICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgICAgICAgICBmaWxsOiBcImdyZXlcIixcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgICAgICBkYXNoOiBbNSwgMV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGluaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbGF5ZXIuYWRkKGxpbmUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaW5pdCkge1xuICAgICAgICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzWzJdID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgICAgICBwb2ludHNbM10gPSBwb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgIGxpbmUucG9pbnRzKHBvaW50cyk7XG4gICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJjYWxpYnJhdGVkXCIsIGxpbmUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50c1syXSA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgcG9pbnRzWzNdID0gcG9zaXRpb24ueTtcbiAgICAgICAgICAgICAgICBsaW5lLnBvaW50cyhwb2ludHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxheWVyLmRyYXcoKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIGNoZWNrVGhyZXNob2xkOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICB2YXIgcHJveGltaXR5ID0gMTA7XG4gICAgICAgIC8vIGNhbHVsYXRpb24gdG8gaWRlbnRpZnkgdGhlIHByb3hpbWl0eSB0byBjbG9zZSB0aGUgcG9seWdvblxuICAgICAgICB2YXIgeFVwcGVyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdICsgcHJveGltaXR5O1xuICAgICAgICB2YXIgeVVwcGVyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzFdICsgcHJveGltaXR5O1xuICAgICAgICB2YXIgeExvd2VyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzBdIC0gcHJveGltaXR5O1xuICAgICAgICB2YXIgeUxvd2VyVGhyZXNob2xkID0gcG9seWdvbk9wdGlvbnMucG9pbnRzWzFdIC0gcHJveGltaXR5O1xuICAgICAgICByZXR1cm4geFVwcGVyVGhyZXNob2xkID4gcG9zaXRpb24ueCAmJlxuICAgICAgICAgIHhMb3dlclRocmVzaG9sZCA8IHBvc2l0aW9uLnggJiZcbiAgICAgICAgICAoeVVwcGVyVGhyZXNob2xkID4gcG9zaXRpb24ueSAmJiB5TG93ZXJUaHJlc2hvbGQgPCBwb3NpdGlvbi55KVxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2U7XG4gICAgICB9LFxuXG4gICAgICAvKiBFeHRyYWN0IGFsbCBzaGFwZXMgKi9cbiAgICAgIGV4dHJhY3RBbGxTaGFwZXM6IGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgIHZhciBhbGxTaGFwZXMgPSBsYXllci5maW5kKFwiR3JvdXBcIikucmVkdWNlKGZ1bmN0aW9uKGFjYywgeCkge1xuICAgICAgICAgIGlmICgvcHJvY2VzcyovLnRlc3QoeC5uYW1lKCkpKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goeC5nZXRDaGlsZHJlbigpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICBhY2MucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gYWxsU2hhcGVzO1xuICAgICAgfSxcblxuICAgICAgc2VsZWN0U2hhcGVzOiBmdW5jdGlvbihsYXllciwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBhbGxTaGFwZXMgPSB0aGlzLmV4dHJhY3RBbGxTaGFwZXMobGF5ZXIpO1xuXG4gICAgICAgIHZhciBwMSA9IFtwb2ludHNbMF0sIHBvaW50c1sxXV07XG4gICAgICAgIHZhciBwMiA9IFtwb2ludHNbNF0sIHBvaW50c1s1XV07XG5cbiAgICAgICAgdmFyIG1pbiA9IHtcbiAgICAgICAgICB4OiBwb2ludHNbMF0gPiBwb2ludHNbNF0gPyBwb2ludHNbNF0gOiBwb2ludHNbMF0sXG4gICAgICAgICAgeTogcG9pbnRzWzFdID4gcG9pbnRzWzVdID8gcG9pbnRzWzVdIDogcG9pbnRzWzFdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG1heCA9IHtcbiAgICAgICAgICB4OiBwb2ludHNbMF0gPCBwb2ludHNbNF0gPyBwb2ludHNbNF0gOiBwb2ludHNbMF0sXG4gICAgICAgICAgeTogcG9pbnRzWzFdIDwgcG9pbnRzWzVdID8gcG9pbnRzWzVdIDogcG9pbnRzWzFdXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNoZWNrU2VsZWN0aW9uID0gdGhpcy5jaGVja1NlbGVjdGlvbjtcbiAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVzID0gYWxsU2hhcGVzLmZpbHRlcihmdW5jdGlvbih4KSB7XG4gICAgICAgICAgdmFyIHNoYXBlTmFtZSA9IHgubmFtZSgpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC9SZWN0Ki8udGVzdChzaGFwZU5hbWUpIHx8XG4gICAgICAgICAgICAvcG9seWdvbiovLnRlc3Qoc2hhcGVOYW1lKSB8fFxuICAgICAgICAgICAgL2ZyZWVIYW5kKi8udGVzdChzaGFwZU5hbWUpIHx8XG4gICAgICAgICAgICAvbWFya2VyRnJlZUhhbmQvLnRlc3Qoc2hhcGVOYW1lKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHBvaW50cyA9IHgucG9pbnRzKCk7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb25PZmZzZXQgPSB4LnBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDI7IGkgKz0gMikge1xuICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhlIGxhc3QgcGFpciBzaW5jZSBpdCdzIHNpbWlsYXIgdG8gdGhlIGZpcnN0IHBhaXJcbiAgICAgICAgICAgICAgdmVydGljZXMucHVzaChbXG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldICsgcG9zaXRpb25PZmZzZXQueCxcbiAgICAgICAgICAgICAgICBwb2ludHNbaSArIDFdICsgcG9zaXRpb25PZmZzZXQueVxuICAgICAgICAgICAgICBdKTsgLy8gY2h1bmtpZnkgYW5kIG9mZnNldCBwb2ludHMgcG9pbnRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBDaGVja3MgaWYgYSBzaGFwZSBpcyBzZWxlY3RlZCBhbmQgcmV0dXJucyBCb29sZWFuICovXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tTZWxlY3Rpb24oXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgXCJyZWN0YW5nbGVcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoL2xpbmUqLy50ZXN0KHNoYXBlTmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSB4LnBvaW50cygpO1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uT2Zmc2V0ID0geC5wb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhlIGxhc3QgcGFpciBzaW5jZSBpdCdzIHNpbWlsYXIgdG8gdGhlIGZpcnN0IHBhaXJcbiAgICAgICAgICAgICAgdmVydGljZXMucHVzaChbXG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldICsgcG9zaXRpb25PZmZzZXQueCxcbiAgICAgICAgICAgICAgICBwb2ludHNbaSArIDFdICsgcG9zaXRpb25PZmZzZXQueVxuICAgICAgICAgICAgICBdKTsgLy8gY2h1bmtpZnkgYW5kIG9mZnNldCBwb2ludHMgcG9pbnRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBDaGVja3MgaWYgYSBzaGFwZSBpcyBzZWxlY3RlZCBhbmQgcmV0dXJucyBCb29sZWFuICovXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tTZWxlY3Rpb24oXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB2ZXJ0aWNlcyxcbiAgICAgICAgICAgICAgXCJyZWN0YW5nbGVcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoL0VsbGlwc2UqLy50ZXN0KHNoYXBlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja1NlbGVjdGlvbihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHgucG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgXCJlbGxpcHNlXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiByZXR1cm4gb25seSBuYW1lcyBvZiB0aG9zZSBzaGFwZXMgKi9cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU2hhcGVzO1xuICAgICAgfSxcblxuICAgICAgY2hlY2tTZWxlY3Rpb246IGZ1bmN0aW9uKHJhbmdlLCBwcm9wLCB0eXBlKSB7XG4gICAgICAgIC8qIFNlbGVjdGlvbiBsb2dpYyBmb3IgcmVjdGFuZ2xlICovXG4gICAgICAgIGlmICh0eXBlID09PSBcInJlY3RhbmdsZVwiKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BbaV1bMF0gPj0gcmFuZ2UubWluLnggJiZcbiAgICAgICAgICAgICAgcHJvcFtpXVswXSA8PSByYW5nZS5tYXgueCAmJiAvLyB4IC0gYXhpc1xuICAgICAgICAgICAgICAocHJvcFtpXVsxXSA+PSByYW5nZS5taW4ueSAmJiBwcm9wW2ldWzFdIDw9IHJhbmdlLm1heC55KSAvLyB5IC0gYXhpc1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogU2VsZWN0aW9uIGxvZ2ljIGZvciBlbGxpcHNlICovXG4gICAgICAgIGlmICh0eXBlID09PSBcImVsbGlwc2VcIikge1xuICAgICAgICAgIC8vIENvbXBhcmluZyB3aXRoIGNlbnRlciBwb3NpdGlvbnNcbiAgICAgICAgICByZXR1cm4gcHJvcC54ID49IHJhbmdlLm1pbi54ICYmXG4gICAgICAgICAgcHJvcC54IDw9IHJhbmdlLm1heC54ICYmIC8vIHggLSBheGlzXG4gICAgICAgICAgICAocHJvcC55ID49IHJhbmdlLm1pbi55ICYmIHByb3AueSA8PSByYW5nZS5tYXgueSkgLy8gLWF4aXNcbiAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZhY3RvcnkoXCJ0b29sc1ZQRmFjdG9yeVwiLCB0b29sc1ZQRmFjdG9yeSk7XG5cbiAgLyoqIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiB0b29sc1ZQRmFjdG9yeSgkcm9vdFNjb3BlLCBldmVudHNWUEZhY3RvcnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gUmV0dXJucyBhcmVhIG9mIHBvbHlnb25cbiAgICAgIC8qIFxuICAgICAgICBAcGFyYW0gcG9pbnRzID0gQXJyYXksIHNjYWxlID0gTnVtYmVyXG4gICAgICAgIEByZXR1cm4gTnVtYmVyXG4gICAgICAqL1xuICAgICAgcG9seWdvbkFyZWE6IGZ1bmN0aW9uKHBvaW50cywgc2NhbGUpIHtcbiAgICAgICAgdmFyIGRldCA9IDA7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBjaHVua2VkQXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIGNodW5rID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNodW5rLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIGNodW5rLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2h1bmtlZEFycmF5LnB1c2goe1xuICAgICAgICAgICAgICB4OiBjaHVua1swXSxcbiAgICAgICAgICAgICAgeTogY2h1bmtbMV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2h1bmsgPSBbXTtcbiAgICAgICAgICAgIGNodW5rLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGwgPSBjaHVua2VkQXJyYXkubGVuZ3RoO1xuXG4gICAgICAgIGlmIChjaHVua2VkQXJyYXlbMF0gIT0gY2h1bmtlZEFycmF5W2NodW5rZWRBcnJheS5sZW5ndGggLSAxXSlcbiAgICAgICAgICBjaHVua2VkQXJyYXkgPSBjaHVua2VkQXJyYXkuY29uY2F0KGNodW5rZWRBcnJheVswXSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspXG4gICAgICAgICAgZGV0ICs9XG4gICAgICAgICAgICBjaHVua2VkQXJyYXlbaV0ueCAqIGNodW5rZWRBcnJheVtpICsgMV0ueSAtXG4gICAgICAgICAgICBjaHVua2VkQXJyYXlbaV0ueSAqIGNodW5rZWRBcnJheVtpICsgMV0ueDtcblxuICAgICAgICBpZiAoc2NhbGUpIHtcbiAgICAgICAgICByZXN1bHQgPSAoTWF0aC5hYnMoZGV0KSAvIDIpICogc2NhbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gTWF0aC5hYnMoZGV0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlci5wYXJzZUZsb2F0KHJlc3VsdCkudG9GaXhlZCgyKTtcbiAgICAgIH0sXG4gICAgICAvLyBDYWxjdWxhdGUgYXJlYSBvZiByZWN0YW5nbGVcblxuICAgICAgcmVjdGFuZ2xlQXJlYTogZnVuY3Rpb24oaGVpZ2h0LCB3aWR0aCwgc2NhbGUpIHtcbiAgICAgICAgdmFyIGFyZWEgPSBoZWlnaHQgKiB3aWR0aCAqIHNjYWxlO1xuICAgICAgICByZXR1cm4gYXJlYTtcbiAgICAgIH0sXG5cbiAgICAgIC8vIFJldHVybiBhcmVhIG9mIGVsbGlwc2VcbiAgICAgIGVsbGlwc2VBcmVhOiBmdW5jdGlvbihyYWRpaSwgc2NhbGUpIHtcbiAgICAgICAgdmFyIGFyZWEgPSBNYXRoLlBJICogcmFkaWkueCAqIHJhZGlpLnk7XG4gICAgICAgIHZhciByZXN1bHQgPSBzY2FsZSA/IGFyZWEgKiBzY2FsZSA6IGFyZWE7XG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VGbG9hdChyZXN1bHQpLnRvRml4ZWQoMik7XG4gICAgICB9LFxuXG4gICAgICBlbGxpcHNlVHJhbnNmb21lcjogZnVuY3Rpb24oc3RhZ2UsIGxheWVyLCBlbGxpcHNlKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICB2YXIgc2V0ID0gZmFsc2U7XG4gICAgICAgIHZhciBncm91cCA9IG5ldyBLb252YS5Hcm91cCh7XG4gICAgICAgICAgbmFtZTogXCJ0cmFuc2Zvcm1lcnNcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHJhZGl1cykge1xuICAgICAgICAgICAgdmFyIGVsbGlwc2VQb3NpdGlvbiA9IGVsbGlwc2UucG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goXG4gICAgICAgICAgICAgIFtlbGxpcHNlUG9zaXRpb24ueCAtIHJhZGl1cy54LCBlbGxpcHNlUG9zaXRpb24ueV0sXG4gICAgICAgICAgICAgIFtlbGxpcHNlUG9zaXRpb24ueCArIHJhZGl1cy54LCBlbGxpcHNlUG9zaXRpb24ueV0sXG4gICAgICAgICAgICAgIFtlbGxpcHNlUG9zaXRpb24ueCwgZWxsaXBzZVBvc2l0aW9uLnkgKyByYWRpdXMueV0sXG4gICAgICAgICAgICAgIFtlbGxpcHNlUG9zaXRpb24ueCwgZWxsaXBzZVBvc2l0aW9uLnkgLSByYWRpdXMueV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgaW5jID0gMDtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2ZXJ0aWNlcywgZnVuY3Rpb24oeCwgJGluZGV4KSB7XG4gICAgICAgICAgICAgIHZhciBjaXJjbGUgPSBuZXcgS29udmEuQ2lyY2xlKHtcbiAgICAgICAgICAgICAgICB4OiB4WzBdLFxuICAgICAgICAgICAgICAgIHk6IHhbMV0sXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1IC8gbGF5ZXIuc2NhbGVYKCksXG4gICAgICAgICAgICAgICAgbmFtZTpcbiAgICAgICAgICAgICAgICAgICgkaW5kZXggKyBpbmMpLnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgICAgICAgXCIsXCIgK1xuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYyArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgLyogQXNzaWduIG5hbWVzIGFzIGNvLW9yZGluYXRlcyAqL1xuICAgICAgICAgICAgICAgIGZpbGw6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMyAvIGxheWVyLnNjYWxlWCgpLFxuICAgICAgICAgICAgICAgIGRyYWdCb3VuZEZ1bmM6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogJGluZGV4ID4gMSA/IHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLnggOiBwb3MueCxcbiAgICAgICAgICAgICAgICAgICAgeTogJGluZGV4IDw9IDEgPyB0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS55IDogcG9zLnlcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGluYysrO1xuICAgICAgICAgICAgICB2YXIgY2lyY2xlRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoY2lyY2xlKTtcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS50cmFuc2Zvcm1lclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNSYWRpdXMgPSBlbGxpcHNlLnJhZGl1cygpO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFZlcnRleCA9IGNpcmNsZS5uYW1lKCk7XG4gICAgICAgICAgICAgICAgdmFyIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkVmVydGV4KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiMCwxXCI6XG4gICAgICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPVxuICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucG9zaXRpb24oKS54IC0gY2lyY2xlLngoKSA8IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucmFkaXVzKHtcbiAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyhlbGxpcHNlLnBvc2l0aW9uKCkueCAtIGNpcmNsZS54KCkpLFxuICAgICAgICAgICAgICAgICAgICAgIHk6IHByZXZpb3VzUmFkaXVzLnlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIyLDNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05lZ2F0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueChlbGxpcHNlLnBvc2l0aW9uKCkueCArIGVsbGlwc2UucmFkaXVzKCkueCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoZWxsaXBzZS5wb3NpdGlvbigpLnggLSBlbGxpcHNlLnJhZGl1cygpLngpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIjIsM1wiOlxuICAgICAgICAgICAgICAgICAgICBpc05lZ2F0aXZlID1cbiAgICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnBvc2l0aW9uKCkueCAtIGNpcmNsZS54KCkgPCAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlbGxpcHNlLnJhZGl1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5hYnMoZWxsaXBzZS5wb3NpdGlvbigpLnggLSBjaXJjbGUueCgpKSxcbiAgICAgICAgICAgICAgICAgICAgICB5OiBwcmV2aW91c1JhZGl1cy55XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHopIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiMCwxXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOZWdhdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoZWxsaXBzZS5wb3NpdGlvbigpLnggKyBlbGxpcHNlLnJhZGl1cygpLngpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGVsbGlwc2UucG9zaXRpb24oKS54IC0gZWxsaXBzZS5yYWRpdXMoKS54KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCI0LDVcIjpcbiAgICAgICAgICAgICAgICAgICAgaXNOZWdhdGl2ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBjaXJjbGUueSgpIDwgMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS5yYWRpdXMoe1xuICAgICAgICAgICAgICAgICAgICAgIHg6IHByZXZpb3VzUmFkaXVzLngsXG4gICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5hYnMoZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBjaXJjbGUueSgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih6KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjYsN1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmVnYXRpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGVsbGlwc2UucG9zaXRpb24oKS55ICsgZWxsaXBzZS5yYWRpdXMoKS55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShlbGxpcHNlLnBvc2l0aW9uKCkueSAtIGVsbGlwc2UucmFkaXVzKCkueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiNiw3XCI6XG4gICAgICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPVxuICAgICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucG9zaXRpb24oKS55IC0gY2lyY2xlLnkoKSA8IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2UucmFkaXVzKHtcbiAgICAgICAgICAgICAgICAgICAgICB4OiBwcmV2aW91c1JhZGl1cy54LFxuICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGguYWJzKGVsbGlwc2UucG9zaXRpb24oKS55IC0gY2lyY2xlLnkoKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeikge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI0LDVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05lZ2F0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShlbGxpcHNlLnBvc2l0aW9uKCkueSArIGVsbGlwc2UucmFkaXVzKCkueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB6LnkoZWxsaXBzZS5wb3NpdGlvbigpLnkgLSBlbGxpcHNlLnJhZGl1cygpLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXllci5kcmF3KCk7XG5cbiAgICAgICAgICAgICAgICBlbGxpcHNlLmZpcmUoXCJ0cmFuc2Zvcm1FbGxpcHNlXCIpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvKiBTY2FsZSB0cmFuc2ZvbWVyIGJhc2VkIG9uIHpvb20gKi9cblxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcInNjYWxlT25ab29tXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5yYWRpdXMoNSAvIGxheWVyLnNjYWxlWCgpKTtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHJva2VXaWR0aCgzIC8gbGF5ZXIuc2NhbGVYKCkpO1xuICAgICAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwibW92ZVwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZ3JvdXAuYWRkKGNpcmNsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsbGlwc2UuZmlyZShcInRyYW5zZm9ybUVsbGlwc2VcIik7XG5cbiAgICAgICAgICAgIHNldCA9IHRydWU7XG4gICAgICAgICAgICBsYXllci5hZGQoZ3JvdXApO1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBnZXRHcm91cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdyb3VwLmRlc3Ryb3koKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKiBDdXN0b20gdHJhbnNmb3JtZXIgZm9yIHBvbHlnb24gKi9cbiAgICAgIGN1c3RvbVRyYW5zZm9ybWVyOiBmdW5jdGlvbihzdGFnZSwgbGF5ZXIsIHBvbHlnb24sIGlzUmVjdGFuZ2xlKSB7XG4gICAgICAgIC8qIENoYW5nZSB0cmFuc2Zvcm1lciBiZWhhdmlvdXMgYmFzZWQgb24gaXNSZWN0YW5nbGUgcGFyYW1ldGVyICovXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICAgICAgICB2YXIgc2V0ID0gZmFsc2U7XG4gICAgICAgIHZhciBncm91cCA9IG5ldyBLb252YS5Hcm91cCh7XG4gICAgICAgICAgbmFtZTogXCJ0cmFuc2Zvcm1lcnNcIlxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBwb2x5Z29uO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC8vIG1ldGhvZCB0byBzZXQgdGhlIHBvaW50c1xuICAgICAgICAgIHNldDogZnVuY3Rpb24ocG9pbnRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLSAyOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgLy8gaWdub3JlIHRoZSBsYXN0IHBhaXIgc2luY2UgaXQncyBzaW1pbGFyIHRvIHRoZSBmaXJzdCBwYWlyXG4gICAgICAgICAgICAgIHZlcnRpY2VzLnB1c2goW3BvaW50c1tpXSwgcG9pbnRzW2kgKyAxXV0pOyAvLyBjaHVua2lmeSBwb2ludHNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogQ291bnRlciB0byBnZW5lcmF0ZSBjaXJjbGUgbmFtZXMgdG8gbWFwIHRoZW0gd2l0aCBjby1vcmRpbmF0ZXMgKi9cbiAgICAgICAgICAgIHZhciBpbmMgPSAwO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godmVydGljZXMsIGZ1bmN0aW9uKHgsICRpbmRleCkge1xuICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IEtvbnZhLkNpcmNsZSh7XG4gICAgICAgICAgICAgICAgeDogeFswXSxcbiAgICAgICAgICAgICAgICB5OiB4WzFdLFxuICAgICAgICAgICAgICAgIHJhZGl1czogNSAvIGxheWVyLnNjYWxlWCgpLFxuICAgICAgICAgICAgICAgIG5hbWU6XG4gICAgICAgICAgICAgICAgICAoJGluZGV4ICsgaW5jKS50b1N0cmluZygpICtcbiAgICAgICAgICAgICAgICAgIFwiLFwiICtcbiAgICAgICAgICAgICAgICAgICgkaW5kZXggKyBpbmMgKyAxKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIC8qIEFzc2lnbiBuYW1lcyBhcyBjby1vcmRpbmF0ZXMgKi9cbiAgICAgICAgICAgICAgICBmaWxsOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBcImJsYWNrXCIsXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMgLyBsYXllci5zY2FsZVgoKSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGluYysrO1xuXG4gICAgICAgICAgICAgIC8qIFJlZ2lzdGVyIGRyYWdtb3ZlIGV2ZW50cyBmb3IgdGhlIHRyYW5zZm9ybWVyJ3MgdmVydGV4ICovXG4gICAgICAgICAgICAgIHZhciBjaXJjbGVFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhjaXJjbGUpO1xuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLnRyYW5zZm9ybWVyXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWN0YW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgIC8qIEJpbmQgb3RoZXIgdmVydGljZXMgZm9yIHJlY3RhbmdsZSAqL1xuICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkVmVydGV4ID0gY2lyY2xlLm5hbWUoKTtcblxuICAgICAgICAgICAgICAgICAgLyogRmluZCB4IGFuZCB5IGhpbmdlcyBiYXNlZCB1cG9uIGRpYWdvbmFsIGhpbmdlICovXG5cbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRWZXJ0ZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjAsMVwiOlxuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gW2NpcmNsZS54KCksIGNpcmNsZS55KCldO1xuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzFdWzFdID0gY2lyY2xlLnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1szXVswXSA9IGNpcmNsZS54KCk7XG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGdyb3VwLmNoaWxkcmVuLCBmdW5jdGlvbih6KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB4IC0gY2lyY2xlICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiNiw3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei54KGNpcmNsZS54KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogeSAtIGNpcmNsZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHoubmFtZSgpID09PSBcIjIsM1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHoueShjaXJjbGUueSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMiwzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbMV0gPSBbY2lyY2xlLngoKSwgY2lyY2xlLnkoKV07XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbMF1bMV0gPSBjaXJjbGUueSgpO1xuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzJdWzBdID0gY2lyY2xlLngoKTtcbiAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHggLSBjaXJjbGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCI0LDVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoY2lyY2xlLngoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiMCwxXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGNpcmNsZS55KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNCw1XCI6XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbMl0gPSBbY2lyY2xlLngoKSwgY2lyY2xlLnkoKV07XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbM11bMV0gPSBjaXJjbGUueSgpO1xuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzFdWzBdID0gY2lyY2xlLngoKTtcbiAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHggLSBjaXJjbGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIyLDNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoY2lyY2xlLngoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiNiw3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGNpcmNsZS55KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNiw3XCI6XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbM10gPSBbY2lyY2xlLngoKSwgY2lyY2xlLnkoKV07XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbMl1bMV0gPSBjaXJjbGUueSgpO1xuICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzWzBdWzBdID0gY2lyY2xlLngoKTtcbiAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHggLSBjaXJjbGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh6Lm5hbWUoKSA9PT0gXCIwLDFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB6LngoY2lyY2xlLngoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB5IC0gY2lyY2xlICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoei5uYW1lKCkgPT09IFwiNCw1XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgei55KGNpcmNsZS55KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvKiBJZ25vcmUgb3RoZXIgY2lyY2xlcyBmb3IgcG9seWdvbiAqL1xuICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChncm91cC5jaGlsZHJlbiwgZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goW3gueCgpLCB4LnkoKV0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IGFuZ3VsYXIuY29weSh0ZW1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9seWdvbi5maXJlKFwidHJhbnNmb3JtUG9seWdvblwiKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLyogU2NhbGUgdHJhbnNmb21lciBiYXNlZCBvbiB6b29tICovXG4gICAgICAgICAgICAgIGNpcmNsZUV2ZW50LnJlZ2lzdGVyKFwic2NhbGVPblpvb21cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJhZGl1cyg1IC8gbGF5ZXIuc2NhbGVYKCkpO1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0cm9rZVdpZHRoKDMgLyBsYXllci5zY2FsZVgoKSk7XG4gICAgICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCI7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBncm91cC5hZGQoY2lyY2xlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZXQgPSB0cnVlO1xuICAgICAgICAgICAgbGF5ZXIuYWRkKGdyb3VwKTtcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIHVwZGF0ZSB0cmFuc2Zvcm1lciBwb3NpdGlvbiB3aGVuIHNoYXBlIGlzIG1vdmVkXG4gICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgICAgIGdyb3VwLngob2Zmc2V0LngpO1xuICAgICAgICAgICAgZ3JvdXAueShvZmZzZXQueSk7XG4gICAgICAgICAgICBsYXllci5kcmF3KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRQb2ludHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZlcnRpY2VzLnJlZHVjZShmdW5jdGlvbihhY2MsIHgsIGkpIHtcbiAgICAgICAgICAgICAgYWNjLnB1c2goeFswXSwgeFsxXSk7XG4gICAgICAgICAgICAgIGlmIChpID09PSB2ZXJ0aWNlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5jbHVkZSB0aGUgc3RhcnQgdmVydGV4IHR3aWNlIHRvIGNvbXBsZXRlIHRoZSBwb2x5Z29uXG4gICAgICAgICAgICAgICAgYWNjLnB1c2godmVydGljZXNbMF0sIHZlcnRpY2VzWzFdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0R3JvdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qIEJlemllciBUcmFuc2Zvcm1lciAqL1xuXG4gICAgICBiZXppZXJUcmFuc2Zvcm1lcjogZnVuY3Rpb24oc3RhZ2UsIGxheWVyLCBiZXppZXIpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgIHZhciBzZXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGdyb3VwID0gbmV3IEtvbnZhLkdyb3VwKHtcbiAgICAgICAgICBuYW1lOiBcInRyYW5zZm9ybWVyc1wiXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgYmV6aWVyID0gYmV6aWVyO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC8vIG1ldGhvZCB0byBzZXQgdGhlIHBvaW50c1xuICAgICAgICAgIHNldDogZnVuY3Rpb24ocG9pbnRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKFtwb2ludHNbaV0sIHBvaW50c1tpICsgMV1dKTsgLy8gY2h1bmtpZnkgcG9pbnRzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIENvdW50ZXIgdG8gZ2VuZXJhdGUgY2lyY2xlIG5hbWVzIHRvIG1hcCB0aGVtIHdpdGggY28tb3JkaW5hdGVzICovXG4gICAgICAgICAgICB2YXIgaW5jID0gMDtcblxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZlcnRpY2VzLCBmdW5jdGlvbih4LCAkaW5kZXgpIHtcbiAgICAgICAgICAgICAgdmFyIGNpcmNsZSA9IG5ldyBLb252YS5DaXJjbGUoe1xuICAgICAgICAgICAgICAgIHg6IHhbMF0sXG4gICAgICAgICAgICAgICAgeTogeFsxXSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDUgLyBsYXllci5zY2FsZVgoKSxcbiAgICAgICAgICAgICAgICBuYW1lOlxuICAgICAgICAgICAgICAgICAgKCRpbmRleCArIGluYykudG9TdHJpbmcoKSArXG4gICAgICAgICAgICAgICAgICBcIixcIiArXG4gICAgICAgICAgICAgICAgICAoJGluZGV4ICsgaW5jICsgMSkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAvKiBBc3NpZ24gbmFtZXMgYXMgY28tb3JkaW5hdGVzICovXG4gICAgICAgICAgICAgICAgZmlsbDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogXCJibGFja1wiLFxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzIC8gbGF5ZXIuc2NhbGVYKCksXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpbmMrKztcblxuICAgICAgICAgICAgICAvKiBSZWdpc3RlciBkcmFnbW92ZSBldmVudHMgZm9yIHRoZSB0cmFuc2Zvcm1lcidzIHZlcnRleCAqL1xuICAgICAgICAgICAgICB2YXIgY2lyY2xlRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoY2lyY2xlKTtcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS50cmFuc2Zvcm1lclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChbeC54KCksIHgueSgpXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmVydGljZXMgPSBhbmd1bGFyLmNvcHkodGVtcCk7XG4gICAgICAgICAgICAgICAgYmV6aWVyLmZpcmUoXCJ0cmFuc2Zvcm1CZXppZXJcIik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8qIFNjYWxlIHRyYW5zZm9tZXIgYmFzZWQgb24gem9vbSAqL1xuICAgICAgICAgICAgICBjaXJjbGVFdmVudC5yZWdpc3RlcihcInNjYWxlT25ab29tXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5yYWRpdXMoNSAvIGxheWVyLnNjYWxlWCgpKTtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHJva2VXaWR0aCgzIC8gbGF5ZXIuc2NhbGVYKCkpO1xuICAgICAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwibW92ZVwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2lyY2xlRXZlbnQucmVnaXN0ZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZ3JvdXAuYWRkKGNpcmNsZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGxheWVyLmFkZChncm91cCk7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyB1cGRhdGUgdHJhbnNmb3JtZXIgcG9zaXRpb24gd2hlbiBzaGFwZSBpcyBtb3ZlZFxuICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICAgICAgICBncm91cC54KG9mZnNldC54KTtcbiAgICAgICAgICAgIGdyb3VwLnkob2Zmc2V0LnkpO1xuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0UG9pbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0aWNlcy5yZWR1Y2UoZnVuY3Rpb24oYWNjLCB4LCBpKSB7XG4gICAgICAgICAgICAgIGFjYy5wdXNoKHhbMF0sIHhbMV0pO1xuICAgICAgICAgICAgICBpZiAoaSA9PT0gdmVydGljZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIGluY2x1ZGUgdGhlIHN0YXJ0IHZlcnRleCB0d2ljZSB0byBjb21wbGV0ZSB0aGUgcG9seWdvblxuICAgICAgICAgICAgICAgIGFjYy5wdXNoKHZlcnRpY2VzWzBdLCB2ZXJ0aWNlc1sxXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldEdyb3VwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvLyBmdW5jdGlvbiB0byBzY2FsZSB0cmFuc2Zvcm1lciBiYXNlZCBvbiB6b29tXG5cbiAgICAgIHNjYWxlVHJhbnNmb3JtZXJCYXNlZE9uWm9vbTogZnVuY3Rpb24oYmFzZUxheWVyKSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1lckdyb3VwID0gYmFzZUxheWVyLmZpbmQoXCIudHJhbnNmb3JtZXJzXCIpO1xuICAgICAgICBpZiAodHJhbnNmb3JtZXJHcm91cC5sZW5ndGgpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2godHJhbnNmb3JtZXJHcm91cFswXS5nZXRDaGlsZHJlbigpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgY2hpbGQuZmlyZShcInNjYWxlT25ab29tXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBtZXRyaWNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNoYXBlSW5mbztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldFNoYXBlSW5mbzogZnVuY3Rpb24oaW5mbykge1xuICAgICAgICAgICAgc2hhcGVJbmZvID0gaW5mbztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldFNoYXBlSW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhcGVJbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIGNvbG9yUGlja2VyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIHN0cm9rZTogXCJibGFja1wiLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgZmlsbDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDApXCIsXG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IDFcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBwcm9wcyA9IE9iamVjdC5hc3NpZ24ocHJvcHMsIG9iaik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wID8gcHJvcHNbcHJvcF0gOiBwcm9wcztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIl8zZERhc2hib2FyZEN0cmxcIiwgXzNkRGFzaGJvYXJkQ3RybCk7XG5cbiAgICBmdW5jdGlvbiBfM2REYXNoYm9hcmRDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcbiAgICBnbG9iYWxzLFxuICAgIE5nTWFwXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG5cbiAgICBsZXQgdm0gPSB0aGlzO1xuICAgICAgdm0ubG9nZ2VkSW4gPSB0cnVlXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSwgdGhyb3R0bGVyIH0gPSBnbG9iYWxzO1xuXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgICB2bS5sb2dnZWRJbiA9IGZhbHNlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgXG5cbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIl8zZHZpZXdlckN0cmxcIiwgXzNkdmlld2VyQ3RybCk7XG5cbiAgZnVuY3Rpb24gXzNkdmlld2VyQ3RybChcbiAgICAgICRzY29wZSxcbiAgICAgICR0aW1lb3V0LFxuICAgICAgYXV0aEZhY3RvcnksXG4gICAgICAkc3RhdGUsXG4gICAgICBhcGlGYWN0b3J5LFxuICAgICAgTm90aWZpY2F0aW9uLFxuICAgICAgTmdNYXAsXG4gICAgICBnbG9iYWxzLFxuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcbiAgICAgIGZpbGVNYW5hZ2VyRmFjdG9yeSxcbiAgICAgIHVwbG9hZEZhY3RvcnlcbiAgICApIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbG9nb3V0LFxuICAgICAgICB1c2VyU3RvcmUsXG4gICAgICAgIHByb2plY3RTdG9yZSxcbiAgICAgICAgZ2VuZXJpY1N0b3JlLFxuICAgICAgICBicmVha2NydW1iU3RvcmVcbiAgICAgIH0gPSBnbG9iYWxzO1xuXG4gICAgICBsZXQgdm0gPSB0aGlzO1xuICAgICAgdm0uZmlsZU5hbWUgPSBcIk5vIEZpbGUgQ2hvb3NlXCI7XG4gICAgICB2bS5yb290Rm9sZGVycyA9IFtdO1xuICAgICAgY29uc3Qgcm9vdEZvbGRlclN0b3JlID0gZ2VuZXJpY1N0b3JlKCk7XG4gICAgICB2bS5ub2RlT2JqID0gcm9vdEZvbGRlclN0b3JlLmdldCgpO1xuICAgICAgY29uc29sZS5sb2codm0ubm9kZU9iaik7XG5cbiAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgICAgbG9nb3V0KCk7XG4gICAgICB9XG5cbiAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgbG9nb3V0KCk7XG4gICAgICB9O1xuXG4gICAgICB2bS5maWxlVXBkYXRlZCA9IChmaWxlcywgZXZlbnQpID0+IHtcbiAgICAgICAgLyogUmVmcmVzaCB1cGxvYWQgc3RhdGVzIHdpdGggbmV3IGZpbGVzICovXG4gICAgICAgIGxldCBmaWxlT2JqID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGZpbGVPYmopO1xuICAgICAgICB2bS5maWxlTmFtZSA9IGZpbGVPYmpbMF0ubmFtZTtcbiAgICAgIH07XG5cbiAgICAgIHZtLnByZVVwbG9hZCA9IChmaWxlcywgZm9sZGVyKSA9PiB7XG4gICAgICAgIGZpbGVNYW5hZ2VyRmFjdG9yeVxuICAgICAgICAgIC5jaGVja0R1cGxpY2F0ZUZpbGVzKGZpbGVzLCBmb2xkZXIuX2lkKVxuICAgICAgICAgIC50aGVuKHByb2Nlc3NlZCA9PiB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzc2VkLmR1cGxpY2F0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHZtLnByZVVwbG9hZEZpbGVzID0gcHJvY2Vzc2VkO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2bS5wcmVVcGxvYWRGaWxlcyk7XG4gICAgICAgICAgICAgIGFsZXJ0KCdGaWxlIE5hbWUgaXMgRXhpc3QhJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9jZXNzZWQpO1xuICAgICAgICAgICAgICB2bS51cGxvYWRGaWxlKHByb2Nlc3NlZCwgcHJvamVjdFN0b3JlLmdldCgpLl9pZCwgZm9sZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdm0udXBsb2FkRmlsZSA9IChmaWxlcywgcHJvamVjdElkLCBmb2xkZXIpID0+IHtcbiAgICAgICAgLyogVmFsaWRhdGUgZHVwbGljYXRlIGZpbGVzICovXG4gICAgICAgIGlmIChmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tOYW1lQ2hhbmdlKGZpbGVzLmR1cGxpY2F0ZXMpKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJGaWxlIG5hbWVzIGNhbid0IGJlIHRoZSBzYW1lXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiBDb2xsYXRlIGZpbGVzICovXG4gICAgICAgIGZpbGVzID0gWy4uLmZpbGVzLmR1cGxpY2F0ZXMsIC4uLmZpbGVzLnVwbG9hZEZpbGVzXTtcbiAgICAgICAgdm0udXBsb2FkU3RhdGUgPSB0cnVlO1xuICAgICAgICAvLyAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgdm0udXBsb2FkVmlld0ZpbGVzID0gZmlsZU1hbmFnZXJGYWN0b3J5LnNwbGl0RGVzdGluYXRpb24oZmlsZXMpO1xuICAgICAgICAvKiBDYXRlZ29yaXplIGZpbGVzICovXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS51cGxvYWRWaWV3RmlsZXMuczMsIHggPT4ge1xuICAgICAgICAgIC8qIEF0dGFjaCBldmVudHMgYW5kIHByb3BzIHRvIGZpbGVPYmogc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHZpZXcgKi9cbiAgICAgICAgICBsZXQgdXBsb2FkSGFuZGxlciA9IGV2YXBvcmF0ZSA9PiB7XG4gICAgICAgICAgICAvKiB1cGxvYWQgdG8gczMgaWYgdmFsdWUgaXMgbGVzcyB0aGFuIDMgKi9cbiAgICAgICAgICAgIHgucGF1c2UgPSB1cGxvYWRGYWN0b3J5LnBhdXNlLmJpbmQoZXZhcG9yYXRlLCB4KTtcbiAgICAgICAgICAgIHgucmVzdW1lID0gdXBsb2FkRmFjdG9yeS5yZXN1bWUuYmluZChldmFwb3JhdGUsIHgpO1xuICAgICAgICAgICAgeC5hYm9ydCA9IHVwbG9hZEZhY3RvcnkuYWJvcnQuYmluZChldmFwb3JhdGUsIHgpO1xuICAgICAgICAgICAgbGV0IGFkZENvbmZpZyA9IHtcbiAgICAgICAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICAgICAgICBmaWxlOiB4LFxuICAgICAgICAgICAgICBwcm9ncmVzczogKHAsIHN0YXRzKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogQVdTIHByb2dyZXNzIHBlcmNlbnRhZ2UgZmFsbHMgYmFjayBzb21ldGltZXMgZHVlIHRvIG1pc3NpbmcgZnJhZ21lbnRhdGlvbi4gXG4gICAgICAgICAgICAgICAgVXBkYXRlIHByb2dyZXNzIHZhbHVlIG9ubHkgd2hlbiBpdCdzIGhpZ2hlciB0aGFuIHRoZSBwcmV2aW91cyB2YWx1ZSAqL1xuICAgICAgICAgICAgICAgIHgucHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgICAgeC5wcm9ncmVzcyA+IE1hdGgucm91bmQocCAqIDEwMClcbiAgICAgICAgICAgICAgICAgICAgPyB4LnByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgIDogTWF0aC5yb3VuZChwICogMTAwKTtcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXG4gICAgICAgICAgICAgICAgdm0uY29tcGxldGVkQWxsID0gZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrVXBsb2FkQ29tcGxldGlvbihcbiAgICAgICAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29tcGxldGU6IChfeGhyLCBhd3NLZXkpID0+IHtcbiAgICAgICAgICAgICAgICB4LmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBsZXRlIVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgXG4gICAgICAgICAgICBldmFwb3JhdGUuYWRkKGFkZENvbmZpZykudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24oYXdzT2JqZWN0S2V5KSB7XG4gICAgICAgICAgICAgICAgLyogU3VjY2VzcyBibG9jayAqL1xuICAgICAgICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZU1hbmFnZXJGYWN0b3J5LnJlc29sdmVEZXN0VHlwZSh4KSxcbiAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdFN0b3JlLmdldCgpLl9pZCxcbiAgICAgICAgICAgICAgICAgIGZvbGRlcklkOiBmb2xkZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgYXNzZXREYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0TmFtZTogeC5hc3NldE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldDogXCIzZGZpbGVzZGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IGB0ZXN0LyR7eC5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIG1pbWV0eXBlOiB4LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVzOiB4LnNpemUsXG4gICAgICAgICAgICAgICAgICAgIHBsYW5Eb2N1bWVudDogeC5wbGFuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAgICAubmV3RmlsZVVwbG9hZChwYXlsb2FkKVxuICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIuZmlsZXMucHVzaChyZXNwLmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJGaWxlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZFwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkIHRvOlwiLCBhd3NPYmplY3RLZXkpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAvKiBGYWlsdXJlIGJsb2NrICovXG4gICAgICAgICAgICAgICAgeC5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXG4gICAgICAgICAgICAgICAgdm0uY29tcGxldGVkQWxsID0gZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrVXBsb2FkQ29tcGxldGlvbihcbiAgICAgICAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgZGlkIG5vdCB1cGxvYWQgc3VjZXNzZnVsbHk6XCIsIHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgXG4gICAgICAgICAgdXBsb2FkRmFjdG9yeS5zdGFydCh1cGxvYWRIYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBpZiAodm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnkubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IGNsb3VkaW5hcnlQYXlsb2FkID0ge1xuICAgICAgICAgICAgZmlsZXM6IHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5LFxuICAgICAgICAgICAgLyogU2VuZCBhc3NldCBuYW1lcyBzZXBhcmF0ZWx5ICovXG4gICAgICAgICAgICBhc3NldE5hbWVzOiB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeS5tYXAoeCA9PiB4LmFzc2V0TmFtZSksXG4gICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICAgICBoaWVyYXJjaHlJZDogZm9sZGVyLl9pZFxuICAgICAgICAgIH07XG4gIFxuICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgIC51cGxvYWRGaWxlSW5GaWxlTWFuYWdlcihjbG91ZGluYXJ5UGF5bG9hZClcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeSA9IHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5Lm1hcChcbiAgICAgICAgICAgICAgICB4ID0+IHtcbiAgICAgICAgICAgICAgICAgIHguY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xuICAgICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxuICAgICAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICAgICAgaWYgKGZvbGRlcikge1xuICAgICAgICAgICAgICAgIHJlc3AuZGF0YS5kYXRhLmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgICAgICAgICBmb2xkZXIuZmlsZXMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICBcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgXG5cbn0pKCk7IiwiKCgpID0+IHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJBUkN0cmxcIiwgQVJDdHJsKTtcclxuICBcclxuICAgIGZ1bmN0aW9uIEFSQ3RybChcclxuICAgICAgJHNjb3BlLFxyXG4gICAgICAkdGltZW91dCxcclxuICAgICAgYXV0aEZhY3RvcnksXHJcbiAgICAgICRzdGF0ZSxcclxuICAgICAgYXBpRmFjdG9yeSxcclxuICAgICAgTm90aWZpY2F0aW9uLFxyXG4gICAgICBnbG9iYWxzLFxyXG4gICAgICBOZ01hcCxcclxuICAgICAgVXBsb2FkXHJcbiAgICApIHtcclxuICBcclxuICAgIFxyXG4gICAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xyXG4gICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgICAgbG9nb3V0KCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgICAgIGxvZ291dCgpO1xyXG4gICAgICB9O1xyXG4gICAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG4gIFxyXG4gICAgICBcclxuICAgIH1cclxuICB9KSgpO1xyXG4gICIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJiaWxsaW5nQXJjaGl2ZUN0cmxcIiwgYmlsbGluZ0FyY2hpdmVDdHJsKTtcblxuICBmdW5jdGlvbiBiaWxsaW5nQXJjaGl2ZUN0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgICRsb2NhdGlvbixcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFsc1xuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuICAgIGxldCB2bSA9IHRoaXM7XG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG4gICAgdm0ubG9nb3V0ID0gKCkgPT4geyBsb2dvdXQoKTsgfTtcblxuXG4gICAgdmFyIHVybCA9ICRsb2NhdGlvbi5wYXRoKCk7XG4gICAgXG4gICAgaWYgKHVybCA9PSAnL3BheXJvbGwnKSB7XG4gICAgICAkKCcucGF5cm9sbE1lbnUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2sgIWltcG9ydGFudCcpO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICAkKCcucGF5cm9sbExpc3QnKS5EYXRhVGFibGUoKTtcbiAgICBcbiAgICBcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImNhbGN1bGF0aW9uQ3RybFwiLCBjYWxjdWxhdGlvbkN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBjYWxjdWxhdGlvbkN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgICRsb2NhdGlvbixcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHNcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgICRzY29wZS5pc0VkaXQ9ZmFsc2U7XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7IGxvZ291dCgpOyB9O1xyXG4gICAgJHNjb3BlLmlucHV0ZXZlbnQ7XHJcbiAgICAkc2NvcGUuaXNFZGl0PWZhbHNlO1xyXG4gICAgJHNjb3BlLm91dGVySW5kZXg9MDtcclxuICAgICRzY29wZS5pbm5lckluZGV4PTA7XHJcbiAgICAkc2NvcGUub3BlblNlbGVjdEJveCA9IGZhbHNlO1xyXG4gICAgJHNjb3BlLnRhYmxlSW52ZW50b3J5PVtdO1xyXG4gICAgJHNjb3BlLkludmVudG9yeSA9IFtdO1xyXG4gICAgdm0uYWRkZWRDb2x1bW49ZmFsc2U7XHJcbiAgICBcclxuICAgIHZtLmdsb2JhbGluaW5kZXg7XHJcblxyXG4gICAgdm0uVGFtcEFycmF5ID0gW1t7bmFtZTpcIm1hdGVyaWFsMVwiLGNvc3Q6W3tjb2RlMTpcIm1hdGVyaWFsIGNvZGUxLjFcIiwgY29kZTI6XCJsZXZlbCAzLjFcIn1dfSxcclxuICAgICAgICAgICAgICAgICAgICAge25hbWU6XCJtYXRlcmlhbDJcIixjb3N0Olt7Y29kZTE6XCJtYXRlcmlhbCBjb2RlMS4yXCIsIGNvZGUyOlwibGV2ZWwgMy4xXCJ9XX0sXHJcbiAgICAgICAgICAgICAgICAgICAgIHtuYW1lOlwibWF0ZXJpYWwzXCIsY29zdDpbe2NvZGUxOlwibWF0ZXJpYWwgY29kZTEuM1wiLCBjb2RlMjpcImxldmVsIDMuMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlMzpbe25hbWluZzpcIm1hdGVyaWFsIG5hbWluZ1wifSx7bmFtaW5nOlwibWF0ZXJpYWwgbmFtaW5nMVwiLGNvZGVzdWJqZWN0Olt7Y29kZXN1YmplY3Q6XCIxMTExMTExMTExMVwifV19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgXX1dfV0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICBbe25hbWU6XCJjb21ib21hdGVyaWFsMVwiLGNvc3Q6W3tjb2RlMTpcImNvbWJvbWF0ZXJpYWwgY29kZTIuMVwiLCBjb2RlMjpcImxldmVsIDMuMVwifV19LFxyXG4gICAgICAgICAgICAgICAgICAgICB7bmFtZTpcImNvbWJvbWF0ZXJpYWwyXCIsY29zdDpbe2NvZGUxOlwiY29tYm9tYXRlcmlhbCBjb2RlMi4yXCIsIGNvZGUyOlwibGV2ZWwgMy4xXCJ9XX0sXHJcbiAgICAgICAgICAgICAgICAgICAgIHtuYW1lOlwiY29tYm9tYXRlcmlhbDNcIixjb3N0Olt7Y29kZTE6XCJjb21ib21hdGVyaWFsIGNvZGUyLjNcIiwgY29kZTI6XCJsZXZlbCAzLjFcIn1dfV0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICBbe25hbWU6XCJlcXVpcG1lbnQxXCIsY29zdDpbe2NvZGUxOlwiZXF1aXBtZW50IGNvZGUzLjFcIiwgY29kZTI6XCJsZXZlbCAzLjFcIn1dfSxcclxuICAgICAgICAgICAgICAgICAgICAge25hbWU6XCJlcXVpcG1lbnQyXCIsY29zdDpbe2NvZGUxOlwiZXF1aXBtZW50IGNvZGUzLjJcIiwgY29kZTI6XCJsZXZlbCAzLjFcIn1dfSxcclxuICAgICAgICAgICAgICAgICAgICAge25hbWU6XCJlcXVpcG1lbnQzXCIsY29zdDpbe2NvZGUxOlwiZXF1aXBtZW50IGNvZGUzLjNcIiwgY29kZTI6XCJsZXZlbCAzLjFcIn1dfV0sXHJcbiAgXHJcbiAgICAgICAgICAgICAgICBdO1xyXG5cclxuICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsTWF0ZXJpYWxzKCksXHJcbiAgICAgIGFwaUZhY3RvcnkubGlzdEFsbENvbWJvTWF0ZXJpYWxzKCksXHJcbiAgICAgIGFwaUZhY3RvcnkubGlzdEFsbEVxdWlwbWVudHMoKVxyXG4gICAgXSlcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uaXRlbUxpc3QgPSBbXS5jb25jYXQoXHJcbiAgICAgICAgICByZXNwWzBdLmRhdGEubGlzdCxcclxuICAgICAgICAgIHJlc3BbMV0uZGF0YS5saXN0LFxyXG4gICAgICAgICAgcmVzcFsyXS5kYXRhLmxpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgICRzY29wZS5nZXRGaXJzdEludmVudG9yeSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaXRlbXMgYWxsOlwiLHZtLml0ZW1MaXN0KTtcclxuICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZSh2bS5pdGVtTGlzdCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuICAgXHJcbiAgICAgIC8vbWFrZSB0YWJsZSBlZGl0YWJsZVxyXG4gICAgICAkc2NvcGUuTWFrZVRhYmxlRWRpdGFibGU9ZnVuY3Rpb24oKXtcclxuICAgICAgICAkc2NvcGUuaXNFZGl0PXRydWU7XHJcbiAgICAgIH07XHJcbiAgICAgIC8vc2F2aW5nIGVkaXRpbmdcclxuICAgICAgJHNjb3BlLnNhdmVFZGl0aW5nID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAkc2NvcGUuaXNFZGl0PWZhbHNlO1xyXG4gICAgICB9O1xyXG4gICAgICAkc2NvcGUuSW52ZW50b3J5MT1bXTtcclxuICAgICAgJHNjb3BlLmdldEZpcnN0SW52ZW50b3J5ID0gZnVuY3Rpb24oKXtcclxuICAgICAgIGNvbnNvbGUubG9nKFwiIG4gJHNjb3BlLnRhYmxlSW52ZW50b3J5OiBcIik7XHJcbiAgICAgICAkc2NvcGUudGFibGVJbnZlbnRvcnk9W1t7fSx7fSx7fSx7fV0sW3t9LHt9LHt9LHt9XV1cclxuICAgICAgIGNvbnNvbGUubG9nKFwiJHNjb3BlLnRhYmxlSW52ZW50b3J5OiBcIiwkc2NvcGUudGFibGVJbnZlbnRvcnkpO1xyXG4gICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgXHJcbiAgICAgICRzY29wZS5vcGVuU2VsZWN0PWZ1bmN0aW9uKG91dGluZGV4KXtcclxuICAgICAgICB2bS5hZGRyb3dJbmRleD1vdXRpbmRleDtcclxuICAgICAgICAkc2NvcGUub3BlblNlbGVjdEJveCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmFkZGVkTmV3SW52ZW50b3J5PWZ1bmN0aW9uKHNlbGVjdGVkLGluZGV4LGNoaWxkaW5kZXgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGFyZW50OiBcIixpbmRleCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjaGlsZDogXCIsY2hpbGRpbmRleCk7XHJcbiAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsPXNlbGVjdGVkO1xyXG4gICAgIFxyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgLy8gJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwuaXNFZGl0PWZhbHNlO1xyXG4gICAgICAkc2NvcGUudGFibGVJbnZlbnRvcnlbaW5kZXhdW2NoaWxkaW5kZXhdPSRzY29wZS5zZWxlY3RlZE1hdGVyaWFsO1xyXG5cclxuICAgICAvLyAkc2NvcGUuSW52ZW50b3J5WyRzY29wZS5pbm5lckluZGV4XT0kc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbDtcclxuICAgICAgLy8kc2NvcGUudGFibGVJbnZlbnRvcnlbaW5kZXhdPSRzY29wZS5JbnZlbnRvcnk7XHJcbiAgICAgLy8gJHNjb3BlLmlubmVySW5kZXg9JHNjb3BlLmlubmVySW5kZXgrMTtcclxuICAgICAgY29uc29sZS5sb2coXCJvdXRlciBpbmRleCBjaGFuZ2VkLi4uXCIsICAkc2NvcGUudGFibGVJbnZlbnRvcnkpO1xyXG4gICAgICAkc2NvcGUuZmlsdGVyQ2l0eT1bXTtcclxuICAgICAgJHNjb3BlLm9wZW5TZWxlY3RCb3g9ZmFsc2U7XHJcbiAgICAgICRzY29wZS5nZXRUb3RhbCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUubWF0ZXJpYWxTZWxlY3Rpb24gPSBpdGVtID0+IHtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGl0ZW07XHJcbiAgICAgICAgXHJcbiAgICAgIH07XHJcblxyXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XHJcbiAgIFxyXG4gICRzY29wZS5oZWFkZXJzPVtcclxuICAgIHtuYW1lOicgJ30sXHJcbiAgICB7bmFtZTonTm8nfSxcclxuICAgIHtuYW1lOidNYXRlcmlhbCBOYW1lJ30sXHJcbiAgICB7bmFtZTonQW1vdW50J30sXHJcbiAgICB7bmFtZTonVW5pdCd9LFxyXG4gICAgXHJcbiAgICB7bmFtZTonTWF0ZXJpYWxzIGNvc3QnfSxcclxuICAgIHtuYW1lOidMYWJvciBjb3N0J30sXHJcbiAgICB7bmFtZTonTGFib3IgaHJzJ30sXHJcbiAgICB7bmFtZTonQ29tcGFueSBjb3N0J30sXHJcbiAgICB7bmFtZTonUHJvZml0IGluICUnfSxcclxuICAgIHtuYW1lOidQcm9maXQnfSxcclxuICAgIHtuYW1lOidTYWxlcyBwcmljZSd9LFxyXG4gICAge25hbWU6Jyd9XHJcbiAgXVxyXG5cclxuICAkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICQoJyNidXR0b25fbGVmdCcpLmhpZGUoKTtcclxuIFxyXG4gICAgXHJcbn0pO1xyXG4gICRzY29wZS5sZWZ0Q2xpY2sgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYoJCgnLmV4YW1wbGUtb25lLWhlYWRlcicpLnNjcm9sbExlZnQoKSA8PSAxMDAgKVxyXG4gICAgeyQoJyNidXR0b25fbGVmdCcpLmhpZGUoKX1cclxuICAgICQoJyNidXR0b25fcmlnaHQnKS5zaG93KCk7XHJcbiAgICAkKCcuZXhhbXBsZS1vbmUtaGVhZGVyJykuYW5pbWF0ZSh7XHJcbiAgICAgIHNjcm9sbExlZnQ6IFwiLT0xMDBweFwiXHJcbiAgICB9LCBcInNsb3dcIik7XHJcbiAgfTtcclxuICAkc2NvcGUucmlnaHRDbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZiAoJCgnLmV4YW1wbGUtb25lLWhlYWRlcicpLnNjcm9sbExlZnQoKSA+PSAyMDApXHJcbiAgICB7JChcIiNidXR0b25fcmlnaHRcIikuaGlkZSgpfVxyXG4gICQoJyNidXR0b25fbGVmdCcpLnNob3coKTsgXHJcbiAgICAkKCcuZXhhbXBsZS1vbmUtaGVhZGVyJykuYW5pbWF0ZSh7XHJcbiAgICAgIHNjcm9sbExlZnQ6IFwiKz0yNTBweFwiXHJcbiAgICB9LCBcInNsb3dcIik7XHJcbiAgfTtcclxuXHJcbiAgdm0uZGVsZXRlSW52ZW50b3J5PWZ1bmN0aW9uKGluZGV4LGFycmF5KXtcclxuICAgIGNvbnNvbGUubG9nKFwiaW5kZXg6IFwiLGluZGV4LCBcIkFORCBhcnJheSA6IFwiLGFycmF5ICAgKTtcclxuICAgIGlmKGFycmF5Lmxlbmd0aD09NCl7XHJcbiAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIGFycmF5LnB1c2goe30pO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgdm0uZWRpdEludmVudG9yeSA9IGZ1bmN0aW9uKGluZGV4LGl0ZW0pe1xyXG4gICAgLy9pdGVtLmlzRWRpdD10cnVlO1xyXG4gICAgJHNjb3BlLnVwZGF0ZVRvSW52ZW50b3J5PWl0ZW07XHJcbiAgLy8gICRzY29wZS5zZWxlY3RlZEluZGV4PWluZGV4O1xyXG4gIC8vICAgJChcIiN1cGRhdGVxdWFudGl0eVwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgfTtcclxuXHJcbiAgdm0udXBkYXRlUXVhbnRpdHk9ZnVuY3Rpb24ocXVhbnRpdHksaXRlbSl7XHJcbiAgIC8vIGl0ZW0uaXNFZGl0PWZhbHNlO1xyXG4gICAgaXRlbS5tYXRjb3N0PWl0ZW0ubWF0ZXJpYWxDb3N0LnZhbHVlKnF1YW50aXR5O1xyXG4gICAgaXRlbS5yb29mY29zdD1pdGVtLnJvb2ZlckNvc3QudmFsdWUqcXVhbnRpdHk7XHJcbiAgICBjb25zb2xlLmxvZyhcInVwZGF0ZWQ6ICxcIiAsaXRlbSk7XHJcbiAgICAkc2NvcGUuZ2V0VG90YWwoKTtcclxuICAgLy8gJChcIiN1cGRhdGVxdWFudGl0eVwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLmFkZFByb2plY3RQbGFuID0gZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS50YWJsZUludmVudG9yeS5wdXNoKFt7fSx7fSx7fSx7fV0pO1xyXG4gICBcclxuICB9XHJcblxyXG4gICRzY29wZS5nZXRUb3RhbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLm1hdHRvdGFsID0gMDtcclxuICAgICRzY29wZS5yb29mdG90YWw9MDtcclxuICAgIGlmKCRzY29wZS50YWJsZUludmVudG9yeS5sZW5ndGg+MCl7XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUudGFibGVJbnZlbnRvcnksIGZ1bmN0aW9uKHRlKSB7XHJcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRlLGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgJHNjb3BlLm1hdHRvdGFsID0gJHNjb3BlLm1hdHRvdGFsK2UubWF0Y29zdDtcclxuICAgICAgICAgICRzY29wZS5yb29mdG90YWwgPSAkc2NvcGUucm9vZnRvdGFsK2Uucm9vZmNvc3Q7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICB9XHJcbiAgXHJcbn07XHJcblxyXG4kc2NvcGUuYWRkQ29sdW1uID0gZnVuY3Rpb24od29yZCl7XHJcbiAvLyAkc2NvcGUuaGVhZGVyMSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuaGVhZGVycyk7XHJcbi8vICAkc2NvcGUuaGVhZGVycy51bnNoaWZ0KHtuYW1lOicnfSk7XHJcblxyXG4gICRzY29wZS5oZWFkZXJzLnB1c2goe1xyXG4gICAgbmFtZTonJ1xyXG4gIH0pO1xyXG4gIC8vIHZtLmFkZGVkQ29sdW1uPXRydWU7XHJcbiAgLy8gY29uc29sZS5sb2coXCJoZWFkZXJzOiBcIiwkc2NvcGUuaGVhZGVycyk7XHJcbn07XHJcblxyXG5cclxudm0ub3V0O1xyXG52bS5pbjtcclxuJHNjb3BlLnNlYXJjaEZ1bmN0aW9uPSBmdW5jdGlvbihzZWFyY2hUZXh0LHBhcmVudCxjaGlsZCl7XHJcbiAgdm0ub3V0PXBhcmVudDsgdm0uaW49Y2hpbGQ7XHJcbiAgXHJcbiAgXHJcbiAgdmFyIG91dHB1dCA9IFtdO1xyXG4gIGlmIChzZWFyY2hUZXh0Lmxlbmd0aCA+PSAzKSB7XHJcbiAgICBhbmd1bGFyLmZvckVhY2godm0uaXRlbUxpc3QgLCBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgIGlmIChpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSkgPj0gMCkge1xyXG4gICAgICAgIG91dHB1dC5wdXNoKGl0ZW0pO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgIFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgJHNjb3BlLmZpbHRlckNpdHkgPSBvdXRwdXQ7XHJcbiAgaWYoISRzY29wZS5maWx0ZXJDaXR5Lmxlbmd0aD4wKXtcclxuICAgIGlmKHNlYXJjaFRleHQubGVuZ3RoID41KXtcclxuICAgICAgY29uc29sZS5sb2coXCJpbiBub3QgZmlsdGVyIGZ1bnRpb246IFwiKTtcclxuICAgICAgJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWw9e307XHJcbiAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsLlF1YW50aXR5PTE7XHJcbiAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsLm5hbWU9c2VhcmNoVGV4dDtcclxuICAgICAgJHNjb3BlLnRhYmxlSW52ZW50b3J5W3BhcmVudF0ucHVzaCgkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCk7XHJcbiAgICAgICRzY29wZS5maWx0ZXJDaXR5PVtdO1xyXG4gICAgICAkc2NvcGUub3BlblNlbGVjdEJveD1mYWxzZTtcclxuICAgICAgJHNjb3BlLmdldFRvdGFsKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcbn07XHJcblxyXG4kc2NvcGUuc2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24oaXRlbSxpbmRleCxhcnJheSl7XHJcbiAgaXRlbS5RdWFudGl0eT0xO1xyXG4gIGFycmF5W2luZGV4XT1pdGVtO1xyXG4gICRzY29wZS5maWx0ZXJDaXR5PVtdO1xyXG59O1xyXG5cclxuJHNjb3BlLm9wZW5UcmVlID0gZnVuY3Rpb24oaW5kZXgsaWNvbil7XHJcbiAgXHJcbiAgaWYoaWNvbi5jb2xsYXBzZWQpe1xyXG4gICAgaWNvbi50b2dnbGUoKTtcclxuXHJcbiAgfWVsc2V7XHJcbiAgICBpY29uLmNvbGxhcHNlZD1mYWxzZTtcclxuICAgIGljb24udG9nZ2xlKCk7XHJcbiAgIFxyXG4gIH1cclxuXHJcbn1cclxuXHJcbiRzY29wZS5vcGVuU3ViVHJlZSA9IGZ1bmN0aW9uKGluZGV4LGljb24pe1xyXG4gIGlmKGljb24uY29sbGFwc2VkKXtcclxuICAgIGljb24udG9nZ2xlKCk7XHJcblxyXG4gIH1lbHNle1xyXG4gICAgaWNvbi5jb2xsYXBzZWQ9ZmFsc2U7XHJcbiAgICBpY29uLnRvZ2dsZSgpO1xyXG4gICBcclxuICB9XHJcbn07XHJcblxyXG4kc2NvcGUuYWRkTmV3Um93ID0gZnVuY3Rpb24oaW5kZXgpe1xyXG4gICRzY29wZS5uZXdSb3c9e307XHJcbiAgJHNjb3BlLnRhYmxlSW52ZW50b3J5W2luZGV4XS5wdXNoKCRzY29wZS5uZXdSb3cpO1xyXG59XHJcblxyXG5cclxuXHJcbnZtLmxpU2VsZWN0ZWQ7XHJcbnZtLmluZGV4TGlzdCA9IC0xO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiBsZXQgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsY2xpc3RpZCcpO1xyXG4gIGNvbnNvbGUubG9nKFwiYXJyb3cga2V5IFwiLHVsKTtcclxuICB2YXIgbGVuID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJykubGVuZ3RoLTE7XHJcbiAgaWYoZXZlbnQud2hpY2ggPT09IDQwKSB7XHJcbiAgICAgIHZtLmluZGV4TGlzdCsrO1xyXG4gICAgICBpZiAodm0ubGlTZWxlY3RlZCkge1xyXG4gICAgICAgIHJlbW92ZUNsYXNzKHZtLmxpU2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICRzY29wZS5uZXh0ID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJylbdm0uaW5kZXhMaXN0XTtcclxuICAgICAgICBpZih0eXBlb2YgJHNjb3BlLm5leHQgIT09IHVuZGVmaW5lZCAmJiB2bS5pbmRleExpc3QgPD0gbGVuKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHZtLmxpU2VsZWN0ZWQgPSAkc2NvcGUubmV4dDtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgIHZtLmluZGV4TGlzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICB2bS5saVNlbGVjdGVkID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJylbMF07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGFkZENsYXNzKHZtLmxpU2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmluZGV4TGlzdCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgIHZtLmluZGV4TGlzdCA9IDA7XHJcbiAgICAgIFxyXG4gICAgICAgIHZtLmxpU2VsZWN0ZWQgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKVswXTtcclxuICAgICAgICAgYWRkQ2xhc3Modm0ubGlTZWxlY3RlZCwgJ3NlbGVjdGVkJyk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgZWxzZSBpZiAoZXZlbnQud2hpY2ggPT09IDM4KSB7XHJcbiAgXHJcbiAgICAvL3VwXHJcbiAgICAgIGlmICh2bS5saVNlbGVjdGVkKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2xhc3Modm0ubGlTZWxlY3RlZCwgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgdm0uaW5kZXhMaXN0LS07XHJcbiAgICAgICAgY29uc29sZS5sb2codm0uaW5kZXhMaXN0KTtcclxuICAgICAgICAkc2NvcGUubmV4dCA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaScpW3ZtLmluZGV4TGlzdF07XHJcbiAgICAgICAgaWYodHlwZW9mICRzY29wZS5uZXh0ICE9PSB1bmRlZmluZWQgJiYgdm0uaW5kZXhMaXN0ID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgdm0ubGlTZWxlY3RlZCA9ICRzY29wZS5uZXh0O1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHZtLmluZGV4TGlzdCA9IGxlbjtcclxuICAgICAgICAgICAgICAgICAgIHZtLmxpU2VsZWN0ZWQgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKVtsZW5dO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBhZGRDbGFzcyh2bS5saVNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgdm0uaW5kZXhMaXN0ID0gMDtcclxuICAgICAgICB2bS5saVNlbGVjdGVkID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpJylbbGVuXTtcclxuICAgICAgICBhZGRDbGFzcyh2bS5saVNlbGVjdGVkLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG59LGZhbHNlKTtcclxuXHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY2FsZW5kZXJDdHJsXCIsIGNhbGVuZGVyQ3RybCk7XG5cbiAgZnVuY3Rpb24gY2FsZW5kZXJDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFscyxcbiAgICBOZ01hcCxcbiAgICBVcGxvYWRcbiAgKSB7XG5cbiAgICAkc2NvcGUuaW52aXRlZXMgPSBbXG4gICAgICAgIHsgaWQ6ICcxJywgaW1nOiAnL2Fzc2V0cy9pbWFnZXMvdXNlcl9waWMyLnBuZycsIG5hbWU6ICdMaXNhIEd1ZXJyZXJvJywgbGI6IHRydWUsICdzdGF0dXMnOiBmYWxzZSB9LFxuICAgICAgICB7IGlkOiAnMicsIGltZzogJy9hc3NldHMvaW1hZ2VzL3VzZXJfcGljMy5wbmcnLCBuYW1lOiAnUGV0ZXIgR3JlZ29yJywgbGI6IGZhbHNlLCAnc3RhdHVzJzogZmFsc2UgfSxcbiAgICAgICAgeyBpZDogJzMnLCBpbWc6ICcvYXNzZXRzL2ltYWdlcy91c2VyX3BpYzIucG5nJywgbmFtZTogJ0xpc2EgR3VlcnJlcm8nLCBsYjogZmFsc2UsICdzdGF0dXMnOiBmYWxzZSB9LFxuICAgICAgICB7IGlkOiAnNCcsIGltZzogJy9hc3NldHMvaW1hZ2VzL3VzZXJfcGljMy5wbmcnLCBuYW1lOiAnUGV0ZXIgR3JlZ29yJywgbGI6IGZhbHNlLCAnc3RhdHVzJzogZmFsc2UgfVxuICAgIF1cbiAgICBcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuICAgIGxldCB2bSA9IHRoaXM7XG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICAgIHZtLnRhYkNoYW5nZSA9ICh2YWwpID0+IHtcbiAgICAgICQoXCIuZXZlbnRtb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgJChcIi5ldmVudG1vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikuZXEodmFsKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblxuICAgICAgJChcIi5ldmVudG1vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAkKFwiLmV2ZW50bW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAkKFwiLmV2ZW50bW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5lcSh2YWwpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICQoXCIuZXZlbnRtb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLmVxKHZhbCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfVxuXG4gICAgdm0uZ21hcCA9IHtcbiAgICAgIHVybDogXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVSZsaWJyYXJpZXM9cGxhY2VzXCIsXG4gICAgICBtYXJrZXJzOiBbXSxcbiAgICAgIHN0eWxlczogW10sXG4gICAgICBjZW50ZXI6IFwiNDEsLTg3XCIsXG4gICAgICB6b29tOiAzXG4gICAgfTtcbiAgICBsZXQgZ09iakxvY2F0aW9uID0ge2Nvb3JkaW5hdGVzOltdLGFkZHJlc3M6Jyd9O1xuXG4gICAgdm0ucGxhY2VNYXJrZXIgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmdldFBsYWNlKCkpXG4gICAgICBjb25zdCBwbGFjZURhdGEgPSB0aGlzLmdldFBsYWNlKCkuZ2VvbWV0cnkubG9jYXRpb247XG4gICAgICBjb25zb2xlLmxvZyhwbGFjZURhdGEpXG4gICAgICB2bS5nbWFwLm1hcmtlcnMgPSBbXG4gICAgICAgIFtwbGFjZURhdGEubGF0KCksIHBsYWNlRGF0YS5sbmcoKV1cbiAgICAgIF07XG4gICAgICB2bS5nbWFwLnpvb20gPSAxNTtcbiAgICAgIHZtLmdtYXAuY2VudGVyID0gYCR7cGxhY2VEYXRhLmxhdCgpfSwke3BsYWNlRGF0YS5sbmcoKX1gO1xuICAgICAvLyB2bS5ldmVudC5sb2NhdGlvbiA9ICBbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldXG4gICAgICBnT2JqTG9jYXRpb24uY29vcmRpbmF0ZXMgID0gW3BsYWNlRGF0YS5sYXQoKSwgcGxhY2VEYXRhLmxuZygpXVxuICAgICAgZ09iakxvY2F0aW9uLmFkZHJlc3MgPSB0aGlzLmdldFBsYWNlKCkuZm9ybWF0dGVkX2FkZHJlc3M7XG4gICAgICBjb25zb2xlLmxvZyhnT2JqTG9jYXRpb24pXG4gICAgfTtcbiAgICB2bS5pbnB1dEltZyA9IFtdO1xuICAgIHZtLnVwbG9hZEltZyA9IFtdO1xuICAgIHZtLmV2ZW50PXtcbiAgICAgICdsaXN0QXNzZXRzJzpbXVxuICAgIH1cbiAgICB2bS5pbnB1dEZpbGVzID0gW107XG4gICAgdm0udXBsb2FkRmlsZXMgPSBbXTtcblxuICAgIHZtLmZpbGVVcGRhdGVkID0gKGZpbGVzLCBldmVudCwgbW9kYWwpID0+IHtcbiAgICAgIGxldCBmaWxlT2JqID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuICAgICAgY29uc29sZS5sb2coIHZtLmZpbGVOYW1lcylcbiAgICAgIHZtLmZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGZpbGVPYmopLm1hcCh4ID0+IGZpbGVPYmpbeF0ubmFtZSk7XG4gICAgICBjb25zb2xlLmxvZyggdm0uZmlsZU5hbWVzKVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbih4LCBpbmRleCkge1xuICAgICAgICB4LmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgaWYobW9kYWwgPT0gJ2ltYWdlJykge1xuICAgICAgICAgIGlmKHZtLnVwbG9hZEltZy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZUltZyA9IGZhbHNlXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godm0udXBsb2FkSW1nLCBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICBpZih4Lm5hbWUgPT0geS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlSW1nID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghZHVwbGljYXRlSW1nKSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEltZy5wdXNoKHgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoJ0ZpbGUgbmFtZSBhbHJlYWR5IGV4aXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmKHZtLnVwbG9hZEZpbGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB2bS51cGxvYWRGaWxlcy5wdXNoKHgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkdXBsaWNhdGVJbWcgPSBmYWxzZVxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnVwbG9hZEZpbGVzLCBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICBpZih4Lm5hbWUgPT0geS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlSW1nID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghZHVwbGljYXRlSW1nKSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEZpbGVzLnB1c2goeClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcignRmlsZSBuYW1lIGFscmVhZHkgZXhpc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBOZ01hcC5nZXRNYXAoKS50aGVuKG1hcCA9PiB7XG4gICAgICB2bS5tYXAgPSBtYXA7XG4gICAgICBtYXAuc2V0T3B0aW9ucyh7XG4gICAgICAgIHN0eWxlczogdm0uZ21hcC5zdHlsZXMsXG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICAgIHpvb21Db250cm9sOiB0cnVlLFxuICAgICAgICB6b29tOiAxLFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICBsYXQ6IDAsXG4gICAgICAgICAgbG5nOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdm0udG9kYXlEYXRlID0gbW9tZW50KClcbiAgICB2bS5kYXRlRm9ybWF0ID0gJ1lZWVkvTU0vREQgaGg6bW06c3MnO1xuICAgIHZtLnJlc2V0Rm9ybSA9IChyZXMpPT57XG4gICAgICB2bS5ldmVudCA9IHt9O1xuICAgICAgdm0udXBsb2FkSW1nID0gW107XG4gICAgICB2bS51cGxvYWRGaWxlcyA9IFtdO1xuICAgICAgdm0uZ2V0QWxsTWVtYmVyc0luQ3VycmVudENvbXBhbnkoKTtcbiAgICB9XG4gICAgdm0uY3JlYXRlTmV3RXZlbnQgPSAoZm9ybURhdGEpID0+IHtcbiAgICAgICQoXCIjbmV3X2V2ZW50XCIpLm1vZGFsKFwiaGlkZVwiKTsgIFxuICAgICAgbGV0IGltZ0FuZEZpbGVzID0gW10uY29uY2F0KHZtLnVwbG9hZEltZywgdm0udXBsb2FkRmlsZXMpO1xuICAgICAgdmFyIGRhdGEgPSBmb3JtRGF0YTtcbiAgICAgIGRhdGEuZGF0ZSA9IG1vbWVudChkYXRhLmRhdGUpLmZvcm1hdCgnWVlZWS9NTS9ERCBoaDptbTpzcycpXG4gICAgICBkYXRhLmxvY2F0aW9uID0gZ09iakxvY2F0aW9uO1xuICAgICAgZGF0YS5saXN0QXNzZXRzID0gIGltZ0FuZEZpbGVzO1xuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICBhcGlGYWN0b3J5LmNyZWF0ZUV2ZW50KGRhdGEpLnRoZW4ocmVzcCA9PiB7ICAgICAgICAgICAgICAgICAgXG4gICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTsgICBcbiAgICAgICAgcmV0dXJuIGFwaUZhY3RvcnkuZ2V0QWxsRXZlbnRzKClcbiAgICAgIH0pXG4gICAgICAudGhlbihsaXN0QWxsRXZlbnRzRGF0YSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdm0udXBkYXRlRXZlbnQgPSAoZm9ybURhdGEpID0+IHtcbiAgICAgICQoXCIjZXZlbnRfZGV0YWlsc1wiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICBsZXQgaW1nQW5kRmlsZXMgPSBbXS5jb25jYXQodm0udXBsb2FkSW1nLCB2bS51cGxvYWRGaWxlcyk7ICBcbiAgICAgIHZhciBkYXRhID0gZm9ybURhdGE7XG4gICAgICBkYXRhLmxvY2F0aW9uID0gZ09iakxvY2F0aW9uO1xuICAgICAgZGF0YS5saXN0QXNzZXRzID0gaW1nQW5kRmlsZXM7XG5cbiAgICAgIGFwaUZhY3RvcnkudXBkYXRlTXlFdmVudChkYXRhLGZvcm1EYXRhLl9pZCkudGhlbihyZXNwID0+IHsgICAgICAgXG4gICAgICAgIHJldHVybiBhcGlGYWN0b3J5LmdldEFsbEV2ZW50cygpXG4gICAgICB9KVxuICAgICAgLnRoZW4obGlzdEFsbEV2ZW50c0RhdGEpXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLmRlbGV0ZUZpbGUgPSAoaW5kZXhWYWwsdHlwZSkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHZtLnVwbG9hZEltZy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0udXBsb2FkRmlsZXMuc3BsaWNlKGluZGV4VmFsLCAxKTtcbiAgICAgIH1cbiAgICAgIC8vdm0uZXZlbnQubGlzdEFzc2V0cy5zcGxpY2UoaW5kZXhWYWwsIDEpXG4gICAgfTtcblxuICAgIHZtLmRlc2NyaXB0aW9uUG9wb3ZlciA9IChpbmRleFZhbCwgdHlwZSkgPT4ge1xuICAgICAgJHNjb3BlLmZpbGVUeXBlID0gdHlwZTtcbiAgICAgICRzY29wZS5maWxlSW5kZXggPSBpbmRleFZhbDtcbiAgICB9O1xuICAgIGxldCBnQXJ5Q29tcGFueU1lbWJlcnMgPSBbXTtcblxuICAgIGFwaUZhY3RvcnkuZ2V0QWxsRXZlbnRzKClcbiAgICAudGhlbihsaXN0QWxsRXZlbnRzRGF0YSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICAvKiBMaXN0IEFsbCBFdmVudHMgKi9cbiAgICBmdW5jdGlvbiBsaXN0QWxsRXZlbnRzRGF0YShyZXNwKXtcbiAgICAgIGxldCBjYWxlbmRhciA9ICQoJyNjYWxlbmRhcicpO1xuICAgICAgbGV0IGxBcnlFdmVudHNEYXRhID0gW11cbiAgICAgIGZvcihsZXQgdiBvZiByZXNwLmRhdGEuZGF0YSl7XG4gICAgICAgIGxBcnlFdmVudHNEYXRhLnB1c2goe1xuICAgICAgICAgICd0aXRsZScgOiB2Lm5hbWUsXG4gICAgICAgICAgICdzdGFydCc6di5kYXRlLFxuICAgICAgICAgICdfaWQnOnYuX2lkLFxuICAgICAgICAgICdhbGxEYXknOmZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhsQXJ5RXZlbnRzRGF0YSwgXCJsQXJ5RXZlbnRzRGF0YVwiKVxuICAgICAgdmFyIGJnRXZlbnQgPSB7XG4gICAgICAgIGlkOiAtMSxcbiAgICAgICAgc3RhcnQ6IG51bGwsXG4gICAgICAgIGVuZDogbnVsbCxcbiAgICAgICAgcmVuZGVyaW5nOiAnYmFja2dyb3VuZCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZSdcbiAgICAgIH07XG5cbiAgICAgIGNhbGVuZGFyLmZ1bGxDYWxlbmRhcih7XG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgbGVmdDogJ0NhbGVuZGFyJyxcbiAgICAgICAgICAgIGNlbnRlcjogJ3RpdGxlLHByZXYsbmV4dCB0b2RheScsXG4gICAgICAgICAgICByaWdodDogJ21vbnRoLGFnZW5kYVdlZWssYWdlbmRhRGF5LGxpc3RXZWVrJ1xuICAgICAgICB9LFxuICAgICAgICBldmVudENsaWNrOiAoY2FsRXZlbnQsIGpzRXZlbnQsIHZpZXcpID0+IHtcbiAgICAgICAgICBsZXQgZ2V0UmVzID0gcmVzcC5kYXRhLmRhdGEuZmlsdGVyKHJlcyA9PiByZXMuX2lkID09PSBjYWxFdmVudC5faWQpO1xuICAgICAgICAgIHZtLmV2ZW50ID0gZ2V0UmVzWzBdO1xuICAgICAgICAgIHZtLmV2ZW50LnZpZXcgPSBtb21lbnQodm0uZXZlbnQuZGF0ZSkuZm9ybWF0KCdZWVlZL01NL0REIGhoOm1tOnNzJylcbiAgICAgICAgICB2bS5ldmVudC5jb21wYW55TWVtYmVycyA9IGdBcnlDb21wYW55TWVtYmVycztcbiAgICAgICAgICB2bS50b2RheURhdGUgPSB2bS5ldmVudC5kYXRlO1xuICAgICAgICAgIHZtLnVwbG9hZEltZyA9IHZtLmV2ZW50Lmxpc3RBc3NldHMuaW1hZ2VzO1xuICAgICAgICAgIHZtLnVwbG9hZEZpbGVzID0gdm0uZXZlbnQubGlzdEFzc2V0cy5kb2NzO1xuICAgICAgICAgIHZtLmV2ZW50LmxvY2F0aW9uID0gdm0uZXZlbnQubG9jYXRpb24uYWRkcmVzcztcblxuICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmV2ZW50KVxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5ldmVudC5saXN0QXNzZXRzLCBmdW5jdGlvbiAoeCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHgpXG4gICAgICAgICAgICB4LmRlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAvLyB2bS5pbnB1dEZpbGVzID0gdm0uZXZlbnQubGlzdEFzc2V0cztcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyh2bS5ldmVudCk7XG4gICAgICAgICAgY29uc29sZS5sb2coIHZtLmlucHV0RmlsZXMgKTtcbiAgICAgICAgICAkKCcjZXZlbnRfZGV0YWlscycpLm1vZGFsKFwic2hvd1wiKVxuXG4gICAgICAgICAgLyogYXBpRmFjdG9yeS5nZXRBbGxFdmVudHMoY2FsRXZlbnQuX2lkKS50aGVuKHJlc3AgPT4geyAgIFxuICAgICAgICAgICAgdm0uZXZlbnQgPSByZXNwLmRhdGEuZGF0YTtcbiAgICAgICAgICAgIHZtLmV2ZW50LmRhdGUgPSBtb21lbnQoIHZtLmV2ZW50LmRhdGUpLmZvcm1hdCgnWVlZWS9NTS9ERCcpXG4gICAgICAgICAgICAkKCcjZXZlbnRfZGV0YWlscycpLm1vZGFsKFwic2hvd1wiKVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgfSk7ICovXG4gICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gZXZlbnRNb3VzZW92ZXI6IGZ1bmN0aW9uIChldmVudCwganNFdmVudCwgdmlldykge1xuICAgICAgICAvLyAgICAgLy9jb25zb2xlLmxvZygnaW4nKTtcbiAgICAgICAgLy8gICAgIGJnRXZlbnQuc3RhcnQgPSBldmVudC5zdGFydDtcbiAgICAgICAgLy8gICAgIGJnRXZlbnQuZW5kID0gZXZlbnQuZW5kO1xuICAgICAgICAvLyAgICAgdmFyIGV2ZW50cyA9IGNhbGVuZGFyLmZ1bGxDYWxlbmRhcignY2xpZW50RXZlbnRzJywgYmdFdmVudC5pZCk7XG4gICAgICAgIC8vICAgICBpZiAoZXZlbnRzLmxlbmd0aCkge1xuICAgICAgICAvLyAgICAgICAgIHZhciBlID0gZXZlbnRzWzBdO1xuICAgICAgICAvLyAgICAgICAgIGNhbGVuZGFyLmZ1bGxDYWxlbmRhcigndXBkYXRlRXZlbnQnLCBlKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIGVsc2VcbiAgICAgICAgLy8gICAgICAgICBjYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ3JlbmRlckV2ZW50JywgYmdFdmVudCk7XG4gICAgICAgIC8vIH0sXG4gICAgICAgIC8vIGV2ZW50TW91c2VvdXQ6IGZ1bmN0aW9uIChldmVudCwganNFdmVudCwgdmlldykge1xuICAgICAgICAvLyAgICAgLy9jb25zb2xlLmxvZygnb3V0Jyk7XG4gICAgICAgIC8vICAgICBjYWxlbmRhci5mdWxsQ2FsZW5kYXIoJ3JlbW92ZUV2ZW50cycsIGJnRXZlbnQuaWQpO1xuICAgICAgICAvLyB9LFxuICAgICAgICBkZWZhdWx0RGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgIC8vZXZlbnRMaW1pdDogdHJ1ZSwgLy8gYWxsb3cgXCJtb3JlXCIgbGluayB3aGVuIHRvbyBtYW55IGV2ZW50c1xuICAgICAgICBldmVudHM6IGxBcnlFdmVudHNEYXRhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2bS5nZXRBbGxNZW1iZXJzSW5DdXJyZW50Q29tcGFueSA9KCk9PntcbiAgICAgIGFwaUZhY3RvcnkuZ2V0QWxsTWVtYmVyc0luQ3VycmVudENvbXBhbnkodm0udXNlckRhdGEuY29tcGFueUlkKS50aGVuKGRhdGExPT57XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGExKVxuICAgICAgICBnQXJ5Q29tcGFueU1lbWJlcnMgPSBkYXRhMS5kYXRhLmRhdGE7XG4gICAgICAgIHZtLmV2ZW50ID0gKCEhdm0uZXZlbnQpID8gdm0uZXZlbnQgOiB7fTtcbiAgICAgICAgdm0uZXZlbnQuY29tcGFueU1lbWJlcnMgPSBnQXJ5Q29tcGFueU1lbWJlcnM7XG4gICAgICAgIHJldHVybiBkYXRhMS5kYXRhLmRhdGE7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdm0uZ2V0QWxsTWVtYmVyc0luQ3VycmVudENvbXBhbnkoKTtcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImNsaWVudHNDdHJsXCIsIGNsaWVudHNDdHJsKTtcblxuICAgIGZ1bmN0aW9uIGNsaWVudHNDdHJsKFxuICAgICAgICAkc2NvcGUsXG4gICAgICAgICR0aW1lb3V0LFxuICAgICAgICBhdXRoRmFjdG9yeSxcbiAgICAgICAgJHN0YXRlLFxuICAgICAgICBhcGlGYWN0b3J5LFxuICAgICAgICBOb3RpZmljYXRpb24sXG4gICAgICAgIE5nTWFwLFxuICAgICAgICBnbG9iYWxzLFxuICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxuICAgICAgKSB7XG4gICAgICAgIGxldCB2bSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgeyBsb2dvdXQsZGVib3VuY2UgLHVzZXJTdG9yZX0gPSBnbG9iYWxzO1xuICAgIFxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgIH1cbiAgICAgICBcbiAgICAgICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG4gICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgfTtcbiAgICAgIFxuICAgICAgICAkc2NvcGUuJHdhdGNoKCd2bS5jbGllbnREYXRhLmNsaWVudENvbnRhY3QuZGlhbENvZGUnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAkKCdhLml0ZW0tc2VsZWN0ZWQgc3BhbicpLnJlbW92ZUNsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZScpXG4gICAgICAgICAgJCgnYS5pdGVtLXNlbGVjdGVkIHNwYW4nKS5hZGRDbGFzcygnZmFzIGZhLXRpbWVzIG1yLTMnKVxuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLmNsaWVudHNMaXN0XCIpLkRhdGFUYWJsZSgpO1xuICAgICAgICAkc2NvcGUuYWN0aXZlSnVzdGlmaWVkID0gMDtcblxuICAgICAgICB2bS5jdXJyZW50UGFnZSA9IDE7XG4gICAgXG4gICAgICAgIHZtLnRvZ2dsZU9iaiA9IHtcbiAgICAgICAgICB0b2dnbGVDbGllbnQ6IHtcbiAgICAgICAgICAgIGNsaWVudE5hbWU6IGZhbHNlLFxuICAgICAgICAgICAgcGhvbmVObzogZmFsc2UsXG4gICAgICAgICAgICBlbWFpbDogZmFsc2UsXG4gICAgICAgICAgICBwcmltYXJ5QWRkOiBmYWxzZSxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2bS5zZWFyY2hUZXh0ID0gXCJcIjtcbiAgICAgICAgdm0uc29ydGNsaWVudHMgPSAodHlwZSwgcmVzb3VyY2UpID0+IHtcbiAgICAgICAgICAvKiBGb3IgdG9nZ2xpbmcgYXNjZW5kaW5nIGFuZCBkZXNjZW5kaW5nIG9yZGVyICovXG4gICAgICAgICAgdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gdHJ1ZSlcbiAgICAgICAgICAgIDogKHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPSAhdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSk7XG4gICAgICAgICAgXG4gICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAubGlzdEFsbENsaWVudHMoe1xuICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXG4gICAgICAgICAgICAgIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcbiAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICB2bS5hbGxDbGllbnRzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgIHZtLmNsaWVudENvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xuICAgICAgICAgICAgICAgICAgaXRlbXM6IHZtLmNsaWVudENvdW50LFxuICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxuICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcbiAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcbiAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgLmxpc3RBbGxDbGllbnRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialt0eXBlXVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5hbGxDbGllbnRzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS5zZWFyY2hUZXh0ID0gXCJcIjtcbiAgICAgICAgY29uc3Qgc2VhcmNoRGVib3VuY2UgPSBkZWJvdW5jZSgyNTApOyAvKiBQYXNzaW5nIGluIHRoZSBkZWJvdW5jZSByYXRlICovXG4gICAgICAgIHZtLnNlYXJjaENsaWVudHMgPSB0ZXh0ID0+IHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIHBhc3MgdGhlIGZ1bmN0aW9uIHdoaWNoIHlvdSB3YW50IHRvIGRlYm91bmNlXG4gICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyAtIHBhc3MgdGhlIGFyZ3VtZW50cyBmcm9tIHRoZSB2aWV3IGFzIGFuIGFycmF5XG4gICAgICAgICAgICovXG4gICAgICAgICAgc2VhcmNoRGVib3VuY2UoXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgICAgIC5saXN0QWxsQ2xpZW50cyh7XG4gICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgICAgICAgc2VhcmNoOiB0ZXh0LFxuICAgICAgICAgICAgICAgIHNvcnQ6IFwiY3JlYXRlZFwiLFxuICAgICAgICAgICAgICAgIHNvcnRUeXBlOiBmYWxzZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgdm0uYWxsQ2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICAgICAgdm0uY2xpZW50Q291bnQgPSByZXNwLmRhdGEudG90YWw7XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHZtLmNsaWVudENvdW50LFxuICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcbiAgICAgICAgICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsQ2xpZW50cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbENsaWVudHMgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbdGV4dF1cbiAgICAgICAgICAgIC8vW3RleHQsIHJlc291cmNlXVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgIC8qIEluaXRpYWxseSBzb3J0IGNsaWVudHMgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xuICAgICAgICAgIHZtLnNvcnRjbGllbnRzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUNsaWVudFwiKTtcbiAgICAgICAgdm0uZHRPcHRpb25zID0ge1xuICAgICAgICAgICAgcGFnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGluZm86IGZhbHNlLFxuICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxuICAgICAgICAgICAgc2VhcmNoaW5nOiBmYWxzZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBnbG9iYWxzLmdldENvdW50cnlDb2RlKCkudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIHZtLmdldENvdW50cnlDb2RlID0gcmVzcC5kYXRhO1xuICAgICAgICAgICBcbiAgICAgICAgICAgIHZtLmxvYWRDb3VudHJ5Q29kZSA9ICRxdWVyeSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZ2xvYmFscy5nZXRJbmR1c3RyeSgpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICB2bS5nZXRJbmR1c3RyaWVzID0gcmVzcC5kYXRhO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2bS5sb2FkSW5kdXN0cnkgPSAkcXVlcnkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGdsb2JhbHMuZ2V0Q3VycmVuY3koKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgdm0uZ2V0Q3VycmVuY2llcyA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdm0ubG9hZEN1cnJlbmN5ID0gJHF1ZXJ5ID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZtLmFkZE5ld0NsaWVudD1mdW5jdGlvbih2YWxpZCxjbGllbnRkYXRhKXtcbiAgICAgICAgICAgIHZhciBjbGllbnQ9e307XG4gICAgICAgICAgICB2YXIgaW5kdXN0cmllcz1bXTtcbiAgICAgICAgICBcbiAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGE9PT11bmRlZmluZWR8fGNsaWVudGRhdGE9PT1udWxsKXtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJDYW5ub3Qgc2F2ZSBlbXB0eSByZWNvcmRcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnROYW1lPT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbmFtZSBvZiBjbGllbnRcIik7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNsaWVudC5jbGllbnROYW1lPWNsaWVudGRhdGEuY2xpZW50TmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmNsaWVudENvbnRhY3Q9PT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBwaG9uZSBkZXRhaWxzXCIpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBjbGllbnQuY2xpZW50Q29udGFjdD17XG4gICAgICAgICAgICAgICAgICBkaWFsQ29kZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0LmRpYWxDb2RlWzBdLmRpYWxDb2RlLFxuICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdC5waG9uZU51bWJlclxuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5kZXNjcmlwdGlvbiE9dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBjbGllbnQuZGVzY3JpcHRpb24gPSBjbGllbnRkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEueWVhckZvdW5kZWQhPXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgY2xpZW50LnllYXJGb3VuZGVkID0gY2xpZW50ZGF0YS55ZWFyRm91bmRlZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmNsaWVudFdlYnNpdGUhPXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgY2xpZW50LmNsaWVudFdlYnNpdGUgPSBjbGllbnRkYXRhLmNsaWVudFdlYnNpdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuZW1haWwhPXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgY2xpZW50LmVtYWlsPWNsaWVudGRhdGEuZW1haWxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmluZHVzdHJ5IT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIGNsaWVudGRhdGEuaW5kdXN0cnkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgIGluZHVzdHJpZXMucHVzaChlbGVtZW50LnR5cGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNsaWVudC5pbmR1c3RyeT1pbmR1c3RyaWVzO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uIT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5kaWFsQ29kZSl7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImRpYWwgY29kZSBleGlzdFwiKTtcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5jbGllbnRDb250YWN0UGVyc29uPXtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24uZmlyc3ROYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgbWlkZGxlTmFtZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLm1pZGRsZU5hbWUsIFxuICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTpjbGllbnRkYXRhLmNsaWVudENvbnRhY3RQZXJzb24ubGFzdE5hbWUsIFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmVtYWlsLCBcbiAgICAgICAgICAgICAgICAgICAgbW9iaWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsQ29kZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmRpYWxDb2RlWzBdLmRpYWxDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5waG9uZU51bWJlclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBjbGllbnQuY2xpZW50Q29udGFjdFBlcnNvbj17XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogY2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmZpcnN0TmFtZSwgXG4gICAgICAgICAgICAgICAgICAgIG1pZGRsZU5hbWU6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5taWRkbGVOYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6Y2xpZW50ZGF0YS5jbGllbnRDb250YWN0UGVyc29uLmxhc3ROYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5lbWFpbCwgXG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGNsaWVudGRhdGEuY2xpZW50Q29udGFjdFBlcnNvbi5waG9uZU51bWJlclxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYW5udWFsUmV2ZW51ZSE9dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmFubnVhbFJldmVudWUuY3VycmVuY3lDb2RlKXtcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5hbm51YWxSZXZlbnVlID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2xpZW50ZGF0YS5hbm51YWxSZXZlbnVlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGNsaWVudGRhdGEuYW5udWFsUmV2ZW51ZS5jdXJyZW5jeUNvZGVbMF0uY2NcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgY2xpZW50LmFubnVhbFJldmVudWUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjbGllbnRkYXRhLmFubnVhbFJldmVudWUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmKGNsaWVudGRhdGEuYWRkcmVzczIhPXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5hZGRyZXNzMi5jb3VudHJ5Q29kZSl7XG4gICAgICAgICAgICAgICAgICBjbGllbnQuYWRkcmVzczI9e1xuICAgICAgICAgICAgICAgICAgICBsaW5lMTogY2xpZW50ZGF0YS5hZGRyZXNzMi5saW5lMSwgXG4gICAgICAgICAgICAgICAgICAgIGxpbmUyOiBjbGllbnRkYXRhLmFkZHJlc3MyLmxpbmUyLCBcbiAgICAgICAgICAgICAgICAgICAgbGluZTM6IGNsaWVudGRhdGEuYWRkcmVzczIubGluZTMsXG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IGNsaWVudGRhdGEuYWRkcmVzczIuY2l0eSwgXG4gICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGNsaWVudGRhdGEuYWRkcmVzczIucG9zdGFsQ29kZSwgXG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MyLmNvdW50cnlDb2RlWzBdLmNvZGUgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBjbGllbnQuYWRkcmVzczI9e1xuICAgICAgICAgICAgICAgICAgICBsaW5lMTogY2xpZW50ZGF0YS5hZGRyZXNzMi5saW5lMSwgXG4gICAgICAgICAgICAgICAgICAgIGxpbmUyOiBjbGllbnRkYXRhLmFkZHJlc3MyLmxpbmUyLCBcbiAgICAgICAgICAgICAgICAgICAgbGluZTM6IGNsaWVudGRhdGEuYWRkcmVzczIubGluZTMsXG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IGNsaWVudGRhdGEuYWRkcmVzczIuY2l0eSwgXG4gICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGNsaWVudGRhdGEuYWRkcmVzczIucG9zdGFsQ29kZSwgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYoY2xpZW50ZGF0YS5hZGRyZXNzMSE9dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBpZihjbGllbnRkYXRhLmFkZHJlc3MxLmNvdW50cnlDb2RlKXtcbiAgICAgICAgICAgICAgICAgIGNsaWVudC5hZGRyZXNzMT17XG4gICAgICAgICAgICAgICAgICAgIGxpbmUxOiBjbGllbnRkYXRhLmFkZHJlc3MxLmxpbmUxLCBcbiAgICAgICAgICAgICAgICAgICAgbGluZTI6IGNsaWVudGRhdGEuYWRkcmVzczEubGluZTIsIFxuICAgICAgICAgICAgICAgICAgICBsaW5lMzogY2xpZW50ZGF0YS5hZGRyZXNzMS5saW5lMyxcbiAgICAgICAgICAgICAgICAgICAgY2l0eTogY2xpZW50ZGF0YS5hZGRyZXNzMS5jaXR5LCBcbiAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogY2xpZW50ZGF0YS5hZGRyZXNzMS5wb3N0YWxDb2RlLCBcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IGNsaWVudGRhdGEuYWRkcmVzczEuY291bnRyeUNvZGVbMF0uY29kZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgY2xpZW50LmFkZHJlc3MxPXtcbiAgICAgICAgICAgICAgICAgICAgbGluZTE6IGNsaWVudGRhdGEuYWRkcmVzczEubGluZTEsIFxuICAgICAgICAgICAgICAgICAgICBsaW5lMjogY2xpZW50ZGF0YS5hZGRyZXNzMS5saW5lMiwgXG4gICAgICAgICAgICAgICAgICAgIGxpbmUzOiBjbGllbnRkYXRhLmFkZHJlc3MxLmxpbmUzLFxuICAgICAgICAgICAgICAgICAgICBjaXR5OiBjbGllbnRkYXRhLmFkZHJlc3MxLmNpdHksIFxuICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBjbGllbnRkYXRhLmFkZHJlc3MxLnBvc3RhbENvZGUsIFxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgIGFwaUZhY3RvcnkuY3JlYXRlQ2xpZW50KGNsaWVudClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+e1xuICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJJc3N1ZSBoYXMgYmVlbiBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICAgICAgICB2bS5jbGllbnREYXRhPXt9O1xuICAgICAgICAgICAgICAgICAgJCgnI2FkZENsaWVudCcpLm1vZGFsKCdoaWRlJylcbiAgICAgICAgICAgICAgICAgIHZtLnNvcnRjbGllbnRzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUNsaWVudFwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAuY2F0Y2goZT0+e1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICBcbiAgICAgICAgICB9O1xuICAgICAgICBcbiAgICAgIH1cbiAgICAgXG5cbn0pKCk7IiwiKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY2xpZW50c0RldGFpbEN0cmxcIiwgY2xpZW50c0RldGFpbEN0cmwpO1xuXG4gICAgZnVuY3Rpb24gY2xpZW50c0RldGFpbEN0cmwoXG4gICAgICAgICRzY29wZSxcbiAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgIGF1dGhGYWN0b3J5LFxuICAgICAgICAkc3RhdGUsXG4gICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgYXBpRmFjdG9yeSxcbiAgICAgICAgTm90aWZpY2F0aW9uLFxuICAgICAgICBOZ01hcCxcbiAgICAgICAgZ2xvYmFscyxcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZVxuXG4gICAgKXtcbiAgICAgICAgbGV0IHZtID0gdGhpcztcblxuICAgICAgICBjb25zdCB7IGxvZ291dCx1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgICAgICAgIGxvZ291dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICBcbiAgICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZ2xvYmFscy5nZXRDb3VudHJ5Q29kZSgpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICB2bS5nZXRDb3VudHJ5Q29kZSA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgXG4gICAgICAgICAgICB2bS5sb2FkQ291bnRyeUNvZGUgPSAkcXVlcnkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZtLmNsaWVudElkID0gJHN0YXRlUGFyYW1zLmlkO1xuICAgICAgICAgICRzY29wZS5nZXRDbGllbnREZXRhaWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgIC5nZXRDbGllbnRCeUlkKHZtLmNsaWVudElkKVxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgICB2bS5DbGllbnREYXRhID0gcmVzcC5kYXRhO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2xpZW50OiBcIix2bS5DbGllbnREYXRhKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5nZXRDbGllbnREZXRhaWwoKTtcblxuICAgICAgICAgICAgdm0uc2F2ZVN0YWZmTWVtYmVyPWZ1bmN0aW9uKHN0YWZmKXtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhZmYpO1xuXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnkuYWRkU3RhZmZNZW1iZXIoc3RhZmYsdm0uY2xpZW50SWQpXG4gICAgICAgICAgICAgIC50aGVuKHJlc3A9PntcbiAgICAgICAgICAgICAgICAkKCcjYWRkX21lbWJlcicpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0Q2xpZW50RGV0YWlsKCk7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJNZW1iZXIgYWRkZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZT0+e1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcImNvdWxkIG5vdCBhZGQgc3RhZmYgbWVtYmVyLlwiKTtcblxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfVxuXG59KSgpOyIsIigoKSA9PiB7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKFwiYXBwXCIpXG4gICAgLmNvbnRyb2xsZXIoXCJjb21ib01hdGVyaWFsVmlld0N0cmxcIiwgY29tYm9NYXRlcmlhbFZpZXdDdHJsKTtcblxuICBmdW5jdGlvbiBjb21ib01hdGVyaWFsVmlld0N0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICAkc3RhdGVQYXJhbXMsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFscyxcbiAgICAkbG9jYXRpb24sXG4gICAgVXBsb2FkXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB2bS5lZGl0RmxhZyA9IGZhbHNlXG4gICAgdm0uY29tYm9JZCA9ICRzdGF0ZVBhcmFtcy5pZDtcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcbiAgICB2bS5yZW1vdmVkRmlsZXMgPSBbXTtcbiAgICB2bS5jb21ib01hdGVyaWFsTGlzdCA9IFtdO1xuICAgIHZtLm1hdGVyaWFsVG90YWwgPSAwO1xuICAgIHZtLnJvb2ZlclRvdGFsID0gMFxuXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmdldENvbXBhbnlCeUlkKHZtLnVzZXJEYXRhLmNvbXBhbnlJZClcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICB2bS5jb21wYW55RGF0YSA9IHJlc3AuZGF0YTtcbiAgICAgICAgdm0uY29tcGFueUN1cnJlbmN5ID0gYW5ndWxhci5jb3B5KHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGUpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGUgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q29tYm9NYXREZXRhaWwoKSB7XG4gICAgICBhcGlGYWN0b3J5LmdldENvbWJvTWF0ZXJpYWxCeUlkKHZtLmNvbWJvSWQpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNvbWJvRGF0YSA9IHJlc3AuZGF0YS5kYXRhO1xuICAgICAgICB2bS5jb21ib01tYXRyaWFsTmFtZSA9IHZtLmNvbWJvRGF0YS5uYW1lXG4gICAgICAgIHZtLmRlc2NyaXB0aW9uID0gdm0uY29tYm9EYXRhLmRlc2NyaXB0aW9uXG4gICAgICAgIHZtLnVvbSA9IHZtLmNvbWJvRGF0YS51bml0XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyh2bS5jb21ib0RhdGEpXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgdm0ubWF0ZXJpYWxDb3N0ID0gaXRlbS5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZSAqIGl0ZW0ucXVhbnRpdHk7XG4gICAgICAgICAgdm0ubWF0ZXJpYWxUb3RhbCA9IHZtLm1hdGVyaWFsVG90YWwgKyB2bS5tYXRlcmlhbENvc3RcbiAgICAgICAgICB2bS5yb29mZXJDb3N0ID0gaXRlbS5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKiBpdGVtLnF1YW50aXR5O1xuICAgICAgICAgIHZtLnJvb2ZlclRvdGFsID0gdm0ucm9vZmVyVG90YWwgKyB2bS5yb29mZXJDb3N0XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5jb21ib0RhdGEpO1xuICAgICAgICAkdGltZW91dChpbWdTbGlkZXIsIDE1MDApO1xuICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGdldENvbWJvTWF0RGV0YWlsKClcblxuICAgIHZtLnJlbW92ZUltZyA9IChpbWcsIHR5cGUpID0+IHtcbiAgICAgIGlmICh0eXBlID09ICdtYXRlcmlhbERvY3VtZW50Jykge1xuICAgICAgICB2bS5yZW1vdmVkRmlsZXMucHVzaCh2bS5tYXRlcmlhbEltZ1tpbWddLl9pZClcbiAgICAgICAgdm0ubWF0ZXJpYWxJbWcuc3BsaWNlKGltZywgMSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLnJlbW92ZWRGaWxlcy5wdXNoKHZtLm1hdGVyaWFsRmlsZXNbaW1nXS5faWQpXG4gICAgICAgIHZtLm1hdGVyaWFsRmlsZXMuc3BsaWNlKGltZywgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2bS5kZWxldGVGaWxlID0gKGluZGV4VmFsLCB0eXBlLCBuZXdGaWxlKSA9PiB7XG4gICAgICBpZiAodHlwZSA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgdm0udXBsb2FkSW1nLnNwbGljZShpbmRleFZhbCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS51cGxvYWRGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5lZGl0Q29tYm9NYXRlcmlhbExpc3QgPSAoaXRlbSkgPT4ge1xuICAgICAgdm0ubWF0ZXJpYWxMaXN0ID0gdm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0W2l0ZW1dXG4gICAgICB2bS5tYXRlcmlhbFF0eSA9IHZtLm1hdGVyaWFsTGlzdC5xdWFudGl0eVxuICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbENvc3QgPSB2bS5tYXRlcmlhbFF0eSAqIHZtLm1hdGVyaWFsTGlzdC5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZVxuICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbFJvb2ZlckNvc3QgPSB2bS5tYXRlcmlhbFF0eSAqIHZtLm1hdGVyaWFsTGlzdC5tYXRlcmlhbElkLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWVcbiAgICAgIGlmICh2bS5tYXRlcmlhbExpc3QucGVyY2VudGFnZUFkZGl0aW9ucy5sZW5ndGggIT0gMCAmJiB2bS5tYXRlcmlhbExpc3QucGVyY2VudGFnZUFkZGl0aW9ucy5sZW5ndGggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZtLnBlcmNlbnRhZ2VBZGRpdGlvbiA9IHZtLm1hdGVyaWFsTGlzdC5wZXJjZW50YWdlQWRkaXRpb25zXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24gPSBbXVxuICAgICAgfVxuICAgICAgdm0ubWF0ZXJpYWxJbmRleCA9IGl0ZW1cbiAgICAgICQoJyNlZGl0Q29tYm9NYXRlcmlhbCcpLm1vZGFsKCdzaG93Jyk7XG4gICAgICBpZihpdGVtID09ICduZXcnKSB7XG4gICAgICAgICQoJyNlZGl0Q29tYm9NYXRlcmlhbCAubW9kYWwtaGVhZGVyIGg1JykudGV4dCgnQWRkIENvbWJvIE1hdGVyaWFsIERldGFpbHMnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJyNlZGl0Q29tYm9NYXRlcmlhbCAubW9kYWwtaGVhZGVyIGg1JykudGV4dCgnVXBkYXRlIENvbWJvIE1hdGVyaWFsIERldGFpbHMnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2bS5tYXRlcmlhbENvbWJpbmF0aW9uID0gbWF0ZXJpYWwgPT4ge1xuICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKG1hdGVyaWFsKTtcbiAgICAgIGNvbnNvbGUubG9nKFwibWF0ZXJpYWwtLVwiLCBkYXRhKTtcbiAgICAgIGlmIChkYXRhICE9IFwiXCIpIHtcbiAgICAgICAgdm0uY29tYm9NYXRlcmlhbExpc3QucHVzaCh7XG4gICAgICAgICAgbWF0ZXJpYWxJZDogZGF0YS5faWQsXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgIHF1YW50aXR5OiB2bS5jb21ib0xpc3QucXVhbnRpdHksXG4gICAgICAgICAgbWF0ZXJpYWxDb3N0OiB2bS5jb21ib0xpc3QubWF0ZXJpYWxDb3N0LFxuICAgICAgICAgIHJvb2ZlckNvc3Q6IHZtLmNvbWJvTGlzdC5yb29mZXJDb3N0LFxuICAgICAgICAgIHBlcmNlbnRhZ2VBZGRpdGlvbnM6IHZtLnBlcmNlbnRhZ2VBZGRpdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uID0gW107XG4gICAgICAgIHZtLmNvbWJvTGlzdCA9IHtcbiAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICBtYXRlcmlhbENvc3Q6IDAsXG4gICAgICAgICAgcm9vZmVyQ29zdDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmVkaXRDb21ib01hdGVyaWFsLmNvbWJvTWF0ZXJpYWwgPSBcIlwiO1xuICAgICAgICAkKFwiLnNlbGVjdDItY2hvaWNlIC5zZWxlY3QyLWNob3NlblwiKS50ZXh0KFwiXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5hZGRQZXJjZW50YWdlVmFsdWUgPSAoKSA9PiB7XG4gICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24ucHVzaCh7XG4gICAgICAgIHBlcmNlbnRhZ2VUeXBlOiBcIlwiLFxuICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2bS5yZW1vdmVQZXJjZW50YWdlQWRkaXRpb24gPSBpbmRleCA9PiB7XG4gICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50LCBtb2RhbCkgPT4ge1xuICAgICAgbGV0IGZpbGVPYmogPSBldmVudC50YXJnZXQuZmlsZXM7XG4gICAgICB2bS5maWxlTmFtZXMgPSBPYmplY3Qua2V5cyhmaWxlT2JqKS5tYXAoeCA9PiBmaWxlT2JqW3hdLm5hbWUpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbiAoeCwgaW5kZXgpIHtcbiAgICAgICAgeC5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgIGlmIChtb2RhbCA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBpZiAodm0udXBsb2FkSW1nLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZUltZyA9IGZhbHNlO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnVwbG9hZEltZywgZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgaWYgKHgubmFtZSA9PSB5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVJbWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWR1cGxpY2F0ZUltZykge1xuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkZpbGUgbmFtZSBhbHJlYWR5IGV4aXN0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodm0udXBsb2FkRmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGlmICgvaW1hZ2UvLnRlc3QoeC50eXBlKSkge1xuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEZpbGVzLnB1c2goeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkdXBsaWNhdGVJbWcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChbXS5jb25jYXQodm0udXBsb2FkRmlsZXMsIHZtLnVwbG9hZEltZyksIGZ1bmN0aW9uIChcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICh4Lm5hbWUgPT0geS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlSW1nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGVJbWcpIHtcbiAgICAgICAgICAgICAgaWYgKC9pbWFnZS8udGVzdCh4LnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMucHVzaCh4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiRmlsZSBuYW1lIGFscmVhZHkgZXhpc3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIHZtLnRhYkNoYW5nZSA9ICh2YWwsIGZsYWcpID0+IHtcbiAgICAgIGlmICh2YWwgPT0gMSkge1xuICAgICAgICBpZiAoIXZtLmVkaXRDb21ib01hdGVyaWFsLm5hbWUpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbWF0ZXJpYWwgbmFtZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghdm0uc2VsZWN0ZWRVbml0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBtYXRlcmlhbCB1bml0XCIpO1xuICAgICAgICAvKiB9IGVsc2UgaWYgKCF2bS5lZGl0Q29tYm9NYXRlcmlhbC5kZXNjcmlwdGlvbikge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBkZXNjcmlwdGlvblwiKTsgKi9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0UHJldlRhYih2YWwpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsID09IDIpIHtcbiAgICAgICAgaWYgKHZtLmNvbWJvTWF0ZXJpYWxMaXN0Lmxlbmd0aCA9PSAwICYmIHZtLmVkaXRDb21ib01hdGVyaWFsLmNvbWJvTWF0ZXJpYWxMaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGFkZCBDb21iaW5hdGlvbiBsaXN0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRQcmV2VGFiKHZhbClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFByZXZUYWIodmFsKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG5leHRQcmV2VGFiKHZhbCkge1xuICAgICAgICAkKFwiLmRjcF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAkKFwiLmRjcF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpLmVxKHZhbCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIFxuICAgICAgICAkKFwiLmRjcF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAkKFwiLmRjcF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5lcSh2YWwpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5lcSh2YWwpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICB2bS51bml0U2VsZWN0ID0gZGF0YSA9PiB7XG4gICAgICB2bS5zZWxlY3RlZFVuaXQgPSBkYXRhLm5hbWU7XG4gICAgfTtcblxuICAgIHZtLmVkaXRDb21ibyA9ICh2YWwpID0+IHtcbiAgICAgIGlmICh2YWwgPT0gMSkgeyAvLyBlZGl0IE1hdGVyaWFsXG4gICAgICAgIHZtLmVkaXRGbGFnID0gdHJ1ZVxuICAgICAgICB2bS5lZGl0Q29tYm9NYXRlcmlhbCA9IGFuZ3VsYXIuY29weSh2bS5jb21ib0RhdGEpXG4gICAgICAgIHZtLnNlbGVjdGVkVW5pdCA9IHZtLmVkaXRDb21ib01hdGVyaWFsLnVuaXRcbiAgICAgICAgdm0ubWF0ZXJpYWxJbWcgPSB2bS5lZGl0Q29tYm9NYXRlcmlhbC5maWxlcy5pbWFnZXM7XG4gICAgICAgIHZtLm1hdGVyaWFsRmlsZXMgPSB2bS5lZGl0Q29tYm9NYXRlcmlhbC5maWxlcy5kb2NzO1xuICAgICAgICB2bS5wZXJjZW50YWdlQWRkaXRpb24gPSBbXVxuICAgICAgICB2bS51cGxvYWRJbWcgPSBbXVxuICAgICAgICB2bS51cGxvYWRGaWxlcyA9IFtdXG4gICAgICAgICQoJyN0b2RvX21vZGFsLmRjcF9tb2RhbCcpLm1vZGFsKCdzaG93JylcbiAgICAgICAgLyogJCgnLm1hdGVyaWFsRGV0YWlsIHRleHRhcmVhLCAubWF0ZXJpYWxEZXRhaWwgaW5wdXQsIC5tYXRlcmlhbERldGFpbCBzZWxlY3QnKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKVxuICAgICAgICBjb25zb2xlLmxvZyh2bS5jb21ib0RhdGEuY29tYm9NYXRlcmlhbExpc3QpICovXG4gICAgICB9IGVsc2UgaWYgKHZhbCA9PSAyKSB7XG4gICAgICAgIC8vICQoJy5tYXRlcmlhbERldGFpbCB0ZXh0YXJlYSwgLm1hdGVyaWFsRGV0YWlsIGlucHV0LCAubWF0ZXJpYWxEZXRhaWwgc2VsZWN0JykuYXR0cignZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICAkc2NvcGUuaW1nQW5kRmlsZXMgPSBbXS5jb25jYXQodm0udXBsb2FkSW1nLCB2bS51cGxvYWRGaWxlcyk7XG4gICAgICAgICRzY29wZS51cGxvYWRhbGxGaWxlcyA9IFtdLmNvbmNhdCh2bS51cGxvYWRJbWcsIHZtLnVwbG9hZEZpbGVzLCB2bS5tYXRlcmlhbEltZywgdm0ubWF0ZXJpYWxGaWxlcyk7XG4gICAgICAgIFxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBbXTtcbiAgICAgICAgaWYgKHZtLnVwbG9hZEltZy5sZW5ndGggPiAwIHx8IHZtLnVwbG9hZEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkc2NvcGUuaW1nQW5kRmlsZXMubWFwKCh4LCBpKSA9PiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgYXNzZXREZXNjcmlwdGlvbjogeC5kZXNjcmlwdGlvblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgY29tYmFpbmVkQ01MaXN0ID0gW10uY29uY2F0KHZtLmNvbWJvTWF0ZXJpYWxMaXN0LCB2bS5lZGl0Q29tYm9NYXRlcmlhbC5jb21ib01hdGVyaWFsTGlzdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbWJhaW5lZENNTGlzdClcbiAgICAgICAgXG4gICAgICAgIHZhciBjbUxpc3QgPSBbXTtcbiAgICAgICAgY29tYmFpbmVkQ01MaXN0LmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3g9PT09JywgeClcbiAgICAgICAgICBjbUxpc3QucHVzaCh7XG4gICAgICAgICAgICBfaWQ6IHguX2lkLFxuICAgICAgICAgICAgbWF0ZXJpYWxJZDogeC5tYXRlcmlhbElkLFxuICAgICAgICAgICAgcXVhbnRpdHk6IHgucXVhbnRpdHksXG4gICAgICAgICAgICBwZXJjZW50YWdlQWRkaXRpb25zOiB4LnBlcmNlbnRhZ2VBZGRpdGlvbnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgbmFtZTogdm0uZWRpdENvbWJvTWF0ZXJpYWwubmFtZSxcbiAgICAgICAgICB1bml0OiB2bS5zZWxlY3RlZFVuaXQsXG4gICAgICAgICAgY29tYm9NYXRlcmlhbExpc3Q6IGNtTGlzdCxcbiAgICAgICAgICBmaWxlczogJHNjb3BlLmltZ0FuZEZpbGVzLFxuICAgICAgICAgIGFzc2V0T2JqOiBkZXNjcmlwdGlvblxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjb21ib0xpc3REYXRhID0ge1xuICAgICAgICAgIGNvbWJvTGlzdEFycmF5OiBjbUxpc3QsXG4gICAgICAgICAgZGVsZXRlZENvbWJvTGlzdDogdm0uZGVsZXRlZENvbWJvTGlzdFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSwgJz09PWRhdGEnKVxuXG4gICAgICAgIGFwaUZhY3RvcnkudXBkYXRlQ29tYm9NYXRlcmlhbExpc3Qodm0uY29tYm9EYXRhLl9pZCwgY29tYm9MaXN0RGF0YSkudGhlbihyZXNwID0+IHtcbiAgICAgICAgICBhcGlGYWN0b3J5LnVwZGF0ZUNvbWJvTWF0ZXJpYWwodm0uY29tYm9EYXRhLl9pZCwgZGF0YSkudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICQoJyN0b2RvX21vZGFsLmRjcF9tb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICAgICAgICAgIGdldENvbWJvTWF0RGV0YWlsKClcbiAgICAgICAgICAgIHZtLmZpbGVOYW1lcyA9IFtdXG4gICAgICAgICAgICAkdGltZW91dChpbWdTbGlkZXIsIDEwMDApO1xuICAgICAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB2YXIgY29tYm9NYXRlcmlhbERhdGEgPSB7XG4gICAgICAgIC8vICAgbmFtZTogJHNjb3BlLnJhdGVBbmFseXNpc09CSi5uYW1lLFxuICAgICAgICAvLyAgIGRlc2NyaXB0aW9uOiAkc2NvcGUucmF0ZUFuYWx5c2lzT0JKLmRlc2NyaXB0aW9uLFxuICAgICAgICAvLyAgIHVuaXRTeW1ib2w6ICRzY29wZS5yYXRlQW5hbHlzaXNPQkoudW5pdFN5bWJvbCxcbiAgICAgICAgLy8gICByZW1vdmVkRmlsZXM6ICRzY29wZS5yZW1vdmVkRmlsZXMsXG4gICAgICAgIC8vICAgZmlsZXM6IHZtLm5ld0ZpbGVzXG4gICAgICAgIC8vIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdm0udXBkYXRlQ29tYm8gPSAoaXRlbSwgZGF0YSkgPT4ge1xuICAgICAgdm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0W2l0ZW1dLnF1YW50aXR5ID0gdm0ubWF0ZXJpYWxRdHlcbiAgICAgIHZtLmNvbWJvRGF0YS5jb21ib01hdGVyaWFsTGlzdFtpdGVtXS5wZXJjZW50YWdlQWRkaXRpb25zID0gZGF0YVxuICAgICAgY29uc29sZS5sb2codm0uY29tYm9EYXRhLmNvbWJvTWF0ZXJpYWxMaXN0W2l0ZW1dLnBlcmNlbnRhZ2VBZGRpdGlvbnMpXG4gICAgICAkKCcjZWRpdENvbWJvTWF0ZXJpYWwnKS5tb2RhbCgnaGlkZScpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW1nU2xpZGVyKCkge1xuICAgICAgJChcIiNjb21ib0Nhcm91c2VsXCIpLmZsZXhzbGlkZXIoe1xuICAgICAgICBhbmltYXRpb246IFwic2xpZGVcIixcbiAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxuICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxuICAgICAgICBpdGVtV2lkdGg6IDc1LFxuICAgICAgICBpdGVtTWFyZ2luOiA1LFxuICAgICAgICBhc05hdkZvcjogXCIjY29tYm9TbGlkZXJcIlxuICAgICAgfSk7XG5cbiAgICAgICQoXCIjY29tYm9TbGlkZXJcIikuZmxleHNsaWRlcih7XG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxuICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9uTG9vcDogZmFsc2UsXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXG4gICAgICAgIHN5bmM6IFwiI2NvbWJvQ2Fyb3VzZWxcIlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmxpc3RBbGxNYXRlcmlhbHMoKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmFsbG1hdGVyaWxhTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICB2bS5jb21ib0xpc3QgPSB7XG4gICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgbWF0ZXJpYWxDb3N0OiAwLFxuICAgICAgICAgIHJvb2ZlckNvc3Q6IDBcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG4gICAgLy8gbWF0ZXJpYWwgb24gY2hhbmdlIGZ1bmN0aW9uXG4gICAgdm0uZ2V0TWF0ZXJpYWxJbmZvID0gbWF0ZXJpYWwgPT4ge1xuICAgICAgbGV0IG1hdGVyaWFsSW5mbyA9IEpTT04ucGFyc2UobWF0ZXJpYWwpO1xuICAgICAgXG4gICAgICBpZiAobWF0ZXJpYWwpIHtcbiAgICAgICAgdm0uY29tYm9MaXN0Lm1hdGVyaWFsQ29zdCA9IHBhcnNlRmxvYXQoXG4gICAgICAgICAgTWF0aC5yb3VuZChcbiAgICAgICAgICAgIHZtLmNvbWJvTGlzdC5xdWFudGl0eSAqXG4gICAgICAgICAgICBtYXRlcmlhbEluZm8uY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICpcbiAgICAgICAgICAgIDEwMFxuICAgICAgICAgICkgLyAxMDBcbiAgICAgICAgKTtcbiAgICAgICAgdm0uY29tYm9MaXN0LnJvb2ZlckNvc3QgPSBwYXJzZUZsb2F0KFxuICAgICAgICAgIE1hdGgucm91bmQoXG4gICAgICAgICAgICB2bS5jb21ib0xpc3QucXVhbnRpdHkgKlxuICAgICAgICAgICAgbWF0ZXJpYWxJbmZvLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKlxuICAgICAgICAgICAgMTAwXG4gICAgICAgICAgKSAvIDEwMFxuICAgICAgICApO1xuICAgICAgICAkKFwiYS5pdGVtLXNlbGVjdGVkIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiKTtcbiAgICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2bS5kZWxldGVkQ29tYm9MaXN0ID0gW11cbiAgICB2bS5yZW1vdmVNYXRlcmlsID0gKGl0ZW0sZmxhZykgPT4ge1xuICAgICAgaWYoZmxhZyA9PSAnbmV3Jykge1xuICAgICAgICB2bS5jb21ib01hdGVyaWFsTGlzdC5zcGxpY2UoaXRlbSwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS5kZWxldGVkQ29tYm9MaXN0LnB1c2godm0uZWRpdENvbWJvTWF0ZXJpYWwuY29tYm9NYXRlcmlhbExpc3RbaXRlbV0uX2lkKVxuICAgICAgICB2bS5lZGl0Q29tYm9NYXRlcmlhbC5jb21ib01hdGVyaWFsTGlzdC5zcGxpY2UoaXRlbSwgMSlcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY3JlYXRlSW52b2ljZUN0cmxcIiwgY3JlYXRlSW52b2ljZUN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVJbnZvaWNlQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgZ2xvYmFscyxcclxuICAgIE5nTWFwLFxyXG4gICAgVXBsb2FkLFxyXG4gICAgbW9tZW50LFxyXG4gICAgJGxvY2F0aW9uXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsIGRlYm91bmNlLCBwcm9qZWN0U3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnRvZGF5RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2bS5pbnZvaWNlSXRlbXMgPSBbXTtcclxuXHJcbiAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YSA9IHtcclxuICAgICAgcmVmZXJlbmNlOiBcIlwiLFxyXG4gICAgICBkYXRlOiB2bS50b2RheURhdGUsXHJcbiAgICAgIGR1ZURhdGU6IHZtLnRvZGF5RGF0ZSxcclxuICAgICAgdGVybXNBbmRDb25kaXRpb25zOiB0cnVlLFxyXG4gICAgICBjYWxjdWxhdGVkUHJvY2VzczogdHJ1ZSxcclxuICAgICAgaXRlbXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICAgIHF1YW50aXR5OiBcIlwiLFxyXG4gICAgICAgICAgdW5pdFByaWNlOiBcIlwiLFxyXG4gICAgICAgICAgZGlzY291bnRQZXJjZW50OiBcIlwiLFxyXG4gICAgICAgICAgdGF4UmF0ZTogXCJcIixcclxuICAgICAgICAgIHNhbGVzOiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICAgIHF1YW50aXR5OiBcIlwiLFxyXG4gICAgICAgICAgdW5pdFByaWNlOiBcIlwiLFxyXG4gICAgICAgICAgZGlzY291bnRQZXJjZW50OiBcIlwiLFxyXG4gICAgICAgICAgdGF4UmF0ZTogXCJcIixcclxuICAgICAgICAgIHNhbGVzOiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICAgIHF1YW50aXR5OiBcIlwiLFxyXG4gICAgICAgICAgdW5pdFByaWNlOiBcIlwiLFxyXG4gICAgICAgICAgZGlzY291bnRQZXJjZW50OiBcIlwiLFxyXG4gICAgICAgICAgdGF4UmF0ZTogXCJcIixcclxuICAgICAgICAgIHNhbGVzOiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICAgIHF1YW50aXR5OiBcIlwiLFxyXG4gICAgICAgICAgdW5pdFByaWNlOiBcIlwiLFxyXG4gICAgICAgICAgZGlzY291bnRQZXJjZW50OiBcIlwiLFxyXG4gICAgICAgICAgdGF4UmF0ZTogXCJcIixcclxuICAgICAgICAgIHNhbGVzOiBcIlwiXHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9O1xyXG5cclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmxpc3RBbGxQcm9qZWN0cygpXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLnByb2plY3RMaXN0ID0gcmVzcC5kYXRhO1xyXG4gICAgICAgIC8qIEluaXRpYWxseSBsb2FkIHRoZSBmaXJzdCBwcm9qZWN0IGFzIGRlZmF1bHQgKi9cclxuICAgICAgICAvKiBjb25zdCBzZWxlY3RlZFByb2plY3QgPSBwcm9qZWN0U3RvcmUuZ2V0KCk7XHJcblxyXG4gICAgICAgIHZtLnNlbGVjdGVkUHJvamVjdCA9IHNlbGVjdGVkUHJvamVjdC5faWQ7ICovXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcbiAgICB2bS5nZXRBbGxTdGFmZnMgPSBpZCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGlkKTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5saXN0QWxsU3RhZmZzKGlkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTtcclxuICAgICAgICAgIHZtLnN0YWZmc0xpc3QgPSByZXNwLmRhdGEuZGF0YS5zdGFmZjtcclxuICAgICAgICAgIHZtLnN0YWZmc0xpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIF9pZDogaWQsXHJcbiAgICAgICAgICAgIGVtYWlsOiB2bS5jcmVhdGVJbnZvaWNlRGF0YS5jbGllbnQuZW1haWxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29uc29sZS5sb2codm0uc3RhZmZzTGlzdCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBpZiAocHJvamVjdFN0b3JlLmdldCgpKSB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0UHJvamVjdEJ5SWQocHJvamVjdFN0b3JlLmdldCgpLl9pZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLnJlZmVyZW5jZSA9IHJlc3AuZGF0YS5zeXN0ZW1UYWc7XHJcbiAgICAgICAgICByZXR1cm4gYXBpRmFjdG9yeS5saXN0QWxsUHJvamVjdEludm9pY2UocmVzcC5kYXRhLnN5c3RlbVRhZyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihnZXRJbnZvaWNlTGlzdClcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2bS5hZGRJdGVtID0ge1xyXG4gICAgICBxdWFudGl0eTogMSxcclxuICAgICAgZGlzY291bnRQZXJjZW50OiAwLFxyXG4gICAgICB0YXhSYXRlOiAwXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNsaWVudHMgPSBbXTtcclxuICAgIGFwaUZhY3RvcnlcclxuICAgICAgLmxpc3RBbGxDbGllbnRzKClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uY2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmNsaWVudHMsIFwiY2xpZW50c1wiKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgIGFwaUZhY3RvcnkubGlzdEFsbE1hdGVyaWFscygpLFxyXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxDb21ib01hdGVyaWFscygpLFxyXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxFcXVpcG1lbnRzKClcclxuICAgIF0pXHJcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgIHZtLml0ZW1MaXN0ID0gW10uY29uY2F0KFxyXG4gICAgICAgICAgcmVzcFswXS5kYXRhLmxpc3QsXHJcbiAgICAgICAgICByZXNwWzFdLmRhdGEubGlzdCxcclxuICAgICAgICAgIHJlc3BbMl0uZGF0YS5saXN0XHJcbiAgICAgICAgKTtcclxuICAgICAgICB2bS5sb2FkRmlsZXNUb0F1dG9Db21wbGV0ZSA9ICRxdWVyeSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICByZXNvbHZlKHZtLml0ZW1MaXN0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdm0uc2VsZWN0ZWRJdGVtID0gKGRhdGEsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICBjb25zb2xlLmxvZyhpbmRleCk7XHJcbiAgICAgIGxldCBsQm9vbGVhbkNoZWNrSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoZGF0YSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGxCb29sZWFuQ2hlY2tJc0FycmF5KTtcclxuXHJcbiAgICAgIGlmICghIWxCb29sZWFuQ2hlY2tJc0FycmF5KSB7XHJcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS51bml0UHJpY2UgPSAhIWRhdGFbMF0uY3VycmVudFJhdGVcclxuICAgICAgICAgICAgPyBkYXRhWzBdLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZSArXHJcbiAgICAgICAgICAgICAgZGF0YVswXS5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlXHJcbiAgICAgICAgICAgIDogMTtcclxuICAgICAgICAgIC8vdm0uaW52b2ljZUl0ZW1zQXJ5W2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGFbMF0ubmFtZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwieW91IGNhbiBhZGQgb25seSBvbmUgaXRlbSBhdCBhIHRpbWVcIik7XHJcbiAgICAgICAgICBkYXRhLnNwbGljZSgxLCBkYXRhLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXNbaW5kZXhdLnVuaXRQcmljZSA9ICEhZGF0YVswXS5jdXJyZW50UmF0ZVxyXG4gICAgICAgICAgICA/IGRhdGFbMF0uY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICtcclxuICAgICAgICAgICAgICBkYXRhWzBdLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWVcclxuICAgICAgICAgICAgOiAxO1xyXG4gICAgICAgICAgLy92bS5pbnZvaWNlSXRlbXNBcnlbaW5kZXhdLmRlc2NyaXB0aW9uID0gZGF0YVswXS5uYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5wcmljZUNhbGN1bGF0ZSA9IChxdHksIGRpc2MsIHRheCwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2codm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXMpO1xyXG4gICAgICBpZiAocXR5ICE9IDApIHtcclxuICAgICAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YS5pdGVtc1tpbmRleF0uc2FsZXMgPVxyXG4gICAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXNbaW5kZXhdLnF1YW50aXR5ICpcclxuICAgICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS51bml0UHJpY2U7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2FsZXNcIiArIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS5zYWxlcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0b3RhbCBzYWxlc1wiICsgdm0uY3JlYXRlSW52b2ljZURhdGEudG90YWxTYWxlcyk7XHJcbiAgICAgICAgaWYgKGRpc2MgJiYgZGlzYyAhPSAwKSB7XHJcbiAgICAgICAgICBpZiAoZGlzYyA+IDEwMCkge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgRW50ZXIgbGVzcyB0aGFuIDEwMFwiKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudFByaWNlID1cclxuICAgICAgICAgICAgICAodm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXNbaW5kZXhdLnNhbGVzICogZGlzYykgLyAxMDA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRpc2NvdW50UHJpY2UsIFwiZGlzY291bnRQcmljZVwiKTtcclxuICAgICAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXNbaW5kZXhdLnNhbGVzID1cclxuICAgICAgICAgICAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YS5pdGVtc1tpbmRleF0uc2FsZXMgLSBkaXNjb3VudFByaWNlO1xyXG4gICAgICAgICAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YS5pdGVtc1tpbmRleF0uZGlzY291bnRQZXJjZW50ID0gZGlzYztcclxuXHJcbiAgICAgICAgICAgIGlmICh0YXggJiYgdGF4ICE9IDApIHtcclxuICAgICAgICAgICAgICBpZiAodGF4ID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgRW50ZXIgbGVzcyB0aGFuIDEwMFwiKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRheFByaWNlID1cclxuICAgICAgICAgICAgICAgICAgKHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS5zYWxlcyAqIHRheCkgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0YXhQcmljZSwgXCJ0YXhQcmljZVwiKTtcclxuICAgICAgICAgICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS5zYWxlcyA9XHJcbiAgICAgICAgICAgICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS5zYWxlcyArIHRheFByaWNlO1xyXG4gICAgICAgICAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXNbaW5kZXhdLnRheFJhdGUgPSB0YXg7XHJcbiAgICAgICAgICAgICAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YS50b3RhbFRheCA9IF8uc3VtQnkoXHJcbiAgICAgICAgICAgICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbihvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8udGF4UmF0ZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmNyZWF0ZUludm9pY2VEYXRhLnRvdGFsVGF4KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLnRvdGFsU2FsZXMgPSBfLnN1bUJ5KFxyXG4gICAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXMsXHJcbiAgICAgICAgICBmdW5jdGlvbihvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvLnNhbGVzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIEVudGVyIFF1YW50aXR5XCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLmdyYW5kVG90YWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy50b3RhbFNhbGVzKSArIHBhcnNlRmxvYXQodGhpcy50b3RhbFRheCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZEludm9pY2VJdGVtID0gZGF0YSA9PiB7XHJcbiAgICAgIHZtLmludm9pY2VJdGVtcy5wdXNoKGRhdGEpO1xyXG4gICAgICB2bS5hZGRJdGVtID0ge1xyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgICAgIHF1YW50aXR5OiBcIlwiLFxyXG4gICAgICAgIHVuaXRQcmljZTogXCJcIixcclxuICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IFwiXCIsXHJcbiAgICAgICAgdGF4UmF0ZTogXCJcIixcclxuICAgICAgICBzYWxlczogXCJcIlxyXG4gICAgICB9O1xyXG4gICAgICB2bS5zZWxlY3RlZEZpbGVzID0gXCJcIjtcclxuICAgIH07XHJcbiAgICB2bS5yZW1vdmVJbnZvaWNlSXRlbSA9IGluZGV4ID0+IHtcclxuICAgICAgdm0uaW52b2ljZUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9O1xyXG4gICAgdm0uY3JlYXRlSW52b2ljZSA9IGRhdGEgPT4ge1xyXG4gICAgICBpZiAoIWRhdGEuY2xpZW50KSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBjbGllbnRcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWRhdGEuZGF0ZSkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgZGF0ZVwiKTtcclxuICAgICAgfSBlbHNlIGlmICghZGF0YS5kdWVEYXRlKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBkdWUgZGF0ZVwiKTtcclxuICAgICAgfSBlbHNlIGlmICghZGF0YS50ZXJtc0FuZENvbmRpdGlvbnMpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgY2hlY2sgdGVybXMgYW5kIGNvbmRpdGlvbnNcIik7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWRhdGEuY2FsY3VsYXRlZFByb2Nlc3MpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgY2hlY2sgY2FsY3VsYXRlZCBwcm9jZXNzXCIpO1xyXG4gICAgICB9IGVsc2UgaWYgKGRhdGEuaXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBpbnZvaWNlRGF0YSA9IHtcclxuICAgICAgICAgIGNsaWVudDogZGF0YS5jbGllbnQuX2lkLFxyXG4gICAgICAgICAgZGF0ZTogbW9tZW50KGRhdGEuZGF0ZSkuZm9ybWF0KCksXHJcbiAgICAgICAgICBkdWVEYXRlOiBtb21lbnQoZGF0YS5kdWVEYXRlKS5mb3JtYXQoKSxcclxuICAgICAgICAgIHByb2plY3RTeXN0ZW1UYWc6IGRhdGEucmVmZXJlbmNlLFxyXG4gICAgICAgICAgdGVybXNBbmRDb25kaXRpb25zOiBkYXRhLnRlcm1zQW5kQ29uZGl0aW9ucyxcclxuICAgICAgICAgIGNhbGN1bGF0ZWRQcm9jZXNzOiBkYXRhLmNhbGN1bGF0ZWRQcm9jZXNzLFxyXG4gICAgICAgICAgaXRlbXM6IGRhdGEuaXRlbXMsXHJcbiAgICAgICAgICBlbWFpbDogZGF0YS5jbGllbnQuZW1haWxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuY3JlYXRlSW52b2ljZShpbnZvaWNlRGF0YSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkludm9pY2UgY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBhcGlGYWN0b3J5Lmxpc3RBbGxQcm9qZWN0SW52b2ljZShkYXRhLnJlZmVyZW5jZSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oZ2V0SW52b2ljZUxpc3QpXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBhZGQgaW52b2ljZSBJdGVtc1wiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgICRzY29wZS5hY3RpdmVDbGFzcyA9IGZ1bmN0aW9uKHBhdGgpIHtcclxuICAgICAgcmV0dXJuICRsb2NhdGlvbi5wYXRoKCkgPT09IHBhdGggPyBcImFjdGl2ZVwiIDogXCJcIjtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SW52b2ljZUxpc3QocmVzcCkge1xyXG4gICAgICB2bS5pbnZvaWNlTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2godm0uaW52b2ljZUxpc3QsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICBsZXQgYW1vdW50ID0gMDtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2goeC5pdGVtcywgZnVuY3Rpb24oeSkge1xyXG4gICAgICAgICAgYW1vdW50ID0gYW1vdW50ICsgeS5zYWxlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB4LnRvdGFsVmFsdWUgPSBhbW91bnQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZtLmFkZEludm9pY2VSb3cgPSAoKSA9PiB7XHJcbiAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zLnB1c2goe1xyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgICAgIHF1YW50aXR5OiBcIlwiLFxyXG4gICAgICAgIHVuaXRQcmljZTogXCJcIixcclxuICAgICAgICBkaXNjb3VudFBlcmNlbnQ6IFwiXCIsXHJcbiAgICAgICAgdGF4UmF0ZTogXCJcIixcclxuICAgICAgICBzYWxlczogXCJcIlxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ucmVtb3ZlSW52b2ljZVJvdyA9IGluZGV4ID0+IHtcclxuICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEudG90YWxTYWxlcyA9XHJcbiAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEudG90YWxTYWxlcyAtXHJcbiAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXNbaW5kZXhdLnNhbGVzO1xyXG4gICAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YS50b3RhbFRheCA9XHJcbiAgICAgICAgdm0uY3JlYXRlSW52b2ljZURhdGEudG90YWxUYXggLVxyXG4gICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLml0ZW1zW2luZGV4XS50YXhSYXRlO1xyXG4gICAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YS5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICBpZiAodm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgIGxldCBsSW50Tm9PZlJvd3MgPSA0IC0gdm0uY3JlYXRlSW52b2ljZURhdGEuaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IHYgPSAwOyB2IDwgbEludE5vT2ZSb3dzOyB2KyspIHtcclxuICAgICAgICAgIHZtLmFkZEludm9pY2VSb3coKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiY3JlYXRlUHJvamVjdEN0cmxcIiwgY3JlYXRlUHJvamVjdEN0cmwpO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgTmdNYXAsXG4gICAgZ2xvYmFsc1xuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuXG4gICAgbGV0IHZtID0gdGhpcztcblxuICAgIGNvbnN0IHtcbiAgICAgIGxvZ291dCxcbiAgICAgIHVzZXJTdG9yZSxcbiAgICAgIGNvbXBhbnlTdG9yZVxuICAgIH0gPSBnbG9iYWxzO1xuXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgfVxuXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1ByaXZpbGVnZShcInByb2plY3RcIiwgXCJjcmVhdGVQcm9qZWN0XCIpKSB7XG4gICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIkluc3VmZmljaWVudCBwZXJtaXNzaW9uc1wiKTtcbiAgICAgICRzdGF0ZS5nbyhcImRhc2hib2FyZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdm0uY2xpZW50cyA9IFtdO1xuICAgIC8vIGFwaUZhY3RvcnkubGlzdEFsbENsaWVudHMoKS50aGVuKHJlc3AgPT4ge1xuICAgIC8vICAgdm0uY2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xuICAgIC8vIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaChcInZtLnByb2plY3REYXRhLmNsaWVudFwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICQoXCJhLml0ZW0tc2VsZWN0ZWQgc3BhblwiKS5yZW1vdmVDbGFzcyhcImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlXCIpO1xuICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbENsaWVudHMoKSxcbiAgICAgICAgYXBpRmFjdG9yeS5nZXRIaWVyYXJjaHlUZW1wbGF0ZSgpXG4gICAgICBdKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNsaWVudHMgPSByZXNwWzBdLmRhdGEubGlzdDtcbiAgICAgICAgdm0udGVtcGxhdGVMaXN0ID0gcmVzcFsxXS5kYXRhLmRhdGE7XG4gICAgICAgIGxldCBzYW1wbGVUZW1wbGF0ZSA9IHZtLnRlbXBsYXRlTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5faWQgPT0gXCI1Yjg5MTBmYmRkNmZhODFhMjBiZmU3NDVcIjtcbiAgICAgICAgfSlcbiAgICAgICAgdm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSA9IFwiNWI4OTEwZmJkZDZmYTgxYTIwYmZlNzQ1XCI7XG5cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG5cbiAgICB2bS5nbWFwID0ge1xuICAgICAgdXJsOiBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9QUl6YVN5QTNNSUEtbUtXcV82MHExSzB6T0hndXJheFQtMVFQeE5VJmxpYnJhcmllcz1wbGFjZXNcIixcbiAgICAgIG1hcmtlcnM6IFtdLFxuICAgICAgc3R5bGVzOiBbXSxcbiAgICAgIGNlbnRlcjogXCI0MSwtODdcIixcbiAgICAgIHpvb206IDNcbiAgICB9O1xuXG4gICAgdm0ucHJvamVjdERhdGEgPSB7XG4gICAgICBhZGRyZXNzOiB7fVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2VsZWN0Mk9wdGlvbnMgPSB7XG4gICAgICBhbGxvd0NsZWFyOiB0cnVlXG4gICAgfTtcblxuICAgIHZtLnBsYWNlTWFya2VyID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgY29uc3QgcGxhY2VEYXRhID0gdGhpcy5nZXRQbGFjZSgpLmdlb21ldHJ5LmxvY2F0aW9uO1xuICAgICAgdm0uZ21hcC5tYXJrZXJzID0gW1xuICAgICAgICBbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldXG4gICAgICBdO1xuICAgICAgdm0uZ21hcC56b29tID0gMTU7XG4gICAgICB2bS5nbWFwLmNlbnRlciA9IGAke3BsYWNlRGF0YS5sYXQoKX0sJHtwbGFjZURhdGEubG5nKCl9YDtcbiAgICAgIHZtLnByb2plY3REYXRhLmFkZHJlc3MubG9jID0ge1xuICAgICAgICBjb29yZGluYXRlczogW3BsYWNlRGF0YS5sYXQoKSwgcGxhY2VEYXRhLmxuZygpXVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdm0uYWRkUHJvamVjdCA9IGZvcm1EYXRhID0+IHtcbiAgICAgIGZvcm1EYXRhLmNsaWVudCA9IGZvcm1EYXRhLmNsaWVudC5faWQ7XG4gICAgICBhcGlGYWN0b3J5XG4gICAgICAgIC5jcmVhdGVQcm9qZWN0KGZvcm1EYXRhKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlByb2plY3QgaGFzIGJlZW4gY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIHByb2plY3RJZDogcmVzcC5kYXRhLl9pZCxcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IHJlc3AuZGF0YS5faWQgJiZcbiAgICAgICAgICAgICAgKHZtLmZpbGVtYW5hZ2VyVGVtcGxhdGUgJiYgdm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSAhPSBcImZhbHNlXCIpID9cbiAgICAgICAgICAgICAgdm0uZmlsZW1hbmFnZXJUZW1wbGF0ZSA6IFwiNWI4OTEwZmJkZDZmYTgxYTIwYmZlNzQ1XCJcbiAgICAgICAgICB9O1xuICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgIC5sb2FkSGllcmFyY2h5VHJlZShwYXlsb2FkKVxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2plY3RpZFwiLCByZXNwLmRhdGEuX2lkKTtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLnVwZGF0ZU1hcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBwb3MgPSB0aGlzLmdldFBvc2l0aW9uKCk7XG4gICAgICB2bS5wcm9qZWN0RGF0YS5hZGRyZXNzLmxvYyA9IHtcbiAgICAgICAgY29vcmRpbmF0ZXM6IFtwb3MubGF0KCksIHBvcy5sbmcoKV1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIE5nTWFwLmdldE1hcCgpLnRoZW4obWFwID0+IHtcbiAgICAgIHZtLm1hcCA9IG1hcDtcbiAgICAgIG1hcC5zZXRPcHRpb25zKHtcbiAgICAgICAgc3R5bGVzOiB2bS5nbWFwLnN0eWxlcyxcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcbiAgICAgICAgem9vbUNvbnRyb2w6IHRydWUsXG4gICAgICAgIHpvb206IDEsXG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgIGxhdDogMCxcbiAgICAgICAgICBsbmc6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuXG4gICAgdm0uYXNzaWduVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgICB2bS5maWxlbWFuYWdlclRlbXBsYXRlID0gdm0uc2VsZWN0ZWRUZW1wbGF0ZS5faWQ7XG4gICAgICAkKCcjYXNzaWduVGVtcGxhdGVNb2RhbCcpLm1vZGFsKCdoaWRlJylcbiAgICB9XG4gIH1cbn0pKCk7IiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImNyZWF0ZVZhcmlhdGlvbnNPcmRlckN0cmxcIiwgY3JlYXRlVmFyaWF0aW9uc09yZGVyQ3RybCk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlVmFyaWF0aW9uc09yZGVyQ3RybChcbiAgICAkc2NvcGUsXG4gICAgJHRpbWVvdXQsXG4gICAgYXV0aEZhY3RvcnksXG4gICAgJHN0YXRlLFxuICAgIGFwaUZhY3RvcnksXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHMsXG4gICAgTmdNYXAsXG4gICAgVXBsb2FkLFxuICAgIG1vbWVudCxcbiAgICAkbG9jYXRpb25cbiAgKSB7XG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cbiAgICBsZXQgdm0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsIGRlYm91bmNlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICAgIGNvbnNvbGUubG9nKHZtLnVzZXJEYXRhKVxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgIGxvZ291dCgpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuYWN0aXZlQ2xhc3MgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgcmV0dXJuICgkbG9jYXRpb24ucGF0aCgpID09PSBwYXRoKSA/ICdhY3RpdmUnIDogJyc7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiZGFzaGJvYXJkQ3RybFwiLCBkYXNoYm9hcmRDdHJsKTtcclxuXHJcbiAgZnVuY3Rpb24gZGFzaGJvYXJkQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkd2luZG93LFxyXG4gICAgJGxvY2F0aW9uLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgTmdNYXBcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcblxyXG4gICAgbGV0IHZtID0gdGhpcztcclxuICAgIHZtLmxvZ2dlZEluID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxvZ291dCxcclxuICAgICAgdXNlclN0b3JlLFxyXG4gICAgICBjb21wYW55U3RvcmUsXHJcbiAgICAgIHByb2plY3RTdG9yZSxcclxuICAgICAgdGhyb3R0bGVyXHJcbiAgICB9ID0gZ2xvYmFscztcclxuXHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICB2bS5sb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2bS5sb2FkZXIgPSBmYWxzZTtcclxuXHJcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIHZtLmNsaWVudFVybCA9XHJcbiAgICAgIFwiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZGt0bmhtc2p4L2ltYWdlL3VwbG9hZC92MTQ4NjEyOTIzNC9kZWZhdWx0L2NvbXBhbnkucG5nXCI7XHJcbiAgICB2bS5nbWFwID0ge1xyXG4gICAgICB1cmw6XHJcbiAgICAgICAgXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVVwiLFxyXG4gICAgICBzdHlsZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzIxMjEyMVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy5pY29uXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9mZlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMyMTIxMjFcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZVwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5jb3VudHJ5XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjOWU5ZTllXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmUubGFuZF9wYXJjZWxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib2ZmXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmUubG9jYWxpdHlcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiNiZGJkYmRcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2lcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kucGFya1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMxODE4MThcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kucGFya1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzYxNjE2MVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMxYjFiMWJcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMmMyYzJjXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzhhOGE4YVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuYXJ0ZXJpYWxcIixcclxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjMzczNzM3XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5oaWdod2F5XCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzNjM2MzY1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuaGlnaHdheS5jb250cm9sbGVkX2FjY2Vzc1wiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgIHN0eWxlcnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM0ZTRlNGVcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmxvY2FsXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjNjE2MTYxXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwidHJhbnNpdFwiLFxyXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcIndhdGVyXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgc3R5bGVyczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcIndhdGVyXCIsXHJcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICBzdHlsZXJzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjb2xvcjogXCIjM2QzZDNkXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgbWFya2VyczogW11cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTWFya2Vycyhwcm9qZWN0TGlzdCkge1xyXG4gICAgICBsZXQgbXhMYXQgPSAwLFxyXG4gICAgICAgIG14TG5nID0gMCxcclxuICAgICAgICBtbkxhdCA9IDAsXHJcbiAgICAgICAgbW5MbmcgPSAwLFxyXG4gICAgICAgIG1hcmtlcnMgPSBbXTtcclxuICAgICAgcHJvamVjdExpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBpZiAoZWxlbWVudC5hZGRyZXNzKSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkcmVzcy5sb2MuY29vcmRpbmF0ZXNbMF0gIT0gMCB8fFxyXG4gICAgICAgICAgICBlbGVtZW50LmFkZHJlc3MubG9jLmNvb3JkaW5hdGVzWzFdICE9IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgbXJrciA9IHtcclxuICAgICAgICAgICAgICBpZDogZWxlbWVudC5faWQsXHJcbiAgICAgICAgICAgICAgbGF0aXR1ZGU6IGVsZW1lbnQuYWRkcmVzcy5sb2MuY29vcmRpbmF0ZXNbMV0sXHJcbiAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBlbGVtZW50LmFkZHJlc3MubG9jLmNvb3JkaW5hdGVzWzBdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIG14TGF0ID0gbXhMYXQgPiBtcmtyLmxhdGl0dWRlID8gbXJrci5sYXRpdHVkZSA6IG14TGF0O1xyXG4gICAgICAgICAgICBtbkxhdCA9IG1uTGF0IDwgbXJrci5sYXRpdHVkZSA/IG1ya3IubGF0aXR1ZGUgOiBtbkxhdDtcclxuICAgICAgICAgICAgbXhMbmcgPSBteExuZyA+IG1ya3IubG9uZ2l0dWRlID8gbXJrci5sb25naXR1ZGUgOiBteExuZztcclxuICAgICAgICAgICAgbW5MbmcgPSBtbkxuZyA8IG1ya3IubG9uZ2l0dWRlID8gbXJrci5sb25naXR1ZGUgOiBtbkxuZztcclxuICAgICAgICAgICAgbWFya2Vycy5wdXNoKFttcmtyLmxhdGl0dWRlLCBtcmtyLmxvbmdpdHVkZV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBtYXJrZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdldCBhbGwgZGFzaGJvYXJkIGRhdGEgKi9cclxuXHJcbiAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgIGFwaUZhY3RvcnkuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKSxcclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsUHJvamVjdHMoKSxcclxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsQ2xpZW50cygpLFxyXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxUb2RvTGlzdCgpXHJcbiAgICBdKVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAvKiBBZGQgY29tcGFueURhdGEgdG8gc3RvcmUgKi9cclxuICAgICAgICBjb21wYW55U3RvcmUuc2V0KGRhdGFbMF0uZGF0YSk7XHJcbiAgICAgICAgLyogQWRkIG1hcmtlcnMgZnJvbSBwcm9qZWN0IGRhdGEgKi9cclxuICAgICAgICB2bS5nbWFwLm1hcmtlcnMgPSBhZGRNYXJrZXJzKGRhdGFbMV0uZGF0YS5saXN0KTtcclxuICAgICAgICB2bS5kYXNoYm9hcmREYXRhID0ge1xyXG4gICAgICAgICAgY29tcGFueTogZGF0YVswXS5kYXRhLFxyXG4gICAgICAgICAgcHJvamVjdHM6IGRhdGFbMV0uZGF0YS5saXN0LFxyXG4gICAgICAgICAgY2xpZW50czogZGF0YVsyXS5kYXRhLmxpc3QsXHJcbiAgICAgICAgICB0b2RvTGlzdHM6IGRhdGFbM10uZGF0YS5kYXRhXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBOZ01hcC5nZXRNYXAoKS50aGVuKG1hcCA9PiB7XHJcbiAgICAgIG1hcC5zZXRPcHRpb25zKHtcclxuICAgICAgICBzdHlsZXM6IHZtLmdtYXAuc3R5bGVzLFxyXG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXHJcbiAgICAgICAgem9vbTogMSxcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgIGxhdDogMCxcclxuICAgICAgICAgIGxuZzogMFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBQcm9qZWN0IHBpY2tlciBsb2FkIGZ1bmN0aW9uYWxpdHkgKi9cclxuXHJcbiAgICBsZXQgZW5hYmxlZCA9IHRydWUsXHJcbiAgICAgIGNodW5rU2l6ZSA9IDU7XHJcbiAgICB2bS5wcm9qZWN0U2VhcmNoID0gXCJcIjtcclxuICAgIHZtLmVuYWJsZUxhenlMb2FkID0gZmFsc2U7XHJcbiAgICB2bS5zb3J0UGFyYW1zID0ge1xyXG4gICAgICBmaWVsZDogXCJjcmVhdGVkXCIsXHJcbiAgICAgIHR5cGU6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnByb2plY3ROYW1lID0gXCJQUk9KRUNUXCI7XHJcblxyXG4gICAgLyogR2V0IGJvb2ttYXJrZWQgcHJvamVjdCBMaXN0ICovXHJcbiAgICAkc2NvcGUuZ2V0Qm9va21hcmtlZFByb2plY3QgPSAoKSA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0Qm9va21hcmtzKClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0ID0gcmVzcC5kYXRhLmJvb2ttYXJrcztcclxuICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdCA9IGFuZ3VsYXIuY29weSh2bS5ib29rbWFya2VkUHJvamVjdCk7XHJcbiAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIF9pZDogXCJvdGhlcnNcIixcclxuICAgICAgICAgICAgcHJvamVjdE5hbWU6IFwiQWxsIFByb2plY3QgTGlzdFwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC51bnNoaWZ0KHtcclxuICAgICAgICAgIC8vICAgX2lkOiBcIk5BXCIsXHJcbiAgICAgICAgICAvLyAgIHByb2plY3ROYW1lOiBcIlNlbGVjdCBhIHByb2plY3RcIlxyXG4gICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAvLyB2bS5wcm9qZWN0ID0gdm0uYm9va21hcmtlZFByb2plY3RMaXN0WzBdO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLmdldEJvb2ttYXJrZWRQcm9qZWN0KCk7XHJcblxyXG4gICAgdm0ubG9hZFByb2plY3RGaWxlcyA9IGlkID0+IHtcclxuICAgICAgbGV0IGxpbWl0ID0gNTtcclxuICAgICAgYXBpRmFjdG9yeS5zaG93UHJvamVjdEZpbGVzKGlkLCBsaW1pdCkudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5wcm9qZWN0RmlsZXMgPSByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdm0uYm9va21hcmtGbGFnID0gZmFsc2U7XHJcbiAgICAvKiBjaG9vc2UgcHJvamVjdCBmcm9tIGJvb2ttYXJrZWQgcHJvamVjdCBsaXN0ICovXHJcbiAgICB2bS5zZWxlY3RlZFByb2plY3QgPSBwcm9qZWN0ID0+IHtcclxuICAgICAgaWYgKHByb2plY3QuX2lkID09IFwib3RoZXJzXCIpIHtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAubGlzdEFsbFByb2plY3RzKClcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB2bS5wcm9qZWN0UGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAkKFwiI2Nob29zZVByb2plY3RcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2bS5ib29rbWFya0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2godm0uYm9va21hcmtlZFByb2plY3QsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgIGlmICh4Ll9pZCA9PSBwcm9qZWN0Ll9pZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHZtLmJvb2ttYXJrRmxhZyA9IHRydWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZtLnByb2plY3ROYW1lID0gcHJvamVjdC5wcm9qZWN0TmFtZTtcclxuICAgICAgICBwcm9qZWN0U3RvcmUuc2V0KHByb2plY3QpO1xyXG4gICAgICAgIHZtLmxvYWRQcm9qZWN0RmlsZXMocHJvamVjdC5faWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIENob29zZSBwcm9qZWN0IGZvcm0gYWxsIHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0uY2hvb3NlUHJvamVjdCA9IHByb2plY3QgPT4ge1xyXG4gICAgICB2YXIgaW5kZXggPSB2bS5ib29rbWFya2VkUHJvamVjdExpc3QuZmluZEluZGV4KGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICByZXR1cm4geC5faWQgPT0gXCJvdGhlcnNcIjtcclxuICAgICAgfSk7XHJcbiAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICBsZXQgYWxyZWFkeUV4aXN0ID0gdHJ1ZTtcclxuICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmJvb2ttYXJrZWRQcm9qZWN0LCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgaWYgKHguX2lkID09IHByb2plY3QuX2lkKSB7XHJcbiAgICAgICAgICBhbHJlYWR5RXhpc3QgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoYWxyZWFkeUV4aXN0KSB7XHJcbiAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnB1c2gocHJvamVjdCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5wdXNoKHtcclxuICAgICAgICBfaWQ6IFwib3RoZXJzXCIsXHJcbiAgICAgICAgcHJvamVjdE5hbWU6IFwiQWxsIFByb2plY3QgTGlzdFwiXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdm0ucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgICAgIHZtLnByb2plY3ROYW1lID0gcHJvamVjdC5wcm9qZWN0TmFtZTtcclxuICAgICAgdm0uYm9va21hcmtGbGFnID0gZmFsc2U7XHJcbiAgICAgIHByb2plY3RTdG9yZS5zZXQocHJvamVjdCk7XHJcblxyXG4gICAgICAkKFwiI2Nob29zZVByb2plY3RcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAobG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJjdXJyZW50UHJvamVjdFwiKSkge1xyXG4gICAgICBsZXQgY3VycmVudFByb2plY3QgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcImN1cnJlbnRQcm9qZWN0XCIpO1xyXG4gICAgICB2bS5wcm9qZWN0ID0gY3VycmVudFByb2plY3Q7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKHZtLnByb2plY3QsIFwidm0ucHJvamVjdFwiKVxyXG4gICAgICB2bS5wcm9qZWN0TmFtZSA9IGN1cnJlbnRQcm9qZWN0LnByb2plY3ROYW1lO1xyXG4gICAgICB2bS5sb2FkUHJvamVjdEZpbGVzKHZtLnByb2plY3QuX2lkKTtcclxuXHJcbiAgICAgIGxldCBhbHJlYWR5Qm9va21hcmtlZCA9IGZhbHNlO1xyXG4gICAgICBhbmd1bGFyLmZvckVhY2godm0uYm9va21hcmtlZFByb2plY3QsIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICBpZiAoeC5faWQgPT0gY3VycmVudFByb2plY3QuX2lkKSB7XHJcbiAgICAgICAgICByZXR1cm4gKGFscmVhZHlCb29rbWFya2VkID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghYWxyZWFkeUJvb2ttYXJrZWQpIHtcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBpbmRleCA9IHZtLmJvb2ttYXJrZWRQcm9qZWN0TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICByZXR1cm4geC5faWQgPT0gXCJvdGhlcnNcIjtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3RMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3QucHVzaChjdXJyZW50UHJvamVjdCk7XHJcbiAgICAgICAgICB2bS5ib29rbWFya2VkUHJvamVjdExpc3QucHVzaCh7XHJcbiAgICAgICAgICAgIF9pZDogXCJvdGhlcnNcIixcclxuICAgICAgICAgICAgcHJvamVjdE5hbWU6IFwiQWxsIFByb2plY3QgTGlzdFwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIEV2ZW50IGhhbmRsZXIgdG8gcmVzZXQgYWRkIG1hdGVyaWFsIG1vZGFsICovXHJcbiAgICAkKFwiI2Nob29zZVByb2plY3RcIikub24oXCJoaWRlLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2bS5lbmFibGVMYXp5TG9hZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdm0uY2xvc2VQcm9qZWN0UGlja2VyID0gKCkgPT4ge1xyXG4gICAgICAkKFwiI2Nob29zZVByb2plY3RcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICB2bS5wcm9qZWN0ID0gbnVsbDtcclxuICAgICAgcHJvamVjdFN0b3JlLnNldChcIlwiKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uY2hlY2tCb29rbWFyayA9IGRhdGEgPT4ge1xyXG4gICAgICBsZXQgYm9va21hcmsgPSB0cnVlO1xyXG4gICAgICBsZXQgYWxyZWFkeUJvb2ttYXJrZWQgPSBmYWxzZTtcclxuICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmJvb2ttYXJrZWRQcm9qZWN0LCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgaWYgKHguX2lkID09IGRhdGEuX2lkKSB7XHJcbiAgICAgICAgICByZXR1cm4gKGFscmVhZHlCb29rbWFya2VkID0gdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGFscmVhZHlCb29rbWFya2VkKSB7XHJcbiAgICAgICAgYm9va21hcmsgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBib29rbWFyayA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuYm9va01hcmtQcm9qZWN0KHByb2plY3RTdG9yZS5nZXQoKS5faWQsIGJvb2ttYXJrKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgaWYgKGJvb2ttYXJrKSB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiUHJvamVjdCBzdWNjZXNzZnVsbHkgYm9va21hcmtlZFwiKTtcclxuICAgICAgICAgICAgdm0uYm9va21hcmtlZFByb2plY3QucHVzaChkYXRhKTtcclxuICAgICAgICAgICAgdm0uYm9va21hcmtGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFxyXG4gICAgICAgICAgICAgIFwiUHJvamVjdCBzdWNjZXNzZnVsbHkgcmVtb3ZlZCBmcm9tIGJvb2ttYXJrIGxpc3RcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2bS5ib29rbWFya2VkUHJvamVjdC5maW5kSW5kZXgoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB4Ll9pZCA9PSBkYXRhLl9pZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZtLmJvb2ttYXJrZWRQcm9qZWN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHZtLmJvb2ttYXJrRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hZGRNb3JlID0gKCkgPT4ge1xyXG4gICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIGNodW5rU2l6ZSArPSA1O1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5saXN0QWxsUHJvamVjdHMoe1xyXG4gICAgICAgICAgICBzZWFyY2g6IHZtLnByb2plY3RTZWFyY2gsXHJcbiAgICAgICAgICAgIGNodW5rOiBjaHVua1NpemUsXHJcbiAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgIHNvcnQ6IHZtLnNvcnRQYXJhbXMuZmllbGQsXHJcbiAgICAgICAgICAgIHNvcnRUeXBlOiB2bS5zb3J0UGFyYW1zLnR5cGVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgdm0ucHJvamVjdFBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKiBGaWxlIHBpY2tlciBvcHRpb25zICovXHJcblxyXG4gICAgdm0uZmlsZVBpY2tlck9wdGlvbnMgPSB7XHJcbiAgICAgIGZpbHRlcjogXCJwZGZcIlxyXG4gICAgfTtcclxuICAgIC8qIEZ1bmN0aW9uIHRvIHNlYXJjaCBwcm9qZWN0cyAqL1xyXG4gICAgdm0uc2VhcmNoUHJvamVjdHMgPSB0ZXh0ID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5saXN0QWxsUHJvamVjdHMoe1xyXG4gICAgICAgICAgc2VhcmNoOiB2bS5wcm9qZWN0U2VhcmNoLFxyXG4gICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcclxuICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICBzb3J0OiB2bS5zb3J0UGFyYW1zLmZpZWxkLFxyXG4gICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5wcm9qZWN0UGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIEZ1bmN0aW9uIHRvIHNvcnQgcHJvamVjdHMgKi9cclxuICAgIHZtLnNvcnQgPSBmaWVsZCA9PiB7XHJcbiAgICAgIGlmICh2bS5zb3J0UGFyYW1zLmZpZWxkID09PSBmaWVsZCkge1xyXG4gICAgICAgIHZtLnNvcnRQYXJhbXMudHlwZSA9ICF2bS5zb3J0UGFyYW1zLnR5cGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdm0uc29ydFBhcmFtcy5maWVsZCA9IGZpZWxkO1xyXG4gICAgICAgIHZtLnNvcnRQYXJhbXMudHlwZSA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubGlzdEFsbFByb2plY3RzKHtcclxuICAgICAgICAgIHNlYXJjaDogdm0ucHJvamVjdFNlYXJjaCxcclxuICAgICAgICAgIGNodW5rOiBjaHVua1NpemUsXHJcbiAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcclxuICAgICAgICAgIHNvcnRUeXBlOiB2bS5zb3J0UGFyYW1zLnR5cGVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0ucHJvamVjdFBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUucmVkaXJlY3RUbzNEID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVkaWVjdGlvbiBjYWxsZWRcIik7XHJcblxyXG4gICAgICBhcGlGYWN0b3J5LmdldDNEUGFnZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVzcG9uc2U6XCIsIHJlc3BvbnNlKTtcclxuICAgICAgICAvLyBpZiAocmVzcG9uc2UuZGF0YSA9PSBcInRydWVcIikge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coXCJjb25zb2xlIHdoZW4gcmVzcG9uc2UgdHJ1ZVwiLHJlc3BvbnNlKTtcclxuICAgICAgICAvLyAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9jbG91ZGVzLTNkLmNvbVwiO1xyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNvbnNvbGUgd2hlbiByZXNwb25zZSBmYWxzZVwiLHJlc3BvbnNlKTtcclxuICAgICAgICAvLyAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly9jbG91ZGVzLTNkLmNvbVwiO1xyXG5cclxuICAgICAgICAvLyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZtLmdvVG9FY29ub21pYyA9ICgpID0+IHtcclxuICAgICAgLyogIGlmIChwcm9qZWN0U3RvcmUuZ2V0KCkpIHtcclxuICAgICAgICAkc3RhdGUuZ28oXCJlY29ub21pY1wiKTtcclxuICAgICAgfSBlbHNlIHsgXHJcbiAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiUGxlYXNlIHNlbGVjdCBhIHByb2plY3RcIik7XHJcbiAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2Nyb2xsVG9wOiAkKFwiLnByb2plY3RcIikub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgfSxcclxuICAgICAgICA1MDAsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkKFwiI3NlbGVjdFByb2plY3RcIilcclxuICAgICAgICAgICAgLmZvY3VzKClcclxuICAgICAgICAgICAgLmFkZENsYXNzKFwiYmxpbmtcIik7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJChcIiNzZWxlY3RQcm9qZWN0XCIpLnJlbW92ZUNsYXNzKFwiYmxpbmtcIik7XHJcbiAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIH0qL1xyXG4gICAgICAkc3RhdGUuZ28oXCJlY29ub21pY1wiKTtcclxuICAgIH07XHJcbiAgICB2bS5nb1RvRmlsZU1hbmFnZXIgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicHJvamVjdFwiLCBwcm9qZWN0U3RvcmUuZ2V0KCkpO1xyXG4gICAgICBpZiAocHJvamVjdFN0b3JlLmdldCgpKSB7XHJcbiAgICAgICAgJHN0YXRlLmdvKFwiZmlsZU1hbmFnZXJcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJQbGVhc2Ugc2VsZWN0IGEgcHJvamVjdFwiKTtcclxuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzY3JvbGxUb3A6ICQoXCIucHJvamVjdFwiKS5vZmZzZXQoKS50b3BcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICA1MDAsXHJcbiAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJChcIiNzZWxlY3RQcm9qZWN0XCIpXHJcbiAgICAgICAgICAgICAgLmZvY3VzKClcclxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJibGlua1wiKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgJChcIiNzZWxlY3RQcm9qZWN0XCIpLnJlbW92ZUNsYXNzKFwiYmxpbmtcIik7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyogUm9vZiBwbGFuIGZ1bmN0aW9uYWxpdGllcyAqL1xyXG5cclxuICAgIHZtLnBsYW5QaWNrZXJQbGFucyA9IFtdO1xyXG4gICAgdm0ucm9vdEZvbGRlcnMgPSBbXTtcclxuXHJcbiAgICB2bS5vcGVuUGxhblBpY2tlciA9ICgpID0+IHtcclxuICAgICAgaWYgKCFwcm9qZWN0U3RvcmUuZ2V0KCkpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIk5vIHByb2plY3Qgc2VsZWN0ZWRcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgbGV0IHJvb2ZQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJyb29mUGxhblByb2plY3RcIiwgcHJvamVjdFN0b3JlLmdldCgpLl9pZCk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInJvb2ZQbGFuc1wiLCByb29mUGxhbnMpO1xyXG4gICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gcm9vZlBsYW5zO1xyXG4gICAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmdldEhpZXJhcmNoeShwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG5cclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnNob3dUcmVlID0gdHJ1ZTtcclxuICAgICAgICAgIHZtLnJvb3RGb2xkZXJzID0gcmVzcC5kYXRhLmRhdGEuaGllcmFyY2hpZXM7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uY2hvb3NlUGxhbiA9IHBsYW4gPT4ge1xyXG4gICAgICAkKFwiI2Nob29zZVJvb2ZNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwic2VsZWN0ZWRQbGFuXCIsIHBsYW4pO1xyXG4gICAgICAkc3RhdGUuZ28oXCJ2aXN1YWxQbGFubmVyXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5hbGxNb2RhbENsb3NlID0gKCkgPT4ge1xyXG4gICAgICAkKFwiI2Nob29zZUZpbGUsICNzZWxlY3RGaWxlQ2FudmFzLCAjc2VsZWN0RmlsZSwgI2Nob29zZVJvb2ZNb2RhbFwiKS5tb2RhbChcclxuICAgICAgICBcImhpZGVcIlxyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5maWxlQ2hvb3NlID0gKCkgPT4ge1xyXG4gICAgICB2bS5waWNrZXJGb2xkZXJzID0gYW5ndWxhci5jb3B5KHZtLnJvb3RGb2xkZXJzKTtcclxuICAgICAgJChcIiNjaG9vc2VGaWxlXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgJChcIiNjaG9vc2VGaWxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgJChcIiNjaG9vc2VGaWxlIC5tb2RhbC1kaWFsb2dcIikuY3NzKHtcclxuICAgICAgICBcIi13ZWJraXQtYm94LXNoYWRvd1wiOiBcIjBweCAwcHggNDdweCA2cHggcmdiYSgwLCAwLCAwLCAwLjc1KVwiLFxyXG4gICAgICAgIFwiLW1vei1ib3gtc2hhZG93XCI6IFwiMHB4IDBweCA0N3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNzUpXCIsXHJcbiAgICAgICAgXCJib3gtc2hhZG93XCI6IFwiMHB4IDBweCA0N3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuNzUpXCJcclxuICAgICAgfSk7XHJcbiAgICAgICQoXCIucm9vdEZvbGRlclwiKS5zaG93KCk7XHJcbiAgICAgICQoXCIuY2hpbGRGb2xkZXJcIikuaGlkZSgpO1xyXG4gICAgICB2bS5tb3ZldG8gPSBcIm1vdmUgVG9cIjtcclxuICAgICAgJHNjb3BlLmZvbGRlck5hbWUgPSBcIlJvb3QgRm9sZGVyXCI7XHJcbiAgICAgIGlmICgkc2NvcGUuZm9sZGVyTmFtZSA9PSBcIlJvb3QgRm9sZGVyXCIpIHtcclxuICAgICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLiRvbihcImxvYWRlclwiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICB2bS5sb2FkZXIgPSBkYXRhO1xyXG4gICAgICBpZiAodm0ubG9hZGVyKSB7XHJcbiAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJtb2RhbC1vcGVuXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibW9kYWwtb3BlblwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkc2NvcGUuJG9uKFwic2VsZWN0ZWRSb29mUGxhbkRvY1wiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICB2bS5zZWxlY3RlZEFzc2V0Rm9yUGxhbiA9IGRhdGE7XHJcblxyXG4gICAgICB2bS5yb29mcGxhbkJyZWFkQ3J1bWIgPVxyXG4gICAgICAgIGRhdGEuYnJlYWRDcnVtYnMucmVkdWNlKChhY2MsIHgpID0+IHtcclxuICAgICAgICAgIGFjYyArPSBgJHt4Lm5hbWV9ID4gYDtcclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgXCJcIikgKyBkYXRhLmFzc2V0TmFtZTtcclxuXHJcbiAgICAgIGlmICgvY2xvdWRpbmFyeS8udGVzdChkYXRhLnNlY3VyZV91cmwpKSB7XHJcbiAgICAgICAgdm0uZmlsZUFycmF5ID0gZ2xvYmFscy5leHRyYWN0UGFnZXNGcm9tUGRmKGRhdGEuc2VjdXJlX3VybCwgZGF0YS5wYWdlcyk7XHJcbiAgICAgICAgdm0ubG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikuY3NzKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcclxuICAgICAgICAkKFwiI3NlbGVjdEZpbGVcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICQoXCIjc2VsZWN0RmlsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgdm0ucGRmRmlsZXMgPSBhbmd1bGFyLmNvcHkodm0uZmlsZUFycmF5KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh2bS5maWxlQXJyYXkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChkYXRhLnBsYW5Eb2N1bWVudCkge1xyXG4gICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLnBkZlBhZ2VzRGF0YSA9IHZtLnBkZkZpbGVzID0gZGF0YS5wbGFuSW1hZ2VzLm1hcCgoeCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge1xyXG4gICAgICAgICAgICAgIHBhZ2VObzogaSxcclxuICAgICAgICAgICAgICB0aXRsZTogYHRpdGxlXyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICAgIHVybDogeCxcclxuICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB2bS5sb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAkKFwiI3NlbGVjdEZpbGVcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgJChcIiNzZWxlY3RGaWxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZ2xvYmFscy5jcmVhdGVQYWdlc0Zyb21QZGYoZGF0YSkudGhlbihwYWdlcyA9PiB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2bS5wZGZQYWdlc0RhdGEgPSBwYWdlcztcclxuICAgICAgICAgICAgdm0ucGRmRmlsZXMgPSBwYWdlcztcclxuICAgICAgICAgICAgdm0ubG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICQoXCIjc2VsZWN0RmlsZUNhbnZhc1wiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICAgICQoXCIjc2VsZWN0RmlsZUNhbnZhc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdm0uaGlkZVNlbGVjdEZpbGUgPSAoKSA9PiB7XHJcbiAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xyXG4gICAgICAkKFwiI3NlbGVjdEZpbGVcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICB9O1xyXG4gICAgdm0uc2VsZWN0ZWRGaWxlTGlzdCA9ICh2YWwsIHR5cGUsIGFzc2V0KSA9PiB7XHJcbiAgICAgIGlmICh2YWwgPT0gXCJzdWJtaXRcIikge1xyXG4gICAgICAgICQoXCIjY2hvb3NlRmlsZSwgI3NlbGVjdEZpbGUsICNzZWxlY3RGaWxlQ2FudmFzXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLmNzcyhcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xyXG4gICAgICAgIHZtLnNlbGVjdGVkRmlsZXMgPSBbXTtcclxuICAgICAgICBhbmd1bGFyLmZvckVhY2godm0ucGRmRmlsZXMsIHggPT4ge1xyXG4gICAgICAgICAgaWYgKHguc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdm0uc2VsZWN0ZWRGaWxlcy5wdXNoKHgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAxKSB7XHJcbiAgICAgICAgICBsZXQgZW5kcG9pbnQgPVxyXG4gICAgICAgICAgICAhYXNzZXQucGxhbkRvY3VtZW50ICYmIC9jbG91ZGluYXJ5Ly50ZXN0KGFzc2V0LnNlY3VyZV91cmwpXHJcbiAgICAgICAgICAgICAgPyBcImFkZFByb2plY3RSb29mUGxhblwiXHJcbiAgICAgICAgICAgICAgOiBcImFkZFJvb2ZQbGFuc0Zyb21Bc3NldFwiO1xyXG4gICAgICAgICAgLyogQ2xvdWRpbmFyeSBwbGFucyAqL1xyXG4gICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0Ll9pZCxcclxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLFxyXG4gICAgICAgICAgICBwYWdlczogdm0uc2VsZWN0ZWRGaWxlc1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBhcGlGYWN0b3J5W2VuZHBvaW50XShwYXlsb2FkKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgLmdldFByb2plY3RSb29mUGxhbnMocHJvamVjdFN0b3JlLmdldCgpLl9pZClcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBsZXQgcm9vZlBsYW5zID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIFwicm9vZlBsYW5Qcm9qZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdFN0b3JlLmdldCgpLl9pZFxyXG4gICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcInJvb2ZQbGFuc1wiLCByb29mUGxhbnMpO1xyXG4gICAgICAgICAgICAgICAgICB2bS5wbGFuUGlja2VyUGxhbnMgPSByb29mUGxhbnM7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKiBTMyBwbGFucyAqL1xyXG4gICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGFzc2V0SWQ6IGFzc2V0Ll9pZCxcclxuICAgICAgICAgICAgcGRmVXJsOiBhc3NldC5zZWN1cmVfdXJsLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICAgIHBhZ2VzOiB2bS5zZWxlY3RlZEZpbGVzLnJlZHVjZSgoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB4LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHguZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICBwYWdlTm86IHgucGFnZU5vXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBhY2MucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIFtdKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmdlbmVyYXRlUm9vZlBsYW5zKHBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCByb29mUGxhbnMgPSByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyb29mUGxhblByb2plY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KFwicm9vZlBsYW5zXCIsIHJvb2ZQbGFucyk7XHJcbiAgICAgICAgICAgICAgICAgIHZtLnBsYW5QaWNrZXJQbGFucyA9IHJvb2ZQbGFucztcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHZhbCA9PSBcImNsb3NlXCIpIHtcclxuICAgICAgICAkKFwiI2Nob29zZUZpbGUsICNzZWxlY3RGaWxlLCAjc2VsZWN0RmlsZUNhbnZhc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAkKFwiI2Nob29zZVJvb2ZNb2RhbFwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5nb1RvTWVldGluZ1Jvb20gPSAoKSA9PiB7XHJcbiAgICAgIGlmIChwcm9qZWN0U3RvcmUuZ2V0KCkpIHtcclxuICAgICAgICAkc3RhdGUuZ28oXCJtZWV0aW5ncm9vbVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBOb3RpZmljYXRpb24ud2FybmluZyhcIlBsZWFzZSBzZWxlY3QgYSBwcm9qZWN0XCIpO1xyXG4gICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJChcIi5wcm9qZWN0XCIpLm9mZnNldCgpLnRvcFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDUwMCxcclxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKFwiI3NlbGVjdFByb2plY3RcIilcclxuICAgICAgICAgICAgICAuZm9jdXMoKVxyXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhcImJsaW5rXCIpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAkKFwiI3NlbGVjdFByb2plY3RcIikucmVtb3ZlQ2xhc3MoXCJibGlua1wiKTtcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJlY29ub21pY0N0cmxcIiwgZWNvbm9taWNDdHJsKTtcblxuICBmdW5jdGlvbiBlY29ub21pY0N0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBnbG9iYWxzLFxuICAgIE5nTWFwLFxuICAgIFVwbG9hZCxcbiAgICBtb21lbnQsXG4gICAgJGxvY2F0aW9uXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBkZWJvdW5jZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG4gICAgXG4gICAgY29uc29sZS5sb2codm0udXNlckRhdGEpXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgbG9nb3V0KCk7XG4gICAgfTtcblxuICAgIC8qICRzY29wZS5hY3RpdmVDbGFzcyA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICByZXR1cm4gKCRsb2NhdGlvbi5wYXRoKCkuc3Vic3RyKDAsIHBhdGgubGVuZ3RoKSA9PT0gcGF0aCkgPyAnYWN0aXZlJyA6ICcnO1xuICAgIH0gKi9cbiAgICAkc2NvcGUuYWN0aXZlQ2xhc3MgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgcmV0dXJuICgkbG9jYXRpb24ucGF0aCgpID09PSBwYXRoKSA/ICdhY3RpdmUnIDogJyc7XG4gICAgfVxuXG4gICAgdm0uYW5pbWF0ZUVsZW1lbnRzID0gKCkgPT4ge1xuICAgICAgJCgnLnByb2dyZXNzYmFyJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGVtZW50UG9zID0gJCh0aGlzKS5vZmZzZXQoKS50b3A7XG4gICAgICAgIHZhciB0b3BPZldpbmRvdyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgdmFyIHBlcmNlbnQgPSAkKHRoaXMpLmZpbmQoJy5jaXJjbGUnKS5hdHRyKCdkYXRhLXBlcmNlbnQnKTtcbiAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBwYXJzZUludChwZXJjZW50LCAxMCkgLyBwYXJzZUludCgxMDAsIDEwKTtcbiAgICAgICAgdmFyIGFuaW1hdGUgPSAkKHRoaXMpLmRhdGEoJ2FuaW1hdGUnKTtcbiAgICAgICAgaWYgKGVsZW1lbnRQb3MgPCB0b3BPZldpbmRvdyArICQod2luZG93KS5oZWlnaHQoKSAtIDMwICYmICFhbmltYXRlKSB7XG4gICAgICAgICAgJCh0aGlzKS5kYXRhKCdhbmltYXRlJywgdHJ1ZSk7XG4gICAgICAgICAgJCh0aGlzKS5maW5kKCcuY2lyY2xlJykuY2lyY2xlUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogLU1hdGguUEkgLyAyLFxuICAgICAgICAgICAgdmFsdWU6IHBlcmNlbnQgLyAxMDAsXG4gICAgICAgICAgICBzaXplOiAxODAsXG4gICAgICAgICAgICB0aGlja25lc3M6IDgsXG4gICAgICAgICAgICBlbXB0eUZpbGw6IFwicmdiYSgwLDAsMCwgLjIpXCIsXG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgIGNvbG9yOiAnIzQzZjZmZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5vbignY2lyY2xlLWFuaW1hdGlvbi1wcm9ncmVzcycsIGZ1bmN0aW9uIChldmVudCwgcHJvZ3Jlc3MsIHN0ZXBWYWx1ZSkge1xuXG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2RpdicpLnRleHQoKHN0ZXBWYWx1ZSAqIDEwMCkudG9GaXhlZCgwKSk7XG4gICAgICAgICAgfSkuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gU2hvdyBhbmltYXRlZCBlbGVtZW50c1xuICAgIHZtLmFuaW1hdGVFbGVtZW50cygpO1xuICAgICQod2luZG93KS5zY3JvbGwodm0uYW5pbWF0ZUVsZW1lbnRzKCkpO1xuXG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiZWNvbm9taWNQYXlyb2xsQ3RybFwiLCBlY29ub21pY1BheXJvbGxDdHJsKTtcblxuICBmdW5jdGlvbiBlY29ub21pY1BheXJvbGxDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFscyxcbiAgICBOZ01hcCxcbiAgICBVcGxvYWQsXG4gICAgbW9tZW50LFxuICAgICRsb2NhdGlvblxuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuICAgIGxldCB2bSA9IHRoaXM7XG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSwgZGVib3VuY2UgfSA9IGdsb2JhbHM7XG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xuXG4gICAgY29uc29sZS5sb2codm0udXNlckRhdGEpXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgbG9nb3V0KCk7XG4gICAgfTtcbiAgICAkc2NvcGUuYWN0aXZlQ2xhc3MgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgcmV0dXJuICgkbG9jYXRpb24ucGF0aCgpID09PSBwYXRoKSA/ICdhY3RpdmUnIDogJyc7XG4gICAgfVxuXG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJlbXBsb3llZXNDdHJsXCIsIGVtcGxveWVlc0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gZW1wbG95ZWVzQ3RybChcbiAgICAgICAgJHNjb3BlLFxuICAgICAgICAkdGltZW91dCxcbiAgICAgICAgYXV0aEZhY3RvcnksXG4gICAgICAgICRzdGF0ZSxcbiAgICAgICAgYXBpRmFjdG9yeSxcbiAgICAgICAgTm90aWZpY2F0aW9uLFxuICAgICAgICBOZ01hcCxcbiAgICAgICAgZ2xvYmFscyxcbiAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZSxcbiAgICAgICkge1xuICAgICAgICBsZXQgdm0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IHsgbG9nb3V0IH0gPSBnbG9iYWxzO1xuICAgIFxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuXG59KSgpOyIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJlcXVpcG1lbnRDdHJsXCIsIGVxdWlwbWVudEN0cmwpO1xuXG4gIGZ1bmN0aW9uIGVxdWlwbWVudEN0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBnbG9iYWxzLFxuICAgIFVwbG9hZCxcbiAgICBOZ01hcFxuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuXG4gICAgJHNjb3BlLmVxdWlwbWVudCA9IFtcbiAgICAgIHtcbiAgICAgICAgaW1nOiBcIi9hc3NldHMvaW1hZ2VzL2VxdWlwbWVudC5wbmdcIixcbiAgICAgICAgdGl0bGU6IFwiRXF1aXBtZW50IEFCQ1wiLFxuICAgICAgICBzdWJ0aXRsZTogXCJFUSAtIDEyMzRcIixcbiAgICAgICAgd29yazogXCJXb3JrZXIgSURcIixcbiAgICAgICAgdGFnOiBcIk5OUzEgLSBLaW0gTW9zZWdhYXJkXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQucG5nXCIsXG4gICAgICAgIHRpdGxlOiBcIkVxdWlwbWVudCBBQkNcIixcbiAgICAgICAgc3VidGl0bGU6IFwiRVEgLSAxMjM0XCIsXG4gICAgICAgIHdvcms6IFwiQ2FyXCIsXG4gICAgICAgIHRhZzogXCJOUi4gOTlcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1nOiBcIi9hc3NldHMvaW1hZ2VzL2VxdWlwbWVudC5wbmdcIixcbiAgICAgICAgdGl0bGU6IFwiRXF1aXBtZW50IEFCQ1wiLFxuICAgICAgICBzdWJ0aXRsZTogXCJFUSAtIDEyMzRcIixcbiAgICAgICAgd29yazogXCJXb3JrZXIgSURcIixcbiAgICAgICAgdGFnOiBcIk5OUzEgLSBLaW0gTW9zZWdhYXJkXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQucG5nXCIsXG4gICAgICAgIHRpdGxlOiBcIkVxdWlwbWVudCBBQkNcIixcbiAgICAgICAgc3VidGl0bGU6IFwiRVEgLSAxMjM0XCIsXG4gICAgICAgIHdvcms6IFwiV29ya2VyIElEXCIsXG4gICAgICAgIHRhZzogXCJOTlMxIC0gS2ltIE1vc2VnYWFyZFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWc6IFwiL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50LnBuZ1wiLFxuICAgICAgICB0aXRsZTogXCJFcXVpcG1lbnQgQUJDXCIsXG4gICAgICAgIHN1YnRpdGxlOiBcIkVRIC0gMTIzNFwiLFxuICAgICAgICB3b3JrOiBcIkNhclwiLFxuICAgICAgICB0YWc6IFwiTlIuIDk5XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQucG5nXCIsXG4gICAgICAgIHRpdGxlOiBcIkVxdWlwbWVudCBBQkNcIixcbiAgICAgICAgc3VidGl0bGU6IFwiRVEgLSAxMjM0XCIsXG4gICAgICAgIHdvcms6IFwiV29ya2VyIElEXCIsXG4gICAgICAgIHRhZzogXCJOTlMxIC0gS2ltIE1vc2VnYWFyZFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWc6IFwiL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50LnBuZ1wiLFxuICAgICAgICB0aXRsZTogXCJFcXVpcG1lbnQgQUJDXCIsXG4gICAgICAgIHN1YnRpdGxlOiBcIkVRIC0gMTIzNFwiLFxuICAgICAgICB3b3JrOiBcIldvcmtlciBJRFwiLFxuICAgICAgICB0YWc6IFwiTk5TMSAtIEtpbSBNb3NlZ2FhcmRcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1nOiBcIi9hc3NldHMvaW1hZ2VzL2VxdWlwbWVudC5wbmdcIixcbiAgICAgICAgdGl0bGU6IFwiRXF1aXBtZW50IEFCQ1wiLFxuICAgICAgICBzdWJ0aXRsZTogXCJFUSAtIDEyMzRcIixcbiAgICAgICAgd29yazogXCJDYXJcIixcbiAgICAgICAgdGFnOiBcIk5SLiA5OVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWc6IFwiL2Fzc2V0cy9pbWFnZXMvZXF1aXBtZW50LnBuZ1wiLFxuICAgICAgICB0aXRsZTogXCJFcXVpcG1lbnQgQUJDXCIsXG4gICAgICAgIHN1YnRpdGxlOiBcIkVRIC0gMTIzNFwiLFxuICAgICAgICB3b3JrOiBcIldvcmtlciBJRFwiLFxuICAgICAgICB0YWc6IFwiTk5TMSAtIEtpbSBNb3NlZ2FhcmRcIlxuICAgICAgfVxuICAgIF07XG4gICAgJHNjb3BlLmltZ191cGxvYWQgPSBbXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQzLnBuZ1wiIH0sXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQzLnBuZ1wiIH0sXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQzLnBuZ1wiIH1cbiAgICBdO1xuICAgICRzY29wZS5lcXVpcGRvY3VtZW50cyA9IFtcbiAgICAgIHsgaW1nOiBcIi9hc3NldHMvaW1hZ2VzL3BkZi5wbmdcIiwgdHlwZTogXCJEb2N1bWVudF8xLnBkZlwiIH0sXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9wZGYucG5nXCIsIHR5cGU6IFwiRG9jdW1lbnRfMi5wZGZcIiB9LFxuICAgICAgeyBpbWc6IFwiL2Fzc2V0cy9pbWFnZXMvcGRmLnBuZ1wiLCB0eXBlOiBcIkRvY3VtZW50XzMucGRmXCIgfVxuICAgIF07XG5cbiAgICBsZXQgdm0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdm0uaW5wdXRGaWxlcyA9IFtdO1xuICAgIHZtLnVwbG9hZEZpbGVzID0gW107XG5cbiAgICAkKFwiLnBheXJvbGxNZW51XCIpLmhpZGUoKTtcbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXG5cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgIGxvZ291dCgpO1xuICAgIH07XG5cbiAgICAvKipHb29nbGUgTWFwICovXG4gICAgdm0uZ21hcCA9IHtcbiAgICAgIHVybDpcbiAgICAgICAgXCJodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PUFJemFTeUEzTUlBLW1LV3FfNjBxMUswek9IZ3VyYXhULTFRUHhOVSZsaWJyYXJpZXM9cGxhY2VzXCIsXG4gICAgICBtYXJrZXJzOiBbXSxcbiAgICAgIHN0eWxlczogW10sXG4gICAgICBjZW50ZXI6IFwiNDEsLTg3XCIsXG4gICAgICB6b29tOiAzXG4gICAgfTtcbiAgICBsZXQgZ0FyeUxvY2F0aW9uID0gW107XG5cbiAgICB2bS5wbGFjZU1hcmtlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgY29uc3QgcGxhY2VEYXRhID0gdGhpcy5nZXRQbGFjZSgpLmdlb21ldHJ5LmxvY2F0aW9uO1xuICAgICAgdm0uZ21hcC5tYXJrZXJzID0gW1twbGFjZURhdGEubGF0KCksIHBsYWNlRGF0YS5sbmcoKV1dO1xuICAgICAgdm0uZ21hcC56b29tID0gMTU7XG4gICAgICB2bS5nbWFwLmNlbnRlciA9IGAke3BsYWNlRGF0YS5sYXQoKX0sJHtwbGFjZURhdGEubG5nKCl9YDtcbiAgICAgIC8vIHZtLmV2ZW50LmxvY2F0aW9uID0gIFtwbGFjZURhdGEubGF0KCksIHBsYWNlRGF0YS5sbmcoKV1cbiAgICAgIGdBcnlMb2NhdGlvbiA9IFtwbGFjZURhdGEubGF0KCksIHBsYWNlRGF0YS5sbmcoKV07XG4gICAgfTtcbiAgICBOZ01hcC5nZXRNYXAoKS50aGVuKG1hcCA9PiB7XG4gICAgICB2bS5tYXAgPSBtYXA7XG4gICAgICBtYXAuc2V0T3B0aW9ucyh7XG4gICAgICAgIHN0eWxlczogdm0uZ21hcC5zdHlsZXMsXG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICAgIHpvb21Db250cm9sOiB0cnVlLFxuICAgICAgICB6b29tOiAxLFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICBsYXQ6IDAsXG4gICAgICAgICAgbG5nOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChcIi5tYXRlcmlhbExpc3RcIikuRGF0YVRhYmxlKCk7XG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmxpc3RBbGxFcXVpcG1lbnRzKClcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICB2bS5lcXVpcG1lbnQgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG5cbiAgICAvKiBEYXRhIHRhYmxlIHNldHVwICoqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIHZtLmR0T3B0aW9ucyA9IHtcbiAgICAgIHBhZ2luZzogZmFsc2UsXG4gICAgICBpbmZvOiBmYWxzZSxcbiAgICAgIG9yZGVyaW5nOiBmYWxzZVxuICAgIH07XG4gICAgJChcIi5lcXVpcG1lbnRMaXN0XCIpLkRhdGFUYWJsZSgpO1xuXG4gICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XG5cbiAgICB2bS5jdXJyZW50UGFnZSA9IDE7XG5cbiAgICB2bS50b2dnbGVPYmogPSB7XG4gICAgICBzeXN0ZW1UYWc6IHRydWUsXG4gICAgICBtYXRlcmlhbENvc3Q6IGZhbHNlLFxuICAgICAgcm9vZmVyQ29zdDogZmFsc2UsXG4gICAgICBjcmVhdGVkQXQ6IGZhbHNlLFxuICAgICAgbmFtZTogZmFsc2VcbiAgICB9O1xuICAgIHZtLnNlYXJjaFRleHQgPSBcIlwiO1xuICAgIHZtLnNvcnRFcXVpcG1lbnQgPSB0eXBlID0+IHtcbiAgICAgIC8qIEZvciB0b2dnbGluZyBhc2NlbmRpbmcgYW5kIGRlc2NlbmRpbmcgb3JkZXIgKi9cbiAgICAgIHZtLnRvZ2dsZU9ialt0eXBlXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKHZtLnRvZ2dsZU9ialt0eXBlXSA9IHRydWUpXG4gICAgICAgIDogKHZtLnRvZ2dsZU9ialt0eXBlXSA9ICF2bS50b2dnbGVPYmpbdHlwZV0pO1xuXG4gICAgICBhcGlGYWN0b3J5XG4gICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XG4gICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgc29ydDogdHlwZSxcbiAgICAgICAgICBzZWFyY2g6IHZtLnNlYXJjaFRleHQsXG4gICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialt0eXBlXVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5lcXVpcG1lbnQgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICBjb25zb2xlLmxvZyh2bS5lcXVpcG1lbnQpO1xuICAgICAgICAgIHZtLmVxdWlwbWVudENvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoXCIjZXF1aXBtZW50UGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcbiAgICAgICAgICAgICAgaXRlbXM6IHZtLmVxdWlwbWVudENvdW50LFxuICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXG4gICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXG4gICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcbiAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAgICAubGlzdEFsbEVxdWlwbWVudHMoe1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdm0uc2VhcmNoRXF1aXBtZW50ID0gdGV4dCA9PiB7XG4gICAgICBhcGlGYWN0b3J5XG4gICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XG4gICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgc2VhcmNoOiB0ZXh0LFxuICAgICAgICAgIHNvcnQ6IFwiY3JlYXRlZERhdGVcIixcbiAgICAgICAgICBzb3J0VHlwZTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgdm0uZXF1aXBtZW50Q291bnQgPSByZXNwLmRhdGEudG90YWw7XG4gICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJChcIiNlcXVpcG1lbnRQYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xuICAgICAgICAgICAgICBpdGVtczogdm0uZXF1aXBtZW50Q291bnQsXG4gICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcbiAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcbiAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxuICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgICAgICAgIC5saXN0QWxsRXF1aXBtZW50cyh7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGNodW5rOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnRvZ2dsZU9ialt0eXBlXVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2bS5lcXVpcG1lbnQgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKiBJbml0aWFsbHkgZ2V0dGluZyB0aGUgdmFsdWVzIG9mIG1hdGVyaWFsIGFuZCBjb21ibyBtYXRlcmlhbHMgKi9cbiAgICB2bS5zb3J0RXF1aXBtZW50KFwiY3JlYXRlZEF0XCIpO1xuICAgIC8qIEVuZCBvZiAgRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyogQWRkIG1hdGVyaWFsIGZ1bmN0aW9uYWxpdHkgKi9cblxuICAgIHZtLmFkZEVxdWlwbWVudCA9IHtcbiAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcbiAgICB9O1xuXG4gICAgdm0udGFiU2V0dGluZ3MgPSB7XG4gICAgICBkaXNhYmxlOiB0cnVlXG4gICAgfTtcbiAgICBhcGlGYWN0b3J5XG4gICAgICAuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNvbXBhbnlEYXRhID0gcmVzcC5kYXRhO1xuICAgICAgICB2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kgPSBhbmd1bGFyLmNvcHkoXG4gICAgICAgICAgdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICApO1xuICAgICAgICB2bS5jb21wYW55Q3VycmVuY3kgPSBhbmd1bGFyLmNvcHkoXG4gICAgICAgICAgdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kpO1xuICAgICAgICAkKFwiI2N1cnJlbmN5XCIpXG4gICAgICAgICAgLnZhbCh2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kpXG4gICAgICAgICAgLnRyaWdnZXIoXCJjaGFuZ2Uuc2VsZWN0MlwiKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB9KTtcblxuICAgIHZtLkVxdWlwbWVudCA9IHt9O1xuICAgIHZtLnNob3dDb252ZXJzaW9uUmF0ZSA9IChmcm9tLCB0bykgPT4ge1xuICAgICAgJChcIi5sb2FkZXJcIikuc2hvdygpO1xuICAgICAgbGV0IGN1cnJlbmN5RGF0YSA9IHtcbiAgICAgICAgZnJvbSxcbiAgICAgICAgdG9cbiAgICAgIH07XG4gICAgICBpZiAoZnJvbSAmJiB0bykge1xuICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgLnNob3dDb252ZXJzaW9uUmF0ZShjdXJyZW5jeURhdGEpXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICB2bS5FcXVpcG1lbnQuY29udmVyc2lvbkZhY3RvciA9IHJlc3AuZGF0YS5jb252ZXJzaW9uRmFjdG9yO1xuXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJChcIi5sb2FkZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcblxuICAgIGdsb2JhbHMuZ2V0Q3VycmVuY3koKS50aGVuKHJlc3AgPT4ge1xuICAgICAgdm0uY3VycmVuY2llcyA9IHJlc3AuZGF0YTtcbiAgICB9KTtcblxuICAgIHZtLnRhYlN0eWxlID0gKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgIT09IFwiIFwiXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxVbml0ICE9PSBcIiBcIlxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSAhPT0gXCJcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvciAhPT0gXCJcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgIFwiZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7IGNvbG9yOiAjM2NiZGFhXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIC5udW1iZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAkKFwiLmJ0bi1zdWNjZXNzLm5leHRcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgIFwiZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyBjb2xvcjogIzNjYmRhYVwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgJChcIi5idG4tc3VjY2Vzcy5uZXh0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIGkuZmFcIikuYXR0cihcbiAgICAgICAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXG4gICAgICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgICAgICBcImRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgY29sb3I6ICMzY2JkYWFcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgJChcInVpYi10YWItaGVhZGluZy5pbmZvIC5udW1iZXJcIikuc2hvdygpO1xuICAgICAgICAgICQoXCIuYnRuLXN1Y2Nlc3MubmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyBpLmZhXCIpLmF0dHIoXG4gICAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICAgIFwiZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyBjb2xvcjogIzNjYmRhYVwiXG4gICAgICAgICk7XG4gICAgICAgICQoXCJ1aWItdGFiLWhlYWRpbmcuaW5mbyAubnVtYmVyXCIpLnNob3coKTtcbiAgICAgICAgJChcIi5idG4tc3VjY2Vzcy5uZXh0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uYWRkTWF0ZXJpYWxOZXh0ID0gKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSA9PSBcIiBcIlxuICAgICAgKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBtYXRlcmlhbCBuYW1lXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxVbml0ID09IHVuZGVmaW5lZCB8fFxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQgPT0gXCIgXCJcbiAgICAgICkge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IG1hdGVyaWFsIFVuaXRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPT0gXCIgXCJcbiAgICAgICkge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IEN1cnJlbmN5XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAxO1xuICAgIH07XG5cbiAgICB2bS5jaGFuZ2VDb3N0ID0gKGNvc3QsIGNvbnZlcnNpb25SYXRlKSA9PiB7XG4gICAgICByZXR1cm4gY29zdCAqIGNvbnZlcnNpb25SYXRlO1xuICAgIH07XG5cbiAgICB2bS5maWxlVXBkYXRlZCA9IChmaWxlcywgZXZlbnQsIG1vZGFsKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5pbnB1dEltZyk7XG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcbiAgICAgIHZtLmZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGZpbGVPYmopLm1hcCh4ID0+IGZpbGVPYmpbeF0ubmFtZSk7XG4gICAgICBhbmd1bGFyLmZvckVhY2goZmlsZXMsIGZ1bmN0aW9uICh4LCBpbmRleCkge1xuICAgICAgICB4LmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgaWYgKG1vZGFsID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgIGlmICh2bS51cGxvYWRJbWcubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHZtLnVwbG9hZEltZy5wdXNoKHgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZHVwbGljYXRlSW1nID0gZmFsc2U7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godm0udXBsb2FkSW1nLCBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgICBpZiAoeC5uYW1lID09IHkubmFtZSkge1xuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZUltZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghZHVwbGljYXRlSW1nKSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEltZy5wdXNoKHgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiRmlsZSBuYW1lIGFscmVhZHkgZXhpc3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2bS51cGxvYWRGaWxlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgaWYgKC9pbWFnZS8udGVzdCh4LnR5cGUpKSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEltZy5wdXNoKHgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMucHVzaCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZUltZyA9IGZhbHNlO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKFtdLmNvbmNhdCh2bS51cGxvYWRGaWxlcywgdm0udXBsb2FkSW1nKSwgZnVuY3Rpb24gKFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKHgubmFtZSA9PSB5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVJbWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWR1cGxpY2F0ZUltZykge1xuICAgICAgICAgICAgICBpZiAoL2ltYWdlLy50ZXN0KHgudHlwZSkpIHtcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRGaWxlcy5wdXNoKHgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJGaWxlIG5hbWUgYWxyZWFkeSBleGlzdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2codm0udXBsb2FkSW1nKTtcbiAgICB9O1xuXG4gICAgdm0uYWRkTWF0ZXJpYWxEZXRhaWxzID0gKCkgPT4ge1xuICAgICAgdmFyIGZvcm1EYXRhID0ge1xuICAgICAgICBuYW1lOiB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUsXG4gICAgICAgIHVuaXQ6IHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsVW5pdCxcbiAgICAgICAgZXF1aXBtZW50Q29zdHM6IHtcbiAgICAgICAgICB2YWx1ZTogdm0uY2hhbmdlQ29zdChcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmVxdWlwbWVudENvc3RWYWx1ZSxcbiAgICAgICAgICAgIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3JcbiAgICAgICAgICApLFxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICB9LFxuICAgICAgICByb29mZXJDb3N0OiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmNoYW5nZUNvc3QoXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5yb29mZXJDb3N0VmFsdWUsXG4gICAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGVcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZXM6IHZtLmlucHV0RmlsZXNcbiAgICAgIH07XG5cbiAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgLmNyZWF0ZUVxdWlwbWVudChmb3JtRGF0YSlcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgJChcIiNhZGRFcXVpcG1lbnRzXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgdm0uc29ydEVxdWlwbWVudChcImNyZWF0ZWRBdFwiKTtcblxuICAgICAgICAgIHZtLmFkZE1hdGVyaWFsID0ge1xuICAgICAgICAgICAgY29udmVyc2lvbkZhY3RvcjogMVxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGltYWdlIGFuZCBmaWxlIHVwbG9hZCBmdW50aW9uIC1zdGFydFxuICAgIHZtLnVwbG9hZEltZyA9IFtdO1xuICAgIHZtLnVwbG9hZEZpbGVzID0gW107XG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50LCBtb2RhbCkgPT4ge1xuICAgICAgY29uc29sZS5sb2codm0uaW5wdXRJbWcpO1xuICAgICAgbGV0IGZpbGVPYmogPSBldmVudC50YXJnZXQuZmlsZXM7XG4gICAgICB2bS5maWxlTmFtZXMgPSBPYmplY3Qua2V5cyhmaWxlT2JqKS5tYXAoeCA9PiBmaWxlT2JqW3hdLm5hbWUpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbih4LCBpbmRleCkge1xuICAgICAgICB4LmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgaWYgKG1vZGFsID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgIGlmICh2bS51cGxvYWRJbWcubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHZtLnVwbG9hZEltZy5wdXNoKHgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZHVwbGljYXRlSW1nID0gZmFsc2U7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godm0udXBsb2FkSW1nLCBmdW5jdGlvbih5KSB7XG4gICAgICAgICAgICAgIGlmICh4Lm5hbWUgPT0geS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlSW1nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGVJbWcpIHtcbiAgICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJGaWxlIG5hbWUgYWxyZWFkeSBleGlzdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZtLnVwbG9hZEZpbGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAoL2ltYWdlLy50ZXN0KHgudHlwZSkpIHtcbiAgICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2bS51cGxvYWRGaWxlcy5wdXNoKHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZHVwbGljYXRlSW1nID0gZmFsc2U7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goW10uY29uY2F0KHZtLnVwbG9hZEZpbGVzLCB2bS51cGxvYWRJbWcpLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICh4Lm5hbWUgPT0geS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlSW1nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGVJbWcpIHtcbiAgICAgICAgICAgICAgaWYgKC9pbWFnZS8udGVzdCh4LnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMucHVzaCh4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiRmlsZSBuYW1lIGFscmVhZHkgZXhpc3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHZtLnVwbG9hZEltZyk7XG4gICAgfTtcbiAgICB2bS5kZXNjcmlwdGlvblBvcG92ZXIgPSAoaW5kZXhWYWwsIHR5cGUpID0+IHtcbiAgICAgICRzY29wZS5maWxlVHlwZSA9IHR5cGU7XG4gICAgICAkc2NvcGUuZmlsZUluZGV4ID0gaW5kZXhWYWw7XG4gICAgfTtcbiAgICB2bS5hZGREZXNjcmlwdGlvbiA9IChpbmRleCwgZGF0YSkgPT4ge1xuICAgICAgaWYgKCRzY29wZS5maWxlVHlwZSA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgdm0udXBsb2FkSW1nW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XG4gICAgICAgICQoXCIjY2xvc2VQb3BvdmVySW1nX1wiICsgaW5kZXgpLnRyaWdnZXIoXCJjbGlja1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLnVwbG9hZEZpbGVzW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XG4gICAgICAgICQoXCIjY2xvc2VQb3BvdmVyRmlsZV9cIiArIGluZGV4KS50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2bS5kZWxldGVGaWxlID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XG4gICAgICBpZiAodHlwZSA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgdm0udXBsb2FkSW1nLnNwbGljZShpbmRleFZhbCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS51cGxvYWRGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gaW1hZ2UgYW5kIGZpbGUgdXBsb2FkIGZ1bmN0aW9uIC1lbmRcblxuICAgIC8vIEFkZCBFcXVwbWVudCAtc3RhcnRcbiAgICB2bS5hZGROZXdFcXVpcG1lbnQgPSBmdW5jdGlvbihFcXVpcG1lbnRzKSB7XG4gICAgICBsZXQgZmlsZXMgPSAoJHNjb3BlLmltZ0FuZEZpbGVzID0gW10uY29uY2F0KFxuICAgICAgICB2bS51cGxvYWRJbWcsXG4gICAgICAgIHZtLnVwbG9hZEZpbGVzXG4gICAgICApKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXF1aXBtZW50czogXCIsIEVxdWlwbWVudHMpO1xuICAgICAgdmFyIGZvcm1EYXRhID0ge1xuICAgICAgICBuYW1lOiBFcXVpcG1lbnRzLm5hbWUsXG4gICAgICAgIHVuaXQ6IEVxdWlwbWVudHMudW5pdCxcbiAgICAgICAgZmlsZXM6IGZpbGVzLFxuICAgICAgICBlcXVpcG1lbnRDb3N0OiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmNoYW5nZUNvc3QoXG4gICAgICAgICAgICBFcXVpcG1lbnRzLmVxdWlwbWVudENvc3QsXG4gICAgICAgICAgICBFcXVpcG1lbnRzLmNvbnZlcnNpb25GYWN0b3JcbiAgICAgICAgICApLFxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICB9LFxuICAgICAgICB3b3JrZXJzOiBFcXVpcG1lbnRzLndvcmtlcnMsXG4gICAgICAgIHJvb2ZlckNvc3Q6IHtcbiAgICAgICAgICB2YWx1ZTogdm0uY2hhbmdlQ29zdChcbiAgICAgICAgICAgIEVxdWlwbWVudHMucm9vZmVyQ29zdCxcbiAgICAgICAgICAgIEVxdWlwbWVudHMuY29udmVyc2lvbkZhY3RvclxuICAgICAgICAgICksXG4gICAgICAgICAgY3VycmVuY3lDb2RlOiB2bS5jb21wYW55RGF0YS5jdXJyZW50Q3VycmVuY3kuY3VycmVuY3lDb2RlXG4gICAgICAgIH0sXG4gICAgICAgIGxvY2F0aW9uOiBnQXJ5TG9jYXRpb25cbiAgICAgIH07XG4gICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7XG4gICAgICAkKFwiI2VxdWlwbWVudF9tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICBhcGlGYWN0b3J5XG4gICAgICAgIC51cGRhdGVFcXVpcG1lbnRCeUlkKGZvcm1EYXRhKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgdm0uc29ydEVxdWlwbWVudChcImNyZWF0ZWRBdFwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIGFkZCBlcXVpcG1lbnQgLWVuZFxuICAgIGxldCBnQXJ5Q29tcGFueU1lbWJlcnMgPSBbXTtcbiAgICBhcGlGYWN0b3J5XG4gICAgICAuZ2V0QWxsTWVtYmVyc0luQ3VycmVudENvbXBhbnkodm0udXNlckRhdGEuY29tcGFueUlkKVxuICAgICAgLnRoZW4oZGF0YTEgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhMSk7XG4gICAgICAgIGdBcnlDb21wYW55TWVtYmVycyA9IGRhdGExLmRhdGEuZGF0YTtcbiAgICAgICAgdm0uY29tcGFueU1lbWJlcnMgPSBnQXJ5Q29tcGFueU1lbWJlcnM7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcbiAgICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImVxdWlwbWVudFZpZXdDdHJsXCIsIGVxdWlwbWVudFZpZXdDdHJsKTtcblxuICBmdW5jdGlvbiBlcXVpcG1lbnRWaWV3Q3RybChcbiAgICAkc2NvcGUsXG4gICAgJHRpbWVvdXQsXG4gICAgYXV0aEZhY3RvcnksXG4gICAgJHN0YXRlLFxuICAgIGFwaUZhY3RvcnksXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHMsXG4gICAgJHN0YXRlUGFyYW1zLFxuICAgIFVwbG9hZFxuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcbiAgICAgIHZtLmN1cnJlbmNpZXMgPSByZXNwLmRhdGE7XG4gICAgfSk7XG4gICAgdm0uYWRkRXF1aXBtZW50ID0ge1xuICAgICAgY29udmVyc2lvbkZhY3RvcjogMVxuICAgIH07XG5cbiAgICBhcGlGYWN0b3J5XG4gICAgICAuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNvbXBhbnlEYXRhID0gcmVzcC5kYXRhO1xuICAgICAgICB2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kgPSBhbmd1bGFyLmNvcHkoXG4gICAgICAgICAgdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICApO1xuICAgICAgICB2bS5jb21wYW55Q3VycmVuY3kgPSBhbmd1bGFyLmNvcHkoXG4gICAgICAgICAgdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kpO1xuICAgICAgICAkKFwiI2N1cnJlbmN5XCIpXG4gICAgICAgICAgLnZhbCh2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kpXG4gICAgICAgICAgLnRyaWdnZXIoXCJjaGFuZ2Uuc2VsZWN0MlwiKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB9KTtcblxuICAgIGxldCBnQXJ5TG9jYXRpb24gPSBbXTtcbiAgICB2bS5wbGFjZU1hcmtlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgY29uc29sZS5sb2codGhpcy5nZXRQbGFjZSgpKTtcbiAgICAgIGNvbnN0IHBsYWNlRGF0YSA9IHRoaXMuZ2V0UGxhY2UoKS5nZW9tZXRyeS5sb2NhdGlvbjtcbiAgICAgIHZtLmdtYXAubWFya2VycyA9IFtbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldXTtcbiAgICAgIHZtLmdtYXAuem9vbSA9IDE1O1xuICAgICAgdm0uZ21hcC5jZW50ZXIgPSBgJHtwbGFjZURhdGEubGF0KCl9LCR7cGxhY2VEYXRhLmxuZygpfWA7XG4gICAgICAvLyB2bS5ldmVudC5sb2NhdGlvbiA9ICBbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldXG4gICAgICBnQXJ5TG9jYXRpb24gPSBbcGxhY2VEYXRhLmxhdCgpLCBwbGFjZURhdGEubG5nKCldO1xuICAgIH07XG5cbiAgICB2bS5zaG93Q29udmVyc2lvblJhdGUgPSAoZnJvbSwgdG8pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGZyb20sIHRvKTtcbiAgICAgICQoXCIubG9hZGVyXCIpLnNob3coKTtcbiAgICAgIGxldCBjdXJyZW5jeURhdGEgPSB7XG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvXG4gICAgICB9O1xuICAgICAgaWYgKGZyb20gJiYgdG8pIHtcbiAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgIC5zaG93Q29udmVyc2lvblJhdGUoY3VycmVuY3lEYXRhKVxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgdm0uZXF1aXBtZW50LmNvbnZlcnNpb25GYWN0b3IgPSByZXNwLmRhdGEuY29udmVyc2lvbkZhY3RvcjtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICQoXCIubG9hZGVyXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZtLmdtYXAgPSB7XG4gICAgICB1cmw6XG4gICAgICAgIFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT1BSXphU3lBM01JQS1tS1dxXzYwcTFLMHpPSGd1cmF4VC0xUVB4TlUmbGlicmFyaWVzPXBsYWNlc1wiLFxuICAgICAgbWFya2VyczogW10sXG4gICAgICBzdHlsZXM6IFtdLFxuICAgICAgY2VudGVyOiBcIlwiLFxuICAgICAgem9vbTogOFxuICAgIH07XG4gICAgdm0uZXF1aXBtZW50SWQgPSAkc3RhdGVQYXJhbXMuaWQ7XG4gICAgXG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmdldEVxdWlwbWVudEJ5SWQodm0uZXF1aXBtZW50SWQpXG4gICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTtcbiAgICAgICAgJChcIi5zZWxlY3QyLWNob2ljZSAuc2VsZWN0Mi1jaG9zZW5cIikudGV4dChcIlwiKTtcbiAgICAgICAgdm0uZXF1aXBtZW50ID0gcmVzcC5kYXRhO1xuICAgICAgICB2bS5lcXVpcG1lbnQuZXF1aXBtZW50Q29zdCA9IHJlc3AuZGF0YS5jdXJyZW50UmF0ZS5lcXVpcG1lbnRDb3N0LnZhbHVlO1xuICAgICAgICB2bS5lcXVpcG1lbnQucm9vZmVyQ29zdCA9IHJlc3AuZGF0YS5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlO1xuICAgICAgICB2bS5lcXVpcG1lbnQudW5pdCA9IHJlc3AuZGF0YS51bml0O1xuICAgICAgICB2bS5hZGRFcXVpcG1lbnQuY3VycmVuY3kgPVxuICAgICAgICAgIHJlc3AuZGF0YS5jdXJyZW50UmF0ZS5lcXVpcG1lbnRDb3N0LmN1cnJlbmN5Q29kZTtcbiAgICAgICAgdm0uc2hvd0NvbnZlcnNpb25SYXRlKFxuICAgICAgICAgIHJlc3AuZGF0YS5jdXJyZW50UmF0ZS5lcXVpcG1lbnRDb3N0LmN1cnJlbmN5Q29kZSxcbiAgICAgICAgICByZXNwLmRhdGEuY3VycmVudFJhdGUuZXF1aXBtZW50Q29zdC5jdXJyZW5jeUNvZGVcbiAgICAgICAgKTtcbiAgICAgICAgdm0uZ21hcC5jZW50ZXIgPSByZXNwLmRhdGEubG9jLmNvb3JkaW5hdGVzO1xuICAgICAgICB2bS51cGxvYWRJbWcgPSByZXNwLmRhdGEuZmlsZXMuaW1hZ2VzO1xuICAgICAgICB2bS51cGxvYWRGaWxlcyA9IHJlc3AuZGF0YS5maWxlcy5kb2NzO1xuICAgICAgICAvLyRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG5cbiAgICB2bS5lZGl0RXF1aXBtZW50ID0gKGNvbXBhbnlDdXJyZW5jeSwgY3VycmVudEN1cnJlbmN5KSA9PiB7XG4gICAgICAkKFwiI2VxdWlwbWVudF9tb2RhbFwiKS5tb2RhbCgpO1xuICAgICAgdm0uc2hvd0NvbnZlcnNpb25SYXRlKGNvbXBhbnlDdXJyZW5jeSwgY3VycmVudEN1cnJlbmN5KVxuICAgIH1cbiAgICBcbiAgICB2bS51bml0U2VsZWN0ID0gZGF0YSA9PiB7XG4gICAgICB2bS5lcXVpcG1lbnQudW5pdCA9IGRhdGEubmFtZTtcbiAgICB9O1xuICAgIFxuXG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50LCBtb2RhbCkgPT4ge1xuICAgICAgY29uc29sZS5sb2codm0uaW5wdXRJbWcpO1xuICAgICAgbGV0IGZpbGVPYmogPSBldmVudC50YXJnZXQuZmlsZXM7XG4gICAgICB2bS5maWxlTmFtZXMgPSBPYmplY3Qua2V5cyhmaWxlT2JqKS5tYXAoeCA9PiBmaWxlT2JqW3hdLm5hbWUpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGZpbGVzLCBmdW5jdGlvbiAoeCwgaW5kZXgpIHtcbiAgICAgICAgeC5kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgIGlmIChtb2RhbCA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBpZiAodm0udXBsb2FkSW1nLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZUltZyA9IGZhbHNlO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnVwbG9hZEltZywgZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgICAgaWYgKHgubmFtZSA9PSB5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVJbWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWR1cGxpY2F0ZUltZykge1xuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkZpbGUgbmFtZSBhbHJlYWR5IGV4aXN0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodm0udXBsb2FkRmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGlmICgvaW1hZ2UvLnRlc3QoeC50eXBlKSkge1xuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEZpbGVzLnB1c2goeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkdXBsaWNhdGVJbWcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChbXS5jb25jYXQodm0udXBsb2FkRmlsZXMsIHZtLnVwbG9hZEltZyksIGZ1bmN0aW9uIChcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICh4Lm5hbWUgPT0geS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlSW1nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGVJbWcpIHtcbiAgICAgICAgICAgICAgaWYgKC9pbWFnZS8udGVzdCh4LnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMucHVzaCh4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiRmlsZSBuYW1lIGFscmVhZHkgZXhpc3RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHZtLnVwbG9hZEltZyk7XG4gICAgfTtcbiAgICBcbiAgICB2bS5kZWxldGVGaWxlID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XG4gICAgICBpZiAodHlwZSA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgdm0udXBsb2FkSW1nLnNwbGljZShpbmRleFZhbCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS51cGxvYWRGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfVxuICAgIH07XG4gICAgdm0uZGVzY3JpcHRpb25Qb3BvdmVyID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XG4gICAgICAkc2NvcGUuZmlsZVR5cGUgPSB0eXBlO1xuICAgICAgJHNjb3BlLmZpbGVJbmRleCA9IGluZGV4VmFsO1xuICAgIH07XG4gICAgdm0uYWRkRGVzY3JpcHRpb24gPSAoaW5kZXgsIGRhdGEpID0+IHtcbiAgICAgIGlmICgkc2NvcGUuZmlsZVR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHZtLnVwbG9hZEltZ1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xuICAgICAgICBpZiAoaW52ZW50b3J5U3RhdGUuZ2V0KCkudGFiID09IDApIHtcbiAgICAgICAgICAkKFwiI2Nsb3NlUG9wb3ZlckltZ19cIiArIGluZGV4KS50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJChcIiNjbG9zZVBvcG92ZXJEY3BJbWdfXCIgKyBpbmRleCkudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS51cGxvYWRGaWxlc1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xuICAgICAgICBpZiAoaW52ZW50b3J5U3RhdGUuZ2V0KCkudGFiID09IDApIHtcbiAgICAgICAgICAkKFwiI2Nsb3NlUG9wb3ZlckZpbGVfXCIgKyBpbmRleCkudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIjY2xvc2VQb3BvdmVyRGNwRmlsZV9cIiArIGluZGV4KS50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0udXBkYXRlRXF1aXBtZW50ID0gZnVuY3Rpb24oRXF1aXBtZW50cykge1xuICAgICAgbGV0IGZpbGVzID0gKCRzY29wZS5pbWdBbmRGaWxlcyA9IFtdLmNvbmNhdChcbiAgICAgICAgdm0udXBsb2FkSW1nLFxuICAgICAgICB2bS51cGxvYWRGaWxlc1xuICAgICAgKSk7XG4gICAgICBjb25zb2xlLmxvZyhcIkVxdWlwbWVudHM6IFwiLCBFcXVpcG1lbnRzKTtcbiAgICAgIHZhciBmb3JtRGF0YSA9IHtcbiAgICAgICAgbmFtZTogRXF1aXBtZW50cy5uYW1lLFxuICAgICAgICB1bml0OiBFcXVpcG1lbnRzLnVuaXQsXG4gICAgICAgIGZpbGVzOiBmaWxlcyxcbiAgICAgICAgZXF1aXBtZW50Q29zdDoge1xuICAgICAgICAgIHZhbHVlOiB2bS5jaGFuZ2VDb3N0KFxuICAgICAgICAgICAgRXF1aXBtZW50cy5lcXVpcG1lbnRDb3N0LFxuICAgICAgICAgICAgRXF1aXBtZW50cy5jb252ZXJzaW9uRmFjdG9yXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLmNvbXBhbnlEYXRhLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGVcbiAgICAgICAgfSxcbiAgICAgICAgd29ya2VyczogRXF1aXBtZW50cy53b3JrZXJzLFxuICAgICAgICByb29mZXJDb3N0OiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmNoYW5nZUNvc3QoXG4gICAgICAgICAgICBFcXVpcG1lbnRzLnJvb2ZlckNvc3QsXG4gICAgICAgICAgICBFcXVpcG1lbnRzLmNvbnZlcnNpb25GYWN0b3JcbiAgICAgICAgICApLFxuICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICB9LFxuICAgICAgICBsb2NhdGlvbjogZ0FyeUxvY2F0aW9uXG4gICAgICB9O1xuICAgICAgY29uc29sZS5sb2coZm9ybURhdGEpO1xuICAgICAgJChcIiNlcXVpcG1lbnRfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAudXBkYXRlRXF1aXBtZW50KEVxdWlwbWVudHMuX2lkLCBmb3JtRGF0YSlcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgIHZtLnNvcnRFcXVpcG1lbnQoXCJjcmVhdGVkQXRcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGFkZCBlcXVpcG1lbnQgLWVuZFxuICAgIGxldCBnQXJ5Q29tcGFueU1lbWJlcnMgPSBbXTtcbiAgICBhcGlGYWN0b3J5XG4gICAgICAuZ2V0QWxsTWVtYmVyc0luQ3VycmVudENvbXBhbnkodm0udXNlckRhdGEuY29tcGFueUlkKVxuICAgICAgLnRoZW4oZGF0YTEgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhMSk7XG4gICAgICAgIGdBcnlDb21wYW55TWVtYmVycyA9IGRhdGExLmRhdGEuZGF0YTtcbiAgICAgICAgdm0uY29tcGFueU1lbWJlcnMgPSBnQXJ5Q29tcGFueU1lbWJlcnM7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgJHNjb3BlLnNsaWRlcjIgPSBbXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQyLmpwZ1wiIH0sXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQyLmpwZ1wiIH0sXG4gICAgICB7IGltZzogXCIvYXNzZXRzL2ltYWdlcy9lcXVpcG1lbnQyLmpwZ1wiIH1cbiAgICBdO1xuICAgIC8qICRzY29wZS5lcXVpcF90YWJsZSA9IFtcbiAgICAgIHsgdW5pdDogJ0N1cnJlbmN5JywgbXQ6ICdEYW5pc2ggS3JvbmUnIH0sXG4gICAgICB7IHVuaXQ6ICdDb252ZXJzaW9uIEZhY3RvcicsIG10OiAnMScgfSxcbiAgICAgIHsgdW5pdDogJ0VxdWlwbWVudCBDb3N0IChES0spJywgbXQ6ICctLS0nIH0sXG4gICAgICB7IHVuaXQ6ICdXb3JrZXIgQ29zdCAoREtLKScsIG10OiAnLS0tJyB9LFxuICAgICAgeyB1bml0OiAnV29ya2VyIElEJywgbXQ6ICdOTlMxIC0gS2ltIE1vc2VnYWFyZCcgfVxuICAgIF0gKi9cbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImZpbGVNYW5hZ2VyQ3RybFwiLCBmaWxlTWFuYWdlckN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBmaWxlTWFuYWdlckN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkaHR0cCxcclxuICAgICR3aW5kb3csXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBmaWxlTWFuYWdlckZhY3RvcnksXHJcbiAgICB1cGxvYWRGYWN0b3J5XHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG4gICAgJHNjb3BlLm5hdnRhYiA9IFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiBcIlN1YiBGb2xkZXIgQVwiLFxyXG4gICAgICAgIHRhcmdldDogXCJ0YWJwYW5lMVwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogXCJTdWIgRm9sZGVyIEJcIixcclxuICAgICAgICB0YXJnZXQ6IFwidGFicGFuZTJcIlxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6IFwiU3ViIEZvbGRlciBDXCIsXHJcbiAgICAgICAgdGFyZ2V0OiBcInRhYnBhbmUzXCJcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiBcIlN1YiBGb2xkZXIgRFwiLFxyXG4gICAgICAgIHRhcmdldDogXCJ0YWJwYW5lNFwiXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogXCJTdWIgRm9sZGVyIEVcIixcclxuICAgICAgICB0YXJnZXQ6IFwidGFicGFuZTVcIlxyXG4gICAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxvZ291dCxcclxuICAgICAgdXNlclN0b3JlLFxyXG4gICAgICBwcm9qZWN0U3RvcmUsXHJcbiAgICAgIGdlbmVyaWNTdG9yZSxcclxuICAgICAgYnJlYWtjcnVtYlN0b3JlXHJcbiAgICB9ID0gZ2xvYmFscztcclxuICAgIGNvbnN0IHsgY2xpcEJvYXJkIH0gPSBmaWxlTWFuYWdlckZhY3Rvcnk7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5saXN0QWxsUHJvamVjdHMoKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS5wcm9qZWN0TGlzdCA9IHJlc3AuZGF0YTtcclxuICAgICAgICAvKiBJbml0aWFsbHkgbG9hZCB0aGUgZmlyc3QgcHJvamVjdCBhcyBkZWZhdWx0ICovXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9qZWN0ID0gcHJvamVjdFN0b3JlLmdldCgpO1xyXG5cclxuICAgICAgICB2bS5zZWxlY3RlZFByb2plY3QgPSBzZWxlY3RlZFByb2plY3QuX2lkO1xyXG5cclxuICAgICAgICB2bS5nZXRQcmltYXJ5Rm9sZGVycyhzZWxlY3RlZFByb2plY3QpO1xyXG4gICAgICAgIC8qIFNldCBiYWNrdXAgZm9sZGVycyAqL1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHZtLnJvb3RGb2xkZXJzID0gW107XHJcblxyXG4gICAgdm0uYmFja3VwRm9sZGVycyA9IHByb2plY3RTdG9yZS5nZXQoKS5iYWNrdXBGb2xkZXJzO1xyXG5cclxuICAgIHZtLndpbmRvd0l0ZW1zID0ge1xyXG4gICAgICBmb2xkZXJEYXRhOiBcIlwiLFxyXG4gICAgICBmb2xkZXJzOiBbXSxcclxuICAgICAgZmlsZXM6IFtdXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnJlc29sdmVBc3NldEljb24gPSBhc3NldE9iaiA9PiB7XHJcbiAgICAgIGxldCBhc3NldEZvcm1hdCA9IGFzc2V0T2JqLmZvcm1hdC50cmltKCksXHJcbiAgICAgICAgaWNvbjtcclxuXHJcbiAgICAgIGlmICgvanAqZy8udGVzdChhc3NldEZvcm1hdCkpIHtcclxuICAgICAgICBpY29uID0gXCJqcGdcIjtcclxuICAgICAgfSBlbHNlIGlmICgvcG5nLy50ZXN0KGFzc2V0Rm9ybWF0KSkge1xyXG4gICAgICAgIGljb24gPSBcInBuZ1wiO1xyXG4gICAgICB9IGVsc2UgaWYgKC9wZGYvLnRlc3QoYXNzZXRGb3JtYXQpKSB7XHJcbiAgICAgICAgaWNvbiA9IFwicGRmXCI7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGljb247XHJcbiAgICB9O1xyXG4gICAgdm0uc2hvd1RyZWUgPSBmYWxzZTtcclxuICAgIHZtLmdldFByaW1hcnlGb2xkZXJzID0gKHNlbGVjdGVkUHJvamVjdCwgbGlzdCkgPT4ge1xyXG4gICAgICBpZiAobGlzdCkge1xyXG4gICAgICAgIC8qIEZpbHRlcmluZyB0aHJvdWdoIHRoZSBsaXN0IG9mIHByb2ogaWYgcGFyYW0gaXMgYSBzdHJpbmcgKi9cclxuICAgICAgICBwcm9qZWN0U3RvcmUuc2V0KFxyXG4gICAgICAgICAgbGlzdC5maWx0ZXIoeCA9PiB7XHJcbiAgICAgICAgICAgIGlmICh4Ll9pZCA9PT0gc2VsZWN0ZWRQcm9qZWN0KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfSlbMF1cclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHByb2plY3RTdG9yZS5zZXQoc2VsZWN0ZWRQcm9qZWN0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdm0uYmFja3VwRm9sZGVycyA9IHByb2plY3RTdG9yZS5nZXQoKS5iYWNrdXBGb2xkZXJzO1xyXG5cclxuICAgICAgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGFwaUZhY3RvcnkuZ2V0SGllcmFyY2h5KHByb2plY3RTdG9yZS5nZXQoKS5faWQpLFxyXG4gICAgICAgIGFwaUZhY3Rvcnkudmlld1Byb2plY3RBc3NldHMocHJvamVjdFN0b3JlLmdldCgpLl9pZClcclxuICAgICAgXSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLnNob3dUcmVlID0gdHJ1ZTtcclxuICAgICAgICAgIHZtLnJvb3RGb2xkZXJzID0gcmVzcFswXS5kYXRhLmRhdGEuaGllcmFyY2hpZXM7XHJcbiAgICAgICAgICB2bS5wcm9qZWN0RmlsZXMgPSByZXNwWzFdLmRhdGEuZGF0YTtcclxuICAgICAgICAgIHZtLmxvYWRGaWxlc1RvQXV0b0NvbXBsZXRlID0gJHF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKHZtLnByb2plY3RGaWxlcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyB2bS5zZWxlY3RlZFByb2plY3QgPSBcIjVhZmQ0NTIwZDA4ZDRiMzg1OWZlOWJkNlwiO1xyXG4gICAgLy8gdm0uZ2V0UHJpbWFyeUZvbGRlcnModm0uc2VsZWN0ZWRQcm9qZWN0KTtcclxuXHJcbiAgICB2bS5nZXRGb2xkZXIgPSBpZCA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0SGllcmFyY2h5Q2hpbGRyZW4oaWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIFN0b3JpbmcgdGhlIGZpbGUgcGF0aCBpbiBhIHN0b3JlIGR1ZSB0byBsaW1pdGF0aW9ucyBpbiB0aGUgcGx1Z2luICovXHJcblxyXG4gICAgY29uc3QgZmlsZURlc3RpbmF0aW9uID0gZ2VuZXJpY1N0b3JlKCk7XHJcblxyXG4gICAgdm0udHJlZU9wdGlvbnMgPSB7XHJcbiAgICAgIGFjY2VwdDogZnVuY3Rpb24oc291cmNlLCBkZXN0LCBkZXN0SW5kZXgpIHtcclxuICAgICAgICBpZiAoc291cmNlLmZpbGUpIHtcclxuICAgICAgICAgIGZpbGVEZXN0aW5hdGlvbi5zdG9yZShkZXN0KTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRyYWdTdG9wOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGxldCB7IHNvdXJjZSwgZGVzdCB9ID0gZXZlbnQ7XHJcbiAgICAgICAgLyogRXhjbHVzaXZlIGZvciBmaWxlcyAqL1xyXG4gICAgICAgIGlmIChzb3VyY2Uubm9kZVNjb3BlLmZpbGUpIHtcclxuICAgICAgICAgIC8qIFN0ZXAgMTogIEdldCB0aGUgZGVzdCB2YWx1ZSBmcm9tIHRoZSBleHRlcm5hbCBzdG9yZSBhbmQgYXBwZW5kIHRvIGRlc3QgKi9cclxuICAgICAgICAgIGxldCBkZXN0aW5hdGlvbiA9IGZpbGVEZXN0aW5hdGlvbi5nZXQoKTtcclxuICAgICAgICAgIGlmICghZGVzdGluYXRpb24uJG5vZGVTY29wZSkge1xyXG4gICAgICAgICAgICAvKiBSZXR1cm4gZm9yIGludmFsaWQgZHJhZ3MgKi9cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGV0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGFzc2V0SWQ6IHNvdXJjZS5ub2RlU2NvcGUuZmlsZS5faWQsXHJcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnQuJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWQsXHJcbiAgICAgICAgICAgIGRlc3RJZDogZGVzdGluYXRpb24uJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAvKiBTdGVwIDI6IFN5bmMgd2l0aCBiYWNrZW5kIGJ1dCBkb24ndCB3YWl0IGZvciB0aGUgcmVzcG9uc2UgICovXHJcbiAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgIC5tb3ZlQXNzZXRzKHBheWxvYWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoZGVzdGluYXRpb24uJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5maWxlcykge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbi4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLmZpbGVzLnB1c2goXHJcbiAgICAgICAgICAgICAgc291cmNlLm5vZGVTY29wZS5maWxlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbi4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLmZpbGVzID0gW3NvdXJjZS5ub2RlU2NvcGUuZmlsZV07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLyogU3RlcCAzOiBSZW1vdmUgdGhlIGZpbGUgZnJvbSB0aGUgc291cmNlIGZvbGRlciAqL1xyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50LiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuZmlsZXMgPSBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnQuJG5vZGVTY29wZS4kbW9kZWxWYWx1ZS5maWxlcy5maWx0ZXIoXHJcbiAgICAgICAgICAgIHggPT4geC5faWQgIT09IHNvdXJjZS5ub2RlU2NvcGUuZmlsZS5faWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBkcm9wcGVkOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGxldCB7IHNvdXJjZSwgZGVzdCB9ID0gZXZlbnQ7XHJcbiAgICAgICAgbGV0IHBheWxvYWQ7XHJcblxyXG4gICAgICAgIC8qIEZvciBtb3ZpbmcgZm9sZGVycyAqL1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBkZXN0Lm5vZGVzU2NvcGUuJG5vZGVTY29wZSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlID09PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvKiBJZ25vcmUgc2FtZSBsZXZlbCBkcmFncyAqL1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBkZXN0Lm5vZGVzU2NvcGUuJG5vZGVTY29wZSA9PT0gbnVsbCAmJlxyXG4gICAgICAgICAgc291cmNlLm5vZGVTY29wZS4kcGFyZW50Tm9kZVNjb3BlICE9PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvKiBEcmFnZ2luZyB0byByb290ICovXHJcbiAgICAgICAgICBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAxLFxyXG4gICAgICAgICAgICBoaWVyYXJjaHlJZDogc291cmNlLm5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWQsXHJcbiAgICAgICAgICAgIHBhcmVudElkOiBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnROb2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIGRlc3Qubm9kZXNTY29wZS4kbm9kZVNjb3BlICE9PSBudWxsICYmXHJcbiAgICAgICAgICBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnROb2RlU2NvcGUgPT09IG51bGxcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8qIERyYWdnaW5nIGZyb20gcm9vdCAqL1xyXG4gICAgICAgICAgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgdHlwZTogMixcclxuICAgICAgICAgICAgaGllcmFyY2h5SWQ6IHNvdXJjZS5ub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICAgIGRlc3RJZDogZGVzdC5ub2Rlc1Njb3BlLiRub2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvKiBEcmFnZ2luZyBiZXR3ZWVuIHN1YiBmb2xkZXJzICovXHJcbiAgICAgICAgICBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAzLFxyXG4gICAgICAgICAgICBoaWVyYXJjaHlJZDogc291cmNlLm5vZGVTY29wZS4kbW9kZWxWYWx1ZS5faWQsXHJcbiAgICAgICAgICAgIHBhcmVudElkOiBzb3VyY2Uubm9kZVNjb3BlLiRwYXJlbnROb2RlU2NvcGUuJG1vZGVsVmFsdWUuX2lkLFxyXG4gICAgICAgICAgICBkZXN0SWQ6IGRlc3Qubm9kZXNTY29wZS4kbm9kZVNjb3BlLiRtb2RlbFZhbHVlLl9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5kcmFnTW92ZU5vZGVzKHBheWxvYWQpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByb290Rm9sZGVyU3RvcmUgPSBnZW5lcmljU3RvcmUoKTtcclxuXHJcbiAgICB2bS5zZXRSb290Rm9sZGVyID0gb2JqID0+IHtcclxuICAgICAgcm9vdEZvbGRlclN0b3JlLnN0b3JlKG9iaik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIGFkZCBtb2RhbCBzZXR0aW5ncyAqL1xyXG4gICAgdm0uYWRkTW9kYWxBY3RpdmVUYWIgPSAwO1xyXG4gICAgJChcIiNhZGRNb2RhbFwiKS5vbihcImhpZGUuYnMubW9kYWxcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZtLmZpbGVOYW1lcyA9IFtdO1xyXG4gICAgICB2bS5hZGRNb2RhbEFjdGl2ZVRhYiA9IDA7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5hZGRQcmltYXJ5Rm9sZGVyID0gKG5hbWUsIHByb2plY3RJZCkgPT4ge1xyXG4gICAgICBpZiAodm0uZm9sZGVyTmFtZSA9PSBcIlwiIHx8IHZtLmZvbGRlck5hbWUgPT0gbnVsbCkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiRm9sZGVyIG5hbWUgY2FuJ3QgYmUgZW1wdHlcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgaXNQYXJlbnQ6IHRydWUsXHJcbiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWRcclxuICAgICAgfTtcclxuICAgICAgY29uc3Qgbm9kZU9iaiA9IHJvb3RGb2xkZXJTdG9yZS5nZXQoKTtcclxuICAgICAgJChcIiNhZGRNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuYWRkSGllcmFyY2h5KHBheWxvYWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBub2RlT2JqLiRub2Rlc1Njb3BlLiRtb2RlbFZhbHVlLnB1c2gocmVzcC5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJyb290Zm9sZGVyXCIsIHJvb3RGb2xkZXJTdG9yZS5nZXQoKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ub3BlbkFkZE1vZGFsID0gKHNvdXJjZSwgb2JqKSA9PiB7XHJcbiAgICAgIHZtLmFkZE1vZGFsU291cmNlID0gc291cmNlO1xyXG4gICAgICB2bS5ub2RlT2JqID0gb2JqO1xyXG4gICAgICAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uc2hvd0xvYWRlciA9IGZhbHNlO1xyXG5cclxuICAgIHZtLnRvZ2dsZUZvbGRlciA9IChmb2xkZXIsIGljb24sIG5vZGUpID0+IHtcclxuICAgICAgaWYgKGZvbGRlci4kbW9kZWxWYWx1ZS5iYWNrdXApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy8gY29uc29sZS5sb2coZm9sZGVyLiR0cmVlU2NvcGUuJGVsZW1lbnRbMF0pXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCQoZm9sZGVyLiRlbGVtZW50WzBdKS5maW5kKCcucm93IC5maWxlLWxpc3RpbmcnKVswXS5hZGRDbGFzcygnYmctZGFyaycpKVxyXG4gICAgICAkKGZvbGRlci4kdHJlZVNjb3BlLiRlbGVtZW50WzBdKVxyXG4gICAgICAgIC5maW5kKFwiLmZvbGRlci1vcGVuXCIpXHJcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiZm9sZGVyLW9wZW5cIik7XHJcbiAgICAgICQoZm9sZGVyLiRlbGVtZW50WzBdKVxyXG4gICAgICAgIC5maW5kKFwiLnJvd1wiKVxyXG4gICAgICAgIC5maXJzdCgpXHJcbiAgICAgICAgLmFkZENsYXNzKFwiZm9sZGVyLW9wZW5cIik7XHJcblxyXG4gICAgICB2bS5zaG93TG9hZGVyID0gdHJ1ZTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC52aWV3SGllcmFyY2h5KGZvbGRlci4kbW9kZWxWYWx1ZS5faWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAvKiBBcHBlbmQgZmlsZXMgdG8gdGhlIGZvbGRlciAqL1xyXG4gICAgICAgICAgdm0ud2luZG93SXRlbXMgPSB7XHJcbiAgICAgICAgICAgIGZvbGRlckRhdGE6IGZvbGRlcixcclxuICAgICAgICAgICAgZm9sZGVyczogZm9sZGVyLiRtb2RlbFZhbHVlLmNoaWxkcmVuLFxyXG4gICAgICAgICAgICBmaWxlczogcmVzcC5kYXRhLmZpbGVzXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHZtLmJyZWFkQ3J1bWJMaXN0ID0gcmVzcC5kYXRhLmJyZWFkY3J1bWJzO1xyXG4gICAgICAgICAgdm0uc2hvd0xvYWRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgZm9sZGVyLiRtb2RlbFZhbHVlLmZpbGVzID0gcmVzcC5kYXRhLmZpbGVzO1xyXG4gICAgICAgICAgbmF2aWdhdGlvblN0YWNrLnB1c2goZm9sZGVyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICBpZiAoZm9sZGVyLmNvbGxhcHNlZCkge1xyXG4gICAgICAgIGZvbGRlci50b2dnbGUoKTtcclxuICAgICAgfSBlbHNlIGlmIChpY29uKSB7XHJcbiAgICAgICAgbmF2aWdhdGlvblN0YWNrLnB1c2goZm9sZGVyKTtcclxuICAgICAgICAvLyBmb2xkZXIudG9nZ2xlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmF2aWdhdGlvblN0YWNrID0gZmlsZU1hbmFnZXJGYWN0b3J5Lm5hdmlnYXRpb25TdGFjaygpO1xyXG5cclxuICAgIHZtLm5hdmlnYXRlID0gZm9yd2FyZCA9PiB7XHJcbiAgICAgIGxldCBmb2xkZXIgPSBmb3J3YXJkXHJcbiAgICAgICAgPyBuYXZpZ2F0aW9uU3RhY2suZm9yd2FyZCgpXHJcbiAgICAgICAgOiBuYXZpZ2F0aW9uU3RhY2suYmFja3dhcmQoKTtcclxuXHJcbiAgICAgIC8vIGlmIChmb2xkZXIgPyAoZm9sZGVyLmNvbGxhcHNlZCA/IHRydWUgOiBmYWxzZSkgOiBmYWxzZSkge1xyXG4gICAgICBpZiAoZm9sZGVyKSB7XHJcbiAgICAgICAgdm0uc2hvd0xvYWRlciA9IHRydWU7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnZpZXdIaWVyYXJjaHkoZm9sZGVyLiRtb2RlbFZhbHVlLl9pZClcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAvKiBBcHBlbmQgZmlsZXMgdG8gdGhlIGZvbGRlciAqL1xyXG4gICAgICAgICAgICB2bS53aW5kb3dJdGVtcyA9IHtcclxuICAgICAgICAgICAgICBmb2xkZXJEYXRhOiBmb2xkZXIsXHJcbiAgICAgICAgICAgICAgZm9sZGVyczogZm9sZGVyLiRtb2RlbFZhbHVlLmNoaWxkcmVuLFxyXG4gICAgICAgICAgICAgIGZpbGVzOiByZXNwLmRhdGEuZmlsZXNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdm0uc2hvd0xvYWRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb2xkZXIuJG1vZGVsVmFsdWUuZmlsZXMgPSByZXNwLmRhdGEuZmlsZXM7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm9wZW5Gb2xkZXIgPSBpZCA9PiB7XHJcbiAgICAgIC8qIEdldCB0aGUgbm9kZSBvYmogZnJvbSB0aGUgd2luZG93IGl0ZW0gb2JqICovXHJcbiAgICAgIGxldCBmb2xkZXJEYXRhID0gdm0ud2luZG93SXRlbXMuZm9sZGVyRGF0YVxyXG4gICAgICAgIC5jaGlsZE5vZGVzKClcclxuICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+IHtcclxuICAgICAgICAgIGlmICh4LiRtb2RlbFZhbHVlLl9pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgYWNjID0geDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgbnVsbCk7XHJcblxyXG4gICAgICB2bS5zaG93TG9hZGVyID0gdHJ1ZTtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC52aWV3SGllcmFyY2h5KGlkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgbmF2aWdhdGlvblN0YWNrLnB1c2goZm9sZGVyRGF0YSk7XHJcbiAgICAgICAgICAvKiBBcHBlbmQgZmlsZXMgdG8gdGhlIGZvbGRlciAqL1xyXG4gICAgICAgICAgdm0ud2luZG93SXRlbXMgPSB7XHJcbiAgICAgICAgICAgIGZvbGRlckRhdGE6IGZvbGRlckRhdGEsXHJcbiAgICAgICAgICAgIGZvbGRlcnM6IHJlc3AuZGF0YS5mb2xkZXJzLFxyXG4gICAgICAgICAgICBmaWxlczogcmVzcC5kYXRhLmZpbGVzXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdm0uYnJlYWRDcnVtYkxpc3QgPSByZXNwLmRhdGEuYnJlYWRjcnVtYnM7XHJcbiAgICAgICAgICB2bS5zaG93TG9hZGVyID0gZmFsc2U7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkRm9sZGVyID0gKG5hbWUsIGZvbGRlcikgPT4ge1xyXG4gICAgICBpZiAodm0uZm9sZGVyTmFtZSA9PSBcIlwiIHx8IHZtLmZvbGRlck5hbWUgPT0gbnVsbCkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiRm9sZGVyIG5hbWUgY2FuJ3QgYmUgZW1wdHlcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGlzUGFyZW50OiBmYWxzZSxcclxuICAgICAgICBwYXJlbnQ6IGZvbGRlclxyXG4gICAgICB9O1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmFkZEhpZXJhcmNoeShwYXlsb2FkKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgZm9sZGVyLmNoaWxkcmVuLnB1c2gocmVzcC5kYXRhLmRhdGEpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmFkZEZpbGVUb0hpZXJhcmNoeSA9IChhc3NldHMsIGZvbGRlcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyh2bS5zZWxlY3RlZEZpbGVzKTtcclxuICAgICAgaWYgKHZtLnNlbGVjdGVkRmlsZXMgPT0gbnVsbCkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiWW91IG5lZWQgdG8gc2VsZWN0IGZpbGVzIHRvIHNhdmVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgY29uc3QgYXNzZXRJZCA9IGFzc2V0cy5tYXAoeCA9PiB4Ll9pZCk7XHJcbiAgICAgIGNvbnN0IGhpZXJhcmNoeUlkID0gZm9sZGVyLl9pZDtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5hZGRGaWxlVG9IaWVyYXJjaHkoe1xyXG4gICAgICAgICAgYXNzZXRJZCxcclxuICAgICAgICAgIGhpZXJhcmNoeUlkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5kZWxldGVGaWxlID0gKGlkLCBmb2xkZXJEYXRhKSA9PiB7XHJcbiAgICAgICQoXCIjZmlsZVZpZXdcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmRlbGV0ZUFzc2V0cyh7XHJcbiAgICAgICAgICBhc3NldElkOiBpZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5zaG93TG9hZGVyID0gdHJ1ZTtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLnZpZXdIaWVyYXJjaHkoZm9sZGVyRGF0YS4kbW9kZWxWYWx1ZS5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgIC8qIEFwcGVuZCBmaWxlcyB0byB0aGUgZm9sZGVyICovXHJcbiAgICAgICAgICAgICAgdm0ud2luZG93SXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgICBmb2xkZXJEYXRhOiBmb2xkZXJEYXRhLFxyXG4gICAgICAgICAgICAgICAgZm9sZGVyczogZm9sZGVyRGF0YS4kbW9kZWxWYWx1ZS5jaGlsZHJlbixcclxuICAgICAgICAgICAgICAgIGZpbGVzOiByZXNwLmRhdGEuZmlsZXNcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIHZtLnNob3dMb2FkZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBmb2xkZXJEYXRhLiRtb2RlbFZhbHVlLmZpbGVzID0gcmVzcC5kYXRhLmZpbGVzO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIEZpbGUgICBoYW5kbGluZyAqL1xyXG4gICAgdm0udXBsb2FkU3RhdGUgPSBmYWxzZTtcclxuICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZhbHNlO1xyXG5cclxuICAgIHZtLmZpbGVVcGRhdGVkID0gKGZpbGVzLCBldmVudCkgPT4ge1xyXG4gICAgICAvKiBSZWZyZXNoIHVwbG9hZCBzdGF0ZXMgd2l0aCBuZXcgZmlsZXMgKi9cclxuICAgICAgbGV0IGZpbGVPYmogPSBldmVudC50YXJnZXQuZmlsZXM7XHJcbiAgICAgIHZtLnVwbG9hZFN0YXRlID0gZmFsc2U7XHJcbiAgICAgIHZtLmNvbXBsZXRlZEFsbCA9IGZhbHNlO1xyXG5cclxuICAgICAgdm0uZmlsZU5hbWVzID0gT2JqZWN0LmtleXMoZmlsZU9iaikubWFwKHggPT4ge1xyXG4gICAgICAgIGxldCB2YWwgPSBmaWxlT2JqW3hdO1xyXG4gICAgICAgIHZhbC5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdmFsLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsLmNvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbC5hYm9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsLnBsYW4gPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2bS50b2dnbGVVcGxvYWRWaWV3TWF4aW1pemUgPSB2YWwgPT4ge1xyXG4gICAgICB2bS51cGxvYWRWaWV3TWF4aW1pemUgPSAhdmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBDYXB0dXJlIHJlbG9hZCBhbmQgYmFjayBldmVudHMgKi9cclxuXHJcbiAgICAvLyB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAvLyAgIC8vIHZtLnVwbG9hZFN0YXRlICYmXHJcbiAgICAvLyAgIHJldHVybiAoZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgaWYgKHdpbmRvdy5jb25maXJtKFwiQXJlIHlvdSBzdXJlPyBGaWxlIHVwbG9hZCB3aWxsIGJlIGFib3J0ZWRcIikpIHtcclxuICAgIC8vICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH0pKCk7XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8qIE1haW4gdXBsb2FkIGZ1bmN0aW9uYWxpdHkgKi9cclxuXHJcbiAgICB2bS5wcmVVcGxvYWQgPSAoZmlsZXMsIGZvbGRlcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyh2bS51cGxvYWRGaWxlcyk7XHJcbiAgICAgIGlmICh2bS51cGxvYWRGaWxlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLndhcm5pbmcoXCJZb3UgbmVlZCB0byB1cGxhb2QgZmlsZXNcIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgICQoXCIjYWRkTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBmaWxlTWFuYWdlckZhY3RvcnlcclxuICAgICAgICAuY2hlY2tEdXBsaWNhdGVGaWxlcyhmaWxlcywgZm9sZGVyLl9pZClcclxuICAgICAgICAudGhlbihwcm9jZXNzZWQgPT4ge1xyXG4gICAgICAgICAgaWYgKHByb2Nlc3NlZC5kdXBsaWNhdGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2bS5wcmVVcGxvYWRGaWxlcyA9IHByb2Nlc3NlZDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codm0ucHJlVXBsb2FkRmlsZXMpO1xyXG4gICAgICAgICAgICAkKFwiI3ZlcnNpb25pbmdNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9jZXNzZWQpO1xyXG4gICAgICAgICAgICB2bS51cGxvYWRGaWxlKHByb2Nlc3NlZCwgcHJvamVjdFN0b3JlLmdldCgpLl9pZCwgZm9sZGVyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5wcm9jZXNzRHVwbGljYXRlRmlsZU5hbWUgPSBmaWxlID0+IHtcclxuICAgICAgaWYgKGZpbGUuYWN0aW9uID09PSBcInZlcnNpb25cIikge1xyXG4gICAgICAgIGZpbGUuYXNzZXROYW1lID0gZmlsZU1hbmFnZXJGYWN0b3J5LmdlbmVyYXRlVmVyc2lvbihmaWxlLm5hbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbGUuYXNzZXROYW1lID0gZmlsZS5uYW1lO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnVwbG9hZEZpbGUgPSAoZmlsZXMsIHByb2plY3RJZCwgZm9sZGVyKSA9PiB7XHJcbiAgICAgIC8qIFZhbGlkYXRlIGR1cGxpY2F0ZSBmaWxlcyAqL1xyXG4gICAgICBpZiAoZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrTmFtZUNoYW5nZShmaWxlcy5kdXBsaWNhdGVzKSkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiRmlsZSBuYW1lcyBjYW4ndCBiZSB0aGUgc2FtZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLyogQ29sbGF0ZSBmaWxlcyAqL1xyXG4gICAgICAkKFwiI3ZlcnNpb25pbmdNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGZpbGVzID0gWy4uLmZpbGVzLmR1cGxpY2F0ZXMsIC4uLmZpbGVzLnVwbG9hZEZpbGVzXTtcclxuICAgICAgdm0udXBsb2FkU3RhdGUgPSB0cnVlO1xyXG4gICAgICAkKFwiI2FkZE1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgdm0udXBsb2FkVmlld0ZpbGVzID0gZmlsZU1hbmFnZXJGYWN0b3J5LnNwbGl0RGVzdGluYXRpb24oZmlsZXMpO1xyXG4gICAgICAvKiBDYXRlZ29yaXplIGZpbGVzICovXHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS51cGxvYWRWaWV3RmlsZXMuczMsIHggPT4ge1xyXG4gICAgICAgIC8qIEF0dGFjaCBldmVudHMgYW5kIHByb3BzIHRvIGZpbGVPYmogc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHZpZXcgKi9cclxuICAgICAgICBsZXQgdXBsb2FkSGFuZGxlciA9IGV2YXBvcmF0ZSA9PiB7XHJcbiAgICAgICAgICAvKiB1cGxvYWQgdG8gczMgaWYgdmFsdWUgaXMgbGVzcyB0aGFuIDMgKi9cclxuICAgICAgICAgIHgucGF1c2UgPSB1cGxvYWRGYWN0b3J5LnBhdXNlLmJpbmQoZXZhcG9yYXRlLCB4KTtcclxuICAgICAgICAgIHgucmVzdW1lID0gdXBsb2FkRmFjdG9yeS5yZXN1bWUuYmluZChldmFwb3JhdGUsIHgpO1xyXG4gICAgICAgICAgeC5hYm9ydCA9IHVwbG9hZEZhY3RvcnkuYWJvcnQuYmluZChldmFwb3JhdGUsIHgpO1xyXG4gICAgICAgICAgbGV0IGFkZENvbmZpZyA9IHtcclxuICAgICAgICAgICAgbmFtZTogeC5uYW1lLFxyXG4gICAgICAgICAgICBmaWxlOiB4LFxyXG4gICAgICAgICAgICBwcm9ncmVzczogKHAsIHN0YXRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgLyogQVdTIHByb2dyZXNzIHBlcmNlbnRhZ2UgZmFsbHMgYmFjayBzb21ldGltZXMgZHVlIHRvIG1pc3NpbmcgZnJhZ21lbnRhdGlvbi4gXHJcbiAgICAgICAgICAgICAgVXBkYXRlIHByb2dyZXNzIHZhbHVlIG9ubHkgd2hlbiBpdCdzIGhpZ2hlciB0aGFuIHRoZSBwcmV2aW91cyB2YWx1ZSAqL1xyXG4gICAgICAgICAgICAgIHgucHJvZ3Jlc3MgPVxyXG4gICAgICAgICAgICAgICAgeC5wcm9ncmVzcyA+IE1hdGgucm91bmQocCAqIDEwMClcclxuICAgICAgICAgICAgICAgICAgPyB4LnByb2dyZXNzXHJcbiAgICAgICAgICAgICAgICAgIDogTWF0aC5yb3VuZChwICogMTAwKTtcclxuICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXHJcbiAgICAgICAgICAgICAgdm0uY29tcGxldGVkQWxsID0gZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrVXBsb2FkQ29tcGxldGlvbihcclxuICAgICAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlc1xyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcGxldGU6IChfeGhyLCBhd3NLZXkpID0+IHtcclxuICAgICAgICAgICAgICB4LmNvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBsZXRlIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBldmFwb3JhdGUuYWRkKGFkZENvbmZpZykudGhlbihcclxuICAgICAgICAgICAgZnVuY3Rpb24oYXdzT2JqZWN0S2V5KSB7XHJcbiAgICAgICAgICAgICAgLyogU3VjY2VzcyBibG9jayAqL1xyXG4gICAgICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogZmlsZU1hbmFnZXJGYWN0b3J5LnJlc29sdmVEZXN0VHlwZSh4KSxcclxuICAgICAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdFN0b3JlLmdldCgpLl9pZCxcclxuICAgICAgICAgICAgICAgIGZvbGRlcklkOiBmb2xkZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgYXNzZXREYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgIGFzc2V0TmFtZTogeC5hc3NldE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIGJ1Y2tldDogXCIzZGZpbGVzZGF0YVwiLFxyXG4gICAgICAgICAgICAgICAgICBrZXk6IGB0ZXN0LyR7eC5uYW1lfWAsXHJcbiAgICAgICAgICAgICAgICAgIG1pbWV0eXBlOiB4LnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgIGJ5dGVzOiB4LnNpemUsXHJcbiAgICAgICAgICAgICAgICAgIHBsYW5Eb2N1bWVudDogeC5wbGFuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgICAubmV3RmlsZVVwbG9hZChwYXlsb2FkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChmb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb2xkZXIuZmlsZXMucHVzaChyZXNwLmRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJGaWxlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkIHRvOlwiLCBhd3NPYmplY3RLZXkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbihyZWFzb24pIHtcclxuICAgICAgICAgICAgICAvKiBGYWlsdXJlIGJsb2NrICovXHJcbiAgICAgICAgICAgICAgeC5hYm9ydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAvKiBDaGVjayBjb21wbGV0aW9uICovXHJcbiAgICAgICAgICAgICAgdm0uY29tcGxldGVkQWxsID0gZmlsZU1hbmFnZXJGYWN0b3J5LmNoZWNrVXBsb2FkQ29tcGxldGlvbihcclxuICAgICAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlc1xyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgLyogUmVmcmVzaCB2aWV3IHdpdGggc2NvcGUgPiBhcHBseSAqL1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgZGlkIG5vdCB1cGxvYWQgc3VjZXNzZnVsbHk6XCIsIHJlYXNvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdXBsb2FkRmFjdG9yeS5zdGFydCh1cGxvYWRIYW5kbGVyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAodm0udXBsb2FkVmlld0ZpbGVzLmNsb3VkaW5hcnkubGVuZ3RoKSB7XHJcbiAgICAgICAgbGV0IGNsb3VkaW5hcnlQYXlsb2FkID0ge1xyXG4gICAgICAgICAgZmlsZXM6IHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5LFxyXG4gICAgICAgICAgLyogU2VuZCBhc3NldCBuYW1lcyBzZXBhcmF0ZWx5ICovXHJcbiAgICAgICAgICBhc3NldE5hbWVzOiB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeS5tYXAoeCA9PiB4LmFzc2V0TmFtZSksXHJcbiAgICAgICAgICBwcm9qZWN0SWQsXHJcbiAgICAgICAgICBoaWVyYXJjaHlJZDogZm9sZGVyLl9pZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC51cGxvYWRGaWxlSW5GaWxlTWFuYWdlcihjbG91ZGluYXJ5UGF5bG9hZClcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICB2bS51cGxvYWRWaWV3RmlsZXMuY2xvdWRpbmFyeSA9IHZtLnVwbG9hZFZpZXdGaWxlcy5jbG91ZGluYXJ5Lm1hcChcclxuICAgICAgICAgICAgICB4ID0+IHtcclxuICAgICAgICAgICAgICAgIHguY29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgLyogQ2hlY2sgY29tcGxldGlvbiAqL1xyXG4gICAgICAgICAgICB2bS5jb21wbGV0ZWRBbGwgPSBmaWxlTWFuYWdlckZhY3RvcnkuY2hlY2tVcGxvYWRDb21wbGV0aW9uKFxyXG4gICAgICAgICAgICAgIHZtLnVwbG9hZFZpZXdGaWxlc1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAvKiBSZWZyZXNoIHZpZXcgd2l0aCBzY29wZSA+IGFwcGx5ICovXHJcbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZvbGRlcikge1xyXG4gICAgICAgICAgICAgIHJlc3AuZGF0YS5kYXRhLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb2xkZXIuZmlsZXMucHVzaCh4KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5jbG9zZVVwbG9hZFZpZXcgPSAoKSA9PiB7XHJcbiAgICAgIHZtLnVwbG9hZFN0YXRlID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVWaWV3ID0gZmlsZSA9PiB7XHJcbiAgICAgICQoXCIjZmlsZVZpZXdcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICB2bS5wcmV2aWV3RGF0YSA9IGZpbGU7XHJcbiAgICAgIHZtLnByZXZpZXdEYXRhLmN1c3RvbVVybCA9XHJcbiAgICAgICAgZmlsZS5mb3JtYXQgPT09IFwicGRmXCJcclxuICAgICAgICAgID8gZmlsZS5zZWN1cmVfdXJsLnJlcGxhY2UoL1xcLnBkZi8sIFwiLnBuZ1wiKVxyXG4gICAgICAgICAgOiBmaWxlLnNlY3VyZV91cmw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIFRvZ2dsaW5nIGVkaXQgKi9cclxuXHJcbiAgICB2bS5lZGl0RW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdm0udG9nZ2xlRWRpdCA9IGJvb2wgPT4ge1xyXG4gICAgICB2bS5lZGl0RW5hYmxlZCA9IGJvb2w7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIENvbnRleHQgbWVudSBmdW5jdGlvbmFsaXR5ICovXHJcbiAgICAkc2NvcGUuYmFja0J0blZpZXcgPSBmYWxzZTtcclxuICAgIHZtLmNvbnRleHRNZW51T3B0aW9ucyA9IHtcclxuICAgICAgZXhwbG9yZXI6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiBcIlBhc3RlIGl0ZW0ocylcIixcclxuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkaXRlbVNjb3BlLCAkZXZlbnQsIG1vZGVsVmFsdWUsIHRleHQsICRsaSkge1xyXG4gICAgICAgICAgICBpZiAodm0ud2luZG93SXRlbXMuZm9sZGVyRGF0YSkge1xyXG4gICAgICAgICAgICAgIGNsaXBCb2FyZFxyXG4gICAgICAgICAgICAgICAgLnBhc3RlKHZtLndpbmRvd0l0ZW1zLmZvbGRlckRhdGEuJG1vZGVsVmFsdWUuX2lkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnZpZXdIaWVyYXJjaHkodm0ud2luZG93SXRlbXMuZm9sZGVyRGF0YS4kbW9kZWxWYWx1ZS5faWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQXBwZW5kIGZpbGVzIHRvIHRoZSBmb2xkZXIgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ud2luZG93SXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyRGF0YTogdm0ud2luZG93SXRlbXMuZm9sZGVyRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJzOiByZXNwLmRhdGEuZm9sZGVycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlczogcmVzcC5kYXRhLmZpbGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi53YXJuaW5nKFwiQ2Fubm90IHBhc3RlIGZpbGUgaW4gcm9vdCBsb2NhdGlvblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgZmlsZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRleHQ6IFwiQ29weVwiLFxyXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRpdGVtU2NvcGUsICRldmVudCwgbW9kZWxWYWx1ZSwgdGV4dCwgJGxpKSB7XHJcbiAgICAgICAgICAgIGNsaXBCb2FyZC5jb3B5KCRpdGVtU2NvcGUuZmlsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiBcIkN1dFwiLFxyXG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRpdGVtU2NvcGUsICRldmVudCwgbW9kZWxWYWx1ZSwgdGV4dCwgJGxpKSB7XHJcbiAgICAgICAgICAgIGNsaXBCb2FyZC5jdXQoXHJcbiAgICAgICAgICAgICAgJGl0ZW1TY29wZS5maWxlLFxyXG4gICAgICAgICAgICAgIHZtLndpbmRvd0l0ZW1zLmZvbGRlckRhdGEuJG1vZGVsVmFsdWUuX2lkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiBcIk1vdmUgdG9cIixcclxuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkaXRlbVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHZtLnBkZm9ubHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdm0ucGlja2VyRm9sZGVycyA9IGFuZ3VsYXIuY29weSh2bS5yb290Rm9sZGVycyk7XHJcbiAgICAgICAgICAgIHZtLm1vdmVUb1NvdXJjZUZpbGUgPSAkaXRlbVNjb3BlLmZpbGU7XHJcbiAgICAgICAgICAgICQoXCIjbW92ZVRvXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgICAgICAgJChcIi5yb290Rm9sZGVyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgJChcIi5jaGlsZEZvbGRlclwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHZtLm1vdmV0byA9IFwibW92ZSBUb1wiO1xyXG4gICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IFwiUm9vdCBGb2xkZXJcIjtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5mb2xkZXJOYW1lID09IFwiUm9vdCBGb2xkZXJcIikge1xyXG4gICAgICAgICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH07XHJcbiAgICB2bS5jaGlsZEZvbGRlclZpZXcgPSB2YWwgPT4ge1xyXG4gICAgICB2bS5jaGlsZEZvbGRlcnMgPSB2YWwuY2hpbGRyZW47XHJcbiAgICAgIHZtLm1vdmV0byA9IHZhbC5uYW1lO1xyXG4gICAgICAkKFwiLnJvb3RGb2xkZXJcIikuaGlkZSgpO1xyXG4gICAgICAkKFwiLmNoaWxkRm9sZGVyXCIpLnNob3coKTtcclxuICAgIH07XHJcbiAgICAkc2NvcGUuYmFja0J0blZpZXcgPSBmYWxzZTtcclxuICAgIGlmICgkc2NvcGUuZm9sZGVyTmFtZSA9PSBcIlJvb3QgRm9sZGVyXCIpIHtcclxuICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEhpZXJhcmNoeSB0ZW1wbGF0ZSAqL1xyXG4gICAgdm0uc2F2ZUhpZXJhcmNoeVRyZWUgPSBuYW1lID0+IHtcclxuICAgICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIHRlbXBsYXRlIG5hbWVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNzYXZlVGVtcGxhdGVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICBuYW1lOiBuYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuc2F2ZUhpZXJhcmNoeVRyZWUocHJvamVjdFN0b3JlLmdldCgpLl9pZCwgZGF0YSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNvbnNvbGUubG9nKGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNlbGVjdGVkVGVtcGxhdGUgPSBcIlwiO1xyXG5cclxuICAgIC8vIGdldEhpZXJhcmNoeVRlbXBsYXRlXHJcblxyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAuZ2V0SGllcmFyY2h5VGVtcGxhdGUoKVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICB2bS50ZW1wbGF0ZUxpc3QgPSByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5hc3NpZ25UZW1wbGF0ZSA9ICgpID0+IHtcclxuICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkLFxyXG4gICAgICAgIHRlbXBsYXRlSWQ6IHZtLnNlbGVjdGVkVGVtcGxhdGUuX2lkXHJcbiAgICAgIH07XHJcbiAgICAgICQoXCIjYXNzaWduVGVtcGxhdGVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuY2hhbmdlUHJvamVjdFRlbXBsYXRlKGRhdGEpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICB2bS5nZXRQcmltYXJ5Rm9sZGVycyhwcm9qZWN0U3RvcmUuZ2V0KCkpO1xyXG4gICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAuZ2V0UHJvamVjdEJ5SWQocHJvamVjdFN0b3JlLmdldCgpLl9pZClcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgcHJvamVjdFN0b3JlLnNldChyZXNwLmRhdGEpO1xyXG4gICAgICAgICAgICAgIHZtLmJhY2t1cEZvbGRlcnMgPSBwcm9qZWN0U3RvcmUuZ2V0KCkuYmFja3VwRm9sZGVycztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zaG93QmFja3VwRmlsZXMgPSBmYWxzZTtcclxuICAgIHZtLnNob3dSZWNlbnRGaWxlcyA9IGZhbHNlO1xyXG5cclxuICAgIHZtLnRvZ2dsZUJvb2ttYXJrcyA9ICh2YWwsIGtleSkgPT4ge1xyXG4gICAgICB2bVtrZXldID0gIXZhbDtcclxuICAgIH07XHJcblxyXG4gICAgdm0ubG9hZFByb2plY3RGaWxlcyA9IGlkID0+IHtcclxuICAgICAgbGV0IGxpbWl0ID0gNTtcclxuICAgICAgYXBpRmFjdG9yeS5zaG93UHJvamVjdEZpbGVzKGlkLCBsaW1pdCkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgdm0ucHJvamVjdEZpbGVzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2bS5sb2FkUHJvamVjdEZpbGVzKHByb2plY3RTdG9yZS5nZXQoKS5faWQpO1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImludm9pY2VDdHJsXCIsIGludm9pY2VDdHJsKTtcblxuICBmdW5jdGlvbiBpbnZvaWNlQ3RybChcbiAgICAkc2NvcGUsXG4gICAgJHRpbWVvdXQsXG4gICAgYXV0aEZhY3RvcnksXG4gICAgJHN0YXRlLFxuICAgIGFwaUZhY3RvcnksXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHMsXG4gICAgTmdNYXAsXG4gICAgVXBsb2FkLFxuICAgIG1vbWVudCxcbiAgICAkbG9jYXRpb25cbiAgKSB7XG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cbiAgICBsZXQgdm0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsIGRlYm91bmNlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICAgIGNvbnNvbGUubG9nKHZtLnVzZXJEYXRhKVxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgIGxvZ291dCgpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuYWN0aXZlQ2xhc3MgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgcmV0dXJuICgkbG9jYXRpb24ucGF0aCgpID09PSBwYXRoKSA/ICdhY3RpdmUnIDogJyc7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImludm9pY2VMaXN0Q3RybFwiLCBpbnZvaWNlTGlzdEN0cmwpO1xuXG4gIGZ1bmN0aW9uIGludm9pY2VMaXN0Q3RybChcbiAgICAkc2NvcGUsXG4gICAgJHRpbWVvdXQsXG4gICAgYXV0aEZhY3RvcnksXG4gICAgJHN0YXRlLFxuICAgIGFwaUZhY3RvcnksXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHMsXG4gICAgTmdNYXAsXG4gICAgVXBsb2FkLFxuICAgIG1vbWVudCxcbiAgICAkbG9jYXRpb25cbiAgKSB7XG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cbiAgICBsZXQgdm0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsIGRlYm91bmNlLCBwcm9qZWN0U3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuXG4gICAgdm0udG9kYXlEYXRlID0gbmV3IERhdGUoKTtcbiAgICB2bS5pbnZvaWNlSXRlbXMgPSBbXTtcbiAgICB2bS5jcmVhdGVJbnZvaWNlRGF0YSA9IHtcbiAgICAgIHJlZmVyZW5jZTogXCJcIixcbiAgICAgIGRhdGU6IHZtLnRvZGF5RGF0ZSxcbiAgICAgIGR1ZURhdGU6IHZtLnRvZGF5RGF0ZSxcbiAgICAgIHRlcm1zQW5kQ29uZGl0aW9uczogdHJ1ZSxcbiAgICAgIGNhbGN1bGF0ZWRQcm9jZXNzOiB0cnVlXG4gICAgfTtcblxuICAgIGFwaUZhY3RvcnlcbiAgICAgIC5nZXRQcm9qZWN0QnlJZChwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNyZWF0ZUludm9pY2VEYXRhLnJlZmVyZW5jZSA9IHJlc3AuZGF0YS5zeXN0ZW1UYWc7XG4gICAgICAgIHJldHVybiBhcGlGYWN0b3J5Lmxpc3RBbGxQcm9qZWN0SW52b2ljZShyZXNwLmRhdGEuc3lzdGVtVGFnKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihnZXRJbnZvaWNlTGlzdClcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB9KTtcblxuICAgIHZtLmFkZEl0ZW0gPSB7XG4gICAgICBxdWFudGl0eTogMSxcbiAgICAgIGRpc2NvdW50UGVyY2VudDogMCxcbiAgICAgIHRheFJhdGU6IDBcbiAgICB9O1xuXG4gICAgdm0uY2xpZW50cyA9IFtdO1xuICAgIGFwaUZhY3RvcnlcbiAgICAgIC5saXN0QWxsQ2xpZW50cygpXG4gICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgdm0uY2xpZW50cyA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5jbGllbnRzLCBcImNsaWVudHNcIik7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsTWF0ZXJpYWxzKCksXG4gICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxDb21ib01hdGVyaWFscygpLFxuICAgICAgYXBpRmFjdG9yeS5saXN0QWxsRXF1aXBtZW50cygpXG4gICAgXSlcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICB2bS5pdGVtTGlzdCA9IFtdLmNvbmNhdChcbiAgICAgICAgICByZXNwWzBdLmRhdGEubGlzdCxcbiAgICAgICAgICByZXNwWzFdLmRhdGEubGlzdCxcbiAgICAgICAgICByZXNwWzJdLmRhdGEubGlzdFxuICAgICAgICApO1xuICAgICAgICB2bS5sb2FkRmlsZXNUb0F1dG9Db21wbGV0ZSA9ICRxdWVyeSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodm0uaXRlbUxpc3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB9KTtcblxuICAgIHZtLnNlbGVjdGVkSXRlbSA9IGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEubGVuZ3RoID09IDEpIHtcbiAgICAgICAgdm0uYWRkSXRlbS51bml0UHJpY2UgPVxuICAgICAgICAgIGRhdGFbMF0uY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICtcbiAgICAgICAgICBkYXRhWzBdLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWU7XG4gICAgICAgIHZtLmFkZEl0ZW0uZGVzY3JpcHRpb24gPSBkYXRhWzBdLm5hbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJ5b3UgY2FuIGFkZCBvbmx5IG9uZSBpdGVtIGF0IGEgdGltZVwiKTtcbiAgICAgICAgZGF0YS5zcGxpY2UoMSwgZGF0YS5sZW5ndGggLSAxKTtcbiAgICAgICAgdm0uYWRkSXRlbS51bml0UHJpY2UgPVxuICAgICAgICAgIGRhdGFbMF0uY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICtcbiAgICAgICAgICBkYXRhWzBdLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWU7XG4gICAgICAgIHZtLmFkZEl0ZW0uZGVzY3JpcHRpb24gPSBkYXRhWzBdLm5hbWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLnByaWNlQ2FsY3VsYXRlID0gKHF0eSwgZGlzYywgdGF4KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5hZGRJdGVtLCBcIj09PWFkZEl0ZW1cIik7XG4gICAgICBpZiAocXR5ICE9IDApIHtcbiAgICAgICAgdm0uYWRkSXRlbS5zYWxlcyA9IHZtLmFkZEl0ZW0ucXVhbnRpdHkgKiB2bS5hZGRJdGVtLnVuaXRQcmljZTtcbiAgICAgICAgaWYgKGRpc2MgJiYgZGlzYyAhPSAwKSB7XG4gICAgICAgICAgaWYgKGRpc2MgPiAxMDApIHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBFbnRlciBsZXNzIHRoYW4gMTAwXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlzY291bnRQcmljZSA9ICh2bS5hZGRJdGVtLnNhbGVzICogZGlzYykgLyAxMDA7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkaXNjb3VudFByaWNlLCBcImRpc2NvdW50UHJpY2VcIik7XG4gICAgICAgICAgICB2bS5hZGRJdGVtLnNhbGVzID0gdm0uYWRkSXRlbS5zYWxlcyAtIGRpc2NvdW50UHJpY2U7XG4gICAgICAgICAgICB2bS5hZGRJdGVtLmRpc2NvdW50UGVyY2VudCA9IGRpc2M7XG5cbiAgICAgICAgICAgIGlmICh0YXggJiYgdGF4ICE9IDApIHtcbiAgICAgICAgICAgICAgaWYgKHRheCA+IDEwMCkge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBFbnRlciBsZXNzIHRoYW4gMTAwXCIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0YXhQcmljZSA9ICh2bS5hZGRJdGVtLnNhbGVzICogdGF4KSAvIDEwMDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0YXhQcmljZSwgXCJ0YXhQcmljZVwiKTtcbiAgICAgICAgICAgICAgICB2bS5hZGRJdGVtLnNhbGVzID0gdm0uYWRkSXRlbS5zYWxlcyArIHRheFByaWNlO1xuICAgICAgICAgICAgICAgIHZtLmFkZEl0ZW0udGF4UmF0ZSA9IHRheDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIEVudGVyIFF1YW50aXR5XCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5hZGRJbnZvaWNlSXRlbSA9IGRhdGEgPT4ge1xuICAgICAgdm0uaW52b2ljZUl0ZW1zLnB1c2goZGF0YSk7XG4gICAgICB2bS5hZGRJdGVtID0ge1xuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgZGlzY291bnRQZXJjZW50OiAwLFxuICAgICAgICB0YXhSYXRlOiAwLFxuICAgICAgICB1bml0UHJpY2U6IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICBzYWxlczogMFxuICAgICAgfTtcbiAgICAgIHZtLnNlbGVjdGVkRmlsZXMgPSBcIlwiO1xuICAgIH07XG4gICAgdm0ucmVtb3ZlSW52b2ljZUl0ZW0gPSBpbmRleCA9PiB7XG4gICAgICB2bS5pbnZvaWNlSXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICAgIHZtLmNyZWF0ZUludm9pY2UgPSBkYXRhID0+IHtcbiAgICAgIGlmICghZGF0YS5jbGllbnQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBjbGllbnRcIik7XG4gICAgICB9IGVsc2UgaWYgKCFkYXRhLmRhdGUpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBkYXRlXCIpO1xuICAgICAgfSBlbHNlIGlmICghZGF0YS5kdWVEYXRlKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgZHVlIGRhdGVcIik7XG4gICAgICB9IGVsc2UgaWYgKCFkYXRhLnRlcm1zQW5kQ29uZGl0aW9ucykge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgY2hlY2sgdGVybXMgYW5kIGNvbmRpdGlvbnNcIik7XG4gICAgICB9IGVsc2UgaWYgKCFkYXRhLmNhbGN1bGF0ZWRQcm9jZXNzKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBjaGVjayBjYWxjdWxhdGVkIHByb2Nlc3NcIik7XG4gICAgICB9IGVsc2UgaWYgKHZtLmludm9pY2VJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBpbnZvaWNlRGF0YSA9IHtcbiAgICAgICAgICBjbGllbnQ6IGRhdGEuY2xpZW50LFxuICAgICAgICAgIGRhdGU6IG1vbWVudChkYXRhLmRhdGUpLmZvcm1hdCgpLFxuICAgICAgICAgIGR1ZURhdGU6IG1vbWVudChkYXRhLmR1ZURhdGUpLmZvcm1hdCgpLFxuICAgICAgICAgIHByb2plY3RTeXN0ZW1UYWc6IGRhdGEucmVmZXJlbmNlLFxuICAgICAgICAgIHRlcm1zQW5kQ29uZGl0aW9uczogZGF0YS50ZXJtc0FuZENvbmRpdGlvbnMsXG4gICAgICAgICAgY2FsY3VsYXRlZFByb2Nlc3M6IGRhdGEuY2FsY3VsYXRlZFByb2Nlc3MsXG4gICAgICAgICAgaXRlbXM6IHZtLmludm9pY2VJdGVtc1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAuY3JlYXRlSW52b2ljZShpbnZvaWNlRGF0YSlcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSW52b2ljZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIHJldHVybiBhcGlGYWN0b3J5Lmxpc3RBbGxQcm9qZWN0SW52b2ljZShkYXRhLnJlZmVyZW5jZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihnZXRJbnZvaWNlTGlzdClcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGFkZCBpbnZvaWNlIEl0ZW1zXCIpO1xuICAgICAgfVxuICAgIH07XG4gICAgJHNjb3BlLmFjdGl2ZUNsYXNzID0gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgcmV0dXJuICRsb2NhdGlvbi5wYXRoKCkgPT09IHBhdGggPyBcImFjdGl2ZVwiIDogXCJcIjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0SW52b2ljZUxpc3QocmVzcCkge1xuICAgICAgdm0uaW52b2ljZUxpc3QgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5pbnZvaWNlTGlzdCwgZnVuY3Rpb24oeCkge1xuICAgICAgICBsZXQgYW1vdW50ID0gMDtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHguaXRlbXMsIGZ1bmN0aW9uKHkpIHtcbiAgICAgICAgICBhbW91bnQgPSBhbW91bnQgKyB5LnNhbGVzO1xuICAgICAgICB9KTtcbiAgICAgICAgeC50b3RhbFZhbHVlID0gYW1vdW50O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiaXNzdWVEZXRhaWxDdHJsXCIsIGlzc3VlRGV0YWlsQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGlzc3VlRGV0YWlsQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkc3RhdGVQYXJhbXMsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgTmdNYXAsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZSxcclxuICAgIEZpbGVTYXZlcixcclxuICAgIGltYWdlTWFya2VyXHJcbiAgKSB7XHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9XHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuICAgIHZtLmlzc3VlSWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICB2bS5JbWFnZUFzc2V0cyA9IFtdO1xyXG4gICAgdm0uRG9jdW1lbnRBc3NldHMgPSBbXTtcclxuXHJcbiAgICAkc2NvcGUuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgJHNjb3BlLml0ZW1zUGVyUGFnZSA9IDM7XHJcblxyXG4gICAgdm0uZ2V0SXNzdWVEZXRhaWwgPSAoKSA9PiB7XHJcbiAgICAgIGFwaUZhY3RvcnkuZ2V0SXNzdWVCeUlkKHZtLmlzc3VlSWQpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uaXNzdWVEYXRhID0gcmVzcC5kYXRhO1xyXG4gICAgICAgIHZtLnBsYW5Ub01hcmsgPSByZXNwLmRhdGEubWFya2VkSW1hZ2VzLm1hcCgoeCwgaSkgPT4ge1xyXG4gICAgICAgICAgeC5hY3RpdmUgPSBpID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm0udG90YWxJdGVtcyA9IHZtLmlzc3VlRGF0YS5jb21tZW50cy5sZW5ndGg7XHJcbiAgICAgICAgJHNjb3BlLkFycmF5Q29tbWVudHMgPSB2bS5pc3N1ZURhdGEuY29tbWVudHMucmV2ZXJzZSgpO1xyXG4gICAgICAgICRzY29wZS5BcnJheUFjdGl2aXRpZXMgPSB2bS5pc3N1ZURhdGEuaXNzdWVBY3Rpdml0eS5yZXZlcnNlKCk7XHJcblxyXG4gICAgICAgIHZtLmFsbENvbW1lbnRzID0gJHNjb3BlLkFycmF5Q29tbWVudHMuc2xpY2UoMCwgMyk7XHJcbiAgICAgICAgdm0uYWxsQWN0aXZpdGllcyA9ICRzY29wZS5BcnJheUFjdGl2aXRpZXMuc2xpY2UoMCwgNik7XHJcbiAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICBpdGVtczogdm0udG90YWxJdGVtcyxcclxuICAgICAgICAgICAgaXRlbXNPblBhZ2U6ICRzY29wZS5pdGVtc1BlclBhZ2UsXHJcbiAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICBzZXRQYWdpbmdEYXRhKHBhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICQoXCIjcGFnaW5hdGlvbkFjdGl2aXR5XCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICBpdGVtczogdm0uaXNzdWVEYXRhLmlzc3VlQWN0aXZpdHkubGVuZ3RoLFxyXG4gICAgICAgICAgICBpdGVtc09uUGFnZTogNyxcclxuICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcclxuICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxyXG4gICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxyXG4gICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgIHNldEFjdGl2aXR5UGFnaW5nRGF0YShwYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHZtLmlzc3VlRGF0YS5saXN0QXNzZXRzICYmIHZtLmlzc3VlRGF0YS5saXN0QXNzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgdm0uaXNzdWVEYXRhLmxpc3RBc3NldHMubWFwKHggPT4ge1xyXG4gICAgICAgICAgICBpZiAoeC5taW1ldHlwZSA9PSBcImltYWdlL3BuZ1wiIHx8IHgubWltZXR5cGUgPT0gXCJpbWFnZS9qcGdcIikge1xyXG4gICAgICAgICAgICAgIHZtLkltYWdlQXNzZXRzLnB1c2goeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdm0uRG9jdW1lbnRBc3NldHMucHVzaCh4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0UGFnaW5nRGF0YShwYWdlKSB7XHJcbiAgICAgIHZhciBwYWdlZERhdGEgPSB2bS5pc3N1ZURhdGEuY29tbWVudHMuc2xpY2UoXHJcbiAgICAgICAgKHBhZ2UgLSAxKSAqICRzY29wZS5pdGVtc1BlclBhZ2UsXHJcbiAgICAgICAgcGFnZSAqICRzY29wZS5pdGVtc1BlclBhZ2VcclxuICAgICAgKTtcclxuICAgICAgdm0uYWxsQ29tbWVudHMgPSBwYWdlZERhdGE7XHJcbiAgICAgIC8qKnRvIHJlZnJlc2ggdGhlIGNvbW1lbnRzIHdoZW4gcGFnZSBjbGljayB1c2UgJGFwcGx5ICovXHJcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldEFjdGl2aXR5UGFnaW5nRGF0YShwYWdlKSB7XHJcbiAgICAgIHZhciBwYWdlZERhdGEgPSB2bS5pc3N1ZURhdGEuaXNzdWVBY3Rpdml0eS5zbGljZShcclxuICAgICAgICAocGFnZSAtIDEpICogNyxcclxuICAgICAgICBwYWdlICogN1xyXG4gICAgICApO1xyXG4gICAgICB2bS5hbGxBY3Rpdml0aWVzID0gcGFnZWREYXRhO1xyXG4gICAgICAvKip0byByZWZyZXNoIHRoZSBjb21tZW50cyB3aGVuIHBhZ2UgY2xpY2sgdXNlICRhcHBseSAqL1xyXG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdm0uZ2V0SXNzdWVEZXRhaWwoKTtcclxuXHJcbiAgICAvL0FkZCBjb21tZW50cy4uLi5cclxuICAgIHZtLnBvc3RDb21tZW50ID0gZnVuY3Rpb24oY29tbWVudCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNvbW1lbnQ6IFwiLCBjb21tZW50KTtcclxuICAgICAgbGV0IGNvbW1lbnQxID0gY29tbWVudC5yZXBsYWNlKC9cXG5cXHI/L2csIFwiPGJyIC8+XCIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNvbW1lbnQ6IFwiLCBjb21tZW50MSk7XHJcblxyXG4gICAgICBpZiAoY29tbWVudCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgYWRkIGNvbW1lbnQuXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBjb21tZW50b2JqID0geyBjb21tZW50OiBjb21tZW50IH07XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnBvc3RDb21tZW50Rm9ySXNzdWUodm0uaXNzdWVJZCwgY29tbWVudG9iailcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVzcDpcIiwgcmVzcCk7XHJcbiAgICAgICAgICAgIHZtLmdldElzc3VlRGV0YWlsKCk7XHJcbiAgICAgICAgICAgICQoXCIjY29tbWVudGFyZWFcIikudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkNvbW1lbnQgYWRkZWQgc3VjY2Vzc2Z1bGx5Li5cIik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJDb3VsZG4ndCB1cGRhdGUgY29tbWVudFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jaGFuZ2VDb21wbGV0aW9uU3RhdHVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGFsZXJ0KFwiY29tcGxldGlvblwiKTtcclxuICAgIH07XHJcblxyXG4gICAgLy9kb3dubG9hZCBhdHRhY2htZW50IGZpbGVcclxuICAgIHZtLmRvd25sb2FkRmlsZSA9IGZ1bmN0aW9uKGRvY3MpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJkb2NzXCIsIGRvY3MpO1xyXG5cclxuICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbZG9jc10sIHsgdHlwZTogZG9jcy5taW1ldHlwZSB9KTtcclxuICAgICAgY29uc29sZS5sb2coXCJibG9iXCIsIGJsb2IpO1xyXG4gICAgICBzYXZlQXMoYmxvYiwgZG9jcy5vcmlnaW9uYWxuYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLnJlT3Blbklzc3VlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAucmVPcGVuSXNzdWVTdGF0dXNVcGRhdGUodm0uaXNzdWVJZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIHZtLmdldElzc3VlRGV0YWlsKCk7XHJcbiAgICAgICAgICAkKFwiI2NvbmZpcm1tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIklzc3VlIHN0YXR1cyBpcyBub3cgb3BlblwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcImNvdWxkIG5vdCB1cGRhdGUgU3RhdHVzXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUubWFya0lzc3VlQXNDb21wbGV0ZSA9IGZ1bmN0aW9uKGNvbW1lbnQsIGltYWdlRmlsZXMpIHtcclxuICAgICAgY29uc29sZS5sb2coY29tbWVudCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGltYWdlRmlsZXMpO1xyXG4gICAgICB2YXIgZWRpdE9iamVjdCA9IHsgY29tbWVudDogY29tbWVudCwgSW1hZ2VzOiBpbWFnZUZpbGVzIH07XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuc2F2ZUlzc3VlQXNDb21wbGV0ZSh2bS5pc3N1ZUlkLCBlZGl0T2JqZWN0KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgdm0uZ2V0SXNzdWVEZXRhaWwoKTtcclxuICAgICAgICAgICQoXCIjY29tcGxldGlvbnN0YXR1c21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSXNzdWUgaXMgYmVlbiBtYXJrZWQgYXMgY29tcGxldGVkXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFxyXG4gICAgICAgICAgICBcIlNvbWV0aGluZyB3cm9uZyBoYXBwZW5lZC4gY291bGRlbnQgdXBkYXRlIGNoYW5nZXNcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyogSXNzdWUgbWFya2luZ3MgKi9cclxuICAgIHZtLmVycm9ySW1hZ2UgPSBcImFzc2V0cy9pbWFnZXMvZW5kdXNlcmlzc3VlLnBuZ1wiO1xyXG4gICAgJHNjb3BlLmJ0bk1hcmtlciA9IFwiLi4vYXNzZXRzL2ltYWdlcy9ncHMucG5nXCI7XHJcbiAgICAkc2NvcGUuYnRuQ2lyY2xlID0gXCIuLi9hc3NldHMvaW1hZ2VzL2NpcmNsZS1zaGFwZS1vdXRsaW5lLnBuZ1wiO1xyXG4gICAgJHNjb3BlLmJ0bkxpbmUgPSBcIi4uL2Fzc2V0cy9pbWFnZXMvbGluZWljb24ucG5nXCI7XHJcbiAgICAkc2NvcGUuYnRuVGV4dCA9IFwiLi4vYXNzZXRzL2ltYWdlcy90ZXh0LW9wdGlvbi1pbnRlcmZhY2Utc3ltYm9sLnBuZ1wiO1xyXG5cclxuICAgIHZtLm9wZW5FZGl0TWFya2luZyA9ICgpID0+IHtcclxuICAgICAgJChcIiNrb252YV9pc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuICAgIHZtLm1hcmtpbmdDb2xvciA9IFwicmdiYSgwLDAsMCwxKVwiO1xyXG4gICAgdm0uY3BPcHRpb25zID0ge1xyXG4gICAgICBzd2F0Y2g6IHRydWUsXHJcbiAgICAgIGZvcm1hdDogXCJyZ2JcIixcclxuICAgICAgcG9zOiBcInRvcCByaWdodFwiLFxyXG4gICAgICBjYXNlOiBcImxvd2VyXCIsXHJcbiAgICAgIGFscGhhOiB0cnVlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qIENvbG9yIFBpY2tlciBFdmVudHMgKi9cclxuICAgIHZtLmNwRXZlbnRzID0ge1xyXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XHJcbiAgICAgICAgaW1hZ2VNYXJrZXIuc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmN1cnJlbnRNYXJraW5nSW1hZ2UgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0IGFjdGlvbnMgPSBpbWFnZU1hcmtlci51bmRvUmVkbygpO1xyXG5cclxuICAgIHZtLmFjdGlvbnMgPSBhY3Rpb24gPT4ge1xyXG4gICAgICBhY3Rpb25zW2FjdGlvbl0oKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ub3BlblNsaWRlckltYWdlID0gaW1hZ2UgPT4ge1xyXG4gICAgICBpZiAoIWltYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8qIENsZWFyIGFjdGlvbiBzdGFjayBiZWZvcmUgc3dpdGNoaW5nIHRvIGFub3RoZXIgaW1hZ2UgKi9cclxuICAgICAgYWN0aW9ucy5yZXNldCgpO1xyXG4gICAgICBzYXZlRXhpc3RpbmdNYXJraW5nKHZtLmN1cnJlbnRNYXJraW5nSW1hZ2UpXHJcbiAgICAgICAgLnRoZW4oXyA9PiB7XHJcbiAgICAgICAgICAvKiBTZXQgc3RhZ2UgZGltZW5zaW9ucyAqL1xyXG4gICAgICAgICAgbGV0IGRpbWVuc2lvbnMgPSB7fTtcclxuICAgICAgICAgIGlmIChpbWFnZS53aWR0aCA+IDY1MCkge1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gNjUwIC8gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogb2Zmc2V0O1xyXG4gICAgICAgICAgICBkaW1lbnNpb25zLndpZHRoID0gNjUwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IHtcclxuICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcclxuICAgICAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpbWFnZU1hcmtlci5pbml0KFwic2xpZGVDYW52YXNcIiwgZGltZW5zaW9ucywgaW1hZ2UpO1xyXG4gICAgICAgICAgdm0ucGxhblRvTWFyay5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICBpZiAoeC5faWQgPT09IGltYWdlLl9pZCkge1xyXG4gICAgICAgICAgICAgIHguYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB4LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHZtLmN1cnJlbnRNYXJraW5nSW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZUV4aXN0aW5nTWFya2luZyhhc3NldE9iaikge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8qIEFkZGluZyBpbWFnZSBhbmQgZmlsZSBvYmogdG8gYXNzZXQgb2JqICovXHJcbiAgICAgICAgaWYgKGFzc2V0T2JqKSB7XHJcbiAgICAgICAgICBsZXQgZGF0YUltYWdlID0gaW1hZ2VNYXJrZXIuZ2V0Q2FudmFzSW1hZ2UoKTtcclxuICAgICAgICAgIGZldGNoKGRhdGFJbWFnZSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5ibG9iKCkpXHJcbiAgICAgICAgICAgIC50aGVuKGJsb2IgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIFwiZGV0YWlsZmlsZVwiKTtcclxuICAgICAgICAgICAgICBhc3NldE9iai5maWxlT2JqID0gZmlsZTtcclxuICAgICAgICAgICAgICBhc3NldE9iai5tYXJraW5nSnNvbiA9IGltYWdlTWFya2VyLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdm0uZHJhd21hcmtlck9uQ2FudmFzID0gKCkgPT4ge1xyXG4gICAgICBpbWFnZU1hcmtlci5zZXRTdGF0ZShcIm1hcmtlclwiKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZHJhd0xpbmVPbkNhbnZhcyA9ICgpID0+IHtcclxuICAgICAgaW1hZ2VNYXJrZXIuc2V0U3RhdGUoXCJsaW5lXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5kcmF3Q2lyY2xlT25DYW52YXMgPSAoKSA9PiB7XHJcbiAgICAgIGltYWdlTWFya2VyLnNldFN0YXRlKFwiY2lyY2xlXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS50ZXh0U3RhdGUgPSBmYWxzZTtcclxuICAgIHZtLmZpbGxUZXh0T25DYW52YXMgPSB0ZXh0ID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJhc2RhZGFzXCIsIHZtLnRleHRTdGF0ZSwgdGV4dCk7XHJcbiAgICAgIGlmICh2bS50ZXh0U3RhdGUgJiYgdGV4dCkge1xyXG4gICAgICAgIGltYWdlTWFya2VyLmZpbGxfdGV4dCh0ZXh0KTtcclxuICAgICAgICB2bS5jYW52YXNUZXh0ID0gXCJcIjtcclxuICAgICAgfVxyXG4gICAgICB2bS50ZXh0U3RhdGUgPSAhdm0udGV4dFN0YXRlO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuJG9uKFwic2F2ZURyYXdpbmdcIiwgZSA9PiB7XHJcbiAgICAgIHNhdmVFeGlzdGluZ01hcmtpbmcodm0uY3VycmVudE1hcmtpbmdJbWFnZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS51cGRhdGVNYXJraW5nSW5mbyA9IGZ1bmN0aW9uKG1hcmtpbmdzKSB7XHJcbiAgICAgICQoXCIja29udmFfaXNzdWVfbWFya2VyLCAjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBsZXQgcGF5bG9hZCA9IG1hcmtpbmdzLnJlZHVjZShcclxuICAgICAgICAoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICBpZiAoeC5tYXJraW5nSnNvbikge1xyXG4gICAgICAgICAgICBsZXQgZmlsZURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgYXNzZXRJZDogeC5faWQsXHJcbiAgICAgICAgICAgICAgc2VyaWFsaXplZERhdGE6IHgubWFya2luZ0pzb25cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYWNjLmZpbGVEYXRhLnB1c2goZmlsZURhdGEpO1xyXG5cclxuICAgICAgICAgICAgYWNjLmZpbGVzLnB1c2goeC5maWxlT2JqKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBmaWxlRGF0YTogW10sIGZpbGVzOiBbXSB9XHJcbiAgICAgICk7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZWRpdElzc3VlTWFya2luZ3MocGF5bG9hZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIHZtLmdldElzc3VlRGV0YWlsKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0ubW9kYWxDbG9zZSA9ICgpID0+IHtcclxuICAgICAgJChcIiNrb252YV9pc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcImlzc3Vlc0N0cmxcIiwgaXNzdWVzQ3RybCk7XHJcblxyXG4gIGZ1bmN0aW9uIGlzc3Vlc0N0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkcm9vdFNjb3BlLFxyXG4gICAgJHRpbWVvdXQsXHJcbiAgICBhdXRoRmFjdG9yeSxcclxuICAgICRzdGF0ZSxcclxuICAgICRxLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBmaWxlTWFuYWdlckZhY3RvcnksXHJcbiAgICBVcGxvYWQsXHJcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgdXBsb2FkRmFjdG9yeSxcclxuICAgIGltYWdlTWFya2VyXHJcbiAgKSB7XHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgdm0uYmFja0ltZztcclxuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUsIHByb2plY3RTdG9yZSwgZGVib3VuY2UgfSA9IGdsb2JhbHM7XHJcbiAgICB2bS5VcGxvYWRGaWxlcyA9IFtdO1xyXG4gICAgdm0uaXNzdWVEYXRhID0ge307XHJcbiAgICAkc2NvcGUuaXNzdWVNb2RlbCA9IHt9O1xyXG4gICAgJHNjb3BlLmZpbGU7XHJcbiAgICAkc2NvcGUuY29tbWVudCA9IFwiXCI7XHJcbiAgICAvLyAgICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAkc2NvcGUub3BlbkVkaXQgPSBmYWxzZTtcclxuICAgICRzY29wZS5maWxlc1RvUmVtb3ZlID0gW107XHJcbiAgICAkc2NvcGUuaXNTZWxlY3RlZEJ0biA9IGZhbHNlO1xyXG4gICAgJHNjb3BlLnVwZGF0ZWZvcm0gPSBmYWxzZTtcclxuICAgICRzY29wZS5VbmRvQXJyYXkgPSBbXTtcclxuICAgICRzY29wZS5yZWRvQXJyYXkgPSBbXTtcclxuICAgIHZtLnBsYW5Ub01hcmsgPSBbXTtcclxuICAgIHZtLkxvY2FsSW1ncyA9IFtdO1xyXG4gICAgLy8gY29uc3QgeyBsb2dvdXQgfSA9IGdsb2JhbHM7XHJcbiAgICAkc2NvcGUuc2VhcmNoaW5nVGV4dCA9IGZhbHNlO1xyXG4gICAgJHNjb3BlLm9wZW5GaWxsQ29sb3IgPSBmYWxzZTtcclxuICAgIC8vY29sb3IgcGlja2VyIHZhcmlhYmxlc1xyXG4gICAgJHNjb3BlLmNvbG9ycGljayA9IFwiIzAwMDBmZlwiO1xyXG4gICAgJHNjb3BlLmNvbG9yV2VsbDtcclxuICAgICRzY29wZS5maWxsV2VsbDtcclxuICAgICRzY29wZS5maWxsQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XHJcbiAgICAkc2NvcGUudGV4dEZvcm0gPSBmYWxzZTtcclxuICAgICRzY29wZS5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNsaWRlQ2FudmFzXCIpO1xyXG4gICAgdm0uZXJyb3JJbWFnZSA9IFwiYXNzZXRzL2ltYWdlcy9lbmR1c2VyaXNzdWUucG5nXCI7XHJcbiAgICAkc2NvcGUuYnRuTWFya2VyID0gXCIuLi9hc3NldHMvaW1hZ2VzL2dwcy5wbmdcIjtcclxuICAgICRzY29wZS5idG5DaXJjbGUgPSBcIi4uL2Fzc2V0cy9pbWFnZXMvY2lyY2xlLXNoYXBlLW91dGxpbmUucG5nXCI7XHJcbiAgICAkc2NvcGUuYnRuTGluZSA9IFwiLi4vYXNzZXRzL2ltYWdlcy9saW5laWNvbi5wbmdcIjtcclxuICAgICRzY29wZS5idG5UZXh0ID0gXCIuLi9hc3NldHMvaW1hZ2VzL3RleHQtb3B0aW9uLWludGVyZmFjZS1zeW1ib2wucG5nXCI7XHJcblxyXG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cclxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xyXG5cclxuICAgIHZtLmxvZ291dCA9ICgpID0+IHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmlucHV0SW1nID0gW107XHJcbiAgICB2bS51cGxvYWRJbWcgPSBbXTtcclxuICAgIHZtLmlucHV0RmlsZXMgPSBbXTtcclxuICAgIHZtLnVwbG9hZEZpbGVzID0gW107XHJcblxyXG4gICAgLyogRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICQoXCIuaXNzdWVzTGlzdFwiKS5EYXRhVGFibGUoKTtcclxuICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAwO1xyXG5cclxuICAgIHZtLmN1cnJlbnRQYWdlID0gMTtcclxuXHJcbiAgICB2bS50b2dnbGVPYmogPSB7XHJcbiAgICAgIHRvZ2dsZUlzc3VlOiB7XHJcbiAgICAgICAgc3lzdGVtVGFnOiBmYWxzZSxcclxuICAgICAgICB0aXRsZTogZmFsc2UsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGZhbHNlLFxyXG4gICAgICAgIHByb2plY3ROYW1lOiBmYWxzZSxcclxuICAgICAgICBjcmVhdGVkOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB2bS5zZWFyY2hUZXh0ID0gXCJcIjtcclxuICAgIHZtLnNvcnRpc3N1ZXMgPSAodHlwZSwgcmVzb3VyY2UpID0+IHtcclxuICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgICB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID09PSB1bmRlZmluZWRcclxuICAgICAgICA/ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gdHJ1ZSlcclxuICAgICAgICA6ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gIXZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0pO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgIGNodW5rOiAxMCxcclxuICAgICAgICAgIHNvcnQ6IFwiY3JlYXRlZFwiLFxyXG4gICAgICAgICAgc2VhcmNoOiB2bS5zZWFyY2hUZXh0LFxyXG4gICAgICAgICAgc29ydFR5cGU6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIC8vIHZtW3Jlc291cmNlXT0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAvLyB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0gPSByZXNwLmRhdGEudG90YWw7XHJcbiAgICAgICAgICB2bS5hbGxJc3N1ZXMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWxsIGlzc3Vlc1wiLCB2bS5hbGxJc3N1ZXMpO1xyXG4gICAgICAgICAgdm0uaXNzdWVDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcclxuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlYXJjaGluZ1RleHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJChcIiNwYWdpbmF0aW9uXCIpLnBhZ2luYXRpb24oe1xyXG4gICAgICAgICAgICAgIGl0ZW1zOiB2bS5pc3N1ZUNvdW50LFxyXG4gICAgICAgICAgICAgIGl0ZW1zT25QYWdlOiAxMCxcclxuICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxyXG4gICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAubGlzdEFsbElzc3Vlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmFsbElzc3VlcyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIjcGFnaW5hdGlvbiB1bCBsaSAucHJldlwiKS50ZXh0KFwiPDxcIik7XHJcbiAgICAgICAgICAgICQoXCIjcGFnaW5hdGlvbiB1bCBsaSAubmV4dFwiKS50ZXh0KFwiPj5cIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzZWFyY2hEZWJvdW5jZSA9IGRlYm91bmNlKDI1MCk7IC8qIFBhc3NpbmcgaW4gdGhlIGRlYm91bmNlIHJhdGUgKi9cclxuICAgIHZtLnNlYXJjaElzc3VlcyA9IHRleHQgPT4ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBwYXNzIHRoZSBmdW5jdGlvbiB3aGljaCB5b3Ugd2FudCB0byBkZWJvdW5jZVxyXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gcGFzcyB0aGUgYXJndW1lbnRzIGZyb20gdGhlIHZpZXcgYXMgYW4gYXJyYXlcclxuICAgICAgICovXHJcbiAgICAgIHNlYXJjaERlYm91bmNlKFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgY2h1bms6IDEwLFxyXG4gICAgICAgICAgICAgIHNlYXJjaDogdGV4dCxcclxuICAgICAgICAgICAgICBzb3J0OiBcImNyZWF0ZWRcIixcclxuICAgICAgICAgICAgICBzb3J0VHlwZTogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgdm0uYWxsSXNzdWVzID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICAgICAgICAgICAgdm0uaXNzdWVDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcclxuXHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaGluZ1RleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJChcIiNwYWdpbmdcIikucGFnaW5hdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5pc3N1ZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXHJcbiAgICAgICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcclxuICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcclxuXHJcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbElzc3VlcyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBbdGV4dF1cclxuICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgLyogSW5pdGlhbGx5IHNvcnQgaXNzdWUgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xyXG4gICAgdm0uc29ydGlzc3VlcyhcImNyZWF0ZWRcIiwgXCJ0b2dnbGVJc3N1ZVwiKTtcclxuXHJcbiAgICB2bS5kdE9wdGlvbnMgPSB7XHJcbiAgICAgIHBhZ2luZzogZmFsc2UsXHJcbiAgICAgIGluZm86IGZhbHNlLFxyXG4gICAgICBvcmRlcmluZzogZmFsc2UsXHJcbiAgICAgIHNlYXJjaGluZzogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyogRW5kIG9mICBEYXRhIHRhYmxlIHNldHVwICoqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgJHNjb3BlLmlzc3VlQ2F0ZWdvcnkgPSBbXCJTYWZldHlcIiwgXCJRdWFsaXR5XCIsIFwiSXNzdWVcIl07XHJcblxyXG4gICAgYXBpRmFjdG9yeS5saXN0QWxsVXNlcnMoKS50aGVuKHJlc3AgPT4ge1xyXG4gICAgICB2bS5hbGxVc2VycyA9IHJlc3AuZGF0YS5saXN0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXBpRmFjdG9yeS5saXN0QWxsUm9vZmVycygpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgIHZtLmFsbFJvb2ZlcnMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgIH0pO1xyXG5cclxuICAgIGFwaUZhY3RvcnkubGlzdEFsbFByb2plY3RzKCkudGhlbihyZXNwID0+IHtcclxuICAgICAgdm0uYWxsUHJvamVjdHMgPSByZXNwLmRhdGEubGlzdDtcclxuICAgIH0pO1xyXG5cclxuICAgIGFwaUZhY3RvcnkuZ2V0SXNzdWVzTGlzdCgpLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgIHZtLmxpc3RPZklzc3VlID0gcmVzcC5kYXRhLmxpc3Q7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5kZXNjcmlwdGlvblBvcG92ZXIgPSAoaW5kZXhWYWwsIHR5cGUpID0+IHtcclxuICAgICAgJHNjb3BlLmZpbGVUeXBlID0gdHlwZTtcclxuICAgICAgJHNjb3BlLmZpbGVJbmRleCA9IGluZGV4VmFsO1xyXG4gICAgfTtcclxuICAgIHZtLmFkZERlc2NyaXB0aW9uID0gKGluZGV4LCBkYXRhKSA9PiB7XHJcbiAgICAgIGlmICgkc2NvcGUuZmlsZVR5cGUgPT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgdm0udXBsb2FkSW1nW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XHJcblxyXG4gICAgICAgICQoXCIjY2xvc2VQb3BvdmVySW1nX1wiICsgaW5kZXgpLnRyaWdnZXIoXCJjbGlja1wiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2bS51cGxvYWRGaWxlc1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xyXG5cclxuICAgICAgICAkKFwiI2Nsb3NlUG9wb3ZlckZpbGVfXCIgKyBpbmRleCkudHJpZ2dlcihcImNsaWNrXCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmZpbGVBZGRlZCA9IChmaWxlcywgZXZlbnQsIG1vZGFsKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZtLmlucHV0SW1nKTtcclxuICAgICAgbGV0IGZpbGVPYmogPSBldmVudC50YXJnZXQuZmlsZXM7XHJcbiAgICAgIHZtLmZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGZpbGVPYmopLm1hcCh4ID0+IGZpbGVPYmpbeF0ubmFtZSk7XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChmaWxlcywgZnVuY3Rpb24oeCwgaW5kZXgpIHtcclxuICAgICAgICB4LmRlc2NyaXB0aW9uID0gXCJcIjtcclxuICAgICAgICBpZiAobW9kYWwgPT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgICBpZiAodm0udXBsb2FkSW1nLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHZtLnVwbG9hZEltZy5wdXNoKHgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZUltZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godm0udXBsb2FkSW1nLCBmdW5jdGlvbih5KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHgubmFtZSA9PSB5Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZUltZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGVJbWcpIHtcclxuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJGaWxlIG5hbWUgYWxyZWFkeSBleGlzdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAodm0udXBsb2FkRmlsZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgaWYgKC9pbWFnZS8udGVzdCh4LnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMucHVzaCh4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGR1cGxpY2F0ZUltZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goW10uY29uY2F0KHZtLnVwbG9hZEZpbGVzLCB2bS51cGxvYWRJbWcpLCBmdW5jdGlvbihcclxuICAgICAgICAgICAgICB5XHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIGlmICh4Lm5hbWUgPT0geS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVJbWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghZHVwbGljYXRlSW1nKSB7XHJcbiAgICAgICAgICAgICAgaWYgKC9pbWFnZS8udGVzdCh4LnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMucHVzaCh4KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiRmlsZSBuYW1lIGFscmVhZHkgZXhpc3RcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyh2bS51cGxvYWRJbWcpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5kZWxldGVGaWxlID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XHJcbiAgICAgIGlmICh0eXBlID09IFwiaW1hZ2VcIikge1xyXG4gICAgICAgIHZtLnVwbG9hZEltZy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZtLnVwbG9hZEZpbGVzLnNwbGljZShpbmRleFZhbCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uYWRkSXNzdWVEZXRhaWxzID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIXZtLmlzc3VlRGF0YS5jYXRlZ29yeSkge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBTZWxlY3QgaXNzdWUgQ2F0ZWdvcnlcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2UgaWYgKCF2bS5pc3N1ZURhdGEuYXNzaWduZWRUbykge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBTZWxlY3QgYXNzaWduZWQgdXNlclwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gZWxzZSBpZiAoIXZtLmlzc3VlRGF0YS5vd25lcikge1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBTZWxlY3QgaXNzdWUgb3duZXJcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5pbWdBbmRGaWxlcyA9IFtdLmNvbmNhdCh2bS51cGxvYWRJbWcsIHZtLnVwbG9hZEZpbGVzKTtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuaW1nQW5kRmlsZXMpO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IHtcclxuICAgICAgICAgIHRpdGxlOiB2bS5pc3N1ZURhdGEudGl0bGUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdm0uaXNzdWVEYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgcHJvamVjdElkOiB2bS5pc3N1ZURhdGEucHJvamVjdCxcclxuICAgICAgICAgIGlzc3VlQ2F0ZWdvcnk6IHZtLmlzc3VlRGF0YS5jYXRlZ29yeSxcclxuICAgICAgICAgIGFzc2lnbmVkVG86IHZtLmlzc3VlRGF0YS5hc3NpZ25lZFRvLFxyXG4gICAgICAgICAgaXNzdWVTdGF0dXM6IHZtLmlzc3VlRGF0YS5pc3N1ZVN0YXR1cyxcclxuICAgICAgICAgIG93bmVySWQ6IHZtLmlzc3VlRGF0YS5vd25lcixcclxuICAgICAgICAgIGRlcGVuZGVuY3lPbjogdm0uaXNzdWVEYXRhLmRlcGVuZGVuY3lPbixcclxuICAgICAgICAgIGRlYWRMaW5lOiB2bS5pc3N1ZURhdGEuZGVhZExpbmUsXHJcbiAgICAgICAgICBmaWxlczogJHNjb3BlLmltZ0FuZEZpbGVzLFxyXG4gICAgICAgICAgYXNzZXRPYmo6ICRzY29wZS5pbWdBbmRGaWxlcy5tYXAoKHgsIGkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBhc3NldERlc2NyaXB0aW9uOiB4LmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLmNyZWF0ZUlzc3VlKGZvcm1EYXRhKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgJChcIiNpc3N1ZV9tb2RhbFwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgJChcIiNrb252YV9pc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICB2bS5pbnB1dEltZyA9IFtdO1xyXG4gICAgICAgICAgICB2bS51cGxvYWRJbWcgPSBbXTtcclxuICAgICAgICAgICAgdm0uaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICB2bS51cGxvYWRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICB2bS5pc3N1ZURhdGEgPSB7fTtcclxuICAgICAgICAgICAgdm0uY3JlYXRlZElzc3VlID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIHZtLnRvZ2dsZU9iai50b2dnbGVJc3N1ZS5jcmVhdGVkQXQgPSB0cnVlO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS51cGRhdGVJc3N1ZURldGFpbHMgPSBmb3JtRGF0YSA9PiB7XHJcbiAgICAgIHZhciBpc3N1ZU9iamVjdCA9IHt9O1xyXG4gICAgICBpZiAodm0udXBkYXRlSXNzdWUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgaXNzdWUgaXMgdW5kZWZpbmVkXCIpO1xyXG4gICAgICAgIGlzc3VlT2JqZWN0LlRpdGxlID0gJHNjb3BlLmlzc3VlTW9kZWwudGl0bGU7XHJcbiAgICAgICAgaXNzdWVPYmplY3QuZGVzY3JpcHRpb24gPSAkc2NvcGUuaXNzdWVNb2RlbC5kZXNjcmlwdGlvbjtcclxuICAgICAgICBpc3N1ZU9iamVjdC5kZWFkTGluZSA9ICRzY29wZS5pc3N1ZU1vZGVsLmRlYWRMaW5lO1xyXG4gICAgICAgIGlzc3VlT2JqZWN0Lmlzc3VlU3RhdHVzID0gJHNjb3BlLmlzc3VlTW9kZWwuaXNzdWVTdGF0dXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgaXN1dWUgaXMgbm90IHVuZGZpbmVkIHNvIGluIGVzbGUgY2FzZVwiKTtcclxuICAgICAgICBpZiAodm0udXBkYXRlSXNzdWUudGl0bGUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5UaXRsZSA9ICRzY29wZS5pc3N1ZU1vZGVsLnRpdGxlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5UaXRsZSA9IHZtLnVwZGF0ZUlzc3VlLnRpdGxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkKCcjaXNzdWVfbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIC8vJCgnI2lzc3VlX21hcmtlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZtLnVwZGF0ZUlzc3VlRGV0YWlscyA9IGZvcm1EYXRhID0+IHtcclxuICAgICAgICB2YXIgaXNzdWVPYmplY3QgPSB7fTtcclxuICAgICAgICBpZiAodm0udXBkYXRlSXNzdWUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZSBpc3N1ZSBpcyB1bmRlZmluZWRcIik7XHJcbiAgICAgICAgICBpc3N1ZU9iamVjdC5UaXRsZSA9ICRzY29wZS5pc3N1ZU1vZGVsLnRpdGxlO1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuZGVzY3JpcHRpb24gPSAkc2NvcGUuaXNzdWVNb2RlbC5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuZGVzY3JpcHRpb24gPSB2bS51cGRhdGVJc3N1ZS5kZXNjcmlwdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZtLnVwZGF0ZUlzc3VlLmRlYWRMaW5lID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuZGVhZExpbmUgPSAkc2NvcGUuaXNzdWVNb2RlbC5kZWFkTGluZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuZGVhZExpbmUgPSB2bS51cGRhdGVJc3N1ZS5kZWFkTGluZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZtLnVwZGF0ZUlzc3VlLmlzc3VlU3RhdHVzID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuaXNzdWVTdGF0dXMgPSAkc2NvcGUuaXNzdWVNb2RlbC5pc3N1ZVN0YXR1cztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXNzdWVPYmplY3QuaXNzdWVTdGF0dXMgPSB2bS51cGRhdGVJc3N1ZS5pc3N1ZVN0YXR1cztcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoJHNjb3BlLmlucHV0RmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGlzc3VlT2JqZWN0LmZpbGVzID0gJHNjb3BlLmlucHV0RmlsZXM7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCRzY29wZS5maWxlc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImZpbGVzIHRvIHJlbW92ZVwiLCAkc2NvcGUuZmlsZXNUb1JlbW92ZSk7XHJcbiAgICAgICAgaXNzdWVPYmplY3QucmVtb3ZlZEZpbGVzID0gJHNjb3BlLmZpbGVzVG9SZW1vdmU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2coXCJJU1VVRU9CSkVDVFwiLCBpc3N1ZU9iamVjdCk7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAudXBkYXRlSXNzdWUoaXNzdWVPYmplY3QsICRzY29wZS5pc3N1ZU1vZGVsLl9pZClcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwiSXNzdWUgaGFzIGJlZW4gdXBkYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAkc2NvcGUuaW5wdXRGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgJHNjb3BlLmZpbGVzVG9SZW1vdmUgPSBbXTtcclxuICAgICAgICAgICRzY29wZS51cGRhdGVmb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAkKFwiI2lzc3VlZGV0YWlsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgIHZtLnNvcnRpc3N1ZXMoXCJjcmVhdGVkXCIsIFwidG9nZ2xlSXNzdWVcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICRzY29wZS5pbnB1dEZpbGVzID0gW107XHJcbiAgICAgICAgICAkc2NvcGUuZmlsZXNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZWZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL3JlYWRpbmcgZmlsZSBpbWFnZXNcclxuICAgICRzY29wZS5yZWFkSW1nID0gZnVuY3Rpb24oZmlsZUltZykge1xyXG4gICAgICB2YXIgb3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibGFoXCIpO1xyXG4gICAgICBvdXRwdXQuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlSW1nKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmRlbGV0ZUltZyA9IGZ1bmN0aW9uKGluZGV4LCBhcnJheSkge1xyXG4gICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sb2NhbEZpbGVzID0gW107XHJcblxyXG4gICAgJChcIiNpc3N1ZV9tYXJrZXJcIikub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAkKHRoaXMpLnJlbW92ZURhdGEoXCJicy5tb2RhbFwiKTtcclxuICAgICAgaWYgKCQoXCIjY2hvb3NlSXNzdWVSb29mTW9kYWxcIikuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTW9kYWwgaXMgb3BlblwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk1vZGFsIGlzIGNsb3NlZFwiKTtcclxuICAgICAgICAkKHRoaXMpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLmdldEltYWdlc0luQ2Fyb3NlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcHJvamVjdElEID0gXCI1OGViOWQyZWM5MjFkNjcwMzY3ODc4MzJcIjtcclxuXHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhwcm9qZWN0SUQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAvLyQoXCIjaXNzdWVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgbGV0IFByb2plY3RQbGFucyA9IHJlc3AuZGF0YS5kYXRhO1xyXG4gICAgICAgICAgdm0ucGxhblBpY2tlclBsYW5zID0gUHJvamVjdFBsYW5zO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJwbGFucGlja2VyOiBcIiwgdm0ucGxhblBpY2tlclBsYW5zKTtcclxuICAgICAgICAgICQoXCIjaXNzdWVfbWFya2VyXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVSb29mTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNob29zZVBsYW5EYXRhID0gZnVuY3Rpb24ocGxhbikge1xyXG4gICAgICB2bS5wbGFuVG9NYXJrLnB1c2gocGxhbi5hc3NldE9iaik7XHJcbiAgICAgIC8vICBjb25zb2xlLmxvZyh2bS5wbGFuVG9NYXJrKTtcclxuICAgIH07XHJcbiAgICAvL1Rlc3QgcGFuXHJcbiAgICB2bS5jaG9vc2VQbGFuRGF0YTEgPSBmdW5jdGlvbihwbGFuKSB7XHJcbiAgICAgIHZtLnBsYW5Ub01hcmsucHVzaChwbGFuKTtcclxuICAgICAgLy8gIGNvbnNvbGUubG9nKHZtLnBsYW5Ub01hcmspO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuYWRkVG9EZXRhaWxzID0gZnVuY3Rpb24oaW1nYXJyYXkpIHtcclxuICAgICAgJChcIiNjaG9vc2VJc3N1ZVJvb2ZNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICQoXCIjaXNzdWVfbWFya2VyXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgY29uc29sZS5sb2coXCJ2bS5wbGFuIHRvIG1yazpcIiwgdm0ucGxhblRvTWFyayk7XHJcbiAgICAgIHZhciBmaXJzdENhbnZhc0ltZyA9IGltZ2FycmF5LnNsaWNlKC0xKTtcclxuICAgICAgLy8kKFwiI3NsaWRlQ2FudmFzXCIpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIitmaXJzdENhbnZhc0ltZ1swXS51cmwrXCIpXCIpO1xyXG4gICAgICAkKFwiI2Nhcm91c2VsbGlzdFwiKVxyXG4gICAgICAgIC5jYXJvdXNlbChcInBhdXNlXCIpXHJcbiAgICAgICAgLnJlbW92ZURhdGEoKTtcclxuICAgICAgJChcIiNjYXJvdXNlbGxpc3RcIikuY2Fyb3VzZWwodm0ucGxhblRvTWFyayk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5nZXREZXRhaWwgPSBmdW5jdGlvbihpc3N1ZSkge1xyXG4gICAgICAkKFwiI2lzc3VlZGV0YWlsXCIpLm1vZGFsKCk7XHJcbiAgICAgICRzY29wZS5pc3N1ZU1vZGVsID0gaXNzdWU7XHJcblxyXG4gICAgICAkc2NvcGUuVGl0bGUgPSAkc2NvcGUuaXNzdWVNb2RlbC50aXRsZTtcclxuICAgICAgJHNjb3BlLkRlc2NyaXB0aW9uID0gJHNjb3BlLmlzc3VlTW9kZWwuZGVzY3JpcHRpb247XHJcblxyXG4gICAgICAkc2NvcGUuRGVhZExpbmVEYXRlID0gbmV3IERhdGUoJHNjb3BlLmlzc3VlTW9kZWwuZGVhZExpbmUpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYWRsaW5lXCIpLmRlZmF1bHRWYWx1ZSA9ICRzY29wZS5EZWFkTGluZURhdGU7XHJcbiAgICAgICRzY29wZS5kYXkgPSAkc2NvcGUuRGVhZExpbmVEYXRlLmdldERhdGUoKSAtIDE7XHJcblxyXG4gICAgICAkc2NvcGUubW9udGggPSAkc2NvcGUuRGVhZExpbmVEYXRlLmdldE1vbnRoKCkgKyAxO1xyXG5cclxuICAgICAgJHNjb3BlLnllYXIgPSAkc2NvcGUuRGVhZExpbmVEYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgICAkc2NvcGUuZGVhZExpbmVEYXRlID0gJHNjb3BlLm1vbnRoICsgXCIvXCIgKyAkc2NvcGUuZGF5ICsgXCIvXCIgKyAkc2NvcGUueWVhcjtcclxuXHJcbiAgICAgICRzY29wZS5TdGF0dXMgPSAkc2NvcGUuaXNzdWVNb2RlbC5pc3N1ZVN0YXR1cztcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmFkZEZpbGVUb1VwZGF0ZSA9IGZ1bmN0aW9uKGZpbGUsIGNvbW1lbnQpIHtcclxuICAgICAgJHNjb3BlLmlucHV0RmlsZXMucHVzaCh7IGZpbGU6IGZpbGUsIGNvbW1lbnQ6IGNvbW1lbnQgfSk7XHJcbiAgICAgICRzY29wZS5maWxlID0gXCJcIjtcclxuICAgICAgJHNjb3BlLmNvbW1lbnQgPSBcIlwiO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUudXBkYXRlUmVxdWVzdCA9IGZ1bmN0aW9uKHVwZGF0ZW9iaikge1xyXG4gICAgICAkc2NvcGUudXBkYXRlZm9ybSA9IHRydWU7XHJcbiAgICAgICRzY29wZS5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUucmVtb3ZlRmlsZXMgPSBmdW5jdGlvbihpbmRleCwgYXJyYXksIGltYWdlSWQpIHtcclxuICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgJHNjb3BlLmZpbGVzVG9SZW1vdmUucHVzaChpbWFnZUlkKTtcclxuICAgIH07XHJcbiAgICB2bS5jbG9zZVVwZHRlTW9kZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgJHNjb3BlLnVwZGF0ZWZvcm0gPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLm9wZW5FZGl0RGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUub3BlbkVkaXQgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgICRzY29wZS5jbG9zZUVkaXREYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICRzY29wZS5vcGVuRWRpdCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuaW1hZ2VUZW1wVXJsID0gXCIuLi9hc3NldHMvaW1hZ2VzL3Jvb2Z0ZXN0aW1hZ2VzL2ltYWdlMS5qcGdcIjtcclxuICAgICRzY29wZS5yb29mdGVzdERlbW8gPSBmdW5jdGlvbihzdHJpbmcpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJzdHJpbmdcIiwgc3RyaW5nKTtcclxuICAgICAgJHNjb3BlLmltYWdlVGVtcFVybCA9IFwiLi5cIiArIHN0cmluZztcclxuICAgIH07XHJcblxyXG4gICAgLy8gJHNjb3BlLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbGlkZUNhbnZhcycpO1xyXG4gICAgJChcIiNpc3N1ZV9tYXJrZXJcIikub24oXCJzaG93bi5icy5tb2RhbFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICQoXCIjY2Fyb3VzZWxsaXN0XCIpLmZsZXhzbGlkZXIoe1xyXG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxyXG4gICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXHJcbiAgICAgICAgaXRlbVdpZHRoOiAyMDAsXHJcbiAgICAgICAgaXRlbU1hcmdpbjogM1xyXG4gICAgICB9KTtcclxuICAgICAgLy8kc2NvcGUuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NsaWRlQ2FudmFzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2bS5tYXJraW5nc0FycmF5ID0gW107XHJcblxyXG4gICAgJHNjb3BlLmdldEZpbGVzRnJvbUxvY2FsID0gZnVuY3Rpb24oZmlsZXMsIGNyZWF0ZWRJc3N1ZSkge1xyXG4gICAgICBpZiAoZmlsZXMpIHtcclxuICAgICAgICBsZXQgcGF5bG9hZCA9IHtcclxuICAgICAgICAgIGZpbGVzLFxyXG4gICAgICAgICAgLy9pc3N1ZUlkOiBcIjViZWVhYzZkYWUwNDBjMGI4OGE5Y2E5ZVwiXHJcbiAgICAgICAgICBpc3N1ZUlkOiBjcmVhdGVkSXNzdWUuX2lkXHJcbiAgICAgICAgfTtcclxuICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAuc2F2ZUxvY2FsSXNzdWVBc3NldChwYXlsb2FkKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGEuZGF0YTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihsb2FkSW1hZ2VzSW5DYXJvdXNlbClcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFxyXG4gICAgICAgICAgICAgIFwiY291bGRub3QgbG9hZCBpbWFnZXMgcGxlYXNlIHNlbGVjdCBpbWFnZXMgYWdhaW4uXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAkKFwiI3NsaWRlQ2FudmFzXCIpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIitmaXJzdENhbnZhc0ltZ1swXS51cmwrXCIpXCIpO1xyXG5cclxuICAgICAgICAvLyAkKFwiI2xvY2FsZmlsZXNtb2RlbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiTm8gRmlsZXMgc2VsZWN0ZWQuXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAkKFwiI2lzc3VlX21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgLy8gJChcIiNpc3N1ZV9tYXJrZXJcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5yZW1vdmVJbWFnZSA9IGlkID0+IHtcclxuICAgICAgdmFyIGluZGV4ID0gdm0ucGxhblRvTWFyay5maW5kSW5kZXgoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgIHJldHVybiB4Ll9pZCA9PSBpZDtcclxuICAgICAgfSk7XHJcbiAgICAgIHZtLnBsYW5Ub01hcmsuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH07XHJcblxyXG4gICAgLy9yZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIEZpbGUgaW5zdGFuY2VcclxuICAgIGZ1bmN0aW9uIHVybHRvRmlsZSh1cmwsIGZpbGVuYW1lLCBtaW1lVHlwZSkge1xyXG4gICAgICByZXR1cm4gZmV0Y2godXJsKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oYnVmKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IEZpbGUoW2J1Zl0sIGZpbGVuYW1lLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIubGlnaHRib3ggaW1nXCIsIGZ1bmN0aW9uKGUpIHt9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkSW1hZ2VzSW5DYXJvdXNlbChyZXNwKSB7XHJcbiAgICAgIHZtLnBsYW5Ub01hcmsgPSByZXNwLm1hcCgoeCwgaSkgPT4ge1xyXG4gICAgICAgIHguYWN0aXZlID0gaSA9PT0gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB4Lm1hcmtpbmdKc29uID0gbnVsbDtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiBUaGlzIHdpbGwgYmUgbnVsbCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgZGVmYXVsdCBtYXJraW5nIGltYWdlIHNlbGVjdGVkIGluaXRhbGx5ICovXHJcbiAgICB2bS5jdXJyZW50TWFya2luZ0ltYWdlID0gbnVsbDtcclxuXHJcbiAgICBjb25zdCBhY3Rpb25zID0gaW1hZ2VNYXJrZXIudW5kb1JlZG8oKTtcclxuXHJcbiAgICB2bS5hY3Rpb25zID0gYWN0aW9uID0+IHtcclxuICAgICAgYWN0aW9uc1thY3Rpb25dKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm9wZW5TbGlkZXJJbWFnZSA9IGltYWdlID0+IHtcclxuICAgICAgLyogQ2xlYXIgYWN0aW9uIHN0YWNrIGJlZm9yZSBzd2l0Y2hpbmcgdG8gYW5vdGhlciBpbWFnZSAqL1xyXG4gICAgICBhY3Rpb25zLnJlc2V0KCk7XHJcbiAgICAgIHNhdmVFeGlzdGluZ01hcmtpbmcodm0uY3VycmVudE1hcmtpbmdJbWFnZSkudGhlbihfID0+IHtcclxuICAgICAgICAvKiBTZXQgc3RhZ2UgZGltZW5zaW9ucyAqL1xyXG4gICAgICAgIGxldCBkaW1lbnNpb25zID0ge307XHJcbiAgICAgICAgaWYgKGltYWdlLndpZHRoID4gNjUwKSB7XHJcbiAgICAgICAgICBsZXQgb2Zmc2V0ID0gNjUwIC8gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICBkaW1lbnNpb25zLmhlaWdodCA9IGltYWdlLmhlaWdodCAqIG9mZnNldDtcclxuICAgICAgICAgIGRpbWVuc2lvbnMud2lkdGggPSA2NTA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRpbWVuc2lvbnMgPSB7XHJcbiAgICAgICAgICAgIGhlaWdodDogaW1hZ2UuaGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGhcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbWFnZU1hcmtlci5pbml0KFwic2xpZGVDYW52YXNcIiwgZGltZW5zaW9ucywgaW1hZ2UpO1xyXG4gICAgICAgIHZtLnBsYW5Ub01hcmsuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgIGlmICh4Ll9pZCA9PT0gaW1hZ2UuX2lkKSB7XHJcbiAgICAgICAgICAgIHguYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHguYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm0uY3VycmVudE1hcmtpbmdJbWFnZSA9IGltYWdlO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2F2ZUV4aXN0aW5nTWFya2luZyhhc3NldE9iaikge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8qIEFkZGluZyBpbWFnZSBhbmQgZmlsZSBvYmogdG8gYXNzZXQgb2JqICovXHJcbiAgICAgICAgaWYgKGFzc2V0T2JqKSB7XHJcbiAgICAgICAgICBsZXQgZGF0YUltYWdlID0gaW1hZ2VNYXJrZXIuZ2V0Q2FudmFzSW1hZ2UoKTtcclxuICAgICAgICAgIGZldGNoKGRhdGFJbWFnZSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5ibG9iKCkpXHJcbiAgICAgICAgICAgIC50aGVuKGJsb2IgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIFwiZGV0YWlsZmlsZVwiKTtcclxuICAgICAgICAgICAgICBhc3NldE9iai5maWxlT2JqID0gZmlsZTtcclxuICAgICAgICAgICAgICBhc3NldE9iai5tYXJraW5nSnNvbiA9IGltYWdlTWFya2VyLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTWFya2luZyBzYXZlZFwiKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZtLmRyYXdtYXJrZXJPbkNhbnZhcyA9ICgpID0+IHtcclxuICAgICAgaW1hZ2VNYXJrZXIuc2V0U3RhdGUoXCJtYXJrZXJcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmRyYXdMaW5lT25DYW52YXMgPSAoKSA9PiB7XHJcbiAgICAgIGltYWdlTWFya2VyLnNldFN0YXRlKFwibGluZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZHJhd0NpcmNsZU9uQ2FudmFzID0gKCkgPT4ge1xyXG4gICAgICBpbWFnZU1hcmtlci5zZXRTdGF0ZShcImNpcmNsZVwiKTtcclxuICAgIH07XHJcblxyXG4gICAgdm0udGV4dFN0YXRlID0gZmFsc2U7XHJcbiAgICB2bS5maWxsVGV4dE9uQ2FudmFzID0gdGV4dCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYXNkYWRhc1wiLCB2bS50ZXh0U3RhdGUsIHRleHQpO1xyXG4gICAgICBpZiAodm0udGV4dFN0YXRlICYmIHRleHQpIHtcclxuICAgICAgICBpbWFnZU1hcmtlci5maWxsX3RleHQodGV4dCk7XHJcbiAgICAgICAgdm0uY2FudmFzVGV4dCA9IFwiXCI7XHJcbiAgICAgIH1cclxuICAgICAgdm0udGV4dFN0YXRlID0gIXZtLnRleHRTdGF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLiRvbihcInNhdmVEcmF3aW5nXCIsIGUgPT4ge1xyXG4gICAgICBzYXZlRXhpc3RpbmdNYXJraW5nKHZtLmN1cnJlbnRNYXJraW5nSW1hZ2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdm0uc2F2ZU1hcmtJbmZvID0gZnVuY3Rpb24obWFya2luZ3MsIGNyZWF0ZWRJc3N1ZSkge1xyXG4gICAgICAkKFwiI2tvbnZhX2lzc3VlX21hcmtlciwgI2lzc3VlX21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgbGV0IHBheWxvYWQgPSBtYXJraW5ncy5yZWR1Y2UoXHJcbiAgICAgICAgKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHgubWFya2luZ0pzb24pIHtcclxuICAgICAgICAgICAgbGV0IGZpbGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgIGFzc2V0SWQ6IHguX2lkLFxyXG4gICAgICAgICAgICAgIHNlcmlhbGl6ZWREYXRhOiB4Lm1hcmtpbmdKc29uXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGFjYy5maWxlRGF0YS5wdXNoKGZpbGVEYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGFjYy5maWxlcy5wdXNoKHguZmlsZU9iaik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgZmlsZURhdGE6IFtdLCBmaWxlczogW10gfVxyXG4gICAgICApO1xyXG4gICAgICBwYXlsb2FkLmlzc3VlSWQgPSBjcmVhdGVkSXNzdWUuX2lkO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLnBvc3RNYXJrSW1nKHBheWxvYWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIk1hcmtpbmdzIGFyZSBzdWNjZXNzZnVsbHkgc2F2ZWRcIik7XHJcbiAgICAgICAgICB2bS5zb3J0aXNzdWVzKFwiY3JlYXRlZFwiLCBcInRvZ2dsZUlzc3VlXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm1vZGFsQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICQoXCIja29udmFfaXNzdWVfbWFya2VyXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgJChcIiNpc3N1ZV9tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICB9O1xyXG4gICAgdm0ubWFya2luZ0NvbG9yID0gXCJyZ2JhKDAsMCwwLDEpXCI7XHJcbiAgICB2bS5jcE9wdGlvbnMgPSB7XHJcbiAgICAgIHN3YXRjaDogdHJ1ZSxcclxuICAgICAgZm9ybWF0OiBcInJnYlwiLFxyXG4gICAgICBwb3M6IFwidG9wIHJpZ2h0XCIsXHJcbiAgICAgIGNhc2U6IFwibG93ZXJcIixcclxuICAgICAgYWxwaGE6IHRydWVcclxuICAgIH07XHJcblxyXG4gICAgLyogQ29sb3IgUGlja2VyIEV2ZW50cyAqL1xyXG4gICAgdm0uY3BFdmVudHMgPSB7XHJcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihhcGksIGNvbG9yLCAkZXZlbnQpIHtcclxuICAgICAgICBpbWFnZU1hcmtlci5zZXRDb2xvcihjb2xvcik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibWF0ZXJpYWxDdHJsXCIsIG1hdGVyaWFsQ3RybCk7XG5cbiAgZnVuY3Rpb24gbWF0ZXJpYWxDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFscyxcbiAgICBOZ01hcCxcbiAgICBVcGxvYWQsXG4gICAgbW9tZW50XG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBkZWJvdW5jZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG5cbiAgICBjb25zb2xlLmxvZyh2bS51c2VyRGF0YSk7XG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgbG9nb3V0KCk7XG4gICAgfTtcblxuICAgIHZtLnRpbWVjaGVjayA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGZpbGUpOyAvL2RlZmluZWQgaW4gYnJvd3NlciwgdW5kZWZpbmVkIG9uIG1vYmlsZVxuICAgIH07XG5cbiAgICB2bS5pbnB1dEltZyA9IFtdO1xuICAgIHZtLnVwbG9hZEltZyA9IFtdO1xuICAgIHZtLmlucHV0RmlsZXMgPSBbXTtcbiAgICB2bS51cGxvYWRGaWxlcyA9IFtdO1xuICAgIC8qIERhdGEgdGFibGUgc2V0dXAgKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgdm0uZHRPcHRpb25zID0ge1xuICAgICAgcmV0cmlldmU6IHRydWUsXG4gICAgICBwYWdpbmc6IGZhbHNlLFxuICAgICAgaW5mbzogZmFsc2UsXG4gICAgICBvcmRlcmluZzogZmFsc2VcbiAgICB9O1xuXG4gICAgLy8gJChcIi5tYXRlcmlhbExpc3RcIikuRGF0YVRhYmxlKCk7XG5cbiAgICAvKiBTZXR0aW5nIHVwIGludmVudG9yeSBzdGF0ZSAqL1xuICAgIGNvbnN0IGludmVudG9yeVN0YXRlID0gZ2xvYmFscy5pbnZlbnRvcnlTdGF0ZSgpO1xuICAgIHZtLmFjdGl2ZVRhYiA9IGludmVudG9yeVN0YXRlLmdldCgpLnRhYjtcbiAgICAkKFwiLnRhYi1jb250ZW50IC50YWItcGFuZVwiKVxuICAgICAgLmVxKGludmVudG9yeVN0YXRlLmdldCgpLnRhYilcbiAgICAgIC5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgdm0uY3VycmVudFBhZ2UgPSAxO1xuXG4gICAgdm0udG9nZ2xlVGFiID0gdmFsID0+IHtcbiAgICAgIGludmVudG9yeVN0YXRlLnNldFRhYih2YWwpO1xuICAgIH07XG5cbiAgICB2bS50b2dnbGVPYmogPSB7XG4gICAgICBtYXRlcmlhbDoge1xuICAgICAgICBzeXN0ZW1UYWc6IHRydWUsXG4gICAgICAgIG1hdGVyaWFsQ29zdDogZmFsc2UsXG4gICAgICAgIHJvb2ZlckNvc3Q6IGZhbHNlLFxuICAgICAgICBjcmVhdGVkQXQ6IHRydWUsXG4gICAgICAgIG5hbWU6IGZhbHNlXG4gICAgICB9LFxuICAgICAgY29tYm86IHtcbiAgICAgICAgc3lzdGVtVGFnOiB0cnVlLFxuICAgICAgICBtYXRlcmlhbENvc3Q6IGZhbHNlLFxuICAgICAgICByb29mZXJDb3N0OiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZEF0OiB0cnVlLFxuICAgICAgICBuYW1lOiBmYWxzZVxuICAgICAgfVxuICAgIH07XG5cbiAgICBhcGlGYWN0b3J5XG4gICAgICAuZ2V0QWxsU3VwcGxpZXJzKClcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICB2bS5zdXBwbGllcnMgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG5cbiAgICB2bS5zZWFyY2hUZXh0ID0gaW52ZW50b3J5U3RhdGUuZ2V0KCkuc2VhcmNoVGV4dDtcblxuICAgICRzY29wZS4kd2F0Y2goXG4gICAgICBcInZtLnNlYXJjaFRleHRcIixcbiAgICAgIHRleHQgPT4ge1xuICAgICAgICBpbnZlbnRvcnlTdGF0ZS50ZXh0KHRleHQpO1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApO1xuXG4gICAgdm0udW5pdFNlbGVjdCA9IGRhdGEgPT4ge1xuICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gZGF0YS5uYW1lO1xuICAgIH07XG5cbiAgICB2bS5zb3J0RGlzcGxheSA9ICh0eXBlLCByZXNvdXJjZSkgPT4ge1xuICAgICAgaWYgKHR5cGUgJiYgcmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIGBTb3J0ZWQgQnk6ICR7dHlwZX0gLSAke1xuICAgICAgICAgIHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPyBcIkFTQ1wiIDogXCJEU0NcIlxuICAgICAgICB9YDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uc29ydE1hdGVyaWFscyA9ICh0eXBlLCByZXNvdXJjZSkgPT4ge1xuICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xuICAgICAgdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKHZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0gPSB0cnVlKVxuICAgICAgICA6ICh2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdID0gIXZtLnRvZ2dsZU9ialtyZXNvdXJjZV1bdHlwZV0pO1xuICAgICAgbGV0IGFwaU5hbWUgPVxuICAgICAgICByZXNvdXJjZSA9PT0gXCJtYXRlcmlhbFwiID8gXCJsaXN0QWxsTWF0ZXJpYWxzXCIgOiBcImxpc3RBbGxDb21ib01hdGVyaWFsc1wiO1xuXG4gICAgICBhcGlGYWN0b3J5W2FwaU5hbWVdKHtcbiAgICAgICAgcGFnZTogaW52ZW50b3J5U3RhdGUuZ2V0KCkucGFnZVtyZXNvdXJjZV0sXG4gICAgICAgIGNodW5rOiAxMCxcbiAgICAgICAgc29ydDogdHlwZSxcbiAgICAgICAgc2VhcmNoOiBpbnZlbnRvcnlTdGF0ZS5nZXQoKS5zZWFyY2hUZXh0LFxuICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxuICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgdm1bcmVzb3VyY2VdID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgdm1bcmVzb3VyY2UgKyBcIkNvdW50XCJdID0gcmVzcC5kYXRhLnRvdGFsO1xuICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoXCIjXCIgKyByZXNvdXJjZSArIFwiUGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcbiAgICAgICAgICAgICAgaXRlbXM6IHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSxcbiAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxuICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxuICAgICAgICAgICAgICBocmVmVGV4dFByZWZpeDogXCIjXCIsXG4gICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IGludmVudG9yeVN0YXRlLmdldCgpLnBhZ2VbcmVzb3VyY2VdLFxuICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGludmVudG9yeVN0YXRlLnNldFBhZ2UocmVzb3VyY2UsIHBhZ2UpO1xuXG4gICAgICAgICAgICAgICAgYXBpRmFjdG9yeVthcGlOYW1lXSh7XG4gICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxuICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcbiAgICAgICAgICAgICAgICAgIHNlYXJjaDogaW52ZW50b3J5U3RhdGUuZ2V0KCkuc2VhcmNoVGV4dCxcbiAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbcmVzb3VyY2VdW3R5cGVdXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2bVtyZXNvdXJjZV0gPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzZWFyY2hEZWJvdW5jZSA9IGRlYm91bmNlKDI1MCk7IC8qIFBhc3NpbmcgaW4gdGhlIGRlYm91bmNlIHJhdGUgKi9cbiAgICB2bS5zZWFyY2hNYXRlcmlhbHMgPSAodGV4dCwgcmVzb3VyY2UpID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBwYXNzIHRoZSBmdW5jdGlvbiB3aGljaCB5b3Ugd2FudCB0byBkZWJvdW5jZVxuICAgICAgICogQHBhcmFtIHtBcnJheX0gYXJncyAtIHBhc3MgdGhlIGFyZ3VtZW50cyBmcm9tIHRoZSB2aWV3IGFzIGFuIGFycmF5XG4gICAgICAgKi9cbiAgICAgIHNlYXJjaERlYm91bmNlKFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgbGV0IGFwaU5hbWUgPVxuICAgICAgICAgICAgcmVzb3VyY2UgPT09IFwibWF0ZXJpYWxcIlxuICAgICAgICAgICAgICA/IFwibGlzdEFsbE1hdGVyaWFsc1wiXG4gICAgICAgICAgICAgIDogXCJsaXN0QWxsQ29tYm9NYXRlcmlhbHNcIjtcblxuICAgICAgICAgIGFwaUZhY3RvcnlbYXBpTmFtZV0oe1xuICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgIGNodW5rOiAxMCxcbiAgICAgICAgICAgIHNlYXJjaDogdGV4dCxcbiAgICAgICAgICAgIHNvcnQ6IFwiY3JlYXRlZERhdGVcIixcbiAgICAgICAgICAgIHNvcnRUeXBlOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgdm1bcmVzb3VyY2VdID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgIHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSA9IHJlc3AuZGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyByZXNvdXJjZSArIFwiUGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0sXG4gICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXG4gICAgICAgICAgICAgICAgICBjc3NTdHlsZTogXCJsaWdodC10aGVtZVwiLFxuICAgICAgICAgICAgICAgICAgaHJlZlRleHRQcmVmaXg6IFwiI1wiLFxuICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24ocGFnZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpRmFjdG9yeVthcGlOYW1lXSh7XG4gICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgc29ydDogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0ubWF0ZXJpYWxzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBbdGV4dCwgcmVzb3VyY2VdXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvKiBJbml0aWFsbHkgZ2V0dGluZyB0aGUgdmFsdWVzIG9mIG1hdGVyaWFsIGFuZCBjb21ibyBtYXRlcmlhbHMgKi9cbiAgICB2bS5zb3J0TWF0ZXJpYWxzKFwiY3JlYXRlZEF0XCIsIFwibWF0ZXJpYWxcIik7XG4gICAgdm0uc29ydE1hdGVyaWFscyhcImNyZWF0ZWRBdFwiLCBcImNvbWJvXCIpO1xuICAgIC8qIEVuZCBvZiAgRGF0YSB0YWJsZSBzZXR1cCAqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLyogQWRkIG1hdGVyaWFsIGZ1bmN0aW9uYWxpdHkgKi9cbiAgICBsZXQgZGVmYXVsdE1haW50ZW5hbmNlUGVyaW9kID0gOTA7XG4gICAgdm0uYWRkTWF0ZXJpYWwgPSB7XG4gICAgICBjb252ZXJzaW9uRmFjdG9yOiAxLFxuICAgICAgbWFpbnRlbmFuY2VQZXJpb2Q6IGRlZmF1bHRNYWludGVuYW5jZVBlcmlvZCxcbiAgICAgIG1haW50ZW5hbmNlRGF0ZTogbW9tZW50KClcbiAgICAgICAgLmFkZChkZWZhdWx0TWFpbnRlbmFuY2VQZXJpb2QsIFwiZGF5c1wiKVxuICAgICAgICAuZm9ybWF0KClcbiAgICB9O1xuICAgIHZtLmNoYW5nZU1haW50ZW5hbmNlUGVyaW9kID0gZGF5cyA9PiB7XG4gICAgICB2bS5hZGRNYXRlcmlhbC5tYWludGVuYW5jZURhdGUgPSBtb21lbnQoKVxuICAgICAgICAuYWRkKGRheXMsIFwiZGF5c1wiKVxuICAgICAgICAuZm9ybWF0KCk7XG4gICAgfTtcblxuICAgIHZtLnRhYlNldHRpbmdzID0geyBkaXNhYmxlOiB0cnVlIH07XG5cbiAgICB2bS50YWJDaGFuZ2UgPSAodmFsLCBmbGFnKSA9PiB7XG4gICAgICBpZiAoZmxhZyA9PSBcImNvbWJvXCIpIHtcbiAgICAgICAgaWYgKHZhbCA9PSAwKSB7XG4gICAgICAgICAgdm0udGFiQ2hhbmdlRnVuKHZhbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsID09IDEpIHtcbiAgICAgICAgICBpZiAoIXZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLm5hbWUpIHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBjb21ibyBtYXRlcmlhbCBuYW1lXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXZtLnNlbGVjdGVkVW5pdCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCB1bml0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgY29tYm8gZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLnRhYkNoYW5nZUZ1bih2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh2YWwgPT0gMikge1xuICAgICAgICAgIGlmICh2bS5jb21ib01hdGVyaWFsTGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGFkZCBDb21iaW5hdGlvbiBsaXN0XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5Ub3RhbE1DID0gMDtcbiAgICAgICAgICAgIHZtLlRvdGFsUkMgPSAwO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLmNvbWJvTWF0ZXJpYWxMaXN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICB2bS5Ub3RhbE1DID1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHZtLlRvdGFsTUMpICsgcGFyc2VGbG9hdCh2YWx1ZS5tYXRlcmlhbENvc3QpO1xuICAgICAgICAgICAgICB2bS5Ub3RhbFJDID1cbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KHZtLlRvdGFsUkMpICsgcGFyc2VGbG9hdCh2YWx1ZS5yb29mZXJDb3N0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdm0uVG90YWxNQyA9IHBhcnNlRmxvYXQoTWF0aC5yb3VuZCh2bS5Ub3RhbE1DICogMTAwKSAvIDEwMCk7XG4gICAgICAgICAgICB2bS5Ub3RhbFJDID0gcGFyc2VGbG9hdChNYXRoLnJvdW5kKHZtLlRvdGFsUkMgKiAxMDApIC8gMTAwKTtcbiAgICAgICAgICAgIHZtLnRhYkNoYW5nZUZ1bih2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHZhbCA9PSAwKSB7XG4gICAgICAgICAgdm0udGFiQ2hhbmdlRnVuMSh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWwgPT0gMSkge1xuICAgICAgICAgIGlmICghdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxOYW1lKSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZW50ZXIgbWF0ZXJpYWwgbmFtZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF2bS5zZWxlY3RlZFVuaXQpIHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgbWF0ZXJpYWwgdW5pdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qIH0gZWxzZSBpZiAoIXZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBzZWxlY3QgY3VycmVuY3lcIik7XG4gICAgICAgICAgICAgIHJldHVybjsgKi9cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0udGFiQ2hhbmdlRnVuMSh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdm0udGFiQ2hhbmdlRnVuID0gdmFsID0+IHtcbiAgICAgICQoXCIuZGNwX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAkKFwiLmRjcF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpXG4gICAgICAgIC5lcSh2YWwpXG4gICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblxuICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICQoXCIuZGNwX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKVxuICAgICAgICAuZXEodmFsKVxuICAgICAgICAuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgJChcIi5kY3BfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKVxuICAgICAgICAuZXEodmFsKVxuICAgICAgICAuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgfTtcblxuICAgIHZtLnRhYkNoYW5nZUZ1bjEgPSB2YWwgPT4ge1xuICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAubmF2LXRhYnMgbGkgLm5hdi1saW5rXCIpXG4gICAgICAgIC5lcSh2YWwpXG4gICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblxuICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKVxuICAgICAgICAuZXEodmFsKVxuICAgICAgICAuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpXG4gICAgICAgIC5lcSh2YWwpXG4gICAgICAgIC5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9O1xuXG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmdldENvbXBhbnlCeUlkKHZtLnVzZXJEYXRhLmNvbXBhbnlJZClcbiAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICB2bS5jb21wYW55RGF0YSA9IHJlc3AuZGF0YTtcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPSBhbmd1bGFyLmNvcHkoXG4gICAgICAgICAgdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICApO1xuICAgICAgICB2bS5jb21wYW55Q3VycmVuY3kgPSBhbmd1bGFyLmNvcHkoXG4gICAgICAgICAgdm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZVxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5hZGRNYXRlcmlhbC5jdXJyZW5jeSk7XG4gICAgICAgICQoXCIjY3VycmVuY3lcIilcbiAgICAgICAgICAudmFsKHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5KVxuICAgICAgICAgIC50cmlnZ2VyKFwiY2hhbmdlLnNlbGVjdDJcIik7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKFwidm0uYWRkTWF0ZXJpYWwuY3VycmVuY3lcIiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICQoXCJhLml0ZW0tc2VsZWN0ZWQgc3BhblwiKS5yZW1vdmVDbGFzcyhcImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlXCIpO1xuICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLmFkZENsYXNzKFwiZmFzIGZhLXRpbWVzIG1yLTNcIik7XG4gICAgfSk7XG5cbiAgICB2bS5zaG93Q29udmVyc2lvblJhdGUgPSAoZnJvbSwgdG8pID0+IHtcbiAgICAgICQoXCIubG9hZGVyXCIpLnNob3coKTtcbiAgICAgIGxldCBjdXJyZW5jeURhdGEgPSB7XG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvXG4gICAgICB9O1xuICAgICAgaWYgKGZyb20gJiYgdG8pIHtcbiAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgIC5zaG93Q29udmVyc2lvblJhdGUoY3VycmVuY3lEYXRhKVxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvciA9IHJlc3AuZGF0YS5jb252ZXJzaW9uRmFjdG9yO1xuXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJChcIi5sb2FkZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5hZGRNYXRlcmlhbE5leHQgPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQpO1xuICAgICAgaWYgKFxuICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbE5hbWUgPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSA9PSBcIlwiXG4gICAgICApIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGVudGVyIG1hdGVyaWFsIG5hbWVcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbFVuaXQgJiYgdm0uYWRkTWF0ZXJpYWwubWF0ZXJpYWxVbml0ID09IFwiXCIpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIHNlbGVjdCBtYXRlcmlhbCBVbml0XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3kgPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5ID09IFwiXCJcbiAgICAgICkge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IEN1cnJlbmN5XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAxO1xuICAgIH07XG5cbiAgICB2bS5jaGFuZ2VDb3N0ID0gKHR5cGUsIGNvc3QpID0+IHtcbiAgICAgIGlmICh0eXBlID09IFwiYm90aFwiKSB7XG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsQ29zdFZhbHVlID1cbiAgICAgICAgICB2bS5hZGRNYXRlcmlhbC5tYXRlcmlhbENvc3RWYWx1ZSAqIHZtLmFkZE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3I7XG4gICAgICAgIHZtLmFkZE1hdGVyaWFsLnJvb2ZlckNvc3RWYWx1ZSA9XG4gICAgICAgICAgdm0uYWRkTWF0ZXJpYWwucm9vZmVyQ29zdFZhbHVlICogdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb3N0IC8gdm0uYWRkTWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvcjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZGVsZXRlRmlsZSA9IChpbmRleFZhbCwgdHlwZSkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHZtLnVwbG9hZEltZy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0udXBsb2FkRmlsZXMuc3BsaWNlKGluZGV4VmFsLCAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZGVzY3JpcHRpb25Qb3BvdmVyID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XG4gICAgICAkc2NvcGUuZmlsZVR5cGUgPSB0eXBlO1xuICAgICAgJHNjb3BlLmZpbGVJbmRleCA9IGluZGV4VmFsO1xuICAgIH07XG4gICAgdm0uYWRkRGVzY3JpcHRpb24gPSAoaW5kZXgsIGRhdGEpID0+IHtcbiAgICAgIGlmICgkc2NvcGUuZmlsZVR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHZtLnVwbG9hZEltZ1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xuICAgICAgICBpZiAoaW52ZW50b3J5U3RhdGUuZ2V0KCkudGFiID09IDApIHtcbiAgICAgICAgICAkKFwiI2Nsb3NlUG9wb3ZlckltZ19cIiArIGluZGV4KS50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJChcIiNjbG9zZVBvcG92ZXJEY3BJbWdfXCIgKyBpbmRleCkudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS51cGxvYWRGaWxlc1tpbmRleF0uZGVzY3JpcHRpb24gPSBkYXRhO1xuICAgICAgICBpZiAoaW52ZW50b3J5U3RhdGUuZ2V0KCkudGFiID09IDApIHtcbiAgICAgICAgICAkKFwiI2Nsb3NlUG9wb3ZlckZpbGVfXCIgKyBpbmRleCkudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIjY2xvc2VQb3BvdmVyRGNwRmlsZV9cIiArIGluZGV4KS50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZtLmNsZWFyRGF0YSA9IHZhbCA9PiB7XG4gICAgICBpZiAodmFsID09IFwiZGNwXCIpIHtcbiAgICAgICAgdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0gPSB7fTtcbiAgICAgICAgdm0uaW5wdXRJbWcgPSBbXTtcbiAgICAgICAgdm0udXBsb2FkSW1nID0gW107XG4gICAgICAgIHZtLmlucHV0RmlsZXMgPSBbXTtcbiAgICAgICAgdm0udXBsb2FkRmlsZXMgPSBbXTtcbiAgICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmFkZE1hdGVyaWFsID0ge1xuICAgICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDEsXG4gICAgICAgICAgbWFpbnRlbmFuY2VQZXJpb2Q6IDkwLFxuICAgICAgICAgIGN1cnJlbmN5OiBhbmd1bGFyLmNvcHkodm0uY29tcGFueURhdGEuY3VycmVudEN1cnJlbmN5LmN1cnJlbmN5Q29kZSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2codm0uYWRkTWF0ZXJpYWwpO1xuICAgICAgICB2bS5pbnB1dEltZyA9IFtdO1xuICAgICAgICB2bS51cGxvYWRJbWcgPSBbXTtcbiAgICAgICAgdm0uaW5wdXRGaWxlcyA9IFtdO1xuICAgICAgICB2bS51cGxvYWRGaWxlcyA9IFtdO1xuICAgICAgICB2bS5zZWxlY3RlZFVuaXQgPSBcIlwiO1xuICAgICAgICAkKFwiI3Byb2ZpbGUtdGFiLCAjZGNwMVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgJChcIiNob21lLXRhYiwgI21hdGVyaWFsMVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgJChcIiNtYXRlcmlhbDFcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICB2bS5jaGFuZ2VNYWludGVuYW5jZVBlcmlvZCh2bS5hZGRNYXRlcmlhbC5tYWludGVuYW5jZVBlcmlvZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2bS5hZGRNYXRlcmlhbERldGFpbHMgPSAoKSA9PiB7XG4gICAgICBpZiAoIXZtLnNlbGVjdGVkVW5pdCkge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgU2VsZWN0IFVuaXRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIXZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsQ29zdFZhbHVlKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBTZWxlY3QgbWF0ZXJpYWwgY29zdCB2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghdm0uYWRkTWF0ZXJpYWwucm9vZmVyQ29zdFZhbHVlKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBTZWxlY3Qgcm9vZmVyIGNvc3QgdmFsdWVcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS5pbWdBbmRGaWxlcyA9IFtdLmNvbmNhdCh2bS51cGxvYWRJbWcsIHZtLnVwbG9hZEZpbGVzKTtcbiAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmltZ0FuZEZpbGVzKTtcbiAgICAgICAgdmFyIGZvcm1EYXRhID0ge1xuICAgICAgICAgIG5hbWU6IHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsTmFtZSxcbiAgICAgICAgICB1bml0OiB2bS5zZWxlY3RlZFVuaXQsXG4gICAgICAgICAgbWF0ZXJpYWxDb3N0OiB7XG4gICAgICAgICAgICB2YWx1ZTogdm0uY2hhbmdlQ29zdChcIm1hdGVyaWFsXCIsIHZtLmFkZE1hdGVyaWFsLm1hdGVyaWFsQ29zdFZhbHVlKSxcbiAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uYWRkTWF0ZXJpYWwuY3VycmVuY3lcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJvb2ZlckNvc3Q6IHtcbiAgICAgICAgICAgIHZhbHVlOiB2bS5jaGFuZ2VDb3N0KFwicm9vZmVyXCIsIHZtLmFkZE1hdGVyaWFsLnJvb2ZlckNvc3RWYWx1ZSksXG4gICAgICAgICAgICBjdXJyZW5jeUNvZGU6IHZtLmFkZE1hdGVyaWFsLmN1cnJlbmN5XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYWludGVuYW5jZVBlcmlvZDogdm0uYWRkTWF0ZXJpYWwubWFpbnRlbmFuY2VQZXJpb2QsXG4gICAgICAgICAgc3VwcGxpZXJzOiB2bS5hZGRNYXRlcmlhbC5zdXBwbGllcnMsXG4gICAgICAgICAgZmlsZXM6ICRzY29wZS5pbWdBbmRGaWxlcyxcbiAgICAgICAgICBhc3NldE9iajogJHNjb3BlLmltZ0FuZEZpbGVzLm1hcCgoeCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgYXNzZXREZXNjcmlwdGlvbjogeC5kZXNjcmlwdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7XG4gICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAuY3JlYXRlTWF0ZXJpYWxzKGZvcm1EYXRhKVxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgJHNjb3BlLnRhYiA9IDE7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAkKFwiI3RvZG9fbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgICAgJChcIiNwcm9maWxlLXRhYiwgI2RjcDFcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAkKFwiI2hvbWUtdGFiLCAjbWF0ZXJpYWwxXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJChcIiNtYXRlcmlhbDFcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgdm0uaW5wdXRJbWcgPSBbXTtcbiAgICAgICAgICAgIHZtLnVwbG9hZEltZyA9IFtdO1xuICAgICAgICAgICAgdm0uaW5wdXRGaWxlcyA9IFtdO1xuICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMgPSBbXTtcbiAgICAgICAgICAgIHZtLnNlbGVjdGVkVW5pdCA9IFwiXCI7XG5cbiAgICAgICAgICAgIC8qIFNldHRpbmcgYmVsb3cgcHJvcCB0cnVlIHRvIGZvcmNlIGRlY2VuZGluZyBvcmRlciBvbiBtYXRlcmlhbCBhZGQgaW5zdGVhZCBvZiB0b2dnbGluZyBzdGF0ZXMgKi9cbiAgICAgICAgICAgIHZtLnRvZ2dsZU9iai5tYXRlcmlhbC5jcmVhdGVkQXQgPSB0cnVlO1xuICAgICAgICAgICAgdm0uc29ydE1hdGVyaWFscyhcImNyZWF0ZWRBdFwiLCBcIm1hdGVyaWFsXCIpO1xuICAgICAgICAgICAgdm0uYWRkTWF0ZXJpYWwgPSB7XG4gICAgICAgICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZ2V0TWF0ZXJpYWxCeUlkID0gaWQgPT4ge1xuICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAuZ2V0TWF0ZXJpYWxCeUlkKGlkKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyogRXZlbnQgaGFuZGxlciB0byByZXNldCBhZGQgbWF0ZXJpYWwgbW9kYWwgKi9cbiAgICAkKFwiI2FkZE1hdGVyaWFsXCIpLm9uKFwiaGlkZS5icy5tb2RhbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5hY3RpdmVKdXN0aWZpZWQgPSAwO1xuICAgICAgdm0uYWRkTWF0ZXJpYWwgPSB7XG4gICAgICAgIGNvbnZlcnNpb25GYWN0b3I6IDFcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKiBBZGQgQ29tYm8gTWF0ZXJpYWwgKi9cbiAgICB2bS5jb21ib01hdGVyaWFsTGlzdCA9IFtdO1xuICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtID0ge307XG4gICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uID0gW107XG5cbiAgICAvKiBnZXQgYWxsIG1hdGVyaWFsIExpc3QgKi9cbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcbiAgICAgIHZtLmN1cnJlbmNpZXMgPSByZXNwLmRhdGE7XG4gICAgICB2bS5sb2FkQ3VycmVuY2llcyA9ICRxdWVyeSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBhcGlGYWN0b3J5XG4gICAgICAubGlzdEFsbE1hdGVyaWFscygpXG4gICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgdm0uYWxsbWF0ZXJpbGFMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH0pO1xuXG4gICAgdm0uY29tYm9MaXN0ID0ge1xuICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICBtYXRlcmlhbENvc3Q6IDAsXG4gICAgICByb29mZXJDb3N0OiAwXG4gICAgfTtcblxuICAgIHZtLmdldE1hdGVyaWFsSW5mbyA9IG1hdGVyaWFsID0+IHtcbiAgICAgIGxldCBtYXRlcmlhbEluZm8gPSBKU09OLnBhcnNlKG1hdGVyaWFsKTtcbiAgICAgIGlmIChtYXRlcmlhbCkge1xuICAgICAgICB2bS5jb21ib0xpc3QubWF0ZXJpYWxDb3N0ID0gcGFyc2VGbG9hdChcbiAgICAgICAgICBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgdm0uY29tYm9MaXN0LnF1YW50aXR5ICpcbiAgICAgICAgICAgICAgbWF0ZXJpYWxJbmZvLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZSAqXG4gICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICkgLyAxMDBcbiAgICAgICAgKTtcbiAgICAgICAgdm0uY29tYm9MaXN0LnJvb2ZlckNvc3QgPSBwYXJzZUZsb2F0KFxuICAgICAgICAgIE1hdGgucm91bmQoXG4gICAgICAgICAgICB2bS5jb21ib0xpc3QucXVhbnRpdHkgKlxuICAgICAgICAgICAgICBtYXRlcmlhbEluZm8uY3VycmVudFJhdGUucm9vZmVyQ29zdC52YWx1ZSAqXG4gICAgICAgICAgICAgIDEwMFxuICAgICAgICAgICkgLyAxMDBcbiAgICAgICAgKTtcbiAgICAgICAgJChcImEuaXRlbS1zZWxlY3RlZCBzcGFuXCIpLnJlbW92ZUNsYXNzKFwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIik7XG4gICAgICAgICQoXCJhLml0ZW0tc2VsZWN0ZWQgc3BhblwiKS5hZGRDbGFzcyhcImZhcyBmYS10aW1lcyBtci0zXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5RdHlDaGFuZ2UgPSAodmFsLCBkYXRhKSA9PiB7XG4gICAgICBsZXQgbWF0ZXJpYWwgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgaWYgKHZhbCA9PSBcIlwiIHx8IHZhbCA9PSAwKSB7XG4gICAgICAgIHZtLmNvbWJvTGlzdC5xdWFudGl0eSA9IDE7XG4gICAgICAgIHZhbCA9IDE7XG4gICAgICAgIHZtLmNvbWJvTGlzdC5tYXRlcmlhbENvc3QgPSBwYXJzZUZsb2F0KFxuICAgICAgICAgIE1hdGgucm91bmQodmFsICogbWF0ZXJpYWwuY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlICogMTAwKSAvIDEwMFxuICAgICAgICApO1xuICAgICAgICB2bS5jb21ib0xpc3Qucm9vZmVyQ29zdCA9IHBhcnNlRmxvYXQoXG4gICAgICAgICAgTWF0aC5yb3VuZCh2YWwgKiBtYXRlcmlhbC5jdXJyZW50UmF0ZS5yb29mZXJDb3N0LnZhbHVlICogMTAwKSAvIDEwMFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0uY29tYm9MaXN0Lm1hdGVyaWFsQ29zdCA9IHBhcnNlRmxvYXQoXG4gICAgICAgICAgTWF0aC5yb3VuZCh2YWwgKiBtYXRlcmlhbC5jdXJyZW50UmF0ZS5tYXRlcmlhbENvc3QudmFsdWUgKiAxMDApIC8gMTAwXG4gICAgICAgICk7XG4gICAgICAgIHZtLmNvbWJvTGlzdC5yb29mZXJDb3N0ID0gcGFyc2VGbG9hdChcbiAgICAgICAgICBNYXRoLnJvdW5kKHZhbCAqIG1hdGVyaWFsLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWUgKiAxMDApIC8gMTAwXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmFkZFBlcmNlbnRhZ2VWYWx1ZSA9ICgpID0+IHtcbiAgICAgIHZtLnBlcmNlbnRhZ2VBZGRpdGlvbi5wdXNoKHtcbiAgICAgICAgcGVyY2VudGFnZVR5cGU6IFwiXCIsXG4gICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZtLnJlbW92ZVBlcmNlbnRhZ2VBZGRpdGlvbiA9IGluZGV4ID0+IHtcbiAgICAgIHZtLnBlcmNlbnRhZ2VBZGRpdGlvbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG5cbiAgICB2bS5tYXRlcmlhbENvbWJpbmF0aW9uID0gbWF0ZXJpYWwgPT4ge1xuICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKG1hdGVyaWFsKTtcbiAgICAgIGNvbnNvbGUubG9nKFwibWF0ZXJpYWwtLVwiLCBkYXRhKTtcbiAgICAgIGlmIChkYXRhICE9IFwiXCIpIHtcbiAgICAgICAgdm0uY29tYm9NYXRlcmlhbExpc3QucHVzaCh7XG4gICAgICAgICAgbWF0ZXJpYWxJZDogZGF0YS5faWQsXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgIHF1YW50aXR5OiB2bS5jb21ib0xpc3QucXVhbnRpdHksXG4gICAgICAgICAgbWF0ZXJpYWxDb3N0OiB2bS5jb21ib0xpc3QubWF0ZXJpYWxDb3N0LFxuICAgICAgICAgIHJvb2ZlckNvc3Q6IHZtLmNvbWJvTGlzdC5yb29mZXJDb3N0LFxuICAgICAgICAgIHBlcmNlbnRhZ2VBZGRpdGlvbnM6IHZtLnBlcmNlbnRhZ2VBZGRpdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgdm0ucGVyY2VudGFnZUFkZGl0aW9uID0gW107XG4gICAgICAgIHZtLmNvbWJvTGlzdCA9IHtcbiAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICBtYXRlcmlhbENvc3Q6IDAsXG4gICAgICAgICAgcm9vZmVyQ29zdDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmFkZENvbWJvTWF0ZXJpYWxGb3JtLmNvbWJvTWF0ZXJpYWwgPSBcIlwiO1xuICAgICAgICAkKFwiLnNlbGVjdDItY2hvaWNlIC5zZWxlY3QyLWNob3NlblwiKS50ZXh0KFwiXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5maWxlVXBkYXRlZCA9IChmaWxlcywgZXZlbnQsIG1vZGFsKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5pbnB1dEltZyk7XG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcbiAgICAgIHZtLmZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGZpbGVPYmopLm1hcCh4ID0+IGZpbGVPYmpbeF0ubmFtZSk7XG4gICAgICBhbmd1bGFyLmZvckVhY2goZmlsZXMsIGZ1bmN0aW9uKHgsIGluZGV4KSB7XG4gICAgICAgIHguZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICBpZiAobW9kYWwgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgaWYgKHZtLnVwbG9hZEltZy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdm0udXBsb2FkSW1nLnB1c2goeCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkdXBsaWNhdGVJbWcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS51cGxvYWRJbWcsIGZ1bmN0aW9uKHkpIHtcbiAgICAgICAgICAgICAgaWYgKHgubmFtZSA9PSB5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVJbWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWR1cGxpY2F0ZUltZykge1xuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkZpbGUgbmFtZSBhbHJlYWR5IGV4aXN0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodm0udXBsb2FkRmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGlmICgvaW1hZ2UvLnRlc3QoeC50eXBlKSkge1xuICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnVwbG9hZEZpbGVzLnB1c2goeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkdXBsaWNhdGVJbWcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChbXS5jb25jYXQodm0udXBsb2FkRmlsZXMsIHZtLnVwbG9hZEltZyksIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKHgubmFtZSA9PSB5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVJbWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWR1cGxpY2F0ZUltZykge1xuICAgICAgICAgICAgICBpZiAoL2ltYWdlLy50ZXN0KHgudHlwZSkpIHtcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRJbWcucHVzaCh4KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2bS51cGxvYWRGaWxlcy5wdXNoKHgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJGaWxlIG5hbWUgYWxyZWFkeSBleGlzdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2codm0udXBsb2FkSW1nKTtcbiAgICB9O1xuXG4gICAgdm0uY3JlYXRlQ29tYm9NYXRlcmlhbExpc3QgPSAoKSA9PiB7XG4gICAgICB2YXIgY21MaXN0ID0gW107XG4gICAgICAkc2NvcGUuaW1nQW5kRmlsZXMgPSBbXS5jb25jYXQodm0udXBsb2FkSW1nLCB2bS51cGxvYWRGaWxlcyk7XG4gICAgICB2bS5jb21ib01hdGVyaWFsTGlzdC5mb3JFYWNoKHggPT4ge1xuICAgICAgICBjbUxpc3QucHVzaCh7XG4gICAgICAgICAgbWF0ZXJpYWxJZDogeC5tYXRlcmlhbElkLFxuICAgICAgICAgIHF1YW50aXR5OiB4LnF1YW50aXR5LFxuICAgICAgICAgIHBlcmNlbnRhZ2VBZGRpdGlvbnM6IHgucGVyY2VudGFnZUFkZGl0aW9uc1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgbmFtZTogdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0ubmFtZSxcbiAgICAgICAgdW5pdDogdm0uc2VsZWN0ZWRVbml0LFxuICAgICAgICBjb21ib01hdGVyaWFsTGlzdDogY21MaXN0LFxuICAgICAgICBmaWxlczogJHNjb3BlLmltZ0FuZEZpbGVzLFxuICAgICAgICBhc3NldE9iajogJHNjb3BlLmltZ0FuZEZpbGVzLm1hcCgoeCwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhc3NldERlc2NyaXB0aW9uOiB4LmRlc2NyaXB0aW9uXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH07XG5cbiAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgLmdldFN5c3RlbVRhZygpXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIGRhdGEuc3lzdGVtVGFnID0gcmVzcC5kYXRhLmNvbWJvVGFnO1xuICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgIC5jcmVhdGVDb21ib01hdGVyaWFsKGRhdGEpXG4gICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAkKFwiI3RvZG9fbW9kYWwuZGNwX21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICAgJChcIiNzdW1tYXJ5LXRhYiwgI2RjcDItdGFiLCAjaG9tZS10YWIsICNtYXRlcmlhbDIsICNkY3AyLCAjc3VtbWFyeVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgJChcIiNtYXRlcmlhbDIsICNkY3AyLCAjc3VtbWFyeVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICQoXCIjaG9tZS10YWIsICNtYXRlcmlhbDJcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICQoXCIjbWF0ZXJpYWwxXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgdm0uaW5wdXRJbWcgPSBbXTtcbiAgICAgICAgICAgICAgdm0udXBsb2FkSW1nID0gW107XG4gICAgICAgICAgICAgIHZtLmlucHV0RmlsZXMgPSBbXTtcbiAgICAgICAgICAgICAgdm0udXBsb2FkRmlsZXMgPSBbXTtcbiAgICAgICAgICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gXCJcIjtcbiAgICAgICAgICAgICAgdm0uYWRkQ29tYm9NYXRlcmlhbEZvcm0gPSAnJztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2bS5yZW1vdmVNYXRlcmlsID0gaXRlbSA9PiB7XG4gICAgICB2bS5jb21ib01hdGVyaWFsTGlzdC5zcGxpY2UoaXRlbSwgMSk7XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJtYXRlcmlhbFZpZXdDdHJsXCIsIG1hdGVyaWFsVmlld0N0cmwpO1xuXG4gIGZ1bmN0aW9uIG1hdGVyaWFsVmlld0N0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICAkc3RhdGVQYXJhbXMsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFscyxcbiAgICAkbG9jYXRpb24sXG4gICAgVXBsb2FkXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICAgIHZtLmlucHV0SW1nPVtdO1xuICAgIHZtLmlucHV0RmlsZXMgPVtdO1xuICAgIHZtLmNsZWFyRGF0YSA9ICgpID0+IHtcbiAgICAgIHZtLmlucHV0SW1nID0gW11cbiAgICAgIHZtLmlucHV0RmlsZXMgPSBbXVxuICAgICAgdm0uc2VsZWN0ZWRVbml0ID0gJydcbiAgICAgICQoJyNwcm9maWxlLXRhYiwgI2RjcDEnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICQoJyNob21lLXRhYiwgI21hdGVyaWFsMScpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgJCgnI21hdGVyaWFsMScpLmFkZENsYXNzKCdzaG93JylcbiAgICB9XG5cbiAgICBhcGlGYWN0b3J5XG4gICAgICAuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNvbXBhbnlEYXRhID0gcmVzcC5kYXRhO1xuICAgICAgICB2bS5jdXJyZW50Q3VycmVuY3kgPSB2bS5jb21wYW55RGF0YS5jdXJyZW50Q3VycmVuY3kuY3VycmVuY3lDb2RlO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5jdXJyZW50Q3VycmVuY3ksICctLS1jdXJyZW50Q3VycmVuY3knKVxuICAgICAgfSlcbiAgICAgIC50aGVuKGUgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH0pO1xuXG4gICAgdm0ubWF0ZXJpYWxJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcbiAgICB2bS5tVW5pdHMgPSBnbG9iYWxzLm1Vbml0cztcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcbiAgICAgIHZtLmN1cnJlbmNpZXMgPSByZXNwLmRhdGE7XG4gICAgICB2bS5sb2FkQ3VycmVuY2llcyA9ICRxdWVyeSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgXG4gICAgdm0uY2hhbmdlQ29zdCA9ICh0eXBlLCBjb3N0KSA9PiB7XG4gICAgICBpZih0eXBlID09ICdib3RoJykge1xuICAgICAgICB2bS5tYXRlcmlhbENvc3RWYWx1ZSA9IHZtLm1hdGVyaWFsQ29zdFZhbHVlIC8gdm0uZWRpdE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3I7XG4gICAgICAgIHZtLnJvb2ZlckNvc3RWYWx1ZSA9IHZtLnJvb2ZlckNvc3RWYWx1ZSAvIHZtLmVkaXRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29zdCAvIHZtLmVkaXRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5zaG93Q29udmVyc2lvblJhdGUgPSAoZnJvbSwgdG8pID0+IHtcbiAgICAgICQoXCIubG9hZGVyXCIpLnNob3coKTtcbiAgICAgIGxldCBjdXJyZW5jeURhdGEgPSB7XG4gICAgICAgIGZyb20sXG4gICAgICAgIHRvXG4gICAgICB9O1xuICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgIC5zaG93Q29udmVyc2lvblJhdGUoY3VycmVuY3lEYXRhKVxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgdm0uZWRpdE1hdGVyaWFsLmNvbnZlcnNpb25GYWN0b3IgPSByZXNwLmRhdGEuY29udmVyc2lvbkZhY3RvcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLyogaWYgKHZtLm1hdGVyaWFsQ29zdFZhbHVlKSB7XG4gICAgICAgICAgICAgIHZtLm1hdGVyaWFsQ29zdFZhbHVlID0gdm0ubWF0ZXJpYWxDb3N0VmFsdWUgKiB2bS5lZGl0TWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZtLnJvb2ZlckNvc3RWYWx1ZSkge1xuICAgICAgICAgICAgICB2bS5yb29mZXJDb3N0VmFsdWUgPSB2bS5yb29mZXJDb3N0VmFsdWUgKiB2bS5lZGl0TWF0ZXJpYWwuY29udmVyc2lvbkZhY3RvclxuICAgICAgICAgICAgfSAqL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICQoXCIubG9hZGVyXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH07XG5cbiAgICB2bS50YWJDaGFuZ2UgPSAodmFsKSA9PiB7XG4gICAgICBpZiAodmFsID09IDApIHtcbiAgICAgICAgY2hhbmdlVGFiKHZhbClcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IDEpIHtcbiAgICAgICAgaWYgKCF2bS5lZGl0TWF0ZXJpYWwubmFtZSkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlBsZWFzZSBlbnRlciBtYXRlcmlhbCBuYW1lXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCF2bS5zZWxlY3RlZFVuaXQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IG1hdGVyaWFsIHVuaXRcIik7XG4gICAgICAgICAgLyogfSBlbHNlIGlmICghdm0uZWRpdE1hdGVyaWFsLmN1cnJlbmN5KSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2Ugc2VsZWN0IGN1cnJlbmN5XCIpOyAqL1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZVRhYih2YWwpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hhbmdlVGFiKHZhbCkge1xuICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC5uYXYtdGFicyBsaSAubmF2LWxpbmtcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLm5hdi10YWJzIGxpIC5uYXYtbGlua1wiKS5lcSh2YWwpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG4gICAgICAgICQoXCIubWF0ZXJpYWxfbW9kYWwgLnRhYi1jb250ZW50IC50YWItcGFuZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgJChcIi5tYXRlcmlhbF9tb2RhbCAudGFiLWNvbnRlbnQgLnRhYi1wYW5lXCIpLmVxKHZhbCkuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAkKFwiLm1hdGVyaWFsX21vZGFsIC50YWItY29udGVudCAudGFiLXBhbmVcIikuZXEodmFsKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH07XG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmdldEFsbFN1cHBsaWVycygpXG4gICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgdm0uc3VwcGxpZXJzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgIGNvbnNvbGUubG9nKHZtLnN1cHBsaWVycywgJz0tLS1zdXBwbGllcnMnKVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICB9KTtcblxuICAgIHZtLmVkaXRGbGFnID0gZmFsc2U7XG4gICAgdm0ucmVtb3ZlZEZpbGVzID0gW107XG4gICAgJHNjb3BlLmdldE1hdERldGFpbCA9ICgpID0+IHtcbiAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgLmdldE1hdGVyaWFsQnlJZCh2bS5tYXRlcmlhbElkKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5tYXRyaWFsRGF0YSA9IHJlc3AuZGF0YTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh2bS5tYXRyaWFsRGF0YSlcbiAgICAgICAgICB2bS5tYXRyaWFsTmFtZSA9IHZtLm1hdHJpYWxEYXRhLm5hbWU7XG4gICAgICAgICAgdm0ubWF0cmlhbFVuaXQgPSB2bS5tYXRyaWFsRGF0YS51bml0O1xuICAgICAgICAgIHZtLm1hdHJpYWxDb3N0ID0gTnVtYmVyKFxuICAgICAgICAgICAgdm0ubWF0cmlhbERhdGEuY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LnZhbHVlXG4gICAgICAgICAgKS50b0ZpeGVkKDIpO1xuICAgICAgICAgIHZtLm1hdHJpYWxDdXJyZW5jeUNvZGUgPVxuICAgICAgICAgICAgdm0ubWF0cmlhbERhdGEuY3VycmVudFJhdGUubWF0ZXJpYWxDb3N0LmN1cnJlbmN5Q29kZTtcbiAgICAgICAgICB2bS5tYXRyaWFsUm9vZmVyQ29zdCA9IE51bWJlcihcbiAgICAgICAgICAgIHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWVcbiAgICAgICAgICApLnRvRml4ZWQoMik7XG4gICAgICAgICAgdm0ubWF0cmlhbFJvb2ZlckN1cnJlbmN5Q29kZSA9IHZtLm1hdHJpYWxEYXRhLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QuY3VycmVuY3lDb2RlO1xuICAgICAgICAgIHZtLm1hdHJpYWxDcmVhdGVkQnkgPSB2bS5tYXRyaWFsRGF0YS5wcm92aWRlckRhdGEudXBkYXRlZEJ5Lm5hbWU7XG4gICAgICAgICAgdm0ubWF0cmlhbENyZWF0ZWRBdCA9IHZtLm1hdHJpYWxEYXRhLmNyZWF0ZWRBdDtcbiAgICAgICAgICB2bS5tYXRyaWFsVXBkYXRlZEF0ID0gdm0ubWF0cmlhbERhdGEuY3JlYXRlZEF0O1xuICAgICAgICAgICRzY29wZS5ncmF5X2JveCA9IFtcbiAgICAgICAgICAgIHsgJ2ltZyc6ICcvYXNzZXRzL2ltYWdlcy9Vbml0LUljb24ucG5nJywgJ3RpdGxlJzogJ1VuaXQnLCAndmFsdWUnOiB2bS5tYXRyaWFsVW5pdCB9LFxuICAgICAgICAgICAgeyAnaW1nJzogJy9hc3NldHMvaW1hZ2VzL0RvbGxhci1JY29uLnBuZycsICd0aXRsZSc6ICdNYXRlcmlhbCBDb3N0JywgJ3ZhbHVlJzogdm0ubWF0cmlhbENvc3QsICdjdXJyZW5jeUNvZGUnOiB2bS5tYXRyaWFsQ3VycmVuY3lDb2RlIH0sXG4gICAgICAgICAgICB7ICdpbWcnOiAnL2Fzc2V0cy9pbWFnZXMvRG9sbGFyLUljb24ucG5nJywgJ3RpdGxlJzogJ1dvcmtlciBDb3N0JywgJ3ZhbHVlJzogdm0ubWF0cmlhbFJvb2ZlckNvc3QsICdjdXJyZW5jeUNvZGUnOiB2bS5tYXRyaWFsUm9vZmVyQ3VycmVuY3lDb2RlIH1cbiAgICAgICAgICBdXG4gICAgICAgICAgJHNjb3BlLm5leHRNYWludGFuY2VEYXRlQ2FsYyh2bS5tYXRyaWFsRGF0YS5jcmVhdGVkQXQsIHZtLm1hdHJpYWxEYXRhLm1haW50ZW5hbmNlUGVyaW9kKTtcbiAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgJHNjb3BlLmdldE1hdERldGFpbCgpO1xuICAgICRzY29wZS5uZXh0TWFpbnRhbmNlRGF0ZUNhbGMgPSAoY3JlYXRlZEF0LCBtYWludGVuYW5jZVBlcmlvZCkgPT4ge1xuICAgICAgbGV0IGNyZWF0ZWREYXRlID0gbW9tZW50KGNyZWF0ZWRBdCkuZm9ybWF0KFwiWFwiKTtcbiAgICAgIGxldCBuZXh0TWFpbnRhbmNlRGF0ZSA9IG1vbWVudChjcmVhdGVkQXQpLmFkZChtYWludGVuYW5jZVBlcmlvZCwgXCJkYXlzXCIpLmZvcm1hdChcIlhcIik7XG4gICAgICBpZiAoY3JlYXRlZERhdGUgPCBuZXh0TWFpbnRhbmNlRGF0ZSkge1xuICAgICAgICB2bS5uZXh0TWFpbnRlbmFuY2VEYXRlID0gbW9tZW50KGNyZWF0ZWRBdCkuYWRkKG1haW50ZW5hbmNlUGVyaW9kLCBcImRheXNcIikuZm9ybWF0KFwiTU1NIERELCBZWVlZXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQoKVxuICAgICAgICBsZXQgY3JlYXRlZERhdGUxID0gbW9tZW50LnV0YyhjcmVhdGVkQXQpLmFkZChtYWludGVuYW5jZVBlcmlvZCwgXCJkYXlzXCIpLmZvcm1hdCgpXG4gICAgICAgICRzY29wZS5uZXh0TWFpbnRhbmNlRGF0ZUNhbGMoY3JlYXRlZERhdGUxLCBtYWludGVuYW5jZVBlcmlvZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2bS5yZW1vdmVJbWcgPSAoaW5kZXhWYWwsIHR5cGUpID0+IHtcbiAgICAgIGlmICh0eXBlID09ICdtYXRlcmlhbEltZycpIHtcbiAgICAgICAgdm0ucmVtb3ZlZEZpbGVzLnB1c2godm0ubWF0cmlhbERhdGEuZmlsZXMuaW1hZ2VzW2luZGV4VmFsXS5faWQpO1xuICAgICAgICB2bS5tYXRlcmlhbEltZy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdpbWFnZScpIHtcbiAgICAgICAgdm0uaW5wdXRJbWcuc3BsaWNlKGluZGV4VmFsLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnbWF0ZXJpYWxEb2N1bWVudCcpIHtcbiAgICAgICAgdm0ucmVtb3ZlZEZpbGVzLnB1c2godm0ubWF0cmlhbERhdGEuZmlsZXMuZG9jc1tpbmRleFZhbF0uX2lkKTtcbiAgICAgICAgdm0ubWF0ZXJpYWxGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdkb2N1bWVudCcpIHtcbiAgICAgICAgdm0uaW5wdXRGaWxlcy5zcGxpY2UoaW5kZXhWYWwsIDEpO1xuICAgICAgfVxuICAgIH07XG4gICAgdm0uZGVzY3JpcHRpb25Qb3BvdmVyID0gKGluZGV4VmFsLCB0eXBlKSA9PiB7XG4gICAgICAkc2NvcGUuZmlsZVR5cGUgPSB0eXBlO1xuICAgICAgJHNjb3BlLmZpbGVJbmRleCA9IGluZGV4VmFsO1xuICAgIH1cbiAgICB2bS5hZGREZXNjcmlwdGlvbiA9IChpbmRleCwgZGF0YSkgPT4ge1xuICAgICAgaWYgKCRzY29wZS5maWxlVHlwZSA9PSAnbWF0ZXJpYWxJbWcnKSB7XG4gICAgICAgIHZtLm1hdGVyaWFsSW1nW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XG4gICAgICAgIHZtLm1hdGVyaWFsSW1nW2luZGV4XS5hc3NldERlc2NyaXB0aW9uID0gZGF0YTtcbiAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmZpbGVUeXBlID09ICdpbWFnZScpIHtcbiAgICAgICAgdm0uaW5wdXRJbWdbaW5kZXhdLmRlc2NyaXB0aW9uID0gZGF0YTtcbiAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmZpbGVUeXBlID09ICdtYXRlcmlhbERvY3VtZW50Jykge1xuICAgICAgICB2bS5tYXRlcmlhbEZpbGVzW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XG4gICAgICAgIHZtLm1hdGVyaWFsRmlsZXNbaW5kZXhdLmFzc2V0RGVzY3JpcHRpb24gPSBkYXRhO1xuICAgICAgfSBlbHNlIGlmICgkc2NvcGUuZmlsZVR5cGUgPT0gJ2RvY3VtZW50Jykge1xuICAgICAgICB2bS5pbnB1dEZpbGVzW2luZGV4XS5kZXNjcmlwdGlvbiA9IGRhdGE7XG4gICAgICB9XG4gICAgfVxuICAgIHZtLmNoYW5nZU1haW50ZW5hbmNlUGVyaW9kID0gZGF5cyA9PiB7XG4gICAgICB2bS5lZGl0TWF0ZXJpYWwubWFpbnRlbmFuY2VEYXRlID0gbW9tZW50KHZtLmVkaXRNYXRlcmlhbC5jcmVhdGVkQXQpXG4gICAgICAgIC5hZGQoZGF5cywgXCJkYXlzXCIpXG4gICAgICAgIC5mb3JtYXQoKTtcbiAgICB9O1xuICAgIFxuICAgIHZtLmVkaXRNYXRlcmlhbEZ1bmN0aW9uID0gdmFsID0+IHtcbiAgICAgIGlmICh2YWwgPT0gMSkge1xuICAgICAgICAvLyBlZGl0IE1hdGVyaWFsXG4gICAgICAgIHZtLmVkaXRGbGFnID0gdHJ1ZTtcbiAgICAgICAgdm0uZWRpdE1hdGVyaWFsID0gYW5ndWxhci5jb3B5KHZtLm1hdHJpYWxEYXRhKTtcbiAgICAgICAgdm0uY2hhbmdlTWFpbnRlbmFuY2VQZXJpb2Qodm0ubWF0cmlhbERhdGEubWFpbnRlbmFuY2VQZXJpb2QpO1xuICAgICAgICB2bS5zZWxlY3RlZFVuaXQgPSB2bS5lZGl0TWF0ZXJpYWwudW5pdDtcbiAgICAgICAgdm0ubWF0ZXJpYWxJbWcgPSB2bS5lZGl0TWF0ZXJpYWwuZmlsZXMuaW1hZ2VzO1xuICAgICAgICB2bS5tYXRlcmlhbEZpbGVzID0gdm0uZWRpdE1hdGVyaWFsLmZpbGVzLmRvY3M7XG4gICAgICAgIHZtLm1hdGVyaWFsQ29zdFZhbHVlID0gdm0uZWRpdE1hdGVyaWFsLmN1cnJlbnRSYXRlLm1hdGVyaWFsQ29zdC52YWx1ZTtcbiAgICAgICAgdm0ucm9vZmVyQ29zdFZhbHVlID0gdm0uZWRpdE1hdGVyaWFsLmN1cnJlbnRSYXRlLnJvb2ZlckNvc3QudmFsdWU7XG4gICAgICAgIHZtLmVkaXRNYXRlcmlhbC5jb252ZXJzaW9uRmFjdG9yID0gMVxuICAgICAgICB2bS5zaG93Q29udmVyc2lvblJhdGUodm0uY3VycmVudEN1cnJlbmN5LCB2bS5lZGl0TWF0ZXJpYWwuY3VycmVuY3kpO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2godm0ubWF0ZXJpYWxJbWcsIGZ1bmN0aW9uICh4LCBpbmRleCkge1xuICAgICAgICAgIHguZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgfSk7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5tYXRlcmlhbEZpbGVzLCBmdW5jdGlvbiAoeCwgaW5kZXgpIHtcbiAgICAgICAgICB4LmRlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgc3VwcGxpZXJzID0gdm0uZWRpdE1hdGVyaWFsLnN1cHBsaWVycy5tYXAoeCA9PiB4Ll9pZClcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmVkaXRNYXRlcmlhbCwgJy0tLS1lZGl0TWF0ZXJpYWwnKTtcbiAgICAgICAgJCgnI2N1cnJlbmN5JykudmFsKHZtLmN1cnJlbnRDdXJyZW5jeSkudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTtcbiAgICAgICAgJCgnI3N1cHBsaWVycycpLnZhbChzdXBwbGllcnMpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7XG4gICAgICAgICQoJyN0b2RvX21vZGFsLm1hdGVyaWFsX21vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgJCgnI3Byb2ZpbGUtdGFiLCAjZGNwMScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJCgnI2hvbWUtdGFiLCAjbWF0ZXJpYWwxJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkKCcjbWF0ZXJpYWwxJykuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IDIpIHtcbiAgICAgICAgY29uc29sZS5sb2codm0uaW5wdXRJbWcsIHZtLmlucHV0RmlsZXMpO1xuICAgICAgICAkc2NvcGUudXBsb2FkRmlsZXMgPSBbXS5jb25jYXQodm0uaW5wdXRJbWcsdm0uaW5wdXRGaWxlcyk7XG4gICAgICAgICRzY29wZS51cGxvYWRhbGxGaWxlcyA9IFtdLmNvbmNhdCh2bS5pbnB1dEltZywgdm0uaW5wdXRGaWxlcywgdm0ubWF0ZXJpYWxJbWcsIHZtLm1hdGVyaWFsRmlsZXMpO1xuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudXBsb2FkYWxsRmlsZXMpO1xuICAgICAgICAvLyB1cGRhdGUgTWF0ZXJpYWxcbiAgICAgICAgdm0uZWRpdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gW107XG4gICAgICAgIGlmICh2bS5pbnB1dEltZy5sZW5ndGggPiAwIHx8IHZtLmlucHV0RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRzY29wZS51cGxvYWRhbGxGaWxlcy5tYXAoKHgsIGkpID0+IHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLnB1c2goe1xuICAgICAgICAgICAgICBhc3NldERlc2NyaXB0aW9uOiB4LmRlc2NyaXB0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdGVyaWFsdXBkYXRlZGF0YSA9IHtcbiAgICAgICAgICBuYW1lOiB2bS5lZGl0TWF0ZXJpYWwubmFtZSxcbiAgICAgICAgICB1bml0OiB2bS5zZWxlY3RlZFVuaXQsXG4gICAgICAgICAgcmVtb3ZlZEZpbGVzOiB2bS5yZW1vdmVkRmlsZXMsXG4gICAgICAgICAgc3VwcGxpZXJzOiB2bS5lZGl0TWF0ZXJpYWwuc3VwcGxpZXJzLFxuICAgICAgICAgIG1haW50ZW5hbmNlUGVyaW9kOiB2bS5lZGl0TWF0ZXJpYWwubWFpbnRlbmFuY2VQZXJpb2QsXG4gICAgICAgICAgY3VycmVudFJhdGU6IHtcbiAgICAgICAgICAgIG1hdGVyaWFsQ29zdDoge1xuICAgICAgICAgICAgICB2YWx1ZTogdm0uY2hhbmdlQ29zdCgnbWF0ZXJpYWwnLCB2bS5tYXRlcmlhbENvc3RWYWx1ZSksXG4gICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogdm0uZWRpdE1hdGVyaWFsLmN1cnJlbmN5IC8vJHNjb3BlLmNoZWNrTnVsbCgkc2NvcGUubWF0ZXJpYWxPYmoubWF0ZXJpYWxDb3N0Y3VycmVuY3lDb2RlKVtcImNjXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm9vZmVyQ29zdDoge1xuICAgICAgICAgICAgICB2YWx1ZTogdm0uY2hhbmdlQ29zdCgncm9vZmVyJywgdm0ucm9vZmVyQ29zdFZhbHVlKSxcbiAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiB2bS5lZGl0TWF0ZXJpYWwuY3VycmVuY3kgLy8kc2NvcGUuY2hlY2tOdWxsKCRzY29wZS5tYXRlcmlhbE9iai5yb29mZXJDb3N0Y3VycmVuY3lDb2RlKVtcImNjXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaWxlczogJHNjb3BlLnVwbG9hZEZpbGVzLFxuICAgICAgICAgIGFzc2V0T2JqOiBkZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgLnVwZGF0ZU1hdGVyaWFsQnlJZCh2bS5tYXRlcmlhbElkLCBtYXRlcmlhbHVwZGF0ZWRhdGEpXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAkKCcjdG9kb19tb2RhbC5tYXRlcmlhbF9tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgICAkc2NvcGUuZ2V0TWF0RGV0YWlsKCk7XG4gICAgICAgICAgICB2bS5maWxlTmFtZXM9W107XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZmlsZVVwZGF0ZWQgPSAoZmlsZXMsIGV2ZW50KSA9PiB7XG4gICAgICBsZXQgZmlsZU9iaiA9IGV2ZW50LnRhcmdldC5maWxlcztcbiAgICAgIHZtLmZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGZpbGVPYmopLm1hcCh4ID0+IGZpbGVPYmpbeF0ubmFtZSk7XG4gICAgICBhbmd1bGFyLmZvckVhY2goZmlsZXMsIGZ1bmN0aW9uICh4LCBpbmRleCkge1xuICAgICAgICB4LmRlc2NyaXB0aW9uID0gJydcbiAgICAgIH0pXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGltZ1NsaWRlcigpIHtcbiAgICAgICQoXCIjY2Fyb3VzZWxcIikuZmxleHNsaWRlcih7XG4gICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxuICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9uTG9vcDogZmFsc2UsXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXG4gICAgICAgIGl0ZW1XaWR0aDogNzUsXG4gICAgICAgIGl0ZW1NYXJnaW46IDUsXG4gICAgICAgIGFzTmF2Rm9yOiBcIiNzbGlkZXJcIlxuICAgICAgfSk7XG5cbiAgICAgICQoXCIjc2xpZGVyXCIpLmZsZXhzbGlkZXIoe1xuICAgICAgICBhbmltYXRpb246IFwic2xpZGVcIixcbiAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxuICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxuICAgICAgICBzeW5jOiBcIiNjYXJvdXNlbFwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBcblxuXG4gIH1cbiAgXG4gIFxufSkoKTtcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcIm1lZXRpbmdSb29tQ3RybFwiLCBtZWV0aW5nUm9vbUN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBtZWV0aW5nUm9vbUN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHMsXHJcbiAgICBVcGxvYWQsXHJcbiAgICBTQmNvbW1vbixcclxuICAgIFNCY2hhbm5lbCxcclxuICAgIFNCZXZlbnRzXHJcbiAgKSB7XHJcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xyXG5cclxuICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBjb21wYW55U3RvcmUsIHByb2plY3RTdG9yZSB9ID0gZ2xvYmFscztcclxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcclxuICAgICAgbG9nb3V0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcclxuICAgIGxldCByb29tID0gU0Jjb21tb247XHJcbiAgICBsZXQgc3RvcmUgPSByb29tLnN0b3JlKCk7XHJcbiAgICBjb25zb2xlLmxvZyh2bS51c2VyRGF0YSk7XHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5nZXRBY2Nlc3NNZWV0aW5nUm9vbVRva2VuKClcclxuICAgICAgLyogU3RlcCAxIC0gT2J0YWluIGFjY2VzcyB0b2tlbiAqL1xyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcC5kYXRhLmFjY2Vzc1Rva2VuO1xyXG4gICAgICB9KVxyXG4gICAgICAvKiBTdGVwIDIgLSBMb2dpbiB1c2VyICovXHJcbiAgICAgIC50aGVuKHRva2VuID0+IHtcclxuICAgICAgICBpZiAoIXRva2VuKSB0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbiB1bmF2YWlsYWJsZVwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJvb20uY29ubmVjdChcclxuICAgICAgICAgIHVzZXJTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgICB0b2tlblxyXG4gICAgICAgICk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC8qIFN0ZXAgMyAtIEdldCBjaGFubmVsIGxpc3QgYWZ0ZXIgc3VjY2Vzc2Z1bGwgY29ubmVjdGlvbiAqL1xyXG4gICAgICAudGhlbihjb25uZWN0ZWRVc2VyID0+IHtcclxuICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkNvbm5lY3RlZCB0byBtZWV0aW5nIHJvb21cIik7XHJcbiAgICAgICAgc3RvcmUuc2V0KFwidXNlclwiLCBjb25uZWN0ZWRVc2VyKTtcclxuICAgICAgICByZXR1cm4gU0JjaGFubmVsLmxpc3RDaGFubmVscyhwcm9qZWN0U3RvcmUuZ2V0KCkuX2lkKTtcclxuICAgICAgfSlcclxuICAgICAgLyogU3RlcCA0IC0gQmluZCBpbml0aWFsIHZpZXcgdmFycyBoZXJlICovXHJcbiAgICAgIC50aGVuKHVwZGF0ZUNoYW5uZWxMaXN0KVxyXG4gICAgICAvKiBTdGVwIDUgLSBMb2FkIGRlZmF1bHQgY2hhbm5lbCAqL1xyXG4gICAgICAudGhlbihsb2FkRGVmYXVsdENoYW5uZWwpXHJcbiAgICAgIC8qIFN0ZXAgNiAtIFVwZGF0ZSBDaGFubmVsIGNvbnRlbnRzICovXHJcbiAgICAgIC50aGVuKHVwZGF0ZU1lc3NhZ2VzKVxyXG4gICAgICAvKiBTdGVwIDcgLSBHZXQgbWVldGluZyByb2RvICovXHJcbiAgICAgIC50aGVuKGdldE1lZXRpbmdUb2RvKHRydWUpKVxyXG4gICAgICAuY2F0Y2gocm9vbS5lcnJvcik7XHJcblxyXG4gICAgYXBpRmFjdG9yeVxyXG4gICAgICAuZ2V0QWxsTWVtYmVyc0luQ3VycmVudENvbXBhbnkodXNlclN0b3JlLmdldCgpLmNvbXBhbnlJZClcclxuICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgdm0uY29tcGFueVVzZXJzID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChyb29tLmVycm9yKTtcclxuXHJcbiAgICAvKiBWaWV3IGZ1bmN0aW9ucyAmIG9iamVjdHMgKi9cclxuICAgIHZtLm5ld01lZXRpbmcgPSB7fTtcclxuXHJcbiAgICB2bS5jcmVhdGVDaGFubmVsID0gKGZvcm1EYXRhLCBtZWV0aW5nTmFtZSkgPT4ge1xyXG4gICAgICAkKFwiI25ld21lZXRpbmdfcG9wdXBcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICBpZiAoIXN0b3JlLmdldChcInVzZXJcIikpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFNCY2hhbm5lbC5jcmVhdGVDaGFubmVsKFxyXG4gICAgICAgIG1lZXRpbmdOYW1lLFxyXG4gICAgICAgIHVzZXJTdG9yZS5nZXQoKS5faWQsXHJcbiAgICAgICAgcHJvamVjdFN0b3JlLmdldCgpLl9pZFxyXG4gICAgICApXHJcbiAgICAgICAgLnRoZW4oY2hhbm5lbCA9PiB7XHJcbiAgICAgICAgICBmb3JtRGF0YS5jaGFubmVsVXJsID0gY2hhbm5lbC51cmw7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICBjaGFubmVsLFxyXG4gICAgICAgICAgICBmb3JtRGF0YS5hc3NpZ25lZFRvLFxyXG4gICAgICAgICAgICBhcGlGYWN0b3J5LmNyZWF0ZVRvZG9MaXN0KGZvcm1EYXRhKSxcclxuICAgICAgICAgICAgYXBpRmFjdG9yeS5pbnZpdGVVc2Vyc1RvTWVldGluZyh7IHVzZXJzOiBmb3JtRGF0YS5hc3NpZ25lZFRvIH0pXHJcbiAgICAgICAgICBdKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChbY2hhbm5lbCwgdXNlcnNdKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gU0JjaGFubmVsLmludml0ZVVzZXJzKGNoYW5uZWwsIHVzZXJzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKF8gPT4ge1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJNZWV0aW5nIHJvb20gY3JlYXRlZCBzdWNjZXNzZnVsbHkhXCIpO1xyXG4gICAgICAgICAgcmV0dXJuIFNCY2hhbm5lbC5saXN0Q2hhbm5lbHMocHJvamVjdFN0b3JlLmdldCgpLl9pZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbih1cGRhdGVDaGFubmVsTGlzdClcclxuICAgICAgICAuY2F0Y2gocm9vbS5lcnJvcik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnZpZXdDaGFubmVsID0gKGNoYW5uZWwsICRldmVudCkgPT4ge1xyXG4gICAgICBjaGFubmVsLm1hcmtBc1JlYWQoKTtcclxuICAgICAgU0JjaGFubmVsLmdldENoYW5uZWxNZXNzYWdlcyhjaGFubmVsKVxyXG4gICAgICAgIC50aGVuKHVwZGF0ZU1lc3NhZ2VzKVxyXG4gICAgICAgIC50aGVuKGdldE1lZXRpbmdUb2RvKCRldmVudCkpXHJcbiAgICAgICAgLmNhdGNoKHJvb20uZXJyb3IpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zdGFydFR5cGluZyA9IGNoYW5uZWwgPT4ge1xyXG4gICAgICBjaGFubmVsLnN0YXJ0VHlwaW5nKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNlbmRNZXNzYWdlID0gKGNoYW5uZWwsIG1lc3NhZ2UpID0+IHtcclxuICAgICAgdm0ubWVzc2FnZUJveCA9IFwiXCI7XHJcbiAgICAgIGNoYW5uZWwuZW5kVHlwaW5nKCk7XHJcbiAgICAgIGlmIChtZXNzYWdlICYmIG1lc3NhZ2UudHJpbSgpKSB7XHJcbiAgICAgICAgU0JjaGFubmVsLnNlbmRNZXNzYWdlKGNoYW5uZWwsIG1lc3NhZ2UpXHJcbiAgICAgICAgICAudGhlbihjaGFubmVsID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFNCY2hhbm5lbC5nZXRDaGFubmVsTWVzc2FnZXMoY2hhbm5lbCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4odXBkYXRlTWVzc2FnZXMpXHJcbiAgICAgICAgICAuY2F0Y2gocm9vbS5lcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdm0uc2VuZE1lc3NhZ2VPbkVudGVyID0gZSA9PiB7XHJcbiAgICAgIGlmIChlLndoaWNoID09PSAxMykge1xyXG4gICAgICAgIHZtLnNlbmRNZXNzYWdlLmNhbGwobnVsbCwgdm0uY3VycmVudENoYW5uZWwsIHZtLm1lc3NhZ2VCb3gpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnNlbmRGaWxlTWVzc2FnZSA9IChjaGFubmVsLCBmaWxlcykgPT4ge1xyXG4gICAgICAkKFwiI2F0dGFjaF9wb3B1cFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAubmV3TWVldGluZ0ZpbGVNZXNzYWdlKHtcclxuICAgICAgICAgIGZpbGVzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwID0+XHJcbiAgICAgICAgICBQcm9taXNlLmFsbChTQmNoYW5uZWwuc2VuZEZpbGVNZXNzYWdlKGNoYW5uZWwsIHJlc3AuZGF0YS5kYXRhKSlcclxuICAgICAgICApXHJcbiAgICAgICAgLnRoZW4oXyA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkZpbGVzIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgIHJldHVybiBTQmNoYW5uZWwuZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWwpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odXBkYXRlTWVzc2FnZXMpXHJcbiAgICAgICAgLmNhdGNoKHJvb20uZXJyb3IpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5yZXNvbHZlVGVtcGxhdGVVcmwgPSBtID0+IHtcclxuICAgICAgaWYgKG0ubWVzc2FnZVR5cGUgPT09IFwidXNlclwiKSB7XHJcbiAgICAgICAgaWYgKG0uX3NlbmRlci51c2VySWQgPT09IHVzZXJTdG9yZS5nZXQoKS5faWQpIHtcclxuICAgICAgICAgIHJldHVybiBcInVzZXJNZXNzYWdlXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBcIm1lc3NhZ2VcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG0uX3NlbmRlci51c2VySWQgPT09IHVzZXJTdG9yZS5nZXQoKS5faWQpIHtcclxuICAgICAgICAgIHJldHVybiBcInVzZXJGaWxlTWVzc2FnZVwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJmaWxlTWVzc2FnZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5vcGVuSW52aXRlUG9wdXAgPSAoY3VycmVudENoYW5uZWwsIGNvbXBhbnlVc2VycykgPT4ge1xyXG4gICAgICAkKFwiI21lbWJlcnNfcG9wdXBcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICBpZiAoIWN1cnJlbnRDaGFubmVsIHx8ICFjb21wYW55VXNlcnMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGN1cnJlbnRDaGFubmVsTWVtYmVycyA9IE9iamVjdC5rZXlzKGN1cnJlbnRDaGFubmVsLm1lbWJlck1hcCk7XHJcbiAgICAgIC8vIEZpbHRlciBjaGFubmVsIHVzZXJzXHJcbiAgICAgIHZtLmludml0ZWVzID0gY29tcGFueVVzZXJzXHJcbiAgICAgICAgLmZpbHRlcih4ID0+IHtcclxuICAgICAgICAgIHJldHVybiBjdXJyZW50Q2hhbm5lbE1lbWJlcnMuaW5kZXhPZih4Ll9pZCkgPiAtMSA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5tYXAoeCA9PiB7XHJcbiAgICAgICAgICB4LmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5pbnZpdGVVc2VycyA9IChjaGFubmVsLCB1c2VycykgPT4ge1xyXG4gICAgICAkKFwiI21lbWJlcnNfcG9wdXBcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICB1c2VycyA9IHVzZXJzLmZpbHRlcih4ID0+IHguY2hlY2tlZCkubWFwKHggPT4geC5faWQpO1xyXG4gICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgLmludml0ZVVzZXJzVG9NZWV0aW5nKHsgdXNlcnMgfSlcclxuICAgICAgICAudGhlbihfID0+IHtcclxuICAgICAgICAgIHJldHVybiBTQmNoYW5uZWwuaW52aXRlVXNlcnMoY2hhbm5lbCwgdXNlcnMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oXyA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlVzZXIocykgaW52aXRlZFwiKTtcclxuICAgICAgICAgIHJldHVybiBTQmNoYW5uZWwubGlzdENoYW5uZWxzKHByb2plY3RTdG9yZS5nZXQoKS5faWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4odXBkYXRlQ2hhbm5lbExpc3QpXHJcbiAgICAgICAgLmNhdGNoKHJvb20uZXJyb3IpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5vcGVuRmlsZVZpZXdlciA9IGNoYW5uZWwgPT4ge1xyXG4gICAgICAkKFwiI3NoYXJlZGZpbGVzX3BvcHVwXCIpLm1vZGFsKFwic2hvd1wiKTtcclxuICAgICAgU0JjaGFubmVsLmdldENoYW5uZWxGaWxlcyhjaGFubmVsKVxyXG4gICAgICAgIC50aGVuKGxpc3RGaWxlcylcclxuICAgICAgICAuY2F0Y2gocm9vbS5lcnJvcik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmNoZWNrUmVhZFN0YXR1cyA9IGNoYW5uZWwgPT4ge1xyXG4gICAgICByZXR1cm4gY2hhbm5lbFxyXG4gICAgICAgIC5nZXRSZWFkTWVtYmVycyhjaGFubmVsLmxhc3RNZXNzYWdlLCB0cnVlKVxyXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgYWNjID0geC51c2VySWQgPT09IHVzZXJTdG9yZS5nZXQoKS5faWQgfHwgYWNjO1xyXG4gICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLmxhdW5jaFRvZG9Qb3B1cCA9ICgpID0+IHtcclxuICAgICAgJChcIiN0b2RvX21lZXRpbmdcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5jcmVhdGVUb2RvTGlzdCA9IChmb3JtRGF0YSwgY3VycmVudENoYW5uZWwsIHZhbGlkKSA9PiB7XHJcbiAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICQoXCIjdG9kb19tZWV0aW5nXCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgICBmb3JtRGF0YS5jaGFubmVsVXJsID0gY3VycmVudENoYW5uZWwudXJsO1xyXG4gICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgIC5jcmVhdGVUb2RvTGlzdChmb3JtRGF0YSlcclxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlRvZG8gY3JlYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q2hhbm5lbDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihnZXRNZWV0aW5nVG9kbyh0cnVlKSlcclxuICAgICAgICAgIC5jYXRjaChyb29tLmVycm9yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJQbGVhc2UgZmlsbCBhbGwgdGhlIGRldGFpbHNcIik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyogTGlzdGVuZXJzICovXHJcbiAgICBTQmV2ZW50cy5pbml0KCk7IC8vIEluaXRpYWxpemUgZXZlbnRzXHJcblxyXG4gICAgLyogTmV3IG1lc3NhZ2UgaGFuZGxlciAqL1xyXG4gICAgJHNjb3BlLiRvbihcIm5ld01lZWluZ1Jvb21NZXNzYWdlXCIsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgIGlmICh2bS5jdXJyZW50Q2hhbm5lbC51cmwgPT09IGRhdGEuY2hhbm5lbC51cmwpIHtcclxuICAgICAgICB2bS52aWV3Q2hhbm5lbChkYXRhLmNoYW5uZWwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIFNCY2hhbm5lbC5saXN0Q2hhbm5lbHMocHJvamVjdFN0b3JlLmdldCgpLl9pZClcclxuICAgICAgICAgIC50aGVuKHVwZGF0ZUNoYW5uZWxMaXN0KVxyXG4gICAgICAgICAgLmNhdGNoKHJvb20uZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2NvcGUuJG9uKFwibmV3Q2hhbm5lbEpvaW5lZFwiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICBTQmNoYW5uZWwubGlzdENoYW5uZWxzKHByb2plY3RTdG9yZS5nZXQoKS5faWQpXHJcbiAgICAgICAgLnRoZW4odXBkYXRlQ2hhbm5lbExpc3QpXHJcbiAgICAgICAgLmNhdGNoKHJvb20uZXJyb3IpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLiRvbihcInR5cGluZ1N0YXR1c1wiLCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qIENvbXBvc2FibGUgZnVuY3Rpb25zICovXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDaGFubmVsTGlzdChsaXN0KSB7XHJcbiAgICAgIHZtLmNoYW5uZWxMaXN0ID0gbGlzdDtcclxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWREZWZhdWx0Q2hhbm5lbChjaGFubmVscykge1xyXG4gICAgICBpZiAoY2hhbm5lbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJldHVybiBTQmNoYW5uZWwuZ2V0Q2hhbm5lbE1lc3NhZ2VzKGNoYW5uZWxzWzBdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1lc3NhZ2VzKGNoYW5uZWwpIHtcclxuICAgICAgdm0uY3VycmVudENoYW5uZWwgPSBjaGFubmVsO1xyXG4gICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgIGxldCBjaGF0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgICAgIFwiY2hhdC1jb250YWluZXJcIlxyXG4gICAgICAgIClbMF07XHJcbiAgICAgICAgY2hhdENvbnRhaW5lci5zY3JvbGxUb3AgPSBjaGF0Q29udGFpbmVyLnNjcm9sbEhlaWdodDtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBjaGFubmVsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxpc3RGaWxlcyhjaGFubmVsKSB7XHJcbiAgICAgIHZtLnNoYXJlZEZpbGVzID0gY2hhbm5lbC5maWxlcy5yZWR1Y2UoXHJcbiAgICAgICAgKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgaWYgKC9wbmd8anBnfGpwZWd8Z2lmLy50ZXN0KHgudHlwZSkpIHtcclxuICAgICAgICAgICAgYWNjLmltYWdlcy5wdXNoKHgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWNjLmRvY3MucHVzaCh4KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpbWFnZXM6IFtdLFxyXG4gICAgICAgICAgZG9jczogW11cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1lZXRpbmdUb2RvKCRldmVudCkge1xyXG4gICAgICBpZiAoJGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNoYW5uZWwpIHtcclxuICAgICAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAgICAgLmdldE1lZXRpbmdUb2RvKHsgY2hhbm5lbFVybDogY2hhbm5lbC51cmwgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgdm0udG9kb0xpc3QgPSByZXNwLmRhdGEudG9kb0xpc3Q7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyb29tLmVycm9yKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xyXG4gICAgICBsb2dvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdHdpbGlvID0gVHdpbGlvO1xyXG4gICAgY29uc29sZS5sb2codHdpbGlvLCBcIj09PXR3aWxpb1wiKTtcclxuICAgIGNvbnN0IFZpZGVvID0gVHdpbGlvLlZpZGVvO1xyXG4gICAgLyogbGV0IEFjY2Vzc1Rva2VuID0gdHdpbGlvLmp3dC5BY2Nlc3NUb2tlbjtcclxuICAgIGxldCBWaWRlb0dyYW50ID0gQWNjZXNzVG9rZW4uVmlkZW9HcmFudDsgKi9cclxuICAgIGxldCBwcmV2aWV3VHJhY2tzLCBhY3RpdmVSb29tLCBpZGVudGl0eTtcclxuXHJcbiAgICAvLyBBdHRhY2ggdGhlIFRyYWNrcyB0byB0aGUgRE9NLlxyXG4gICAgZnVuY3Rpb24gYXR0YWNoVHJhY2tzKHRyYWNrcywgY29udGFpbmVyKSB7XHJcbiAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRyYWNrLmF0dGFjaCgpKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXR0YWNoIHRoZSBQYXJ0aWNpcGFudCdzIFRyYWNrcyB0byB0aGUgRE9NLlxyXG4gICAgZnVuY3Rpb24gYXR0YWNoUGFydGljaXBhbnRUcmFja3MocGFydGljaXBhbnQsIGNvbnRhaW5lcikge1xyXG4gICAgICB2YXIgdHJhY2tzID0gQXJyYXkuZnJvbShwYXJ0aWNpcGFudC50cmFja3MudmFsdWVzKCkpO1xyXG4gICAgICBhdHRhY2hUcmFja3ModHJhY2tzLCBjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGFjaCB0aGUgVHJhY2tzIGZyb20gdGhlIERPTS5cclxuICAgIGZ1bmN0aW9uIGRldGFjaFRyYWNrcyh0cmFja3MpIHtcclxuICAgICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0cmFjayk7XHJcbiAgICAgICAgdHJhY2suZGV0YWNoKCkuZm9yRWFjaChmdW5jdGlvbihkZXRhY2hlZEVsZW1lbnQpIHtcclxuICAgICAgICAgIGRldGFjaGVkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0YWNoIHRoZSBQYXJ0aWNpcGFudCdzIFRyYWNrcyBmcm9tIHRoZSBET00uXHJcbiAgICBmdW5jdGlvbiBkZXRhY2hQYXJ0aWNpcGFudFRyYWNrcyhwYXJ0aWNpcGFudCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhwYXJ0aWNpcGFudCk7XHJcbiAgICAgIHZhciB0cmFja3MgPSBBcnJheS5mcm9tKHBhcnRpY2lwYW50LnRyYWNrcy52YWx1ZXMoKSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRyYWNrcyk7XHJcbiAgICAgIGRldGFjaFRyYWNrcyh0cmFja3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdoZW4gd2UgYXJlIGFib3V0IHRvIHRyYW5zaXRpb24gYXdheSBmcm9tIHRoaXMgcGFnZSwgZGlzY29ubmVjdFxyXG4gICAgLy8gZnJvbSB0aGUgcm9vbSwgaWYgam9pbmVkLlxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdm0ubGVhdmVSb29tSWZKb2luZWQpO1xyXG5cclxuICAgIC8vIEFjdGl2aXR5IGxvZy5cclxuICAgIGZ1bmN0aW9uIGxvZyhtZXNzYWdlKSB7XHJcbiAgICAgIHZhciBsb2dEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ1wiKTtcclxuICAgICAgLyogbG9nRGl2LmlubmVySFRNTCArPSBcIjxwPiZndDsmbmJzcDtcIiArIG1lc3NhZ2UgKyBcIjwvcD5cIjtcclxuICAgICAgbG9nRGl2LnNjcm9sbFRvcCA9IGxvZ0Rpdi5zY3JvbGxIZWlnaHQ7ICovXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCFcclxuICAgIGZ1bmN0aW9uIHJvb21Kb2luZWQocm9vbSkge1xyXG4gICAgICB3aW5kb3cucm9vbSA9IGFjdGl2ZVJvb20gPSByb29tO1xyXG5cclxuICAgICAgbG9nKFwiSm9pbmVkIGFzICdcIiArIGlkZW50aXR5ICsgXCInXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1qb2luXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tbGVhdmVcIikuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XHJcblxyXG4gICAgICAvLyBBdHRhY2ggTG9jYWxQYXJ0aWNpcGFudCdzIFRyYWNrcywgaWYgbm90IGFscmVhZHkgYXR0YWNoZWQuXHJcbiAgICAgIHZhciBwcmV2aWV3Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhbC1tZWRpYVwiKTtcclxuICAgICAgaWYgKCFwcmV2aWV3Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKSkge1xyXG4gICAgICAgIGF0dGFjaFBhcnRpY2lwYW50VHJhY2tzKHJvb20ubG9jYWxQYXJ0aWNpcGFudCwgcHJldmlld0NvbnRhaW5lcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEF0dGFjaCB0aGUgVHJhY2tzIG9mIHRoZSBSb29tJ3MgUGFydGljaXBhbnRzLlxyXG4gICAgICByb29tLnBhcnRpY2lwYW50cy5mb3JFYWNoKGZ1bmN0aW9uKHBhcnRpY2lwYW50KSB7XHJcbiAgICAgICAgbG9nKFwiQWxyZWFkeSBpbiBSb29tOiAnXCIgKyBwYXJ0aWNpcGFudC5pZGVudGl0eSArIFwiJ1wiKTtcclxuICAgICAgICB2YXIgcHJldmlld0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtb3RlLW1lZGlhXCIpO1xyXG4gICAgICAgIGF0dGFjaFBhcnRpY2lwYW50VHJhY2tzKHBhcnRpY2lwYW50LCBwcmV2aWV3Q29udGFpbmVyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBXaGVuIGEgUGFydGljaXBhbnQgam9pbnMgdGhlIFJvb20sIGxvZyB0aGUgZXZlbnQuXHJcbiAgICAgIHJvb20ub24oXCJwYXJ0aWNpcGFudENvbm5lY3RlZFwiLCBmdW5jdGlvbihwYXJ0aWNpcGFudCkge1xyXG4gICAgICAgIGxvZyhcIkpvaW5pbmc6ICdcIiArIHBhcnRpY2lwYW50LmlkZW50aXR5ICsgXCInXCIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFdoZW4gYSBQYXJ0aWNpcGFudCBhZGRzIGEgVHJhY2ssIGF0dGFjaCBpdCB0byB0aGUgRE9NLlxyXG4gICAgICByb29tLm9uKFwidHJhY2tBZGRlZFwiLCBmdW5jdGlvbih0cmFjaywgcGFydGljaXBhbnQpIHtcclxuICAgICAgICBsb2cocGFydGljaXBhbnQuaWRlbnRpdHkgKyBcIiBhZGRlZCB0cmFjazogXCIgKyB0cmFjay5raW5kKTtcclxuICAgICAgICB2YXIgcHJldmlld0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtb3RlLW1lZGlhXCIpO1xyXG4gICAgICAgIGF0dGFjaFRyYWNrcyhbdHJhY2tdLCBwcmV2aWV3Q29udGFpbmVyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBXaGVuIGEgUGFydGljaXBhbnQgcmVtb3ZlcyBhIFRyYWNrLCBkZXRhY2ggaXQgZnJvbSB0aGUgRE9NLlxyXG4gICAgICByb29tLm9uKFwidHJhY2tSZW1vdmVkXCIsIGZ1bmN0aW9uKHRyYWNrLCBwYXJ0aWNpcGFudCkge1xyXG4gICAgICAgIGxvZyhwYXJ0aWNpcGFudC5pZGVudGl0eSArIFwiIHJlbW92ZWQgdHJhY2s6IFwiICsgdHJhY2sua2luZCk7XHJcbiAgICAgICAgZGV0YWNoVHJhY2tzKFt0cmFja10pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFdoZW4gYSBQYXJ0aWNpcGFudCBsZWF2ZXMgdGhlIFJvb20sIGRldGFjaCBpdHMgVHJhY2tzLlxyXG4gICAgICByb29tLm9uKFwicGFydGljaXBhbnREaXNjb25uZWN0ZWRcIiwgZnVuY3Rpb24ocGFydGljaXBhbnQpIHtcclxuICAgICAgICBsb2coXCJQYXJ0aWNpcGFudCAnXCIgKyBwYXJ0aWNpcGFudC5pZGVudGl0eSArIFwiJyBsZWZ0IHRoZSByb29tXCIpO1xyXG4gICAgICAgIGRldGFjaFBhcnRpY2lwYW50VHJhY2tzKHBhcnRpY2lwYW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBPbmNlIHRoZSBMb2NhbFBhcnRpY2lwYW50IGxlYXZlcyB0aGUgcm9vbSwgZGV0YWNoIHRoZSBUcmFja3NcclxuICAgICAgLy8gb2YgYWxsIFBhcnRpY2lwYW50cywgaW5jbHVkaW5nIHRoYXQgb2YgdGhlIExvY2FsUGFydGljaXBhbnQuXHJcbiAgICAgIHJvb20ub24oXCJkaXNjb25uZWN0ZWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbG9nKFwiTGVmdFwiKTtcclxuICAgICAgICBpZiAocHJldmlld1RyYWNrcykge1xyXG4gICAgICAgICAgcHJldmlld1RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XHJcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcHJldmlld1RyYWNrcyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRldGFjaFBhcnRpY2lwYW50VHJhY2tzKHJvb20ubG9jYWxQYXJ0aWNpcGFudCk7XHJcbiAgICAgICAgcm9vbS5wYXJ0aWNpcGFudHMuZm9yRWFjaChkZXRhY2hQYXJ0aWNpcGFudFRyYWNrcyk7XHJcbiAgICAgICAgYWN0aXZlUm9vbSA9IG51bGw7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tam9pblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1sZWF2ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExlYXZlIFJvb20uXHJcbiAgICB2bS5sZWF2ZVJvb21JZkpvaW5lZCA9ICgpID0+IHtcclxuICAgICAgJChcIiN2aWRlb19wcmV2aWV3XCIpLm1vZGFsKFwiaGlkZVwiKTtcclxuICAgICAgY29uc29sZS5sb2coYWN0aXZlUm9vbSk7XHJcbiAgICAgIGlmIChwcmV2aWV3VHJhY2tzKSB7XHJcbiAgICAgICAgcHJldmlld1RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XHJcbiAgICAgICAgICB0cmFjay5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcHJldmlld1RyYWNrcyA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgZGV0YWNoUGFydGljaXBhbnRUcmFja3MoYWN0aXZlUm9vbS5sb2NhbFBhcnRpY2lwYW50KTtcclxuICAgICAgY29uc29sZS5sb2coYWN0aXZlUm9vbS5wYXJ0aWNpcGFudHMpO1xyXG4gICAgICBhY3RpdmVSb29tLnBhcnRpY2lwYW50cy5mb3JFYWNoKGRldGFjaFBhcnRpY2lwYW50VHJhY2tzKTtcclxuICAgICAgYWN0aXZlUm9vbSA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnN0YXJ0VmlkZW9DaGF0ID0gKCkgPT4ge1xyXG4gICAgICB2YXIgbG9jYWxUcmFja3NQcm9taXNlID0gcHJldmlld1RyYWNrc1xyXG4gICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKHByZXZpZXdUcmFja3MpXHJcbiAgICAgICAgOiBWaWRlby5jcmVhdGVMb2NhbFRyYWNrcygpO1xyXG5cclxuICAgICAgbG9jYWxUcmFja3NQcm9taXNlXHJcbiAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICBmdW5jdGlvbih0cmFja3MpIHtcclxuICAgICAgICAgICAgd2luZG93LnByZXZpZXdUcmFja3MgPSBwcmV2aWV3VHJhY2tzID0gdHJhY2tzO1xyXG4gICAgICAgICAgICAkKFwiI3ZpZGVvX3ByZXZpZXdcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICB2YXIgcHJldmlld0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYWwtbWVkaWFcIik7XHJcbiAgICAgICAgICAgIGlmICghcHJldmlld0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIikpIHtcclxuICAgICAgICAgICAgICBhdHRhY2hUcmFja3ModHJhY2tzLCBwcmV2aWV3Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gYWNjZXNzIGxvY2FsIG1lZGlhXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiVW5hYmxlIHRvIGFjY2VzcyBDYW1lcmEgYW5kIE1pY3JvcGhvbmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBhcGlGYWN0b3J5XHJcbiAgICAgICAgICAgICAgLmdldFR3aWxpb0FjY2Vzc1Rva2VuKClcclxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgIGlkZW50aXR5ID0gZGF0YTtcclxuICAgICAgICAgIHZhciBjb25uZWN0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbmFtZTogXCJyb29tTmFtZVwiLFxyXG4gICAgICAgICAgICBsb2dMZXZlbDogXCJkZWJ1Z1wiXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGlmIChwcmV2aWV3VHJhY2tzKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3RPcHRpb25zLnRyYWNrcyA9IHByZXZpZXdUcmFja3M7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSm9pbiB0aGUgUm9vbSB3aXRoIHRoZSB0b2tlbiBmcm9tIHRoZSBzZXJ2ZXIgYW5kIHRoZVxyXG4gICAgICAgICAgLy8gTG9jYWxQYXJ0aWNpcGFudCdzIFRyYWNrcy5cclxuICAgICAgICAgIFZpZGVvLmNvbm5lY3QoXHJcbiAgICAgICAgICAgIGRhdGEudG9rZW4sXHJcbiAgICAgICAgICAgIGNvbm5lY3RPcHRpb25zXHJcbiAgICAgICAgICApLnRoZW4ocm9vbUpvaW5lZCwgZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJDb3VsZCBub3QgY29ubmVjdCB0byBUd2lsaW86IFwiICsgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicGF5cm9sbEN0cmxcIiwgcGF5cm9sbEN0cmwpO1xuXG4gIGZ1bmN0aW9uIHBheXJvbGxDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICAkbG9jYXRpb24sXG4gICAgYXV0aEZhY3RvcnksXG4gICAgJHN0YXRlLFxuICAgIGFwaUZhY3RvcnksXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHNcbiAgKSB7XG4gICAgLyogUmVxdWlyaW5nIHZhcnMgKi9cbiAgICBsZXQgdm0gPSB0aGlzO1xuICAgIGNvbnN0IHsgbG9nb3V0LCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogR2V0IHByb2plY3QgbGlzdCAqL1xuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xuICAgIHZtLmxvZ291dCA9ICgpID0+IHsgbG9nb3V0KCk7IH07XG5cblxuICAgIHZhciB1cmwgPSAkbG9jYXRpb24ucGF0aCgpO1xuICAgIFxuICAgIFxuICAgICQoJy5wYXlyb2xsTWVudScpLmNzcygnZGlzcGxheScsICdibG9jayAhaW1wb3J0YW50Jyk7XG4gICAgXG4gICAgJCgnLnBheXJvbGxMaXN0JykuRGF0YVRhYmxlKCk7XG4gICAgXG4gICAgXG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicHJlTG9naW5DdHJsXCIsIHByZUxvZ2luQ3RybCk7XG5cbiAgZnVuY3Rpb24gcHJlTG9naW5DdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICAkc3RhdGUsXG4gICAgYXV0aEZhY3RvcnksXG4gICAgYXBpRmFjdG9yeSxcbiAgICBnbG9iYWxzLFxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIE5nTWFwXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IHByb2dyZXNzLCBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICB2bS5sb2dnZWRJbiA9IGZhbHNlO1xuXG4gICAgaWYgKGF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICAkc3RhdGUuZ28oXCJkYXNoYm9hcmRcIik7XG4gICAgICB2bS5sb2dnZWRJbiA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogR29vZ2xlIG1hcCBjb25maWcgKi9cblxuICAgIHZtLmdtYXAgPSB7XG4gICAgICB1cmw6XG4gICAgICAgIFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT1BSXphU3lBM01JQS1tS1dxXzYwcTFLMHpPSGd1cmF4VC0xUVB4TlVcIixcbiAgICAgIHN0eWxlczogW1xuICAgICAgICB7XG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMyMTIxMjFcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy5pY29uXCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9mZlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuc3Ryb2tlXCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogXCIjMjEyMTIxXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZVwiLFxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogXCIjNzU3NTc1XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5jb3VudHJ5XCIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzllOWU5ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwiYWRtaW5pc3RyYXRpdmUubGFuZF9wYXJjZWxcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib2ZmXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJhZG1pbmlzdHJhdGl2ZS5sb2NhbGl0eVwiLFxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbG9yOiBcIiNiZGJkYmRcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaVwiLFxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM3NTc1NzVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMxODE4MThcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzYxNjE2MVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLnBhcmtcIixcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbG9yOiBcIiMxYjFiMWJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5maWxsXCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogXCIjMmMyYzJjXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzhhOGE4YVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5hcnRlcmlhbFwiLFxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogXCIjMzczNzM3XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmhpZ2h3YXlcIixcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzNjM2MzY1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5oaWdod2F5LmNvbnRyb2xsZWRfYWNjZXNzXCIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcbiAgICAgICAgICBzdHlsZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbG9yOiBcIiM0ZTRlNGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQubG9jYWxcIixcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogXCIjNjE2MTYxXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0XCIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzc1NzU3NVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxuICAgICAgICAgIHN0eWxlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcbiAgICAgICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXG4gICAgICAgICAgc3R5bGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogXCIjM2QzZDNkXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBtYXJrZXJzOiBbWzI4LjcwNDEsIDc3LjEwMjVdLCBbMTMuMDgyNywgODAuMjcwN11dXG4gICAgfTtcblxuICAgIE5nTWFwLmdldE1hcCgpLnRoZW4obWFwID0+IHtcbiAgICAgIG1hcC5zZXRPcHRpb25zKHtcbiAgICAgICAgc3R5bGVzOiB2bS5nbWFwLnN0eWxlcyxcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcbiAgICAgICAgem9vbTogMixcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgbGF0OiAyOC43MDQxLFxuICAgICAgICAgIGxuZzogNzcuMTAyNVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qIExvZ2luICovXG4gICAgLy8gJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24gKGlzVmFsaWQpIHtcbiAgICAvLyAgIGlmIChpc1ZhbGlkKSB7XG4gICAgLy8gICAgIGFsZXJ0KClcbiAgICAvLyAgICAgdmFyIGZvcm1EYXRhID0ge1xuICAgIC8vICAgICAgIGVtYWlsOiAkc2NvcGUudXNlcm5hbWUsXG4gICAgLy8gICAgICAgcGFzc3dvcmQ6ICRzY29wZS5wYXNzd29yZFxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKVxuICAgIC8vICAgICBhcGlGYWN0b3J5XG4gICAgLy8gICAgICAgLmxvZ2luKGZvcm1EYXRhKVxuICAgIC8vICAgICAgIC50aGVuKHJlc3AgPT4geyB9KVxuICAgIC8vICAgICAgIC5jYXRjaChlcnIgPT4geyB9KTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgdm0ucmVnc2l0ZXJNb2RhbCA9ICgpID0+IHtcbiAgICAgICQoXCIjbG9naW5Nb2RhbCwgI2ZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAkKFwiI3JlZ2lzdGVyTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuICAgIH07XG4gICAgdm0ubG9naW5Nb2RhbCA9ICgpID0+IHtcbiAgICAgICQoXCIjcmVnaXN0ZXJNb2RhbCwgI2ZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAkKFwiI2xvZ2luTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuICAgIH07XG4gICAgdm0uZm9yZ290UGFzc01vZGFsID0gKCkgPT4ge1xuICAgICAgJChcIiNsb2dpbk1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICQoXCIjZm9yZ290UGFzc01vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcbiAgICB9O1xuXG4gICAgdm0ubG9naW4gPSAoaXNWYWxpZCwgZm9ybURhdGEpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTtcbiAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgLmxvZ2luKGZvcm1EYXRhKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAkKFwiI2xvZ2luTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibW9kYWwtb3BlblwiKTtcbiAgICAgICAgICAkKFwiLm1vZGFsLWJhY2tkcm9wXCIpLmhpZGUoKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChcImFjY2Vzcy10b2tlblwiLCByZXNwLmRhdGEudG9rZW4pO1xuICAgICAgICAgIHVzZXJTdG9yZS5zZXQocmVzcC5kYXRhLnVzZXIpO1xuICAgICAgICAgICRzdGF0ZS5nbyhcImRhc2hib2FyZFwiKTtcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkxvZ2luIHN1Y2Nlc3NcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLmZvcmdvdFBhc3MgPSAoaXNWYWxpZCwgZm9ybURhdGEpID0+IHtcbiAgICAgIGlmIChmb3JtRGF0YSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwicGxlYXNlIFZhbGlkIG1haWwgSWRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGF0YSA9IGZvcm1EYXRhO1xuICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgLmZvcmdvdFBhc3N3b3JkKGRhdGEpXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAkKFwiI2ZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XG5cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5yZWdpc3RlciA9IChpc1ZhbGlkLCBmb3JtRGF0YSkgPT4ge1xuICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAucmVnaXN0cmF0aW9uKGZvcm1EYXRhKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAkKFwiI3JlZ2lzdGVyTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgJChcIiNyZWdpc3Rlck1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2bS5zdWJzY3JpYmUgPSBlbWFpbCA9PiB7XG4gICAgICBsZXQgZW1haWxSZWdleCA9IC9eXFx3KyhbXFwuLV0/XFx3KykqQFxcdysoW1xcLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC87XG4gICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChlbWFpbCkpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiSW52YWxpZCBlbWFpbFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAuc3Vic2NyaWJlKHsgZW1haWw6IGVtYWlsIH0pXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIHZtLnN1YnNjcmliZUVtYWlsID0gXCJcIjtcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhyZXNwLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICAoZnVuY3Rpb24oJCkge1xuICAgICQod2luZG93KS5vbihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAkKFwiI3JlZ2lzdGVyTW9kYWwgLm1vZGFsLWJvZHlcIikubUN1c3RvbVNjcm9sbGJhcih7XG4gICAgICAgIHNldEhlaWdodDogMzQwLFxuICAgICAgICB0aGVtZTogXCJtaW5pbWFsLWRhcmtcIlxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJwcm9qZWN0Q3RybFwiLCBwcm9qZWN0Q3RybCk7XG5cbiAgZnVuY3Rpb24gcHJvamVjdEN0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBnbG9iYWxzLFxuICAgIE5nTWFwXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG5cbiAgICBsZXQgdm0gPSB0aGlzO1xuXG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcblxuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cblxuICAgIHZtLnVzZXJEYXRhID0gdXNlclN0b3JlLmdldCgpO1xuXG4gICAgYXBpRmFjdG9yeVxuICAgICAgLmxpc3RBbGxQcm9qZWN0cygpXG4gICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSk7XG5cbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicmVwb3J0RGV0YWlsQ3RybFwiLCByZXBvcnREZXRhaWxDdHJsKTtcblxuICAgIGZ1bmN0aW9uIHJlcG9ydERldGFpbEN0cmwoXG4gICAgICAgICRzY29wZSxcbiAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgIGF1dGhGYWN0b3J5LFxuICAgICAgICAkc3RhdGUsXG4gICAgICAgIGFwaUZhY3RvcnksXG4gICAgICAgIE5vdGlmaWNhdGlvbixcbiAgICAgICAgTmdNYXAsXG4gICAgICAgIGdsb2JhbHMsXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgICApIHtcbiAgICAgICAgbGV0IHZtID0gdGhpcztcbiAgICAgICAgJHNjb3BlLmltYWdlMT1cIi4uL2Fzc2V0cy9pbWFnZXMvcmVwb3J0aW1ncy9yZXAuanBnXCI7XG4gICAgICAgICRzY29wZS5pbWFnZTI9XCIuLi9hc3NldHMvaW1hZ2VzL3JlcG9ydGltZ3MvZmlsZS5qcGdcIjtcbiAgICAgICAgY29uc3QgeyBsb2dvdXQgfSA9IGdsb2JhbHM7XG4gICAgICAgICRzY29wZS5yZXBvcnRPYmo9e307XG4gICAgICAgICRzY29wZS5zaHdDb21tZW50U2VjdGlvbj1mYWxzZTtcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlPXt9O1xuICAgICAgICAkc2NvcGUuaXNzdWVUb0FkZD1bXTtcbiAgICAgICAgJHNjb3BlLm1vZGVscyA9IHtcbiAgICAgICAgICBzZWxlY3RlZDogbnVsbCxcbiAgICAgICAgIFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZtLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZXhwb3J0VG9QZGYgPSBmdW5jdGlvbigpe1xuICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICBpbWcuc3JjPVwiLi4vYXNzZXRzL2ltYWdlcy9yZXBvcnRpbWdzL3JlcC5qcGdcIjtcbiAgICAgICAgICB2YXIgaW1nMSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIGltZzEuc3JjPVwiLi4vYXNzZXRzL2ltYWdlcy9yZXBvcnRpbWdzL2ZpbGUuanBnXCI7XG4gICAgICAgIHZhciBkb2MgPSBuZXcganNQREYoJ3AnKTtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7ICdiYWNrZ3JvdW5kJzogJyNmZmYnIH07XG4gICAgICAgIGRvYy5hZGRJbWFnZShpbWcsICdwbmcnLCAxNSwgMjAsIDkwLCA5MCk7XG4gICAgICAgIGRvYy5hZGRJbWFnZShpbWcxLCdwbmcnLDExMCwyMCw5MCw5MCk7XG4gICAgICBcbiAgICAgIGRvYy5hdXRvVGFibGUoe1xuICAgICAgICBodG1sOiAnI3N0YXRpY3RhYmxlJyxcbiAgICAgICAgXG4gICAgICAgIG1hcmdpbjoge3RvcDogMTIwfSxcbiAgICAgICAgcGFnZUJyZWFrOiAnYXV0bycsIC8vICdhdXRvJywgJ2F2b2lkJyBvciAnYWx3YXlzJ1xuICAgICAgICB0YWJsZVdpZHRoOiAnYXV0bycsIC8vICdhdXRvJywgJ3dyYXAnIG9yIGEgbnVtYmVyLFxuICAgICAgICBzaG93SGVhZGVyOiAnZXZlcnlQYWdlJywgLy8gJ2V2ZXJ5UGFnZScsICdmaXJzdFBhZ2UnLCAnbmV2ZXInLCBcbiAgICAgICBcbiAgICB9KTtcblxuICAgICAgICBkb2Muc2V0Rm9udFNpemUoMjUpO1xuICAgICAgICBkb2MudGV4dCgyMCwgMTUwLCAnQ29tbWVudHMnKTtcbiAgICAgICAgZG9jLnNldEZvbnRTaXplKDEwKTtcbiAgICAgICAgZG9jLnNldEZvbnQoXCJoZWx2ZXRpY2FcIik7XG4gICAgICAgXG4gICAgICAgIGRvYy50ZXh0KDIwLCAxNjAsICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBzZWQgZG8gZWl1c21vZCB0ZW1wb3InKTtcbiAgICAgICAgZG9jLnRleHQoMjAsMTcwLCdpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltIHZlbmlhbSwgcXVpcyBub3N0cnVkIGV4ZXJjaXRhdGlvbiB1bGxhbWNvJyk7XG4gICAgICAgIC8vIGRvYy5hZGRIVE1MKCQoJyNwZGZpZDEnKVswXSwxNSwxNSwgb3B0aW9ucywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvYy50ZXh0KDIwLDE4MCwnIGxhYm9yaXMgbmlzaSB1dCBhbGlxdWlwIGV4IGVhIGNvbW1vZG8gY29uc2VxdWF0LicpO1xuICAgICAgICAvLyAgIGRvYy5hdXRvVGFibGUoe1xuICAgICAgICAvLyAgICAgaGVhZDogW1snTmFtZScsICdFbWFpbCcsICdDb3VudHJ5J11dLFxuICAgICAgICAvLyAgICAgYm9keTogW1xuICAgICAgICAvLyAgICAgICAgIFsnRGF2aWQnLCAnZGF2aWRAZXhhbXBsZS5jb20nLCAnU3dlZGVuJ10sXG4gICAgICAgIC8vICAgICAgICAgWydDYXN0aWxsZScsICdjYXN0aWxsZUBleGFtcGxlLmNvbScsICdOb3J3YXknXSxcbiAgICAgICAgLy8gICAgICAgICAvLyAuLi5cbiAgICAgICAgLy8gICAgIF1cbiAgICAgICAgLy8gfSk7XG4gICAgICAgICAgZG9jLnNhdmUoXCJjb2x1bW44LnBkZlwiKTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgXG4gICAgICAgICAgLy8gdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgLy8gICBwYWdlc3BsaXQ6IHRydWUgLy9pbmNsdWRlIHRoaXMgaW4geW91ciBjb2RlXG4gICAgICAgICAgLy8gfTtcbiAgICAgICAgICAvLyB2YXIgZG9jID0gbmV3IGpzUERGKCdwJywgJ3B0JywgJ2E0JylcbiAgICAgICAgICAvLyBkb2MuYWRkSFRNTCgkKCcjcGRmaWQnKSxvcHRpb25zLCB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAvLyAgICdiYWNrZ3JvdW5kJzogJyNmZmYnLFxuICAgICAgICAgIC8vIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vICAgZG9jLnNhdmUoJ3NhbXBsZS1maWxlLnBkZicpO1xuICAgICAgICAgIC8vIH0pO1xuICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICAvKiBQcm9qZWN0IHBpY2tlciBsb2FkIGZ1bmN0aW9uYWxpdHkgKi9cblxuICAgICAgICAgICAgbGV0IGVuYWJsZWQgPSB0cnVlLFxuICAgICAgICAgICAgY2h1bmtTaXplID0gNTtcbiAgICAgICAgICAgIHZtLmlzc3VlU2VhcmNoID0gXCJcIjtcbiAgICAgICAgICAgIHZtLmVuYWJsZUxhenlMb2FkID0gZmFsc2U7XG4gICAgICAgICAgICB2bS5zb3J0UGFyYW1zID0ge1xuICAgICAgICAgICAgZmllbGQ6IFwiY3JlYXRlZFwiLFxuICAgICAgICAgICAgdHlwZTogZmFsc2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIC8vICRzY29wZS5vcGVuUmVwb3J0UGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vICAgdm0uZW5hYmxlTGF6eUxvYWQgPSB0cnVlO1xuICAgICAgICAvLyAgIGFwaUZhY3RvcnlcbiAgICAgICAgLy8gICAgIC5saXN0QWxsSXNzdWVzKHtcbiAgICAgICAgLy8gICAgICAgc2VhcmNoOiB2bS5pc3N1ZVNlYXJjaCxcbiAgICAgICAgLy8gICAgICAgY2h1bms6IGNodW5rU2l6ZSxcbiAgICAgICAgLy8gICAgICAgcGFnZTogMSxcbiAgICAgICAgLy8gICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcbiAgICAgICAgLy8gICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAvLyAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcbiAgICBcbiAgICAgICAgLy8gICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIC8vIE9wZW4gaW4gdGhlIG5leHQgZXZlbnQgbG9vcFxuICAgICAgICAvLyAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XG4gICAgICAgIC8vICAgICAgIH0pO1xuICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgLy8gICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgLy8gfVxuICAgICAgXG4gICAgICAgICRzY29wZS5vcGVuUmVwb3J0UGlja2VyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgXG4gICAgICAgICAgdm0uZW5hYmxlTGF6eUxvYWQgPSB0cnVlO1xuICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgIC5saXN0QWxsSXNzdWVzKHtcbiAgICAgICAgICAgICAgc2VhcmNoOiB2bS5pc3N1ZVNlYXJjaCxcbiAgICAgICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcbiAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgc29ydDogdm0uc29ydFBhcmFtcy5maWVsZCxcbiAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGE9W107XG4gICAgICAgICAgICAgIGlmKCRzY29wZS5pc3N1ZVRvQWRkLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzc3VlVG9BZGQuZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgICAgICAgICAgcmVzcC5kYXRhLmxpc3QuZm9yRWFjaCgocmVzZGF0YSxpbmRleCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5faWQ9PXJlc2RhdGEuX2lkKXtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICByZXNwLmRhdGEubGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZhbHNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gT3BlbiBpbiB0aGUgbmV4dCBldmVudCBsb29wXG4gICAgICAgICAgICAgICAgdm0uaXNzdWVQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLkVkaXRNb2RlPWZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm9uKFwiaGlkZS5icy5tb2RhbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2bS5lbmFibGVMYXp5TG9hZCA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2bS5jbG9zZUlzc3VlUGlja2VyID0gKCkgPT4ge1xuICAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgdm0uaXNzdWVTZWFyY2ggPSBcIlwiO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRNb3JlID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FsbGluZyBhZGQgbW9yZVwiKTtcbiAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICBjaHVua1NpemUgKz0gNTtcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xuICAgICAgICAgICAgICAgIHNlYXJjaDogdm0uaXNzdWVTZWFyY2gsXG4gICAgICAgICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHZtLnNvcnRQYXJhbXMuZmllbGQsXG4gICAgICAgICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgLy8gdm0uaXNzdWVQaWNrZXJEYXRhID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgXG4gICAgICAgICAgICAgIHZtLmlzc3VlUGlja2VyRGF0YT1bXTtcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLmlzc3VlVG9BZGQubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzc3VlVG9BZGQuZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICByZXNwLmRhdGEubGlzdC5mb3JFYWNoKChyZXNkYXRhLGluZGV4KT0+e1xuICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50Ll9pZD09cmVzZGF0YS5faWQpe1xuICAgICAgICAgICAgICAgICAgICAgIHJlc3AuZGF0YS5saXN0LnNwbGljZShpbmRleCwxKVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE9wZW4gaW4gdGhlIG5leHQgZXZlbnQgbG9vcFxuICAgICAgICAgICAgICAgIHZtLmlzc3VlUGlja2VyRGF0YSA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAgLyogRnVuY3Rpb24gdG8gc2VhcmNoIHByb2plY3RzICovXG4gICAgdm0uc2VhcmNoSXNzdWVzID0gdGV4dCA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcInNlcmNodGV4dFwiLCB0ZXh0KTtcbiAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgLmxpc3RBbGxJc3N1ZXMoe1xuICAgICAgICAgIHNlYXJjaDogdm0uaXNzdWVTZWFyY2gsXG4gICAgICAgICAgY2h1bms6IGNodW5rU2l6ZSxcbiAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgIHNvcnQ6IHZtLnNvcnRQYXJhbXMuZmllbGQsXG4gICAgICAgICAgc29ydFR5cGU6IHZtLnNvcnRQYXJhbXMudHlwZVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5pc3N1ZVBpY2tlckRhdGEgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICAgICB9O1xuXG5cbiAgICAgICAvL0FkZCByZW1hcmsgYnV0dG9uIGluIHJlcG9ydC1yZW1hcmtzIHBhZ2UgZm9ybVxuICAgICAgICRzY29wZS5yZW1hcmtEYXRhPVtdO1xuICAgICAgICRzY29wZS5hZGRSZW1hcmsgPSBmdW5jdGlvbih0aXRsZSx2YWx1ZSl7XG4gICAgICAgIGlmKHRpdGxlIT11bmRlZmluZWR8fHZhbHVlIT11bmRlZmluZWQpe1xuICAgICAgICAgICRzY29wZS5yZW1hcmtEYXRhLnB1c2goe1RpdGxlOnRpdGxlLCBWYWx1ZTp2YWx1ZX0pO1xuICAgICAgICAgICQoJyNyZW1hcmt0aXRsZScpLnZhbChcIlwiKTtcbiAgICAgICAgICAkKCcjcmVtYXJrdmFsdWUnKS52YWwoXCJcIik7XG4gICAgICAgICBcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgfSxcblxuICAgICAgIHZtLmNob29zZUlzc3VlcyA9IGZ1bmN0aW9uKGlzc3VlLGluZGV4LGFycmF5KXtcbiAgICAgICAgLy8kc2NvcGUuY3VycmVudFJlcG9ydD17fTtcbiAgICAgICAgIGlmKGlzc3VlKXtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImlTU1VFXCIsaXNzdWUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5kZXhcIixpbmRleCk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBUlJBWVwiLGFycmF5KTtcbiAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICRzY29wZS5pc3N1ZVRvQWRkLnB1c2goaXNzdWUpO1xuICAgICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiTm8gc2VsZWN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgfVxuXG4gICAgICAgIFxuICAgICAgIHZtLmFkZFRvTGlzdElzc3VlUGlja2VyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJChcIiNjaG9vc2VJc3N1ZU1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgJChcIiNsaXN0aXNzdWVzbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuICAgICAgIH1cblxuICAgICAgICRzY29wZS5zZW5kSXNzdWVUb1BkZiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIjbGlzdGlzc3Vlc21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgJHNjb3BlLnNod0NvbW1lbnRTZWN0aW9uPXRydWU7XG4gICAgICAgfVxuICAgICAgLy8gdm0uY2hvb3NlSXNzdWVzID0gZnVuY3Rpb24oaXNzdWUpe1xuICAgICAgLy8gICAkc2NvcGUuY3VycmVudFJlcG9ydD17fTtcbiAgICAgIC8vICAgaWYoaXNzdWUpe1xuICAgICAgLy8gICAgIHZhciBwYXJlbnRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLnBhbmVsJyApICk7XG4gICAgICAvLyAgICAgdmFyIHRvYmVDbG9uZWRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLmNoaWxkJyApICk7XG4gICAgICAvLyAgICAgcGFyZW50RWxlbWVudC5hcHBlbmQodG9iZUNsb25lZEVsZW1lbnQuY2xvbmUoKSk7XG4gICAgICAvLyAgICAgJHNjb3BlLmlzc3VlVG9BZGQucHVzaChpc3N1ZSk7XG4gICAgICAvLyAgICAvLyAkKFwiI2Nob29zZUlzc3VlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgLy8gICAgaWYoJHNjb3BlLmlzc3VlVG9BZGQubGVuZ3RoPj0wKXtcbiAgICAgIC8vICAgICAkc2NvcGUuaXNzdWVUb0FkZC5mb3JFYWNoKG9uZWlzc3VlID0+IHtcbiAgICAgIC8vICAgICAgIGlmKF8uaXNFcXVhbChvbmVpc3N1ZSwgaXNzdWUpKXtcbiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJlcXVhbFwiKTtcbiAgICAgIC8vICAgICAgICAgJHNjb3BlLmN1cnJlbnRSZXBvcnQ9aXNzdWU7XG4gICAgICAvLyAgICAgICB9ZWxzZXtcbiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJub3QgZXF1YWxcIik7XG4gICAgICAvLyAgICAgICB9XG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyAgICB9XG4gICAgICAgICBcbiAgICAgIC8vICAgfVxuICAgICAgLy8gICBlbHNle1xuICAgICAgLy8gICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIk5vIHNlbGVjdGlvblwiKTtcbiAgICAgIC8vICAgfVxuICAgICAgICBcbiAgICAgIC8vICB9XG4gICAgLy9Mb2FkIE1vZGFsc1xuICAgICAgJHNjb3BlLmNvdmVyUGFnZU1vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJChcIiNjb3ZlcnBhZ2Vtb2RhbFwiKS5tb2RhbChcInNob3dcIik7XG4gICAgICB9XG4gICAgICAkc2NvcGUuYWJvdXRVc01vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJChcIiNhYm91dHVzbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuICAgICAgfVxuICAgICAgJHNjb3BlLnByb2plY3RNZXRhTW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgICAkKFwiI3Byb2plY3RtZXRhbW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuICAgICAgfVxuICAgICAgJHNjb3BlLnJlcG9ydHJlbWFya01vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJChcIiNyZXBvcnRyZW1hcmttb2RhbFwiKS5tb2RhbChcInNob3dcIik7XG4gICAgICB9XG4gICAgICAvL25ldyBpc3N1ZSBsaXN0aW5nIG1vZGVsXG4gICAgICAkc2NvcGUubGlzdElzc3VlTW9kZWxDbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIjbGlzdGlzc3Vlc21vZGFsXCIpLm1vZGFsKFwic2hvd1wiKTtcbiAgICAgIH1cblxuICAgICAgLy9zZXQgb2JqZWN0IGZvciBtb2RhbHNcbiAgICAgICRzY29wZS5zZXRSZXBvcnRPYmogPSBmdW5jdGlvbihvYmplY3Qpe1xuICAgICAgICBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUudGl0bGUgPSBvYmplY3QudGl0bGU7XG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5kZXNjcmlwdGlvbiA9IG9iamVjdC5kZXNjcmlwdGlvbjtcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLmNvbXBhbnlOYW1lID0gb2JqZWN0LmNvbXBhbnlOYW1lO1xuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuZW1haWwgPSBvYmplY3QuZW1haWw7XG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS53ZWJzaXRlID0gb2JqZWN0LndlYnNpdGU7XG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5waG9uZSA9IG9iamVjdC5waG9uZTtcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnByb2plY3ROYW1lID0gb2JqZWN0LnByb2plY3ROYW1lO1xuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuc2VyaWFsTm8gPSBvYmplY3Quc2VyaWFsTm87XG4gICAgICAgICRzY29wZS5SZXBvcnRJc3N1ZS5lbnRlcnByaXNlID0gb2JqZWN0LmVudGVycHJpc2U7XG4gICAgICAgIGlmKCRzY29wZS5pc3N1ZVRvQWRkLmxlbmd0aD4wKXtcbiAgICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuaXNzdWVUb0FkZCA9ICRzY29wZS5pc3N1ZVRvQWRkO1xuICAgICAgICB9XG4gICAgICAgIGlmKCRzY29wZS5yZW1hcmtEYXRhLmxlbmd0aD4wKXtcbiAgICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUucmVtYXJrRGF0YT0kc2NvcGUucmVtYXJrRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuUmVwb3J0SXNzdWUuYXV0aG9yTmFtZT1vYmplY3QuYXV0aG9yTmFtZTtcbiAgICAgICAgJHNjb3BlLlJlcG9ydElzc3VlLnJlbWFya0RhdGU9b2JqZWN0LnJlbWFya0RhdGU7XG5cbiAgICAgICAgJChcIiNjb3ZlcnBhZ2Vtb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICQoXCIjYWJvdXR1c21vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgJChcIiNwcm9qZWN0bWV0YW1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgJChcIiNyZXBvcnRyZW1hcmttb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICQoXCIjY2hvb3NlSXNzdWVNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7IFxuICAgICAgfVxuXG4gICAgICAkc2NvcGUuRWRpdE1vZGU9ZmFsc2U7XG4gICAgICAkc2NvcGUuRWRpdElzc3VlRGF0YT1mdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuRWRpdE1vZGU9dHJ1ZTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnJlbW92ZUZyb21Jc3N1ZUxpc3Q9ZnVuY3Rpb24oaW5kZXgsYXJyYXkpe1xuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuaXNzdWVUb0FkZCk7IFxuICAgICAgfVxuICAgICBcbiAgICAgXG4gICAgIFxuICAgIH1cbn0pKCk7IiwiKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwicmVwb3J0c0N0cmxcIiwgcmVwb3J0c0N0cmwpO1xuXG4gICAgZnVuY3Rpb24gcmVwb3J0c0N0cmwoXG4gICAgICAgICRzY29wZSxcbiAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgIGF1dGhGYWN0b3J5LFxuICAgICAgICAkc3RhdGUsXG4gICAgICAgIGFwaUZhY3RvcnksXG4gICAgICAgIE5vdGlmaWNhdGlvbixcbiAgICAgICAgTmdNYXAsXG4gICAgICAgIGdsb2JhbHMsXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgICApIHtcbiAgICAgICAgbGV0IHZtID0gdGhpcztcblxuICAgICAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xuICAgICBcbiAgICAgICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgICAgIGxvZ291dCgpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KFwidXNlckRhdGFcIilcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5yZXBvcnRDYXRlZ29yeSA9IFsnaXNzdWVSZXBvcnQnLCAnc2FmZXR5UmVwb3J0JywgJ3FhUmVwb3J0J107XG4gICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbFVzZXJzKCkudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5hbGxBZG1pblVzZXJzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgIC5saXN0QWxsUHJvamVjdHMoKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5wcm9qZWN0TGlzdCA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAvKiBJbml0aWFsbHkgbG9hZCB0aGUgZmlyc3QgcHJvamVjdCBhcyBkZWZhdWx0ICovXG4gICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICAgIGxvZ291dCgpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgKGZ1bmN0aW9uKCQpIHtcbiAgICAgICAgJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKFwiI3JlcG9ydE1vZGFsIC5tb2RhbC1ib2R5XCIpLm1DdXN0b21TY3JvbGxiYXIoe1xuICAgICAgICAgICAgc2V0SGVpZ2h0OiAzNDAsXG4gICAgICAgICAgICB0aGVtZTogXCJtaW5pbWFsLWRhcmtcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG59KSgpOyIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJyZXBvcnRzTGlzdGluZ0N0cmxcIiwgcmVwb3J0c0xpc3RpbmdDdHJsKTtcblxuICBmdW5jdGlvbiByZXBvcnRzTGlzdGluZ0N0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgICRsb2NhdGlvbixcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICBOb3RpZmljYXRpb24sXG4gICAgZ2xvYmFsc1xuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuICAgIGxldCB2bSA9IHRoaXM7XG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG4gICAgdm0ubG9nb3V0ID0gKCkgPT4geyBsb2dvdXQoKTsgfTtcblxuXG4gICAgdmFyIHVybCA9ICRsb2NhdGlvbi5wYXRoKCk7XG4gICAgXG4gICAgaWYgKHVybCA9PSAnL3BheXJvbGwnKSB7XG4gICAgICAkKCcucGF5cm9sbE1lbnUnKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2sgIWltcG9ydGFudCcpO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICAkKCcucGF5cm9sbExpc3QnKS5EYXRhVGFibGUoKTtcbiAgICBcbiAgICBcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInNldFBhc3N3b3JkQ3RybFwiLCBzZXRQYXNzd29yZEN0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBzZXRQYXNzd29yZEN0cmwoXHJcbiAgICAkc2NvcGUsXHJcbiAgICAkdGltZW91dCxcclxuICAgICRsb2NhdGlvbixcclxuICAgIGF1dGhGYWN0b3J5LFxyXG4gICAgJHN0YXRlLFxyXG4gICAgYXBpRmFjdG9yeSxcclxuICAgIE5vdGlmaWNhdGlvbixcclxuICAgIGdsb2JhbHNcclxuICApIHtcclxuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXHJcbiAgICBsZXQgdm0gPSB0aGlzO1xyXG5cclxuICAgIGNvbnN0IHsgdG9rZW4gfSA9ICRsb2NhdGlvbi5zZWFyY2goKTtcclxuXHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBhcGlGYWN0b3J5XHJcbiAgICAgIC5pc1Rva2VuVmFsaWQoeyB0b2tlbiB9KVxyXG4gICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpO1xyXG4gICAgICAgIGlmIChyZXNwLmRhdGEudG9rZW5WYWxpZCkge1xyXG4gICAgICAgICAgdm0udXNlciA9IHJlc3AuZGF0YS51c2VyO1xyXG4gICAgICAgICAgJChcIi5mb3Jnb3RQYXNzTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImFzZGFkXCIpO1xyXG4gICAgICAgICAgJChcIi50b2tlbkludmFsaWRcIikubW9kYWwoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB2bS5yZXNldFBhc3MgPSAoaXNWYWxpZCwgZGF0YSkgPT4ge1xyXG4gICAgICAkKFwiLmZvcmdvdFBhc3NNb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgIGlmICh2bS5yZXNldFBhc3MucGFzc3dvcmQgPT09IHZtLnJlc2V0UGFzcy5jX3Bhc3N3b3JkKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICBwYXNzd29yZDogdm0ucmVzZXRQYXNzLnBhc3N3b3JkLFxyXG4gICAgICAgICAgdXNlcjogdm0udXNlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnNldFBhc3N3b3JkKGRhdGEpXHJcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MocmVzcC5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJwcmVMb2dpblwiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGFzc3dvcmQgTWlzbWF0Y2gsIFBsZWFzZSBlbnRlciBzYW1lIHBhc3N3b3JkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdm0uYmFjayA9ICgpID0+IHtcclxuICAgICAgJChcIi50b2tlbkludmFsaWRcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgJHN0YXRlLmdvKFwicHJlTG9naW5cIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzZXR0aW5nQ3RybFwiLCBzZXR0aW5nQ3RybCk7XG5cbiAgZnVuY3Rpb24gc2V0dGluZ0N0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBnbG9iYWxzLFxuICAgIFVwbG9hZFxuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBjb21wYW55U3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgaWYgKCFhdXRoRmFjdG9yeS5jaGVja1VzZXIoKSkge1xuICAgICAgbG9nb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG4gICAgaWYgKGNvbXBhbnlTdG9yZS5nZXQoKSkge1xuICAgICAgdm0uY29tcGFueURhdGEgPSBjb21wYW55U3RvcmUuZ2V0KCk7XG4gICAgICB2bS5wcml2aWxlZ2VzID0gdm0uY29tcGFueURhdGEucHJpdmlsZWdlcztcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAuZ2V0Q29tcGFueUJ5SWQodm0udXNlckRhdGEuY29tcGFueUlkKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5jb21wYW55RGF0YSA9IHJlc3AuZGF0YTtcbiAgICAgICAgICB2bS5wcml2aWxlZ2VzID0gdm0uY29tcGFueURhdGEucHJpdmlsZWdlcztcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2bS5zdWJtaXRSb2xlU2V0dGluZ3MgPSBmb3JtRGF0YSA9PiB7XG4gICAgICBhcGlGYWN0b3J5XG4gICAgICAgIC51cGRhdGVSb2xlQmFzZWRBY2Nlc3MoZm9ybURhdGEpXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICBjb21wYW55U3RvcmUucmVmZXRjaCh2bS51c2VyRGF0YS5jb21wYW55SWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2bS5nb1RvRGFzaGJvYXJkID0gKCkgPT4ge1xuICAgICAgJHN0YXRlLmdvKFwiZGFzaGJvYXJkXCIpO1xuICAgIH07XG5cbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic3ViY29udHJhY3RvckN0cmxcIiwgc3ViY29udHJhY3RvckN0cmwpO1xuXG4gICAgZnVuY3Rpb24gc3ViY29udHJhY3RvckN0cmwoXG4gICAgICAgICRzY29wZSxcbiAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgIGF1dGhGYWN0b3J5LFxuICAgICAgICAkc3RhdGUsXG4gICAgICAgIGFwaUZhY3RvcnksXG4gICAgICAgIE5vdGlmaWNhdGlvbixcbiAgICAgICAgTmdNYXAsXG4gICAgICAgIGdsb2JhbHMsXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgICApIHtcbiAgICAgICAgbGV0IHZtID0gdGhpcztcblxuICAgICAgICB2bS5zZWxlY3RlZE1hdGVyaWFscz1bXTtcbiAgICAgICAgdm0ubWVtYmVyczI9W107XG4gICAgICAgIGNvbnN0IHsgbG9nb3V0LGRlYm91bmNlLCB1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgLyoqR2V0IGFsbCBzdXBwbGllcnNkYXRhICovXG4gICAgICAgICAgdm0uZ2V0U3ViY29udHJhY3RvcnMgPSAodHlwZSkgPT4ge1xuICAgICAgICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xuICAgICAgICAgICBcbiAgICAgICAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgICAgICAuZ2V0QWxsU3ViY29udHJhY3RvcnMoe1xuICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgY2h1bms6IDEwLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHR5cGUsXG4gICAgICAgICAgICAgICAvLyBzZWFyY2g6IHZtLnNlYXJjaFRleHQsXG4gICAgICAgICAgICAgICAvLyBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgICAvLyB2bVtyZXNvdXJjZV09IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICAgIC8vIHZtW3Jlc291cmNlICsgXCJDb3VudFwiXSA9IHJlc3AuZGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgICB2bS5hbGxTdWJjb250cmFjdG9yID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgICAgdm0uc3ViY29udHJhY3RvcnNDb3VudCA9IHJlc3AuZGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1cHBsaWVycyBhcmU6XCIsdm0uYWxsU3ViY29udHJhY3Rvcik7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc2VhcmNoaW5nVGV4dD0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAkKFwiI3BhZ2luYXRpb25cIikucGFnaW5hdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5zdWJjb250cmFjdG9yc0NvdW50LFxuICAgICAgICAgICAgICAgICAgICBpdGVtc09uUGFnZTogMTAsXG4gICAgICAgICAgICAgICAgICAgIGNzc1N0eWxlOiBcImxpZ2h0LXRoZW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uKHBhZ2UsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QWxsU3ViY29udHJhY3RvcnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuazogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3R5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFsbFN1YmNvbnRyYWN0b3IgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgLyogSW5pdGlhbGx5IHNvcnQgaXNzdWUgaW4gZGVzY2VuZGluZyBvcmRlciAqL1xuICAgICAgICAgdm0uZ2V0U3ViY29udHJhY3RvcnMoXCJjcmVhdGVkXCIpO1xuXG4gICAgICAgICAvL2dldCBhbGwgbGlzdCBvZiBzeXN0ZW0gdGFnc1xuICAgICAgICAgdm0uZ2V0VGFncyA9ZnVuY3Rpb24oKXtcbiAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAuZ2V0QWxsU3lzdGVtVGFncygpLnRoZW4ocmVzcD0+e1xuICAgICAgICAgICAgICAgICAgdm0uQWxsVGFncyA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codm0uQWxsVGFncyk7XG4gICAgICAgICAgICAgICB9KS5jYXRjaChlPT57XG5cbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgXG4gICAgICAgIH07XG4gICAgICAgIHZtLmdldFRhZ3MoKTtcblxuICAgICAgICAgLy9uZXh0IGFuZCBwcmV2aW91cyBidXR0b24gZnVuY3Rpb25zXG4gICAgICAgICB2bS5hZGRTdWJjb250cmFjdG9yTmV4dCA9ICgpID0+IHtcbiAgICAgICAgICBpZigkKCcjaG9tZScpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XG4gICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgXG4gICAgICAgICAgICQoJyNob21lJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xuICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgIFxuICAgICAgICB9O1xuICAgICAgIFxuXG4gICAgICAgIHZtLmFkZFN1YmNvbnRyYWN0b3JQcmV2aW91cz0oKT0+e1xuICAgICAgICAgIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XG4gICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICQoJyNob21lLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgfWVsc2UgXG4gICAgICAgICAgaWYoJCgnI2NvbnRhY3QtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICB9XG4gICAgICAgICBcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5vcGVuUG9wdXA9KCk9PntcbiAgICAgICAgICBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJob21lXCIpO1xuICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAkKCcjaG9tZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICB9ZWxzZSBcbiAgICAgICAgICBpZigkKCcjY29udGFjdC10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xuICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICQoJyNob21lLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI2NvbnRhY3QtdGFiJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL2RlbGV0ZSBtYXRlcmlhbCBmcm9tIGxpc3RcbiAgICAgICAgJHNjb3BlLmRlbGV0ZU1hdGVyaWFsID0gZnVuY3Rpb24oaW5kZXgsYXJyYXkpe1xuICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgIH1cblxuICAgICAgICRzY29wZS5kZWxldGVTdGFmZiA9IGZ1bmN0aW9uKGluZGV4LGFycmF5KXtcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICB9XG5cbiAgICAgICAgLyoqSW5zZXJ0IGZ1bmN0aW9ucyAqL1xuICAgICAgICAgLyoqSW5zZXJ0IFN1cHBsaWVyIGZ1bmN0aW9ucyAqL1xuICAgICAgICAgJHNjb3BlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYoZmlsZXNbMF0gPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgJHNjb3BlLkZJTEVJTUcgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVzWzBdKTtcbiAgICAgICAgICAkc2NvcGUuZmlsZUV4dCA9IGZpbGVzWzBdLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYmFscy5nZXRDb3VudHJ5Q29kZSgpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgdm0uZ2V0Q291bnRyeUNvZGUgPSByZXNwLmRhdGE7XG4gICAgICAgICBcbiAgICAgICAgICB2bS5sb2FkQ291bnRyeUNvZGUgPSAkcXVlcnkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsTWF0ZXJpYWxzKCkudGhlbihyZXNwID0+IHtcbiAgICAgICAgICB2bS5hbGxNYXRlcmlhbHMgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdm0uYWRkTWVtYmVyID0gZnVuY3Rpb24obmFtZSxtYWlsLGNvZGUscGhubyl7XG4gICAgICAgICAgdm0ubWVtYmVyczIucHVzaCh7bmFtZTpuYW1lLGVtYWlsOm1haWwsY29udGFjdDp7ZGlhbENvZGU6Y29kZSxwaG9uZU51bWJlcjpwaG5vfX0pO1xuICAgICAgICB9XG5cbiAgICAgXG4gICAgICAgIHZtLmFkZG5ld3RhZ21vZGVsPWZ1bmN0aW9uKCl7XG4gICAgICAgICAgJCgnI3N1Yi1jb250cmFjdG9yX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAkKCcjdGFnYWRkX21vZGFsJykubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgICAgICBcblxuXG4gICAgICAgICRzY29wZS5jcmVhdGVTdWJjb250cmFjdG9yID0gZnVuY3Rpb24oc3ViY29udHJhY3RvcixhdHRyaWJ1dGUpe1xuICAgICAgICAgIHN1YmNvbnRyYWN0b3IuYXR0cmlidXRlcz1bXTtcbiAgICAgICAgICBzdWJjb250cmFjdG9yLnN0YWZmPVtdO1xuICAgICAgICAgIGlmKGF0dHJpYnV0ZS5sZW5ndGg+MCl7XG4gICAgICAgICAgICBhdHRyaWJ1dGUuZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgICAgICAgIHN1YmNvbnRyYWN0b3IuYXR0cmlidXRlcy5wdXNoKGVsZW1lbnQuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZih2bS5tZW1iZXJzMi5sZW5ndGg+MCl7XG4gICAgICAgICAgICB2bS5tZW1iZXJzMi5mb3JFYWNoKGVsZW1lbnQ9PntcbiAgICAgICAgICAgICAgc3ViY29udHJhY3Rvci5zdGFmZi5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKFwic3ViY29udHJhY3RvclwiLHN1YmNvbnRyYWN0b3IpO1xuICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAuY3JlYXRlTmV3U3ViY29udHJhY3RvcihzdWJjb250cmFjdG9yKVxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJTdWItY29udHJhY3RvciBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICB2bS5yZXNldEZpZWxkcygpO1xuICAgICAgICAgICAgdm0ub3BlblBvcHVwKCk7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgc3ViY29udHJhY3Rvci5hdHRyaWJ1dGVzPVtdO1xuICAgICAgICAgICAgJCgnI3N1Yi1jb250cmFjdG9yX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgIHZtLmdldFN1YmNvbnRyYWN0b3JzKFwiY3JlYXRlZFwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIHZtLnJlc2V0RmllbGRzPSgpPT57XG4gICAgICAgICAgdm0uc3ViY29udHJhY3Rvcj17fTtcbiAgICAgICAgICBpZih2bS5tZW1iZXJzMi5sZW5ndGg+MCl7XG4gICAgICAgICAgd2hpbGUodm0ubWVtYmVyczIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdm0ubWVtYmVyczIucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgJCgnI3RhZ3NlbGVjdCcpLnZhbCgnJyk7XG4gICAgICAgICAgJCgnI3RhZ3NlbGVjdCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICRzY29wZS5GSUxFSU1HPXVuZGVmaW5lZDtcbiAgICAgICAgICAkKCcjdGFnc2VsZWN0JykudmFsKCdbXScpO1xuICAgICAgICAgICQoJyNtZW1iZXJuYW1lJykudmFsKCcnKTtcbiAgICAgICAgICAkKCcjbWVtYmVyZW1haWwnKS52YWwoJycpO1xuICAgICAgICAgICQoJyNtZW1iZXJkaWFsQ29kZScpLnZhbCgnJyk7XG4gICAgICAgICAgJCgnI21lbWJlcnBob25lTnVtYmVyJykudmFsKCcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmNyZWF0ZVN5c3RlbVRhZz1mdW5jdGlvbihzeXN0ZW1UYWcpe1xuICAgICAgICAgIGNvbnNvbGUubG9nKHN5c3RlbVRhZyk7XG4gICAgICAgICBpZihzeXN0ZW1UYWc9PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJwbGVhc2UgZW50ZXIgVGFnIG5hbWVcIik7IFxuICAgICAgICAgfVxuICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICBhcGlGYWN0b3J5LnNhdmVTeXN0ZW1UYWcoc3lzdGVtVGFnKVxuICAgICAgICAgICAgICAudGhlbihyZXNwPT57XG4gICAgICAgICAgICAgICAgICQoJyN0YWdhZGRfbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAkKCcjc3ViLWNvbnRyYWN0b3JfbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgICAgICAgICAgICAgICB2bS5zeXN0ZW1UYWc9e307XG4gICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwibmV3IHN5c3RlbSB0YWcgYWRkZWQuXCIpO1xuICAgICAgICAgICAgICAgICB2bS5nZXRUYWdzKCk7XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9KS5jYXRjaChlPT57XG4gICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcInNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgIH1cbiAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jb250cmFjdHM9W1xuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9XG4gICAgICAgIF1cbiAgICB9XG5cbiAgICB9KSgpOyIsIigoKSA9PiB7XG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsXCIsIHN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsKTtcblxuICAgIGZ1bmN0aW9uIHN1YmNvbnRyYWN0b3JEZXRhaWxDdHJsKFxuICAgICAgICAkc2NvcGUsXG4gICAgICAgICR0aW1lb3V0LFxuICAgICAgICBhdXRoRmFjdG9yeSxcbiAgICAgICAgJHN0YXRlLFxuICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgIGFwaUZhY3RvcnksXG4gICAgICAgIE5vdGlmaWNhdGlvbixcbiAgICAgICAgTmdNYXAsXG4gICAgICAgIGdsb2JhbHMsXG4gICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgICApIHtcbiAgICAgICAgbGV0IHZtID0gdGhpcztcbiAgICAgICBcblxuICAgICAgICBjb25zdCB7IGxvZ291dCx1c2VyU3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgICAgICAgIGxvZ291dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICBcbiAgICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZtLnN1YmNvbnRyYWN0b3JJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcbiAgICAgICAgICAkc2NvcGUuZ2V0U3ViY29udHJhY3RvckRldGFpbCA9ICgpID0+IHtcbiAgICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAgICAgLmdldFN1YmNvbnRyYWN0b3JCeUlkKHZtLnN1YmNvbnRyYWN0b3JJZClcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgdm0uc3ViY29udHJhY3RvckRhdGEgPSByZXNwLmRhdGE7XG4gICAgICAgICAgICAgICAgJHNjb3BlLkZJTEVJTUc9dm0uc3ViY29udHJhY3RvckRhdGEucHJvZmlsZVBpYztcbiAgICAgICAgICAgICAgICAvLyB2bS5lZGl0U3ViY29udHJhY3RvciA9IGFuZ3VsYXIuY29weSh2bS5zdWJjb250cmFjdG9yRGF0YSk7XG4gICAgICAgICAgICAgICAgJCgnI2VkaXRkaWFsJykuc2VsZWN0MignZGF0YScsIHtpZDogdm0uZWRpdFN1YmNvbnRyYWN0b3IuY29udGFjdC5kaWFsQ29kZX0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLnN1YmNvbnRyYWN0b3JEYXRhKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmdldFN1YmNvbnRyYWN0b3JEZXRhaWwoKTtcblxuICAgICAgICAgICAgdm0uZWRpdFN1YmNvbnRyYWN0b3JOZXh0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICBpZigkKCcjaG9tZScpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJob21lXCIpO1xuICAgICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgJCgnI2hvbWUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgJCgnI2NvbnRhY3QtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICBcbiAgICBcbiAgICAgICAgICAgIHZtLmVkaXRTdWJjb250cmFjdG9yUHJldmlvdXM9KCk9PntcbiAgICAgICAgICAgICAgaWYoJCgnI3Byb2ZpbGUtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XG4gICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgJCgnI2hvbWUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIH1lbHNlIFxuICAgICAgICAgICAgICBpZigkKCcjY29udGFjdC10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuICAgIFxuICAgICAgICAgICAgdm0ub3BlblBvcHVwPSgpPT57XG4gICAgICAgICAgICAgIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJob21lXCIpO1xuICAgICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICQoJyNob21lLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIH1lbHNlIFxuICAgICAgICAgICAgICBpZigkKCcjY29udGFjdC10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNob21lLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL2dldCBhbGwgbGlzdCBvZiBzeXN0ZW0gdGFnc1xuICAgICAgICAgdm0uZ2V0VGFncyA9ZnVuY3Rpb24oKXtcbiAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAuZ2V0QWxsU3lzdGVtVGFncygpLnRoZW4ocmVzcD0+e1xuICAgICAgICAgICAgICAgICAgdm0uQWxsVGFncyA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codm0uQWxsVGFncyk7XG4gICAgICAgICAgICAgICB9KS5jYXRjaChlPT57XG5cbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgXG4gICAgICAgIH07XG4gICAgICAgIHZtLmdldFRhZ3MoKTtcblxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIGdsb2JhbHMuZ2V0Q291bnRyeUNvZGUoKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICB2bS5nZXRDb3VudHJ5Q29kZSA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdm0ubG9hZENvdW50cnlDb2RlID0gJHF1ZXJ5ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZtLmFkZE1lbWJlciA9IGZ1bmN0aW9uKG5hbWUsbWFpbCxjb2RlLHBobm8pe1xuICAgICAgICAgICAgICB2bS5zdWJjb250cmFjdG9yRGF0YS5zdGFmZi5wdXNoKHtuYW1lOm5hbWUsZW1haWw6bWFpbCxjb250YWN0OntkaWFsQ29kZTpjb2RlLHBob25lTnVtYmVyOnBobm99fSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVN0YWZmID0gZnVuY3Rpb24oaW5kZXgsYXJyYXkpe1xuICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAkc2NvcGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoZmlsZXMpIHtcbiAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYoZmlsZXNbMF0gPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICAgICRzY29wZS5GSUxFSU1HID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlc1swXSk7XG4gICAgICAgICAgICAgICRzY29wZS5maWxlRXh0ID0gZmlsZXNbMF0ubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS51cGRhdGVTdWJjb250cmFjdG9yID0gZnVuY3Rpb24oc3ViY29udHJhY3RvcixhdHRyaWJ1dGVzKXtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coc3ViY29udHJhY3Rvcik7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgaWYodHlwZW9mIGF0dHJpYnV0ZXMgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZihhdHRyaWJ1dGVzLmxlbmd0aD4wKXtcbiAgICAgICAgICAgICAgICBpZihzdWJjb250cmFjdG9yLmF0dHJpYnV0ZXMubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5mb3JFYWNoKGVsZW1lbnQ9PntcblxuICAgICAgICAgICAgICAgICAgICBzdWJjb250cmFjdG9yLmF0dHJpYnV0ZXMucHVzaChlbGVtZW50Ll9pZCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgIHN1YmNvbnRyYWN0b3IuYXR0cmlidXRlcz1bXTtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgICAgICAgICAgICAgIHN1YmNvbnRyYWN0b3IuYXR0cmlidXRlcy5wdXNoKGVsZW1lbnQuX2lkKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZnRlciBjaGFuZ2U6IFwiLHN1YmNvbnRyYWN0b3IpO1xuXG4gICAgICAgICAgICAgIGFwaUZhY3RvcnkudXBkYXRlU3ViY29udHJhY3RvcihzdWJjb250cmFjdG9yKVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3A9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKFwidXBkYXRlIHN1Y2Nlc3NmdWxsLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN1cGRhdGVfbW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldFN1YmNvbnRyYWN0b3JEZXRhaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJDb3VsZG4ndCB1cGRhdGUgc3ViY29udHJhY3Rvci5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgfVxuICAgIFxuICAgICAgfVxuXG4gICAgfSkoKTsiLCIoKCkgPT4ge1xuICAgIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJzdXBwbGllckN0cmxcIiwgc3VwcGxpZXJDdHJsKTtcblxuICAgIGZ1bmN0aW9uIHN1cHBsaWVyQ3RybChcbiAgICAgICRzY29wZSxcbiAgICAgICRyb290U2NvcGUsXG4gICAgICAkdGltZW91dCxcbiAgICAgIGF1dGhGYWN0b3J5LFxuICAgICAgJHN0YXRlLFxuICAgICAgYXBpRmFjdG9yeSxcbiAgICAgIE5vdGlmaWNhdGlvbixcbiAgICAgIGdsb2JhbHMsXG4gICAgICBmaWxlTWFuYWdlckZhY3RvcnksXG4gICAgICBVcGxvYWQsXG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLFxuICAgICAgKSB7XG4gICAgICAgIGxldCB2bSA9IHRoaXM7XG4gICAgICAgIHZtLnNlbGVjdGVkTWF0ZXJpYWxzPVtdO1xuICAgICAgICB2bS5tZW1iZXJzMj1bXTtcbiAgICAgICAgY29uc3QgeyBsb2dvdXQsZGVib3VuY2UsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICAgICAgJHNjb3BlLmFjdGl2ZUp1c3RpZmllZCA9IDA7XG4gICAgIFxuICAgICAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICAgICAgbG9nb3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqR2V0IGFsbCBzdXBwbGllcnNkYXRhICovXG4gICAgICAgIHZtLmdldFN1cHBsaWVycyA9ICh0eXBlKSA9PiB7XG4gICAgICAgICAgLyogRm9yIHRvZ2dsaW5nIGFzY2VuZGluZyBhbmQgZGVzY2VuZGluZyBvcmRlciAqL1xuICAgICAgICAgXG4gICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAuZ2V0QWxsU3VwcGxpZXJzKHtcbiAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgY2h1bms6IDEwLFxuICAgICAgICAgICAgICBzb3J0OiB0eXBlLFxuICAgICAgICAgICAgIC8vIHNlYXJjaDogdm0uc2VhcmNoVGV4dCxcbiAgICAgICAgICAgICAvLyBzb3J0VHlwZTogdm0udG9nZ2xlT2JqW3Jlc291cmNlXVt0eXBlXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAvLyB2bVtyZXNvdXJjZV09IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICAvLyB2bVtyZXNvdXJjZSArIFwiQ291bnRcIl0gPSByZXNwLmRhdGEudG90YWw7XG4gICAgICAgICAgICAgIHZtLmFsbFN1cHBsaWVycyA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgICB2bS5zdXBwaWVyc0NvdW50ID0gcmVzcC5kYXRhLnRvdGFsO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1cHBsaWVycyBhcmU6XCIsdm0uYWxsU3VwcGxpZXJzKTtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNlYXJjaGluZ1RleHQ9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoXCIjcGFnaW5hdGlvblwiKS5wYWdpbmF0aW9uKHtcbiAgICAgICAgICAgICAgICAgIGl0ZW1zOiB2bS5zdXBwaWVyc0NvdW50LFxuICAgICAgICAgICAgICAgICAgaXRlbXNPblBhZ2U6IDEwLFxuICAgICAgICAgICAgICAgICAgY3NzU3R5bGU6IFwibGlnaHQtdGhlbWVcIixcbiAgICAgICAgICAgICAgICAgIGhyZWZUZXh0UHJlZml4OiBcIiNcIixcbiAgICAgICAgICAgICAgICAgIG9yZGVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbihwYWdlLCBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgLmdldEFsbFN1cHBsaWVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29ydDogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvcnRUeXBlOiB2bS50b2dnbGVPYmpbdHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uYWxsU3VwcGxpZXJzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKiBJbml0aWFsbHkgc29ydCBpc3N1ZSBpbiBkZXNjZW5kaW5nIG9yZGVyICovXG4gICAgICAgdm0uZ2V0U3VwcGxpZXJzKFwiY3JlYXRlZFwiKTtcblxuICAgICAgICAvKipJbnNlcnQgU3VwcGxpZXIgZnVuY3Rpb25zICovXG4gICAgICAgICRzY29wZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChmaWxlcykge1xuICAgICAgICAgIFxuICAgICAgICAgIGlmKGZpbGVzWzBdID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICRzY29wZS5GSUxFSU1HID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlc1swXSk7XG4gICAgICAgICAgJHNjb3BlLmZpbGVFeHQgPSBmaWxlc1swXS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGdsb2JhbHMuZ2V0Q291bnRyeUNvZGUoKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIHZtLmdldENvdW50cnlDb2RlID0gcmVzcC5kYXRhO1xuICAgICAgICAgXG4gICAgICAgICAgdm0ubG9hZENvdW50cnlDb2RlID0gJHF1ZXJ5ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbE1hdGVyaWFscygpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgdm0uYWxsTWF0ZXJpYWxzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZtLmFkZE1hdGVyaWFsID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbHMucHVzaChpdGVtKTtcbiAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICB2bS5hZGRNZW1iZXIgPSBmdW5jdGlvbihuYW1lLG1haWwsY29kZSxwaG5vKXtcbiAgICAgICAgICB2bS5tZW1iZXJzMi5wdXNoKHtuYW1lOm5hbWUsZW1haWw6bWFpbCxjb250YWN0OntkaWFsQ29kZTpjb2RlLHBob25lTnVtYmVyOnBobm99fSk7XG4gICAgICAgIH1cblxuICAgICAgIFxuXG4gICAgICAgIHZtLmFkZFN1cHBsaWVyTmV4dCA9ICgpID0+IHtcbiAgICAgICAgICBpZigkKCcjaG9tZScpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XG4gICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgXG4gICAgICAgICAgICQoJyNob21lJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAkKCcjaG9tZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlXCIpO1xuICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgIFxuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmFkZFN1cHBsaWVyUHJldmlvdXM9KCk9PntcbiAgICAgICAgICBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJob21lXCIpO1xuICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAkKCcjaG9tZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIH1lbHNlIFxuICAgICAgICAgIGlmKCQoJyNjb250YWN0LXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2ZpbGVcIik7XG4gICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgJCgnI3Byb2ZpbGUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICAgXG4gICAgICAgIH07XG5cbiAgICAgICAgdm0ub3BlblBvcHVwPSgpPT57XG4gICAgICAgICAgaWYoJCgnI3Byb2ZpbGUtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaG9tZVwiKTtcbiAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgJCgnI2hvbWUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgfWVsc2UgXG4gICAgICAgICAgaWYoJCgnI2NvbnRhY3QtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAkKCcjaG9tZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICQoJyNjb250YWN0JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgJCgnI2hvbWUnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICB9XG4gICAgICAgICBcbiAgICAgICAgfTtcblxuICAgICAgICAgLy9kZWxldGUgbWF0ZXJpYWwgZnJvbSBsaXN0XG4gICAgICAgICAkc2NvcGUuZGVsZXRlTWF0ZXJpYWwgPSBmdW5jdGlvbihpbmRleCxhcnJheSl7XG4gICAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgIH1cbiAgXG4gICAgICAgICAkc2NvcGUuZGVsZXRlU3RhZmYgPSBmdW5jdGlvbihpbmRleCxhcnJheSl7XG4gICAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuY3JlYXRlU3VwcGxpZXIgPSBmdW5jdGlvbihzdXBwbGllcixtYXRlcmlhbHMpe1xuICAgICAgICAgIHN1cHBsaWVyLnN1cHBsaWVzPVtdO1xuICAgICAgICAgIHN1cHBsaWVyLnN0YWZmPVtdO1xuICAgICAgICAgXG4gICAgICAgICAgaWYobWF0ZXJpYWxzLmxlbmd0aD4wKXtcbiAgICAgICAgICBtYXRlcmlhbHMuZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgICAgICAgIHN1cHBsaWVyLnN1cHBsaWVzLnB1c2goZWxlbWVudC5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHZtLm1lbWJlcnMyLmxlbmd0aD4wKXtcbiAgICAgICAgICAgIHZtLm1lbWJlcnMyLmZvckVhY2goZWxlbWVudD0+e1xuICAgICAgICAgICAgICBzdXBwbGllci5zdGFmZi5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1cHBsaWVyXCIsc3VwcGxpZXIpO1xuICAgICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAuY3JlYXRlTmV3U3VwcGxpZXIoc3VwcGxpZXIpXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlN1cHBsaWVyIGhhcyBiZWVuIHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgICAgIHZtLnJlc2V0RmllbGRzKCk7XG4gICAgICAgICAgICB2bS5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgIHN1cHBsaWVyLnN1cHBsaWVzPVtdO1xuICAgICAgICAgICAgc3VwcGxpZXIuc3RhZmY9W107XG4gICAgICAgICAgIFxuICAgICAgICAgICAgJCgnI3N1cHBsaWVyX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgIHZtLmdldFN1cHBsaWVycyhcImNyZWF0ZWRcIik7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICB9O1xuICAgICAgICB2bS5yZXNldEZpZWxkcz0oKT0+e1xuICAgICAgICAgIHZtLnN1cHBsaWVyPXt9O1xuICAgICAgICAgIGlmKHZtLm1lbWJlcnMyLmxlbmd0aD4wKXtcbiAgICAgICAgICB3aGlsZSh2bS5tZW1iZXJzMi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2bS5tZW1iZXJzMi5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdm0uc2VsZWN0ZWRNYXRlcmlhbHM9W107XG4gICAgICAgICQoJyNtYXRlcmlhbHNlbGVjdCcpLnZhbCgnJyk7XG4gICAgICAgICQoJyNtYXRlcmlhbHNlbGVjdCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICRzY29wZS5GSUxFSU1HPXVuZGVmaW5lZDtcbiAgICAgICAgICAkKCcjdGFnc2VsZWN0JykudmFsKCdbXScpO1xuICAgICAgICAgICQoJyNtZW1iZXJuYW1lJykudmFsKCcnKTtcbiAgICAgICAgICAkKCcjbWVtYmVyZW1haWwnKS52YWwoJycpO1xuICAgICAgICAgICQoJyNtZW1iZXJkaWFsQ29kZScpLnZhbCgnJyk7XG4gICAgICAgICAgJCgnI21lbWJlcnBob25lTnVtYmVyJykudmFsKCcnKTtcbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgICAkc2NvcGUuY29udHJhY3RzPVtcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfSxcbiAgICAgICAgICB7dGl0bGU6J1N1YmNvbnRyYWN0b3IgQScsdGltZTonU2VwIDI1LCAyMDE4IGF0IDQ6MDAgUE0nLGltZzonYXNzZXRzL2ltYWdlcy9zdXBwbGllcnMvdHJlZV9sb2dvLnBuZyd9LFxuICAgICAgICAgIHt0aXRsZTonU3ViY29udHJhY3RvciBBJyx0aW1lOidTZXAgMjUsIDIwMTggYXQgNDowMCBQTScsaW1nOidhc3NldHMvaW1hZ2VzL3N1cHBsaWVycy90cmVlX2xvZ28ucG5nJ30sXG4gICAgICAgICAge3RpdGxlOidTdWJjb250cmFjdG9yIEEnLHRpbWU6J1NlcCAyNSwgMjAxOCBhdCA0OjAwIFBNJyxpbWc6J2Fzc2V0cy9pbWFnZXMvc3VwcGxpZXJzL3RyZWVfbG9nby5wbmcnfVxuICAgICAgICBdXG4gICAgfVxuXG4gICAgfSkoKTsiLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic3VwcGxpZXJEZXRhaWxzQ3RybFwiLCBzdXBwbGllckRldGFpbHNDdHJsKTtcbiAgXG4gIGZ1bmN0aW9uIHN1cHBsaWVyRGV0YWlsc0N0cmwoXG4gICAgICAkc2NvcGUsXG4gICAgICAkdGltZW91dCxcbiAgICAgIGF1dGhGYWN0b3J5LFxuICAgICAgJHN0YXRlLFxuICAgICAgJHN0YXRlUGFyYW1zLFxuICAgICAgYXBpRmFjdG9yeSxcbiAgICAgIE5vdGlmaWNhdGlvbixcbiAgICAgIE5nTWFwLFxuICAgICAgZ2xvYmFscyxcbiAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgICAkbG9jYXRpb25cbiAgICApIHtcbiAgICAgIGxldCB2bSA9IHRoaXM7XG5cbiAgICAgIGNvbnN0IHsgbG9nb3V0LHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgICAgbG9nb3V0KCk7XG4gICAgICB9XG4gICAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICAgICAgJHNjb3BlLmFjdGl2ZUNsYXNzID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuICgkbG9jYXRpb24ucGF0aCgpID09PSBwYXRoKSA/ICdhY3RpdmUnIDogJyc7XG4gICAgICB9XG5cbiAgICAgICAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZtLnN1cHBsaWVySWQgPSAkc3RhdGVQYXJhbXMuaWQ7XG4gICAgICAgICAgJHNjb3BlLmdldFN1cHBsaWVyRGV0YWlsID0gKCkgPT4ge1xuICAgICAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgICAgICAuZ2V0U3VwcGxpZXJCeUlkKHZtLnN1cHBsaWVySWQpXG4gICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAgIHZtLnN1cHBsaWVyRGF0YSA9IHJlc3AuZGF0YTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuRklMRUlNRz12bS5zdXBwbGllckRhdGEucHJvZmlsZVBpYztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2bS5zdXBwbGllckRhdGEpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuZ2V0U3VwcGxpZXJEZXRhaWwoKTtcblxuXG5cbiAgICAgICAgICAgIHZtLmFkZFN1cHBsaWVyTmV4dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYoJCgnI2hvbWUnKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaG9tZVwiKTtcbiAgICAgICAgICAgICAgICQoJyNuYXZpZ2F0aW9uIHVsIGxpIGEuYWN0aXZlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICQoJyNob21lJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgJCgnI2hvbWUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAkKCcjcHJvZmlsZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZigkKCcjcHJvZmlsZS10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAgJCgnI2NvbnRhY3QnKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIFxuICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgIHZtLmFkZFN1cHBsaWVyUHJldmlvdXM9KCk9PntcbiAgICAgICAgICAgICAgaWYoJCgnI3Byb2ZpbGUtdGFiJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImhvbWVcIik7XG4gICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgJCgnI2hvbWUtdGFiJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjcHJvZmlsZScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIH1lbHNlIFxuICAgICAgICAgICAgICBpZigkKCcjY29udGFjdC10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuICAgIFxuICAgICAgICAgICAgdm0ub3BlblBvcHVwPSgpPT57XG4gICAgICAgICAgICAgIGlmKCQoJyNwcm9maWxlLXRhYicpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJob21lXCIpO1xuICAgICAgICAgICAgICAgJCgnI25hdmlnYXRpb24gdWwgbGkgYS5hY3RpdmUnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICQoJyNob21lLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgJCgnI3Byb2ZpbGUnKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG4gICAgICAgICAgICAgICAkKCcjcHJvZmlsZS10YWInKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICQoJyNwcm9maWxlJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAkKCcjaG9tZScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIH1lbHNlIFxuICAgICAgICAgICAgICBpZigkKCcjY29udGFjdC10YWInKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJvZmlsZVwiKTtcbiAgICAgICAgICAgICAgICAkKCcjbmF2aWdhdGlvbiB1bCBsaSBhLmFjdGl2ZScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNob21lLXRhYicpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNjb250YWN0LXRhYicpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjY29udGFjdCcpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICQoJyNob21lJykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGdsb2JhbHMuZ2V0Q291bnRyeUNvZGUoKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIHZtLmdldENvdW50cnlDb2RlID0gcmVzcC5kYXRhO1xuICAgICAgICAgXG4gICAgICAgICAgdm0ubG9hZENvdW50cnlDb2RlID0gJHF1ZXJ5ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZtLmFkZE1lbWJlciA9IGZ1bmN0aW9uKG5hbWUsbWFpbCxjb2RlLHBobm8pe1xuICAgICAgICAgIGlmKHZtLnN1cHBsaWVyRGF0YS5zdGFmZil7XG4gICAgICAgICAgICBpZih2bS5zdXBwbGllckRhdGEuc3RhZmYubGVuZ3RoPjApe1xuICAgICAgICAgICAgICB2bS5zdXBwbGllckRhdGEuc3RhZmYucHVzaCh7bmFtZTpuYW1lLGVtYWlsOm1haWwsY29udGFjdDp7ZGlhbENvZGU6Y29kZSxwaG9uZU51bWJlcjpwaG5vfX0pO1xuICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgIHZtLnN1cHBsaWVyRGF0YS5zdGFmZj1bXTtcbiAgICAgICAgICAgICAgdm0uc3VwcGxpZXJEYXRhLnN0YWZmLnB1c2goe25hbWU6bmFtZSxlbWFpbDptYWlsLGNvbnRhY3Q6e2RpYWxDb2RlOmNvZGUscGhvbmVOdW1iZXI6cGhub319KTtcbiAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICB2bS5zdXBwbGllckRhdGEuc3RhZmY9W107XG4gICAgICAgICAgICB2bS5zdXBwbGllckRhdGEuc3RhZmYucHVzaCh7bmFtZTpuYW1lLGVtYWlsOm1haWwsY29udGFjdDp7ZGlhbENvZGU6Y29kZSxwaG9uZU51bWJlcjpwaG5vfX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgIFxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuZGVsZXRlU3RhZmYgPSBmdW5jdGlvbihpbmRleCxhcnJheSl7XG4gICAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgIH07XG5cbiAgICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbE1hdGVyaWFscygpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgdm0uYWxsTWF0ZXJpYWxzID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChmaWxlcyxpZCkge1xuICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgICBpZihmaWxlc1swXSA9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAkc2NvcGUuRklMRUlNRyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZXNbMF0pO1xuICAgICAgICAgICRzY29wZS5maWxlRXh0ID0gZmlsZXNbMF0ubmFtZS5zcGxpdChcIi5cIikucG9wKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnVwZGF0ZVN1cHBsaWVyID0gZnVuY3Rpb24oc3VwcGxpZXIsbWF0ZXJpYWxzKXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhzdXBwbGllcik7XG4gICAgICAgICAgaWYodHlwZW9mIG1hdGVyaWFscyAhPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihtYXRlcmlhbHMubGVuZ3RoPjApe1xuICAgICAgICAgICAgICBpZihzdXBwbGllci5zdXBwbGllcy5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxzLmZvckVhY2goZWxlbWVudD0+e1xuXG4gICAgICAgICAgICAgICAgICBzdXBwbGllci5zdXBwbGllcy5wdXNoKGVsZW1lbnQuX2lkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHZtLnN1cHBsaWVyRGF0YS5zdXBwbGllcz1bXTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbHMuZm9yRWFjaChlbGVtZW50PT57XG4gICAgICAgICAgICAgICAgICBzdXBwbGllci5zdXBwbGllcy5wdXNoKGVsZW1lbnQuX2lkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGFwaUZhY3RvcnkudXBkYXRlU3VwcGxpZXIoc3VwcGxpZXIpXG4gICAgICAgICAgLnRoZW4ocmVzcD0+e1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJ1cGRhdGUgc3VjY2Vzc2Z1bGwuXCIpO1xuICAgICAgICAgICAgJCgnI3VwZGF0ZXN1cHBsaWVyX21vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgICRzY29wZS5nZXRTdXBwbGllckRldGFpbCgpO1xuICAgICAgICAgIH0pLmNhdGNoKGU9PntcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIkNvdWxkbid0IHVwZGF0ZSBzdXBwbGllci5cIik7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG5cbiAgICAgIH1cblxuICAgIH0pKCk7IiwiKCgpID0+IHtcclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwic3lzdGVtVGFnc0N0cmxcIiwgc3lzdGVtVGFnc0N0cmwpO1xyXG5cclxuICBmdW5jdGlvbiBzeXN0ZW1UYWdzQ3RybChcclxuICAgICRzY29wZSxcclxuICAgICR0aW1lb3V0LFxyXG4gICAgYXV0aEZhY3RvcnksXHJcbiAgICAkc3RhdGUsXHJcbiAgICAkc3RhdGVQYXJhbXMsXHJcbiAgICBhcGlGYWN0b3J5LFxyXG4gICAgTm90aWZpY2F0aW9uLFxyXG4gICAgTmdNYXAsXHJcbiAgICBnbG9iYWxzLFxyXG4gICAgbG9jYWxTdG9yYWdlU2VydmljZVxyXG4gICkge1xyXG4gICAgbGV0IHZtID0gdGhpcztcclxuXHJcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBjb21wYW55U3RvcmUgfSA9IGdsb2JhbHM7XHJcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfVxyXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XHJcbiAgICB2bS5JRDtcclxuXHJcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgIGxvZ291dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5nZXRUYWdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZ2V0QWxsU3lzdGVtVGFncygpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICB2bS5BbGxUYWdzID0gcmVzcC5kYXRhLmRhdGE7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInRhZ2dzXCIsIHZtLkFsbFRhZ3MpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge30pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5sYW5ndWFnZXMgPSBbXCJFTlwiLCBcIkZSXCJdO1xyXG4gICAgdm0uY2hvc2VuTGFuZ3VhZ2UgPSBcIkVOXCI7XHJcbiAgICB2bS5nZXRUYWdzKCk7XHJcbiAgICB2bS5jcmVhdGVUYWcgPSBmdW5jdGlvbihzeXN0ZW1UYWcpIHtcclxuICAgICAgY29uc29sZS5sb2coc3lzdGVtVGFnKTtcclxuICAgICAgaWYgKHN5c3RlbVRhZyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoXCJwbGVhc2UgZW50ZXIgVGFnIG5hbWVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgICAgLnNhdmVTeXN0ZW1UYWcoc3lzdGVtVGFnKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjdGFnc19tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XHJcbiAgICAgICAgICAgIHZtLnN5c3RlbVRhZyA9IHt9O1xyXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIm5ldyBzeXN0ZW0gdGFnIGFkZGVkLlwiKTtcclxuICAgICAgICAgICAgdm0uZ2V0VGFncygpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2bS5kZWxldGVUYWcgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2bS5JRCA9IGlkO1xyXG4gICAgICAkKFwiI3RhZ2RlbGV0ZV9tb2RhbFwiKS5tb2RhbChcInNob3dcIik7XHJcbiAgICB9O1xyXG4gICAgdm0uZGVsZXRlU3lzdGVtVGFnID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGFwaUZhY3RvcnlcclxuICAgICAgICAuZGVsZXRlU3lzdGVtVGFnKHZtLklEKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgJChcIiN0YWdkZWxldGVfbW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xyXG4gICAgICAgICAgTm90aWZpY2F0aW9uLnN1Y2Nlc3MoXCJzeXN0ZW0gdGFnIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcclxuICAgICAgICAgIHZtLmdldFRhZ3MoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBnbG9iYWxzLmdldEN1cnJlbmN5KCkudGhlbihyZXNwID0+IHtcclxuICAgICAgdm0uY3VycmVuY2llcyA9IHJlc3AuZGF0YTtcclxuICAgICAgdm0ubG9hZEN1cnJlbmNpZXMgPSAkcXVlcnkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKHJlc3AuZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBVcGRhdGUgY29tcGFueSBjdXJyZW5jeSAqL1xyXG5cclxuICAgIHZtLmNob3NlbkNvbXBhbnlDdXJyZW5jeSA9IGNvbXBhbnlTdG9yZS5nZXQoKS5jdXJyZW50Q3VycmVuY3kuY3VycmVuY3lDb2RlO1xyXG5cclxuICAgIHZtLmNoYW5nZUNvbXBhbnlDdXJyZW5jeSA9IGN1cnJlbmN5ID0+IHtcclxuICAgICAgYXBpRmFjdG9yeVxyXG4gICAgICAgIC5zaG93Q29udmVyc2lvblJhdGUoe1xyXG4gICAgICAgICAgZnJvbTogY29tcGFueVN0b3JlLmdldCgpLmN1cnJlbnRDdXJyZW5jeS5jdXJyZW5jeUNvZGUsXHJcbiAgICAgICAgICB0bzogY3VycmVuY3lcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YS5jb252ZXJzaW9uRmFjdG9yO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oY29udmVyc2lvbkZhY3RvciA9PiB7XHJcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcclxuICAgICAgICAgICAgXCJDb21wYW55IGN1cnJlbmN5IGhhcyBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gYXBpRmFjdG9yeS5jaGFuZ2VDb21wYW55Q3VycmVuY3koe1xyXG4gICAgICAgICAgICBjb252ZXJzaW9uRmFjdG9yLFxyXG4gICAgICAgICAgICBjdXJyZW5jeUNvZGU6IGN1cnJlbmN5XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgbGV0IHVwZGF0ZWREYXRhID0gT2JqZWN0LmFzc2lnbihjb21wYW55U3RvcmUuZ2V0KCksIHtcclxuICAgICAgICAgICAgY3VycmVudEN1cnJlbmN5OiB7XHJcbiAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBjdXJyZW5jeVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGNvbXBhbnlTdG9yZS5zZXQodXBkYXRlZERhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInRvZG9DdHJsXCIsIHRvZG9DdHJsKTtcblxuICBmdW5jdGlvbiB0b2RvQ3RybChcbiAgICAkc2NvcGUsXG4gICAgJHRpbWVvdXQsXG4gICAgYXV0aEZhY3RvcnksXG4gICAgJHN0YXRlLFxuICAgIGFwaUZhY3RvcnksXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHMsXG4gICAgVXBsb2FkLFxuICAgIG1vbWVudFxuICApIHtcbiAgICAvKiBSZXF1aXJpbmcgdmFycyAqL1xuXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcbiAgICB2bS5kdW1teSA9IFtcbiAgICAgIHsgbmFtZTogXCJzZWxlY3QgMS5cIiB9LFxuICAgICAgeyBuYW1lOiBcInNlbGVjdCAyLlwiIH0sXG4gICAgICB7IG5hbWU6IFwic2VsZWN0IDMuXCIgfSxcbiAgICAgIHsgbmFtZTogXCJzZWxlY3QgNC5cIiB9LFxuICAgICAgeyBuYW1lOiBcInNlbGVjdCA1LlwiIH1cbiAgICBdO1xuXG4gICAgdm0udG9kYXlEYXRlID0gbW9tZW50KClcbiAgICB2bS5kYXRlRm9ybWF0ID0gJ1lZWVkvTU0vREQgaGg6bW06c3MnO1xuICAgIFxuICAgIHZtLmNyZWF0ZVRvZG9MaXN0ID0gKGZvcm1EYXRhLCB2YWxpZCkgPT4ge1xuICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICQoXCIjdG9kb19tb2RhbFwiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgIHZhciBkYXRhID0gZm9ybURhdGE7XG4gICAgICAgIGRhdGEuZGF0ZSA9IG1vbWVudChkYXRhLmRhdGUpLmZvcm1hdCgnWVlZWS9NTS9ERCBoaDptbTpzcycpXG4gICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAuY3JlYXRlVG9kb0xpc3QoZGF0YSlcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhcGlGYWN0b3J5Lmxpc3RBbGxUb2RvTGlzdCgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4obGlzdFRvZG9zKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmVycm9yKFwiUGxlYXNlIGZpbGwgYWxsIHRoZSBkZXRhaWxzXCIpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdm0udG9kYXlEYXRlID0gbmV3IERhdGUoKVxuXG4gICAgdm0ucmVzZXRGb3JtID0gKHJlcyk9PntcbiAgICAgIHZtLnRvZG9EYXRhID0ge307XG4gICAgfVxuICAgIFxuICAgIGFwaUZhY3RvcnlcbiAgICAgIC5nZXRBbGxNZW1iZXJzSW5DdXJyZW50Q29tcGFueSh1c2VyU3RvcmUuZ2V0KCkuY29tcGFueUlkKVxuICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgIHZtLmNvbXBhbnlVc2VycyA9IHJlc3AuZGF0YS5kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5jb21wYW55VXNlcnMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgICB9KTtcblxuICAgIGFwaUZhY3RvcnlcbiAgICAgIC5saXN0QWxsVG9kb0xpc3QoKVxuICAgICAgLnRoZW4obGlzdFRvZG9zKVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcihlcnIuZGF0YS5tZXNzYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgLyogTG9hZCB0b2RvcyAqL1xuICAgIGZ1bmN0aW9uIGxpc3RUb2RvcyhyZXNwKSB7XG4gICAgICAkc2NvcGUudG9kb19saXN0ID0gcmVzcC5kYXRhLmRhdGE7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwidG9kb1ZpZXdDdHJsXCIsIHRvZG9WaWV3Q3RybCk7XG5cbiAgZnVuY3Rpb24gdG9kb1ZpZXdDdHJsKFxuICAgICRzY29wZSxcbiAgICAkdGltZW91dCxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICAkc3RhdGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICAkc3RhdGVQYXJhbXMsXG4gICAgTm90aWZpY2F0aW9uLFxuICAgIGdsb2JhbHMsXG4gICAgVXBsb2FkXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG5cbiAgICAkc2NvcGUudG9kb19saXN0ID0gW1xuICAgICAgICB7IGltZzogJy9hc3NldHMvaW1hZ2VzL1RvLURvLUljb24ucG5nJywgc3VidGl0bGU6ICcxLicsIHRpdGxlOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdCxzZWQgZG8gZWl1c21vZCB0ZW1wb3IuJywgd29yazogJ0luIDEgSG91cicsIGNsYXNzbmFtZTogJ3JlZC1jb2xvcicgfSxcbiAgICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnMi4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiAxIERheScsIGNsYXNzbmFtZTogJ3llbGxvdy1jb2xvcicgfSxcbiAgICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnMy4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiAxIFdlZWsnLCBjbGFzc25hbWU6ICdncmVlbi1jb2xvcicgfSxcbiAgICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnNC4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiAyIFdlZWtzJywgY2xhc3NuYW1lOiAnZ3JheS1jb2xvcicgfSxcbiAgICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnNS4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiAzIFdlZWtzJywgY2xhc3NuYW1lOiAnZ3JheS1jb2xvcicgfSxcbiAgICAgICAgeyBpbWc6ICcvYXNzZXRzL2ltYWdlcy9Uby1Eby1JY29uLnBuZycsIHN1YnRpdGxlOiAnNi4nLCB0aXRsZTogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQsc2VkIGRvIGVpdXNtb2QgdGVtcG9yLicsIHdvcms6ICdJbiA0IFdlZWtzJywgY2xhc3NuYW1lOiAnZ3JheS1jb2xvcicgfVxuICAgIF1cblxuICAgIFxuICAgIGxldCB2bSA9IHRoaXM7XG4gICAgY29uc3QgeyBsb2dvdXQsIHVzZXJTdG9yZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdm0ubG9nb3V0ID0gKCkgPT4ge1xuICAgICAgICBsb2dvdXQoKTtcbiAgICB9O1xuICAgIC8qIEdldCBwcm9qZWN0IGxpc3QgKi9cbiAgICB2bS51c2VyRGF0YSA9IHVzZXJTdG9yZS5nZXQoKTtcblxuICAgIGxldCB0b2RvTGlzdElkID0gJHN0YXRlUGFyYW1zLmlkO1xuICAgIGFwaUZhY3RvcnkubGlzdEFsbFRvZG9MaXN0KHRvZG9MaXN0SWQpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAkc2NvcGUudG9kbyAgPSByZXNwLmRhdGEuZGF0YTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgTm90aWZpY2F0aW9uLmVycm9yKGVyci5kYXRhLm1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgdm0udXBkYXRlVG9kbyA9IChmb3JtRGF0YSkgPT4ge1xuICAgICAgdmFyIGRhdGEgPSBmb3JtRGF0YTtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAudXBkYXRlVG9kb0xpc3QodG9kb0xpc3RJZCxkYXRhKVxuICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAkc2NvcGUudG9kbyAgPSByZXNwLmRhdGEuZGF0YTtcbiAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIlVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBOb3RpZmljYXRpb24uZXJyb3IoZXJyLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJ2aXN1YWxQbGFubmVyQ3RybFwiLCB2aXN1YWxQbGFubmVyQ3RybCk7XG5cbiAgZnVuY3Rpb24gdmlzdWFsUGxhbm5lckN0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgICRzdGF0ZSxcbiAgICAkbG9jYXRpb24sXG4gICAgZ2xvYmFscyxcbiAgICBhdXRoRmFjdG9yeSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBjb21tb25WUEZhY3RvcnksXG4gICAgdG9vbHNWUEZhY3RvcnksXG4gICAgc2hhcGVzVlBGYWN0b3J5LFxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UsXG4gICAgZXZlbnRzVlBGYWN0b3J5LFxuICAgIGxheWVyc1ZQRmFjdG9yeVxuICApIHtcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlIH0gPSBnbG9iYWxzO1xuICAgIGlmICghYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJzaG93XCIpO1xuXG4gICAgLyogRHJhZyBhbmQgZHJvcCAqL1xuICAgIC8vIGRyYWdFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlkaXZcIikpO1xuICAgICQoXCIuZHJhZ19lbGVtZW50XCIpLm1vdXNlZG93bihmdW5jdGlvbigpIHtcbiAgICAgIGRyYWdFbGVtZW50KFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAuY2xvc2VzdChcImRpdlwiKVxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZHJhZ0VsZW1lbnQoZWxtbnQsIGUpIHtcbiAgICAgIHZhciBwb3MxID0gMCxcbiAgICAgICAgcG9zMiA9IDAsXG4gICAgICAgIHBvczMgPSAwLFxuICAgICAgICBwb3M0ID0gMDtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG1udC5pZCArIFwiaGVhZGVyXCIpKSB7XG4gICAgICAgIC8qIGlmIHByZXNlbnQsIHRoZSBoZWFkZXIgaXMgd2hlcmUgeW91IG1vdmUgdGhlIERJViBmcm9tOiovXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGVsbW50LmlkICsgXCJoZWFkZXJcIlxuICAgICAgICApLm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIG90aGVyd2lzZSwgbW92ZSB0aGUgRElWIGZyb20gYW55d2hlcmUgaW5zaWRlIHRoZSBESVY6Ki9cbiAgICAgICAgZWxtbnQub25tb3VzZWRvd24gPSBkcmFnTW91c2VEb3duO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkcmFnTW91c2VEb3duKGUpIHtcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIGdldCB0aGUgbW91c2UgY3Vyc29yIHBvc2l0aW9uIGF0IHN0YXJ0dXA6XG4gICAgICAgIHBvczMgPSBlLmNsaWVudFg7XG4gICAgICAgIHBvczQgPSBlLmNsaWVudFk7XG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGNsb3NlRHJhZ0VsZW1lbnQ7XG4gICAgICAgIC8vIGNhbGwgYSBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY3Vyc29yIG1vdmVzOlxuICAgICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGVsZW1lbnREcmFnO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBlbGVtZW50RHJhZyhlKSB7XG4gICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246XG4gICAgICAgIHBvczEgPSBwb3MzIC0gZS5jbGllbnRYO1xuICAgICAgICBwb3MyID0gcG9zNCAtIGUuY2xpZW50WTtcbiAgICAgICAgcG9zMyA9IGUuY2xpZW50WDtcbiAgICAgICAgcG9zNCA9IGUuY2xpZW50WTtcbiAgICAgICAgLy8gc2V0IHRoZSBlbGVtZW50J3MgbmV3IHBvc2l0aW9uOlxuICAgICAgICBlbG1udC5zdHlsZS50b3AgPSBlbG1udC5vZmZzZXRUb3AgLSBwb3MyICsgXCJweFwiO1xuICAgICAgICBlbG1udC5zdHlsZS5sZWZ0ID0gZWxtbnQub2Zmc2V0TGVmdCAtIHBvczEgKyBcInB4XCI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQoKSB7XG4gICAgICAgIC8qIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOiovXG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7XG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBkcmFnIGFuZCBkcm9wIC1lbmQgKi9cblxuICAgIC8qIEF1dGhvcml6ZSB1c2VyICovXG4gICAgdmFyIHVzZXJQcmVzZW50ID0gYXV0aEZhY3RvcnkuY2hlY2tVc2VyKCk7XG4gICAgaWYgKCF1c2VyUHJlc2VudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgY29udGVudEVsZW1lbnQ6ICcjdmlzdWFsUGxhbm5lckRpYWxvZycsXG4gICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiBmYWxzZSxcbiAgICAgICAgZXNjYXBlVG9DbG9zZTogZmFsc2VcbiAgICAgIH0pOyAqL1xuXG4gICAgdmFyIHZtID0gdGhpcztcbiAgICAvLyBXYWl0IGZvciB0aGUgZG9jdW1lbnQgdG8gbG9hZCBiZWZvcmUgc2V0dGluZyB1cCB0aGUgY2FudmFzIHN0YWdlXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXG4gICAgICAgIFByZWxvYWQgZnVuY3Rpb25hbGl0eVxuICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgdm0uaGlkZUluaXRNb2RhbCA9IGZhbHNlO1xuXG4gICAgdm0ucm9vZlBsYW5zID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJyb29mUGxhbnNcIik7XG5cbiAgICB2bS5zZWxlY3RQbGFuID0gZnVuY3Rpb24ocGxhbikge1xuICAgICAgdm0uc2VsZWN0ZWRQbGFuID0gcGxhbi5faWQ7XG4gICAgICBsb2FkUGxhbm5lcihwbGFuKTtcbiAgICAgIHZtLmhpZGVJbml0TW9kYWwgPSB0cnVlO1xuICAgIH07XG4gICAgdm0uc2VsZWN0UGxhbihsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInNlbGVjdGVkUGxhblwiKSk7XG4gICAgLy8gdm0uY2hvb3NlUGxhbiA9IGZ1bmN0aW9uKHBsYW5JZCkge1xuICAgIC8vICAgdmFyIHBsYW4gPSB2bS5yb29mUGxhbnMuZmlsdGVyKGZ1bmN0aW9uKHgpIHtcbiAgICAvLyAgICAgcmV0dXJuIHguX2lkID09PSBwbGFuSWQ7XG4gICAgLy8gICB9KVswXTtcbiAgICAvLyAgICQoXCIjY2hvb3NlUm9vZk1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAvLyAgIHZtLnNlbGVjdFBsYW4ocGxhbik7XG4gICAgLy8gfTtcblxuICAgIC8vIHZtLmNob29zZVBsYW4obG9jYWxTdG9yYWdlU2VydmljZS5nZXQoXCJzZWxlY3RlZFBsYW5cIikpO1xuXG4gICAgdm0uY2xvc2VWaXN1YWxQbGFubmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgJChcIiNjaG9vc2VSb29mTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgJHN0YXRlLmdvKFwiZGFzaGJvYXJkXCIpO1xuICAgIH07XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcbiAgICAgICBFbmQgb2YgUHJlbG9hZCBmdW5jdGlvbmFsaXR5XG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIGZ1bmN0aW9uIGxvYWRQbGFubmVyKHJvb2ZQbGFuKSB7XG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcbiAgICAgICAgICBFc3NlbnRpYWwgdmFyc1xuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgIC8qIEhlbHBlciB2YXJzICovXG5cbiAgICAgIHZhciBsb2FkRnJvbUpzb24gPSByb29mUGxhbi5wbGFubmVyRGF0YVxuICAgICAgICA/IHJvb2ZQbGFuLnBsYW5uZXJEYXRhLmluaXRpYWxpemVkXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgICAvKiBFeHBvc2Ugc2hhcGUgc2VsZWN0aW9uIG1ldGhvZGRzICovXG5cbiAgICAgIHZhciBzZWxlY3RlZFNoYXBlID0gY29tbW9uVlBGYWN0b3J5LnNlbGVjdGVkU2hhcGUoKTtcblxuICAgICAgLyogQ29sb3IgcGlja2VyIGNvbmZpZyAqL1xuXG4gICAgICB2YXIgY29sb3JQaWNrZXIgPSB0b29sc1ZQRmFjdG9yeS5jb2xvclBpY2tlcigpO1xuICAgICAgLyogbWFrZSB0aGlzIG9iamVjdCBhdmFpbGFibGUgdG8gc2hhcGUgZmFjdG9yeSBzbyBpdCBjYW4gZmV0Y2ggdGhlIHByb3BzICovXG4gICAgICBzaGFwZXNWUEZhY3RvcnkuZ2V0U2hhcGVUb29scyhjb2xvclBpY2tlcik7XG5cbiAgICAgIHZtLnNoYXBlUHJvcHMgPSB7XG4gICAgICAgIGNvbG9yVHlwZTogXCJzdHJva2VDb2xvclwiLFxuICAgICAgICBzdHJva2VDb2xvcjogXCJyZ2JhKDAgLDAgLCAwICwgMSlcIixcbiAgICAgICAgZmlsbENvbG9yOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41NylcIixcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDFcbiAgICAgIH07XG5cbiAgICAgIC8qIENvbG9yIFBpY2tlciBPcHRpb25zICovXG5cbiAgICAgIHZtLmNwT3B0aW9ucyA9IHtcbiAgICAgICAgc3dhdGNoOiB0cnVlLFxuICAgICAgICBpbnB1dENsYXNzOiBcImgtMzBcIixcbiAgICAgICAgZm9ybWF0OiBcInJnYlwiLFxuICAgICAgICBjYXNlOiBcImxvd2VyXCIsXG4gICAgICAgIGFscGhhOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICAvKiBDb2xvciBQaWNrZXIgRXZlbnRzICovXG4gICAgICB2bS5jcEV2ZW50cyA9IHtcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xuICAgICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgICBvYmouc3Ryb2tlID0gdm0uc2hhcGVQcm9wcy5zdHJva2VDb2xvcjtcbiAgICAgICAgICBvYmouZmlsbCA9IHZtLnNoYXBlUHJvcHMuZmlsbENvbG9yO1xuICAgICAgICAgIGNvbG9yUGlja2VyLnNldChvYmopO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvKiBib3VuZCB0byBuZyBjaGFuZ2Ugb2YgdGhlIHNsaWRlciAqL1xuICAgICAgdm0uY2hhbmdlU3Ryb2tlV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29sb3JQaWNrZXIuc2V0KHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogdm0uc2hhcGVQcm9wcy5zdHJva2VXaWR0aFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8qIEVuZCBvZiBjb2xvciBwaWNrZXIgY29uZmlnICovXG5cbiAgICAgIC8qIENyZWF0aW5nIHRoZSBzdGFnZSAqL1xuXG4gICAgICB2YXIgc3RhZ2UgPSBjb21tb25WUEZhY3RvcnkuY3JlYXRlU3RhZ2UoXG4gICAgICAgIFwic3RhZ2VcIixcbiAgICAgICAge1xuICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgICB9LFxuICAgICAgICByb29mUGxhbi5wbGFubmVyRGF0YVxuICAgICAgKTtcblxuICAgICAgLyogQ2hlY2sgaWYgcm9vZlBsYW5zIGhhcyBleGlzdGluZyBkcmF3aW5ncyAqL1xuXG4gICAgICB2YXIgc3RhZ2VFdmVudHMgPSBldmVudHNWUEZhY3Rvcnkuc3RhZ2VFdmVudHMoc3RhZ2UpO1xuXG4gICAgICBzdGFnZUV2ZW50cy5yZWdpc3RlcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLyogcmVnaXN0ZXIgbW91c2UgbW92ZSBldmVudCBmb3Igc3RhZ2UgKi9cbiAgICAgICAgdm0ucG9pbnRlclBvc2l0aW9uID0ge1xuICAgICAgICAgIHg6IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLngsXG4gICAgICAgICAgeTogc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9KTtcblxuICAgICAgLyogSW5pdGlhbGl6aW5nIGRyYXcgc3RhdGUgKi9cblxuICAgICAgdmFyIGRyYXdTdGF0ZSA9IGNvbW1vblZQRmFjdG9yeS5kcmF3U3RhdGUoKTtcblxuICAgICAgJHNjb3BlLiRvbihcImRyYXdTdGF0ZUNoYW5nZVwiLCBmdW5jdGlvbihlLCBkcmF3U3RhdGVzKSB7XG4gICAgICAgIHZtLmN1cnJlbnREcmF3U3RhdGUgPSBkcmF3U3RhdGVzO1xuICAgICAgfSk7XG5cbiAgICAgIC8qIENyZWF0aW5nIHRoZSBiYXNlIGxheWVyICovXG4gICAgICB2YXIgYmFzZUxheWVyID0gbG9hZEZyb21Kc29uXG4gICAgICAgID8gc3RhZ2UuZ2V0Q2hpbGRyZW4oKVswXVxuICAgICAgICA6IGxheWVyc1ZQRmFjdG9yeS5jcmVhdGVMYXllcihzdGFnZSk7XG5cbiAgICAgIHZhciBwcm9jZXNzU3RvcmUgPSBsYXllcnNWUEZhY3RvcnkuaW5pdGlhdGVQcm9jZXNzKHN0YWdlLCBiYXNlTGF5ZXIpO1xuXG4gICAgICB2YXIgc2VsZWN0aW9uU3RvcmUgPSBjb21tb25WUEZhY3Rvcnkuc2VsZWN0aW9uU3RvcmUoKTtcblxuICAgICAgLyogSW5pdGlhbGl6aW5nIHRyYW5zZm9ybWVyIHN0b3JlIGZvciBzaGFwZXMgKi9cblxuICAgICAgdmFyIHRyYW5zZm9ybWVyU3RvcmUgPSBjb21tb25WUEZhY3RvcnkudHJhbnNmb3JtZXJzKGJhc2VMYXllcik7XG5cbiAgICAgIC8qIEFkZGluZyByb29mIHBsYW4gaW1hZ2UgdG8gdGhlIGJhc2UgbGF5ZXIgKi9cblxuICAgICAgLyogIEluaXRpYWxpemluZyBjYWxpYnJhdG9yICovXG5cbiAgICAgIHZhciBjYWxpYnJhdG9yID0gc2hhcGVzVlBGYWN0b3J5LmNhbGlicmF0b3Ioc3RhZ2UsIGJhc2VMYXllcik7XG5cbiAgICAgIHZhciBjYWxpYnJhdGlvblN0YXRlID0gY29tbW9uVlBGYWN0b3J5LmNhbGlicmF0aW9uU3RhdGUoKTtcblxuICAgICAgLyogSW5pdGlhbGl6aW5nIG1ldHJpYyBmdW5jdGlvbiAqL1xuXG4gICAgICB2YXIgbWV0cmljcyA9IHRvb2xzVlBGYWN0b3J5Lm1ldHJpY3MoKTtcblxuICAgICAgdm0uc2hvd1BhbmVsID0gZmFsc2U7XG4gICAgICB2bS56b29tTGV2ZWwgPSAxMDA7XG4gICAgICB2bS5zaGFwZUluZm87XG5cbiAgICAgIC8qIFNldHRpbmcgdXAgdGhlIGNhbGlicmF0aW9uIGFuZCBsYXllcnMgdmFsdWUgdG8gYmluZCBpdCBpbiB0aGUgdmlldyAqL1xuICAgICAgaWYgKGxvYWRGcm9tSnNvbikge1xuICAgICAgICBpZiAocm9vZlBsYW4ucGxhbm5lckRhdGEgJiYgcm9vZlBsYW4ucGxhbm5lckRhdGEuY2FsaWJyYXRpb24pIHtcbiAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLnNldChyb29mUGxhbi5wbGFubmVyRGF0YS5jYWxpYnJhdGlvbik7XG4gICAgICAgICAgLyogTG9hZCBQcm9jZXNzIGlmIGF2YWlsYWJsZSAqL1xuICAgICAgICAgIHZhciBsb2FkZWRQcm9jZXNzZXMgPSBzdGFnZVxuICAgICAgICAgICAgLmdldENoaWxkcmVuKClbMF1cbiAgICAgICAgICAgIC5nZXRDaGlsZHJlbigpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC9wcm9jZXNzKi8udGVzdCh4Lm5hbWUoKSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobG9hZGVkUHJvY2Vzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5sb2FkUHJvY2Vzc2VzKGxvYWRlZFByb2Nlc3Nlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5jcmVhdGVQcm9jZXNzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvb2ZQbGFuLnBsYW5uZXJEYXRhICYmIHJvb2ZQbGFuLnBsYW5uZXJEYXRhLmNvdW50RGF0YSkge1xuICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5sb2FkU2hhcGVJZChyb29mUGxhbi5wbGFubmVyRGF0YS5jb3VudERhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzU3RvcmUuY3JlYXRlUHJvY2VzcygpO1xuICAgICAgfVxuXG4gICAgICAvKiBCaW5kaW5nIGNhbGlicmF0aW9uIGRhdGEgdG8gdmlldyAqL1xuICAgICAgdm0uY2FsaWJyYXRpb25EYXRhID0gY2FsaWJyYXRpb25TdGF0ZS5nZXQoKTtcblxuICAgICAgdm0uZm9ybWF0Q2FsaWJyYXRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbC50b0ZpeGVkKDMpO1xuICAgICAgfTtcblxuICAgICAgLyogQmluZGluZyBwcm9jZXNzIGRhdGEgdG8gdmlldyAqL1xuICAgICAgdm0ucHJvY2Vzc2VzID0gcHJvY2Vzc1N0b3JlLmdldFByb2Nlc3NlcygpO1xuXG4gICAgICAvKiBJbml0aWFsaXppbmcgYXNzb2NpYXRpb25zIG1vZHVsZSAqL1xuXG4gICAgICB2bS5hc3NvY2lhdGlvbnMgPSBjb21tb25WUEZhY3RvcnkuYXNzb2NpYXRpb25zKCk7XG5cbiAgICAgIC8qIEluaXRpYWxpemluZyByb29mIHBsYW4gaW1hZ2UgKi9cblxuICAgICAgdmFyIGltYWdlT2JqID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZU9iai5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XG5cbiAgICAgIGlmIChyb29mUGxhbi5wbGFubmVyRGF0YSAmJiByb29mUGxhbi5wbGFubmVyRGF0YS5qc29uU3RyaW5nKSB7XG4gICAgICAgIGltYWdlT2JqLnNyYyA9IHJvb2ZQbGFuLmFzc2V0T2JqLnVybDtcbiAgICAgICAgaW1hZ2VPYmoub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGltYWdlQ29udGFpbmVyID0gYmFzZUxheWVyLmdldChcIiNiZ0ltYWdlXCIpWzBdO1xuICAgICAgICAgIGltYWdlQ29udGFpbmVyLmltYWdlKGltYWdlT2JqKTtcblxuICAgICAgICAgIHZtLmltYWdlUHJvcHMgPSB7XG4gICAgICAgICAgICB4OiBNYXRoLnJvdW5kKGltYWdlQ29udGFpbmVyLndpZHRoKCkpLFxuICAgICAgICAgICAgeTogTWF0aC5yb3VuZChpbWFnZUNvbnRhaW5lci5oZWlnaHQoKSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHN0YWdlLmRyYXcoKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlT2JqLnNyYyA9IHJvb2ZQbGFuLmFzc2V0T2JqLnVybDtcblxuICAgICAgICBpbWFnZU9iai5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvKiBTZXR0aW5nIGltYWdlIHByb3BzICovXG4gICAgICAgICAgdmFyIGltYWdlSGVpZ2h0ID0gTWF0aC5yb3VuZChzdGFnZS5oZWlnaHQoKSAtIDc1KTtcbiAgICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBpbWFnZU9iai5oZWlnaHQgLyBpbWFnZUhlaWdodDtcbiAgICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IE1hdGgucm91bmQoaW1hZ2VPYmoud2lkdGggLyBhc3BlY3RSYXRpbyk7XG5cbiAgICAgICAgICB2bS5pbWFnZVByb3BzID0ge1xuICAgICAgICAgICAgeDogaW1hZ2VXaWR0aCxcbiAgICAgICAgICAgIHk6IGltYWdlSGVpZ2h0XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBiZ0ltYWdlID0gbmV3IEtvbnZhLkltYWdlKHtcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZU9iaixcbiAgICAgICAgICAgIG5hbWU6IFwiYmdJbWFnZVwiLFxuICAgICAgICAgICAgaWQ6IFwiYmdJbWFnZVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZUhlaWdodCxcbiAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDEsXG4gICAgICAgICAgICBzaGFkb3dPZmZzZXRZOiAxLFxuICAgICAgICAgICAgc2hhZG93T3BhY2l0eTogMC41LFxuICAgICAgICAgICAgeDogc3RhZ2Uud2lkdGgoKSAvIDIgLSBpbWFnZVdpZHRoIC8gMixcbiAgICAgICAgICAgIC8qIENlbnRlcmluZyB0aGUgaW1hZ2Ugb24gdGhlIHN0YWdlICovXG4gICAgICAgICAgICB5OiAyMCxcbiAgICAgICAgICAgIHdpZHRoOiBpbWFnZVdpZHRoXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBiZ0ltYWdlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBhZGQgdGhlIHNoYXBlIHRvIHRoZSBsYXllclxuICAgICAgICAgIGJhc2VMYXllci5hZGQoYmdJbWFnZSk7XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICAvLyBtb3ZlIEJHIGxheWVyIHRvIGJvdHRvbVxuICAgICAgICAgIGJhc2VMYXllci5tb3ZlVG9Cb3R0b20oKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLyogSW5pdGlhdGluZyBhY3Rpb24gc3RhdGVzIGZvciB1bmRvIGFuZCByZWRvICovXG4gICAgICB2YXIgYWN0aW9uU3RhdGVzID0gY29tbW9uVlBGYWN0b3J5LmFjdGlvblN0YXRlcygpO1xuXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBcbiAgICAgICAgICBFbmQgb2YgZXNzZW50aWFsIHZhcnNcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxuICAgICAgICAgIFJlZ2lzdGVyaW5nIGV2ZW50cyBcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICB2YXIgd2luZG93RXZlbnQgPSBldmVudHNWUEZhY3Rvcnkud2luZG93RXZlbnRzKHdpbmRvdyk7XG4gICAgICB3aW5kb3dFdmVudC5yZWdpc3RlcihzdGFnZSk7XG4gICAgICB2bS5oaXN0b3J5UG9zID0ge1xuICAgICAgICB4OiB1bmRlZmluZWQsXG4gICAgICAgIHk6IHVuZGVmaW5lZFxuICAgICAgfTtcbiAgICAgIC8qIEV2ZW50IGxpc3RlbmVyIGZvciB6b29tIGZ1bmN0aW9uYWxpdHkgKi9cblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzY2FsZUJ5ID0gMS4xNTtcblxuICAgICAgICAvKiBEaXNhYmxlIHNjcm9sbCBvbmx5IG9uIHZpc3VhbCBwbGFubmVyIHN0YXRlICovXG4gICAgICAgICRzdGF0ZS4kY3VycmVudC5uYW1lID09PSBcInZpc3VhbFBsYW5uZXJcIiAmJlxuICAgICAgICAgIC8qIEFsc28gYWxsb3cgc2Nyb2xsIGluc2lkZSBwb3AtdXBzICovXG4gICAgICAgICAgIS9tb2RhbC1vcGVuLy50ZXN0KFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLmNsYXNzTmFtZVxuICAgICAgICAgICkgJiZcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgLyogQ2VudGVyIHBvc2l0aW9uICovXG5cbiAgICAgICAgdmFyIGNlbnRlclkgPSBNYXRoLnJvdW5kKHN0YWdlLmhlaWdodCgpIC8gMiksXG4gICAgICAgICAgY2VudGVyWCA9IE1hdGgucm91bmQoc3RhZ2Uud2lkdGgoKSAvIDIpO1xuXG4gICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICB2YXIgb2xkU2NhbGUgPSBiYXNlTGF5ZXIuc2NhbGVYKCk7XG4gICAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcbiAgICAgICAgICAgIHg6XG4gICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnggLyBvbGRTY2FsZSAtXG4gICAgICAgICAgICAgIGJhc2VMYXllci54KCkgLyBvbGRTY2FsZSxcbiAgICAgICAgICAgIHk6XG4gICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnkgLyBvbGRTY2FsZSAtIGJhc2VMYXllci55KCkgLyBvbGRTY2FsZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgbmV3U2NhbGUgPSBlLmRlbHRhWSA8IDAgPyBvbGRTY2FsZSAqIHNjYWxlQnkgOiBvbGRTY2FsZSAvIHNjYWxlQnk7XG4gICAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcbiAgICAgICAgICAgIHg6IG5ld1NjYWxlLFxuICAgICAgICAgICAgeTogbmV3U2NhbGVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBuZXdQb3MgPSB7XG4gICAgICAgICAgICB4OlxuICAgICAgICAgICAgICAtKG1vdXNlUG9pbnRUby54IC0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCkueCAvIG5ld1NjYWxlKSAqXG4gICAgICAgICAgICAgIG5ld1NjYWxlLFxuICAgICAgICAgICAgeTpcbiAgICAgICAgICAgICAgLShtb3VzZVBvaW50VG8ueSAtIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLnkgLyBuZXdTY2FsZSkgKlxuICAgICAgICAgICAgICBuZXdTY2FsZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXG4gICAgICAgICAgdmFyIGltYWdlUHJvcHMgPSB7XG4gICAgICAgICAgICB5OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0uaGVpZ2h0KCkgKiBuZXdTY2FsZSksXG4gICAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxuICAgICAgICAgIH07XG4gICAgICAgICAgdm0uaW1hZ2VQcm9wcyA9IGltYWdlUHJvcHM7XG5cbiAgICAgICAgICB2bS56b29tTGV2ZWwgPSBNYXRoLnJvdW5kKGJhc2VMYXllci5zY2FsZSgpLnggKiAxMDApO1xuICAgICAgICAgIHRvb2xzVlBGYWN0b3J5LnNjYWxlVHJhbnNmb3JtZXJCYXNlZE9uWm9vbShiYXNlTGF5ZXIpO1xuXG4gICAgICAgICAgLy8gYWRkaW5nIHpvb20gbGV2ZWwgZm9yIGRpc3BsYXlcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XG4gICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09IFwiQ0FOVkFTXCIpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmNhbmNlbERyYXdpbmcoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLyogWm9vbSB1c2luZyBidXR0b24gKi9cblxuICAgICAgdm0uem9vbUJ1dHRvbiA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgLy8gMCAtIGluICwgMSAtIG91dFxuXG4gICAgICAgIHZhciBjZW50ZXJZID0gTWF0aC5yb3VuZChzdGFnZS5oZWlnaHQoKSAvIDIpLFxuICAgICAgICAgIGNlbnRlclggPSBNYXRoLnJvdW5kKHN0YWdlLndpZHRoKCkgLyAyKTtcbiAgICAgICAgdmFyIHNjYWxlQnkgPSAxLjE1O1xuICAgICAgICB2YXIgb2xkU2NhbGUgPSBiYXNlTGF5ZXIuc2NhbGVYKCk7XG4gICAgICAgIHZhciBtb3VzZVBvaW50VG8gPSB7XG4gICAgICAgICAgeDogY2VudGVyWCAvIG9sZFNjYWxlIC0gYmFzZUxheWVyLngoKSAvIG9sZFNjYWxlLFxuICAgICAgICAgIHk6IGNlbnRlclkgLyBvbGRTY2FsZSAtIGJhc2VMYXllci55KCkgLyBvbGRTY2FsZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbmV3U2NhbGUgPSB0eXBlID4gMCA/IG9sZFNjYWxlICogc2NhbGVCeSA6IG9sZFNjYWxlIC8gc2NhbGVCeTtcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcbiAgICAgICAgICB4OiBuZXdTY2FsZSxcbiAgICAgICAgICB5OiBuZXdTY2FsZVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG5ld1BvcyA9IHtcbiAgICAgICAgICB4OiAtKG1vdXNlUG9pbnRUby54IC0gY2VudGVyWCAvIG5ld1NjYWxlKSAqIG5ld1NjYWxlLFxuICAgICAgICAgIHk6IC0obW91c2VQb2ludFRvLnkgLSBjZW50ZXJZIC8gbmV3U2NhbGUpICogbmV3U2NhbGVcbiAgICAgICAgfTtcblxuICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXG4gICAgICAgIHZhciBpbWFnZVByb3BzID0ge1xuICAgICAgICAgIHk6IE1hdGgucm91bmQoYmFzZUxheWVyLmZpbmQoXCIjYmdJbWFnZVwiKVswXS5oZWlnaHQoKSAqIG5ld1NjYWxlKSxcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxuICAgICAgICB9O1xuICAgICAgICB2bS5pbWFnZVByb3BzID0gaW1hZ2VQcm9wcztcbiAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XG4gICAgICAgIHZtLnpvb21MZXZlbCA9IE1hdGgucm91bmQoYmFzZUxheWVyLnNjYWxlKCkueCAqIDEwMCk7XG5cbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XG4gICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgfTtcblxuICAgICAgdm0uem9vbVNsaWRlciA9IGZ1bmN0aW9uKHBlcmNlbnRhZ2UpIHtcbiAgICAgICAgdmFyIGNlbnRlclkgPSBNYXRoLnJvdW5kKHN0YWdlLmhlaWdodCgpIC8gMiksXG4gICAgICAgICAgY2VudGVyWCA9IE1hdGgucm91bmQoc3RhZ2Uud2lkdGgoKSAvIDIpO1xuXG4gICAgICAgIHZhciBvbGRTY2FsZSA9IGJhc2VMYXllci5zY2FsZVgoKTtcbiAgICAgICAgdmFyIG1vdXNlUG9pbnRUbyA9IHtcbiAgICAgICAgICB4OiBjZW50ZXJYIC8gb2xkU2NhbGUgLSBiYXNlTGF5ZXIueCgpIC8gb2xkU2NhbGUsXG4gICAgICAgICAgeTogY2VudGVyWSAvIG9sZFNjYWxlIC0gYmFzZUxheWVyLnkoKSAvIG9sZFNjYWxlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG5ld1NjYWxlID0gcGVyY2VudGFnZSAvIDEwMDtcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcbiAgICAgICAgICB4OiBuZXdTY2FsZSxcbiAgICAgICAgICB5OiBuZXdTY2FsZVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG5ld1BvcyA9IHtcbiAgICAgICAgICB4OiAtKG1vdXNlUG9pbnRUby54IC0gY2VudGVyWCAvIG5ld1NjYWxlKSAqIG5ld1NjYWxlLFxuICAgICAgICAgIHk6IC0obW91c2VQb2ludFRvLnkgLSBjZW50ZXJZIC8gbmV3U2NhbGUpICogbmV3U2NhbGVcbiAgICAgICAgfTtcblxuICAgICAgICAvKiBDaGFuZ2UgaW1hZ2UgcmVzb2x1dGlvbiB3aXRoIHNjYWxlICovXG4gICAgICAgIHZhciBpbWFnZVByb3BzID0ge1xuICAgICAgICAgIHk6IE1hdGgucm91bmQoYmFzZUxheWVyLmZpbmQoXCIjYmdJbWFnZVwiKVswXS5oZWlnaHQoKSAqIG5ld1NjYWxlKSxcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGJhc2VMYXllci5maW5kKFwiI2JnSW1hZ2VcIilbMF0ud2lkdGgoKSAqIG5ld1NjYWxlKVxuICAgICAgICB9O1xuICAgICAgICB2bS5pbWFnZVByb3BzID0gaW1hZ2VQcm9wcztcbiAgICAgICAgdG9vbHNWUEZhY3Rvcnkuc2NhbGVUcmFuc2Zvcm1lckJhc2VkT25ab29tKGJhc2VMYXllcik7XG4gICAgICAgIHZtLnpvb21MZXZlbCA9IE1hdGgucm91bmQoYmFzZUxheWVyLnNjYWxlKCkueCAqIDEwMCk7XG5cbiAgICAgICAgYmFzZUxheWVyLnBvc2l0aW9uKG5ld1Bvcyk7XG4gICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgfTtcblxuICAgICAgLyogZnVuY3Rpb24gdG8gcmVzZXQgem9vbSAqL1xuXG4gICAgICB2bS5yZXNldFpvb20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uem9vbUxldmVsID0gMTAwO1xuICAgICAgICBiYXNlTGF5ZXIucG9zaXRpb24oe1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9KTtcbiAgICAgICAgYmFzZUxheWVyLnNjYWxlKHtcbiAgICAgICAgICB4OiAxLFxuICAgICAgICAgIHk6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YWdlLmJhdGNoRHJhdygpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGJhc2VMYXllckV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LmxheWVyRXZlbnRzKGJhc2VMYXllcik7XG5cbiAgICAgIC8qIERlZmF1bHQgYmFzZWxheWVyIGNsaWNrIGV2ZW50ICovXG4gICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gXCJJbWFnZVwiKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICB2bS5jbG9zZUluZm9XaWRnZXQoKTtcbiAgICAgICAgICB2bS5jbG9zZVRleHRJbmZvV2lkZ2V0KCk7XG4gICAgICAgICAgc2VsZWN0ZWRTaGFwZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLyogRXZlbnQgd3JhcHBlcnMgKi9cblxuICAgICAgZnVuY3Rpb24gcmVjdGFuZ2xlRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBzaGFwZVR5cGUsIHByb2Nlc3MpIHtcbiAgICAgICAgdmFyIHJlY3RhbmdsZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxuICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBzaGFwZSAqL1xuICAgICAgICBpZiAoIXByb2Nlc3MpIHtcbiAgICAgICAgICAvKiBEbyBub3QgY3JlYXRlIHByb2Nlc3MgaWYgaXQncyBhbHJlYWR5IGF2YWlsYWJsZSBmcm9tIGpzb24gKi9cbiAgICAgICAgICB2YXIgY3VycmVudFByb2Nlc3MgPSBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpO1xuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MubW92ZVRvVG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogaW5pdGlhdGluZyBjdXN0b20gdHJhbnNmb3JtZXJzICovXG4gICAgICAgIHZhciBjdXN0b21UcmFuc2Zvcm1lciA9IHRvb2xzVlBGYWN0b3J5LmN1c3RvbVRyYW5zZm9ybWVyKFxuICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgIGJhc2VMYXllcixcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnNldChzaGFwZU9iamVjdC5zaGFwZS5wb2ludHMoKSk7XG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgYSBkcmFnbW92ZSBtZXRob2QgdG8gYmluZCBkcmFnbW92ZSBhbmQgY2xpY2sgZXZlbnQgdG8gdGhlIGN1c3RvbSB0cmFuc2Zvcm1lclxuICAgICAgICAgICovXG4gICAgICAgIHJlY3RhbmdsZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUuXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xuICAgICAgICAgICAgeDogc2hhcGVPYmplY3Quc2hhcGUueCgpLFxuICAgICAgICAgICAgeTogc2hhcGVPYmplY3Quc2hhcGUueSgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgY3VzdG9tIHRyYW5zZm9ybWVyIGV2ZW50IHRvIHRoZSBjcmVhdGVkIHBvbHlnb25cbiAgICAgICAgICAqL1xuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNjYWxlID1cbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlO1xuXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xuICAgICAgICAgICAgYXJlYTogdG9vbHNWUEZhY3RvcnkucG9seWdvbkFyZWEoc2hhcGVPYmplY3Quc2hhcGUucG9pbnRzKCksIHNjYWxlKSxcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xuXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGUucG9pbnRzKGN1c3RvbVRyYW5zZm9ybWVyLmdldFBvaW50cygpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImNsaWNrLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZS5tb3ZlVG9Ub3AoKTtcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5zaGFwZSk7XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xuICAgICAgICAgICAgeDogc2hhcGVPYmplY3Quc2hhcGUueCgpLFxuICAgICAgICAgICAgeTogc2hhcGVPYmplY3Quc2hhcGUueSgpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2bS5vcGVuSW5mb1dpZGdldCgpO1xuICAgICAgICAgIHZhciBzY2FsZSA9XG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXG4gICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgIDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZTtcblxuICAgICAgICAgIG1ldHJpY3Muc2V0U2hhcGVJbmZvKHtcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LnBvbHlnb25BcmVhKHNoYXBlT2JqZWN0LnNoYXBlLnBvaW50cygpLCBzY2FsZSksXG4gICAgICAgICAgICB1bml0OiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnVuaXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XG5cbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgIGJhc2VMYXllci5hZGQoY3VzdG9tVHJhbnNmb3JtZXIuZ2V0R3JvdXAoKSk7XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXG4gICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XG5cbiAgICAgICAgcmVjdGFuZ2xlRXZlbnQucmVnaXN0ZXIoXCJkcmFnc3RhcnQuXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBtb3ZlbWVudC5hZGQoXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRQb3NpdGlvbigpXG4gICAgICAgICAgKTsgLyogR3JhYmJpbmcgc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1vdmVtZW50ICovXG4gICAgICAgIH0pO1xuICAgICAgICByZWN0YW5nbGVFdmVudC5yZWdpc3RlcihcImRyYWdlbmQuXCIgKyBzaGFwZVR5cGUsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlLFxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICBcIm1vdmVcIixcbiAgICAgICAgICAgICAgbW92ZW1lbnQuYWRkKGUudGFyZ2V0LmdldFBvc2l0aW9uKCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGVsbGlwc2VFdmVudFdyYXBwZXIoc2hhcGVPYmplY3QsIHNoYXBlVHlwZSwgcHJvY2Vzcykge1xuICAgICAgICB2YXIgZWxsaXBzZUV2ZW50ID0gZXZlbnRzVlBGYWN0b3J5LnNoYXBlRXZlbnRzKFxuICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBlbGxpcHNlICovXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnNoYXBlKTtcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5tb3ZlVG9Ub3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIEVsbGlwc2UgdHJhbnNmb3JtZXIgc2V0dXAgKi9cblxuICAgICAgICB2YXIgZWxsaXBzZVRyYW5zZm9tZXIgPSB0b29sc1ZQRmFjdG9yeS5lbGxpcHNlVHJhbnNmb21lcihcbiAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICBiYXNlTGF5ZXIsXG4gICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGVcbiAgICAgICAgKTtcblxuICAgICAgICBlbGxpcHNlVHJhbnNmb21lci5zZXQoc2hhcGVPYmplY3Quc2hhcGUucmFkaXVzKCkpO1xuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChlbGxpcHNlVHJhbnNmb21lci5nZXRHcm91cCgpKTtcblxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJkcmFnbW92ZS5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlbGxpcHNlVHJhbnNmb21lci5kZXN0cm95KCk7XG4gICAgICAgICAgZWxsaXBzZVRyYW5zZm9tZXIgPSB0b29sc1ZQRmFjdG9yeS5lbGxpcHNlVHJhbnNmb21lcihcbiAgICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgICAgYmFzZUxheWVyLFxuICAgICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyLnNldChzaGFwZU9iamVjdC5zaGFwZS5yYWRpdXMoKSk7XG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5hZGQoZWxsaXBzZVRyYW5zZm9tZXIuZ2V0R3JvdXAoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsbGlwc2VFdmVudC5yZWdpc3RlcihcImNsaWNrLmVsbGlwc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlLm1vdmVUb1RvcCgpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgLyogcmVtb3ZlIG90aGVyIHRyYW5zZm9ybWVycyAqL1xuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgc2VsZWN0ZWRTaGFwZS5zZXQoc2hhcGVPYmplY3Quc2hhcGUpO1xuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XG4gICAgICAgICAgLyogQXJlYSBjYWxjdWxhdGlvbiAqL1xuICAgICAgICAgIHZhciBzY2FsZSA9XG4gICAgICAgICAgICBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlID09PSAwXG4gICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgIDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZTtcblxuICAgICAgICAgIG1ldHJpY3Muc2V0U2hhcGVJbmZvKHtcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LmVsbGlwc2VBcmVhKHNoYXBlT2JqZWN0LnNoYXBlLnJhZGl1cygpLCBzY2FsZSksXG4gICAgICAgICAgICB1bml0OiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnVuaXRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGVsbGlwc2VUcmFuc2ZvbWVyLmRlc3Ryb3koKTtcbiAgICAgICAgICBlbGxpcHNlVHJhbnNmb21lciA9IHRvb2xzVlBGYWN0b3J5LmVsbGlwc2VUcmFuc2ZvbWVyKFxuICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICBiYXNlTGF5ZXIsXG4gICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZVxuICAgICAgICAgICk7XG4gICAgICAgICAgZWxsaXBzZVRyYW5zZm9tZXIuc2V0KHNoYXBlT2JqZWN0LnNoYXBlLnJhZGl1cygpKTtcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLmFkZChlbGxpcHNlVHJhbnNmb21lci5nZXRHcm91cCgpKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuXG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcbiAgICAgICAgICB2bS5zaG93UGFuZWwgPSB0cnVlO1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJ0cmFuc2Zvcm1FbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvKiBBcmVhIGNhbGN1bGF0aW9uICovXG5cbiAgICAgICAgICB2YXIgc2NhbGUgPVxuICAgICAgICAgICAgY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZSA9PT0gMFxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XG5cbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5lbGxpcHNlQXJlYShzaGFwZU9iamVjdC5zaGFwZS5yYWRpdXMoKSwgc2NhbGUpLFxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2bS5zaGFwZUluZm8gPSBtZXRyaWNzLmdldFNoYXBlSW5mbygpO1xuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICAvKiBcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcbiAgICAgICAgICAqL1xuICAgICAgICB2YXIgbW92ZW1lbnQgPSBjb21tb25WUEZhY3RvcnkubW92ZW1lbnQoKTtcblxuICAgICAgICBlbGxpcHNlRXZlbnQucmVnaXN0ZXIoXCJkcmFnc3RhcnQuZWxsaXBzZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxuICAgICAgICAgICk7IC8qIEdyYWJiaW5nIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBtb3ZlbWVudCAqL1xuICAgICAgICB9KTtcbiAgICAgICAgZWxsaXBzZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC5lbGxpcHNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnNoYXBlLFxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICBcIm1vdmVcIixcbiAgICAgICAgICAgICAgbW92ZW1lbnQuYWRkKGUudGFyZ2V0LmdldFBvc2l0aW9uKCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBvbHlnb25FdmVudFdyYXBwZXIoc2hhcGVPYmplY3QsIHByb2Nlc3MpIHtcbiAgICAgICAgdmFyIHBvbHlnb25FdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBwb2x5Z29uICovXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xuICAgICAgICB2YXIgY3VzdG9tVHJhbnNmb3JtZXIgPSB0b29sc1ZQRmFjdG9yeS5jdXN0b21UcmFuc2Zvcm1lcihcbiAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICBiYXNlTGF5ZXIsXG4gICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci5zZXQoc2hhcGVPYmplY3QucG9seWdvbi5wb2ludHMoKSk7XG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgYSBkcmFnbW92ZSBtZXRob2QgdG8gYmluZCBkcmFnbW92ZSBhbmQgY2xpY2sgZXZlbnQgdG8gdGhlIGN1c3RvbSB0cmFuc2Zvcm1lclxuICAgICAgICAgICovXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLnBvbHlnb25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnVwZGF0ZSh7XG4gICAgICAgICAgICB4OiBzaGFwZU9iamVjdC5wb2x5Z29uLngoKSxcbiAgICAgICAgICAgIHk6IHNoYXBlT2JqZWN0LnBvbHlnb24ueSgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwb2x5Z29uRXZlbnQucmVnaXN0ZXIoXCJjbGljay5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci51cGRhdGUoe1xuICAgICAgICAgICAgeDogc2hhcGVPYmplY3QucG9seWdvbi54KCksXG4gICAgICAgICAgICB5OiBzaGFwZU9iamVjdC5wb2x5Z29uLnkoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBcbiAgICAgICAgICAgIERyYWdzdGFydCBhbmQgZHJhZ2VuZCBtb3ZlbWVudHMgZm9yIHVuZG8vcmVkbyBzdGF0ZXNcbiAgICAgICAgICAqL1xuICAgICAgICB2YXIgbW92ZW1lbnQgPSBjb21tb25WUEZhY3RvcnkubW92ZW1lbnQoKTtcblxuICAgICAgICBwb2x5Z29uRXZlbnQucmVnaXN0ZXIoXCJkcmFnc3RhcnQucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxuICAgICAgICAgICk7IC8qIEdyYWJiaW5nIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBtb3ZlbWVudCAqL1xuICAgICAgICB9KTtcbiAgICAgICAgcG9seWdvbkV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC5wb2x5Z29uXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24sXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgLyogXG4gICAgICAgICAgICBSZWdpc3RlcmluZyBjdXN0b20gdHJhbnNmb3JtZXIgZXZlbnQgdG8gdGhlIGNyZWF0ZWQgcG9seWdvblxuICAgICAgICAgICovXG4gICAgICAgIHBvbHlnb25FdmVudC5yZWdpc3RlcihcInRyYW5zZm9ybVBvbHlnb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNjYWxlID1cbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlO1xuXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xuICAgICAgICAgICAgYXJlYTogdG9vbHNWUEZhY3RvcnkucG9seWdvbkFyZWEoXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ucG9pbnRzKCksXG4gICAgICAgICAgICAgIHNjYWxlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcblxuICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24ucG9pbnRzKGN1c3RvbVRyYW5zZm9ybWVyLmdldFBvaW50cygpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xuICAgICAgICBwb2x5Z29uRXZlbnQucmVnaXN0ZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLm1vdmVUb1RvcCgpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgc2VsZWN0ZWRTaGFwZS5zZXQoc2hhcGVPYmplY3QucG9seWdvbik7XG4gICAgICAgICAgdm0ub3BlbkluZm9XaWRnZXQoKTtcbiAgICAgICAgICB2YXIgc2NhbGUgPVxuICAgICAgICAgICAgY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS52YWx1ZSA9PT0gMFxuICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWU7XG5cbiAgICAgICAgICBtZXRyaWNzLnNldFNoYXBlSW5mbyh7XG4gICAgICAgICAgICBhcmVhOiB0b29sc1ZQRmFjdG9yeS5wb2x5Z29uQXJlYShcbiAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbi5wb2ludHMoKSxcbiAgICAgICAgICAgICAgc2NhbGVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB1bml0OiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnVuaXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcbiAgICAgICAgICB2bS5zaG93UGFuZWwgPSB0cnVlO1xuXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmcmVlSGFuZEV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCwgcHJvY2Vzcykge1xuICAgICAgICB2YXIgZnJlZUhhbmRFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBwb2x5Z29uICovXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qIFxuICAgICAgICAgICAgRHJhZ3N0YXJ0IGFuZCBkcmFnZW5kIG1vdmVtZW50cyBmb3IgdW5kby9yZWRvIHN0YXRlc1xuICAgICAgICAgICovXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xuXG4gICAgICAgIGZyZWVIYW5kRXZlbnQucmVnaXN0ZXIoXCJkcmFnc3RhcnQucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxuICAgICAgICAgICk7IC8qIEdyYWJiaW5nIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBtb3ZlbWVudCAqL1xuICAgICAgICB9KTtcbiAgICAgICAgZnJlZUhhbmRFdmVudC5yZWdpc3RlcihcImRyYWdlbmQucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXG4gICAgICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLFxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICBcIm1vdmVcIixcbiAgICAgICAgICAgICAgbW92ZW1lbnQuYWRkKGUudGFyZ2V0LmdldFBvc2l0aW9uKCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xuICAgICAgICBmcmVlSGFuZEV2ZW50LnJlZ2lzdGVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbi5tb3ZlVG9Ub3AoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LnBvbHlnb24pO1xuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XG4gICAgICAgICAgdmFyIHNjYWxlID1cbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlO1xuICAgICAgICAgIG1ldHJpY3Muc2V0U2hhcGVJbmZvKHtcbiAgICAgICAgICAgIGFyZWE6IHRvb2xzVlBGYWN0b3J5LnBvbHlnb25BcmVhKFxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLnBvaW50cygpLFxuICAgICAgICAgICAgICBzY2FsZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHVuaXQ6IGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudW5pdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZtLnNoYXBlSW5mbyA9IG1ldHJpY3MuZ2V0U2hhcGVJbmZvKCk7XG4gICAgICAgICAgdm0uc2hvd1BhbmVsID0gdHJ1ZTtcbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsaW5lRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XG4gICAgICAgIHZhciBsaW5lRXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoc2hhcGVPYmplY3QubGluZSk7XG5cbiAgICAgICAgaWYgKCFwcm9jZXNzKSB7XG4gICAgICAgICAgLyogRG8gbm90IGNyZWF0ZSBwcm9jZXNzIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUgZnJvbSBqc29uICovXG4gICAgICAgICAgdmFyIGN1cnJlbnRQcm9jZXNzID0gcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKTtcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5hZGQoc2hhcGVPYmplY3QubGluZSk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MubW92ZVRvVG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXG4gICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XG5cbiAgICAgICAgbGluZUV2ZW50LnJlZ2lzdGVyKFwiZHJhZ3N0YXJ0LmxpbmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIG1vdmVtZW50LmFkZChcbiAgICAgICAgICAgIGUudGFyZ2V0LmdldFBvc2l0aW9uKClcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cbiAgICAgICAgfSk7XG4gICAgICAgIGxpbmVFdmVudC5yZWdpc3RlcihcImRyYWdlbmQubGluZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgLyogcHVzaGluZyB0aGUgbW92ZW1lbnQgdG8gYWN0aW9uU3RhdGUgYWZ0ZXIgdGhlIGVuZCBwb3NpdGlvbiAqL1xuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXG4gICAgICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLFxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICBcIm1vdmVcIixcbiAgICAgICAgICAgICAgbW92ZW1lbnQuYWRkKGUudGFyZ2V0LmdldFBvc2l0aW9uKCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogRW5hYmxlIHRyYW5zZm9ybWVyIG9uIHNlbGVjdCAqL1xuICAgICAgICBsaW5lRXZlbnQucmVnaXN0ZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaGFwZU9iamVjdC5saW5lLm1vdmVUb1RvcCgpO1xuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LmxpbmUpO1xuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XG4gICAgICAgICAgLy92bS5zaG93UGFuZWwgPSB0cnVlO1xuICAgICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZyZWVIYW5kTWFya2VyV3JhcHBlcihzaGFwZU9iamVjdCwgcHJvY2Vzcykge1xuICAgICAgICB2YXIgZnJlZUhhbmRFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBwb2x5Z29uICovXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LnBvbHlnb24pO1xuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qIFxuICAgICAgICAgICAgRHJhZ3N0YXJ0IGFuZCBkcmFnZW5kIG1vdmVtZW50cyBmb3IgdW5kby9yZWRvIHN0YXRlc1xuICAgICAgICAgICovXG4gICAgICAgIHZhciBtb3ZlbWVudCA9IGNvbW1vblZQRmFjdG9yeS5tb3ZlbWVudCgpO1xuXG4gICAgICAgIGZyZWVIYW5kRXZlbnQucmVnaXN0ZXIoXCJkcmFnc3RhcnQuZnJlZUhhbmRNYXJrZXJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIG1vdmVtZW50LmFkZChcbiAgICAgICAgICAgIGUudGFyZ2V0LmdldFBvc2l0aW9uKClcbiAgICAgICAgICApOyAvKiBHcmFiYmluZyBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbW92ZW1lbnQgKi9cbiAgICAgICAgfSk7XG4gICAgICAgIGZyZWVIYW5kRXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLmZyZWVIYW5kTWFya2VyXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAvKiBwdXNoaW5nIHRoZSBtb3ZlbWVudCB0byBhY3Rpb25TdGF0ZSBhZnRlciB0aGUgZW5kIHBvc2l0aW9uICovXG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24sXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXG4gICAgICAgIGZyZWVIYW5kRXZlbnQucmVnaXN0ZXIoXCJjbGljay5mcmVlSGFuZE1hcmtlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaGFwZU9iamVjdC5wb2x5Z29uLm1vdmVUb1RvcCgpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG5cbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldChzaGFwZU9iamVjdC5wb2x5Z29uKTtcbiAgICAgICAgICB2bS5vcGVuSW5mb1dpZGdldCgpO1xuXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYmV6aWVyRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0LCBwcm9jZXNzKSB7XG4gICAgICAgIHZhciBiZXppZXJFdmVudCA9IGV2ZW50c1ZQRmFjdG9yeS5zaGFwZUV2ZW50cyhcbiAgICAgICAgICBzaGFwZU9iamVjdC5saW5lXG4gICAgICAgICk7IC8qIENyZWF0ZSBhbiBldmVudCBvYmogZm9yIHRoZSBwb2x5Z29uICovXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKHNoYXBlT2JqZWN0LmxpbmUpO1xuICAgICAgICAgIGN1cnJlbnRQcm9jZXNzLm1vdmVUb1RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xuICAgICAgICB2YXIgYmV6aWVyVHJhbnNmb3JtZXIgPSB0b29sc1ZQRmFjdG9yeS5iZXppZXJUcmFuc2Zvcm1lcihcbiAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICBiYXNlTGF5ZXIsXG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZVxuICAgICAgICApO1xuICAgICAgICBiZXppZXJUcmFuc2Zvcm1lci5zZXQoc2hhcGVPYmplY3QubGluZS5wb2ludHMoKSk7XG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGJlemllclRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgYSBkcmFnbW92ZSBtZXRob2QgdG8gYmluZCBkcmFnbW92ZSBhbmQgY2xpY2sgZXZlbnQgdG8gdGhlIGN1c3RvbSB0cmFuc2Zvcm1lclxuICAgICAgICAgICovXG4gICAgICAgIGJlemllckV2ZW50LnJlZ2lzdGVyKFwiZHJhZ21vdmUucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgYmV6aWVyVHJhbnNmb3JtZXIudXBkYXRlKHtcbiAgICAgICAgICAgIHg6IHNoYXBlT2JqZWN0LmxpbmUueCgpLFxuICAgICAgICAgICAgeTogc2hhcGVPYmplY3QubGluZS55KClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJlemllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2sucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgYmV6aWVyVHJhbnNmb3JtZXIudXBkYXRlKHtcbiAgICAgICAgICAgIHg6IHNoYXBlT2JqZWN0LmxpbmUueCgpLFxuICAgICAgICAgICAgeTogc2hhcGVPYmplY3QubGluZS55KClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXG4gICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XG5cbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJkcmFnc3RhcnQucG9seWdvblwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxuICAgICAgICAgICk7IC8qIEdyYWJiaW5nIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBtb3ZlbWVudCAqL1xuICAgICAgICB9KTtcbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJkcmFnZW5kLnBvbHlnb25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgc2hhcGVPYmplY3QubGluZSxcbiAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcbiAgICAgICAgICAgICAgXCJtb3ZlXCIsXG4gICAgICAgICAgICAgIG1vdmVtZW50LmFkZChlLnRhcmdldC5nZXRQb3NpdGlvbigpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKiBcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGN1c3RvbSB0cmFuc2Zvcm1lciBldmVudCB0byB0aGUgY3JlYXRlZCBwb2x5Z29uXG4gICAgICAgICAgKi9cbiAgICAgICAgYmV6aWVyRXZlbnQucmVnaXN0ZXIoXCJ0cmFuc2Zvcm1CZXppZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZS5wb2ludHMoYmV6aWVyVHJhbnNmb3JtZXIuZ2V0UG9pbnRzKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXG4gICAgICAgIGJlemllckV2ZW50LnJlZ2lzdGVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2hhcGVPYmplY3QubGluZS5tb3ZlVG9Ub3AoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqZWN0LmxpbmUpO1xuICAgICAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0KCk7XG4gICAgICAgICAgdmFyIHNjYWxlID1cbiAgICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuZ2V0KCkudmFsdWUgPT09IDBcbiAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLnZhbHVlO1xuXG4gICAgICAgICAgbWV0cmljcy5zZXRTaGFwZUluZm8oe1xuICAgICAgICAgICAgYXJlYTogdG9vbHNWUEZhY3RvcnkucG9seWdvbkFyZWEoc2hhcGVPYmplY3QubGluZS5wb2ludHMoKSwgc2NhbGUpLFxuICAgICAgICAgICAgdW5pdDogY2FsaWJyYXRpb25TdGF0ZS5nZXQoKS51bml0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcbiAgICAgICAgICB2bS5zaG93UGFuZWwgPSB0cnVlO1xuXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGJlemllclRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0ZXh0RXZlbnRXcmFwcGVyKGdyb3VwLCBwcm9jZXNzKSB7XG4gICAgICAgIHZhciB0ZXh0RXZlbnQgPSBldmVudHNWUEZhY3Rvcnkuc2hhcGVFdmVudHMoXG4gICAgICAgICAgZ3JvdXBcbiAgICAgICAgKTsgLyogQ3JlYXRlIGFuIGV2ZW50IG9iaiBmb3IgdGhlIHNoYXBlICovXG4gICAgICAgIGlmICghcHJvY2Vzcykge1xuICAgICAgICAgIC8qIERvIG5vdCBjcmVhdGUgcHJvY2VzcyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlIGZyb20ganNvbiAqL1xuICAgICAgICAgIHZhciBjdXJyZW50UHJvY2VzcyA9IHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgY3VycmVudFByb2Nlc3MuYWRkKGdyb3VwKTtcbiAgICAgICAgICBjdXJyZW50UHJvY2Vzcy5tb3ZlVG9Ub3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGluaXRpYXRpbmcgY3VzdG9tIHRyYW5zZm9ybWVycyAqL1xuICAgICAgICB2YXIgY3VzdG9tVHJhbnNmb3JtZXIgPSB0b29sc1ZQRmFjdG9yeS5jdXN0b21UcmFuc2Zvcm1lcihcbiAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICBiYXNlTGF5ZXIsXG4gICAgICAgICAgZ3JvdXAsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgICB2YXIgd3JhcHBlciA9IGdyb3VwLmdldENoaWxkcmVuKClbMF07XG4gICAgICAgIHZhciB0ZXh0ID0gZ3JvdXAuZ2V0Q2hpbGRyZW4oKVsxXTtcblxuICAgICAgICBjdXN0b21UcmFuc2Zvcm1lci5zZXQod3JhcHBlci5wb2ludHMoKSk7XG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuXG4gICAgICAgIC8qIFxuICAgICAgICAgICAgUmVnaXN0ZXJpbmcgYSBkcmFnbW92ZSBtZXRob2QgdG8gYmluZCBkcmFnbW92ZSBhbmQgY2xpY2sgZXZlbnQgdG8gdGhlIGN1c3RvbSB0cmFuc2Zvcm1lclxuICAgICAgICAgICovXG4gICAgICAgIHRleHRFdmVudC5yZWdpc3RlcihcImRyYWdtb3ZlLnRleHRHcm91cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgY3VzdG9tVHJhbnNmb3JtZXIudXBkYXRlKHtcbiAgICAgICAgICAgIHg6IGdyb3VwLngoKSxcbiAgICAgICAgICAgIHk6IGdyb3VwLnkoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBcbiAgICAgICAgICAgIFJlZ2lzdGVyaW5nIGN1c3RvbSB0cmFuc2Zvcm1lciBldmVudCB0byB0aGUgY3JlYXRlZCBwb2x5Z29uXG4gICAgICAgICAgKi9cbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwidHJhbnNmb3JtUG9seWdvblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB3cmFwcGVyLnBvaW50cyhjdXN0b21UcmFuc2Zvcm1lci5nZXRQb2ludHMoKSk7XG5cbiAgICAgICAgICB2YXIgdXBkYXRlZFBvaW50cyA9IHdyYXBwZXIucG9pbnRzKCk7XG5cbiAgICAgICAgICB0ZXh0LndpZHRoKE1hdGguYWJzKHVwZGF0ZWRQb2ludHNbMF0gLSB1cGRhdGVkUG9pbnRzWzJdKSAtIDEwKTtcbiAgICAgICAgICB0ZXh0LnBvc2l0aW9uKHtcbiAgICAgICAgICAgIHg6IHVwZGF0ZWRQb2ludHNbMF0gKyA1LFxuICAgICAgICAgICAgeTogdXBkYXRlZFBvaW50c1sxXSArIDVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBFbmFibGUgdHJhbnNmb3JtZXIgb24gc2VsZWN0ICovXG4gICAgICAgIHRleHRFdmVudC5yZWdpc3RlcihcImNsaWNrLnRleHRHcm91cFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBncm91cC5tb3ZlVG9Ub3AoKTtcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnNldCh0ZXh0KTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIGN1c3RvbVRyYW5zZm9ybWVyLnVwZGF0ZSh7XG4gICAgICAgICAgICB4OiBncm91cC54KCksXG4gICAgICAgICAgICB5OiBncm91cC55KClcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuYWRkKGN1c3RvbVRyYW5zZm9ybWVyLmdldEdyb3VwKCkpO1xuICAgICAgICAgIHdyYXBwZXIuc3Ryb2tlKFwiZ3JleVwiKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIHZtLm9wZW5UZXh0SW5mb1dpZGdldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiAgXG4gICAgICAgICAgICBEcmFnc3RhcnQgYW5kIGRyYWdlbmQgbW92ZW1lbnRzIGZvciB1bmRvL3JlZG8gc3RhdGVzXG4gICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1vdmVtZW50ID0gY29tbW9uVlBGYWN0b3J5Lm1vdmVtZW50KCk7XG5cbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwiZHJhZ3N0YXJ0LnRleHRHcm91cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbW92ZW1lbnQuYWRkKFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0UG9zaXRpb24oKVxuICAgICAgICAgICk7IC8qIEdyYWJiaW5nIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBtb3ZlbWVudCAqL1xuICAgICAgICB9KTtcbiAgICAgICAgdGV4dEV2ZW50LnJlZ2lzdGVyKFwiZHJhZ2VuZC50ZXh0R3JvdXBcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIC8qIHB1c2hpbmcgdGhlIG1vdmVtZW50IHRvIGFjdGlvblN0YXRlIGFmdGVyIHRoZSBlbmQgcG9zaXRpb24gKi9cbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgZ3JvdXAsXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgIFwibW92ZVwiLFxuICAgICAgICAgICAgICBtb3ZlbWVudC5hZGQoZS50YXJnZXQuZ2V0UG9zaXRpb24oKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyogQXR0YWNoIGV2ZW50cyB3aGVuIHNoYXBlcyBhcmUgbG9hZGVkIGZyb20ganNvbiAqL1xuICAgICAgKGZ1bmN0aW9uKGxvYWRUeXBlKSB7XG4gICAgICAgIGlmIChsb2FkVHlwZSkge1xuICAgICAgICAgIC8qIFNlYXJjaCBmb3IgZ3JvdXBzIHdpdGggdGhlIG5hbWUgcHJvY2VzcyBhbmQgZmV0Y2ggdGhlIHNoYXBlcyAqL1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChiYXNlTGF5ZXIuZ2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgaWYgKC9wcm9jZXNzKi8udGVzdCh4Lm5hbWUoKSkpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHguZ2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAvKiBGb3IgY2lyY2xlIGFuZCBlbGxpcHNlICovXG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuY2xhc3NOYW1lID09PSBcIkVsbGlwc2VcIikge1xuICAgICAgICAgICAgICAgICAgZWxsaXBzZUV2ZW50V3JhcHBlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBjaGlsZFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImVsbGlwc2VcIixcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgLyogRm9yIGxpbmVzIGFuZCBwb2x5Z29ucyAqL1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc05hbWUgPT09IFwiTGluZVwiIHx8XG4gICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc05hbWUgPT09IFwiQXJyb3dcIlxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgLyogQ2hlY2sgaWYgZ2l2ZW4gc2hhcGUgaXMgYSByZWN0YW5nbGUgb3IgYSBwb2x5Z29uICovXG4gICAgICAgICAgICAgICAgICB2YXIgc2hhcGVOYW1lID0gY2hpbGQubmFtZSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKC9SZWN0Ki8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3RhbmdsZUV2ZW50V3JhcHBlcihcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFwZTogY2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFwicmVjdGFuZ2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvcG9seWdvbiovLnRlc3Qoc2hhcGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBwb2x5Z29uRXZlbnRXcmFwcGVyKFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IGNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9saW5lKi8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVFdmVudFdyYXBwZXIoXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogY2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL2ZyZWVIYW5kKi8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyZWVIYW5kRXZlbnRXcmFwcGVyKFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb246IGNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9tYXJrZXJGcmVlSGFuZCovLnRlc3Qoc2hhcGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBmcmVlSGFuZE1hcmtlcldyYXBwZXIoXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbjogY2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLyogRm9yIHRleHQgKi9cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC90ZXh0R3JvdXAqLy50ZXN0KGNoaWxkLm5hbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgIHRleHRFdmVudFdyYXBwZXIoY2hpbGQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0pKGxvYWRGcm9tSnNvbik7XG5cbiAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxuICAgICAgICAgIEVuZCBvZiBldmVudHNcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFxuICAgICAgICAgIFZpZXcgZnVuY3Rpb25zXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgICAvKiBGdW5jdGlvbiB0byBkcmF3IHJlY3RhbmdsZS9zcXVhcmUgKi9cbiAgICAgIHZtLnJlY3RhbmdsZSA9IGZ1bmN0aW9uKHNxdWFyZSkge1xuICAgICAgICB2YXIgc2hhcGVUeXBlID0gc3F1YXJlID8gXCJzcXVhcmVcIiA6IFwicmVjdGFuZ2xlXCI7XG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJzaGFwZXMuXCIgKyBzaGFwZVR5cGUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmN1cnJlbnREcmF3U3RhdGUuc2hhcGVzLnNxdWFyZSk7XG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5cIiArIHNoYXBlVHlwZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5cIiArIHNoYXBlVHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVTaGFwZShcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XG4gICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xuICAgICAgICAgICAgICAvKiBBZGRpbmcgYWN0aW9uIGhhbmRsZXJzIGZvciB1bmRvIHJlZG8gKi9cblxuICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGUsXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8qIEFkZCByZWN0YW5nbGUgdHJhbnNmb3JtZXJzICovXG4gICAgICAgICAgICAgIHJlY3RhbmdsZUV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCwgc2hhcGVUeXBlKTtcblxuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xuICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRyYXdTaGFwZShcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgc3F1YXJlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLyogRnVuY3Rpb24gdG8gZHJhdyBlbGxpcHNlL2NpcmNsZSAqL1xuICAgICAgdm0uZWxsaXBzZSA9IGZ1bmN0aW9uKGNpcmNsZSkge1xuICAgICAgICB2YXIgc2hhcGVUeXBlID0gY2lyY2xlID8gXCJjaXJjbGVcIiA6IFwiZWxsaXBzZVwiO1xuICAgICAgICBkcmF3U3RhdGUuc2V0KFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xuXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cblxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xuICAgICAgICAgICAgdmFyIHNoYXBlT2JqZWN0ID0gc2hhcGVzVlBGYWN0b3J5LmNyZWF0ZVNoYXBlKFxuICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XG4gICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xuICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3Quc2hhcGUsXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG5cbiAgICAgICAgICAgICAgZWxsaXBzZUV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCwgc2hhcGVUeXBlKTtcblxuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLlwiICsgc2hhcGVUeXBlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLlwiICsgc2hhcGVUeXBlKSkge1xuICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRyYXdTaGFwZShcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgY2lyY2xlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLyogRnVuY3Rpb24gdG8gZHJhdyBwb2x5Z29uICovXG4gICAgICB2bS5wb2x5Z29uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRyYXdTdGF0ZS5zZXQoXCJzaGFwZXMucG9seWdvblwiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xuXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5wb2x5Z29uXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMucG9seWdvblwiKSkge1xuICAgICAgICAgICAgdmFyIHNoYXBlT2JqZWN0ID0gc2hhcGVzVlBGYWN0b3J5LmNyZWF0ZVBvbHlnb24oXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcbiAgICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24sXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgICAgICAgIFwiY3JlYXRlXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3QucG9seWdvbik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogUG9seWdvbiBmaW5pc2ggYmxvY2sgKi9cblxuICAgICAgICAgICAgICAgIHBvbHlnb25FdmVudFdyYXBwZXIoc2hhcGVPYmplY3QpO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcbiAgICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZGVzdHJveVNoYXBlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlbW92ZS5wb2x5Z29uXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMucG9seWdvblwiKSkge1xuICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRyYXdQb2x5Z29uKFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLyogRnVuY3Rpb24gdG8gZHJhdyBhIGZyZWVoYW5kIHNoYXBlICovXG4gICAgICB2bS5mcmVlSGFuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkcmF3U3RhdGUuc2V0KFwibWVhc3VyZW1lbnQuZnJlZUhhbmRcIik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcblxuICAgICAgICAvKiBFdmVudCBjb25maWd1cmF0aW9uICovXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vkb3duLmZyZWVoYW5kXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtZWFzdXJlbWVudC5mcmVlSGFuZFwiKSkge1xuICAgICAgICAgICAgdmFyIHNoYXBlT2JqZWN0ID0gc2hhcGVzVlBGYWN0b3J5LmNyZWF0ZVBvbHlnb24oXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3QpIHtcbiAgICAgICAgICAgICAgaWYgKHNoYXBlT2JqZWN0LnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlT2JqZWN0LnBvbHlnb24sXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgICAgICAgIFwiY3JlYXRlXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3QucG9seWdvbik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogUG9seWdvbiBmaW5pc2ggYmxvY2sgKi9cblxuICAgICAgICAgICAgICAgIGZyZWVIYW5kRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0KTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUuZnJlZWhhbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1lYXN1cmVtZW50LmZyZWVIYW5kXCIpKSB7XG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1BvbHlnb24oXG4gICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5kcmFnT2Zmc2V0KFxuICAgICAgICAgICAgICAgIHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5nZXRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgIGJhc2VMYXllci5zY2FsZSgpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvKiBNYXJrZXIgZnVuY3Rpb25zICovXG4gICAgICB2bS5zaW1wbGVMaW5lID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgICBkcmF3U3RhdGUuc2V0KFwibWFya2luZ3MuXCIgKyB0eXBlKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xuXG4gICAgICAgIC8qIEV2ZW50IGNvbmZpZ3VyYXRpb24gKi9cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5cIiArIHR5cGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtYXJraW5ncy5cIiArIHR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlTGluZShcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChzaGFwZU9iamVjdCkge1xuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QubGluZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5saW5lKTtcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXG4gICAgICAgICAgICAgICAgbGluZUV2ZW50V3JhcHBlcihzaGFwZU9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kZXN0cm95U2hhcGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLlwiICsgdHlwZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLlwiICsgdHlwZSkpIHtcbiAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kcmF3TGluZShcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmJlemllckxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZHJhd1N0YXRlLnNldChcIm1hcmtpbmdzLmJlemllclwiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLmJlemllclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3MuYmV6aWVyXCIpKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlQmV6aWVyTGluZShcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChzaGFwZU9iamVjdCkge1xuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QubGluZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5saW5lKTtcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIFBvbHlnb24gZmluaXNoIGJsb2NrICovXG4gICAgICAgICAgICAgICAgYmV6aWVyRXZlbnRXcmFwcGVyKHNoYXBlT2JqZWN0KTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUuYmV6aWVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtYXJraW5ncy5iZXppZXJcIikpIHtcbiAgICAgICAgICAgIHNoYXBlc1ZQRmFjdG9yeS5kcmF3QmV6aWVyTGluZShcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8qIEZyZWUgaGFuZCBtYXJrZXIgZnVuY3Rpb25zICovXG4gICAgICB2bS5mcmVlaGFuZE1hcmtlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkcmF3U3RhdGUuc2V0KFwic2hhcGVzLmZyZWVIYW5kXCIpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY3Jvc3NoYWlyXCI7XG5cbiAgICAgICAgLyogRXZlbnQgY29uZmlndXJhdGlvbiAqL1xuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlZG93bi5mcmVlaGFuZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwic2hhcGVzLmZyZWVIYW5kXCIpKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGVPYmplY3QgPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlUG9seWdvbihcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChzaGFwZU9iamVjdCkge1xuICAgICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVPYmplY3QucG9seWdvbixcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgXCJjcmVhdGVcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5wb2x5Z29uKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcmVlSGFuZE1hcmtlcldyYXBwZXIoc2hhcGVPYmplY3QpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICAgICAgZHJhd1N0YXRlLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUuZnJlZWhhbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy5mcmVlSGFuZFwiKSkge1xuICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRyYXdQb2x5Z29uKFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdm0udGV4dFdpZGdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkcmF3U3RhdGUuc2V0KFwic2hhcGVzLnRleHRcIik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcbiAgICAgICAgLyogRXZlbnQgY29uZmlndXJhdGlvbiAqL1xuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcImNsaWNrLnRleHRXcmFwcGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJzaGFwZXMudGV4dFwiKSkge1xuICAgICAgICAgICAgdmFyIHNoYXBlT2JqZWN0ID0gc2hhcGVzVlBGYWN0b3J5LmNyZWF0ZVNoYXBlKFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoc2hhcGVPYmplY3Quc3RhcnQpIHtcbiAgICAgICAgICAgICAgYmFzZUxheWVyLmFkZChzaGFwZU9iamVjdC5zaGFwZSk7XG4gICAgICAgICAgICAgIC8qIEFkZGluZyBhY3Rpb24gaGFuZGxlcnMgZm9yIHVuZG8gcmVkbyAqL1xuXG4gICAgICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxuICAgICAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgICAgICBzaGFwZU9iamVjdC5zaGFwZSxcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgICAgICBcImNyZWF0ZVwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGdyb3VwIGZvciB0ZXh0XG5cbiAgICAgICAgICAgICAgdmFyIHRleHRHcm91cCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVUZXh0R3JvdXAoKTtcblxuICAgICAgICAgICAgICB0ZXh0R3JvdXAuYWRkKHNoYXBlT2JqZWN0LnNoYXBlKTtcblxuICAgICAgICAgICAgICAvKiBBZGQgcHJvcGVydGllcyAqL1xuICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGVPYmplY3Quc2hhcGUucG9pbnRzKCk7XG4gICAgICAgICAgICAgIHZhciB0ZXh0UHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgIHg6IHBvaW50c1swXSArIDEwLFxuICAgICAgICAgICAgICAgICAgeTogcG9pbnRzWzFdICsgMTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLmFicyhwb2ludHNbMF0gLSBwb2ludHNbMl0pIC0gMTBcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgdmFyIHRleHRPYmogPSBzaGFwZXNWUEZhY3RvcnkuY3JlYXRlVGV4dCh0ZXh0UHJvcHMpO1xuICAgICAgICAgICAgICB0ZXh0R3JvdXAuYWRkKHRleHRPYmopO1xuXG4gICAgICAgICAgICAgIHRleHRFdmVudFdyYXBwZXIodGV4dEdyb3VwKTtcblxuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgICBkcmF3U3RhdGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgc2hhcGVzVlBGYWN0b3J5LmRlc3Ryb3lTaGFwZSgpO1xuXG4gICAgICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUudGV4dFdyYXBwZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcInNoYXBlcy50ZXh0XCIpKSB7XG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCJ3cmFwcGVyXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB2bS5tYW51YWxTZWxlY3Rpb24gPSBmdW5jdGlvbihzaGFwZU9iaikge1xuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xuICAgICAgICBzZWxlY3RlZFNoYXBlLnJlc2V0KCk7XG4gICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuc2V0KHNoYXBlT2JqKTtcbiAgICAgICAgc2hhcGVPYmouZmlyZShcImNsaWNrXCIpO1xuICAgICAgfTtcblxuICAgICAgdm0uZHJhZ1NlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkcmF3U3RhdGUuc2V0KFwibWFya2luZ3Muc2VsZWN0aW9uXCIpO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcbiAgICAgICAgLyogRXZlbnQgY29uZmlndXJhdGlvbiAqL1xuICAgICAgICBiYXNlTGF5ZXJFdmVudC5yZWdpc3RlcihcIm1vdXNlZG93bi5zZWxlY3Rpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLnNlbGVjdGlvblwiKSkge1xuICAgICAgICAgICAgdm0uc2VsZWN0QWxsU2hhcGVzKGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBzaGFwZU9iamVjdCA9IHNoYXBlc1ZQRmFjdG9yeS5jcmVhdGVTaGFwZShcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJhc2VMYXllci5hZGQoc2hhcGVPYmplY3Quc2hhcGUpO1xuICAgICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2V1cC5zZWxlY3Rpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRyYXdTdGF0ZS5jaGVjayhcIm1hcmtpbmdzLnNlbGVjdGlvblwiKSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcbiAgICAgICAgICAgIGRyYXdTdGF0ZS5yZXNldCgpO1xuXG4gICAgICAgICAgICAvKiBTZWxlY3Rpb24gbG9naWMgKi9cbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25Qb2ludHMgPSBzaGFwZXNWUEZhY3RvcnkuY2FuY2VsRHJhd2luZygpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVzID0gc2hhcGVzVlBGYWN0b3J5LnNlbGVjdFNoYXBlcyhcbiAgICAgICAgICAgICAgYmFzZUxheWVyLFxuICAgICAgICAgICAgICBzZWxlY3Rpb25Qb2ludHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRTaGFwZU5hbWVzID0gc2VsZWN0ZWRTaGFwZXMubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHgubmFtZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNlbGVjdGlvblN0b3JlLnN0b3JlKHNlbGVjdGVkU2hhcGVzKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5wcm9jZXNzZXMsIGZ1bmN0aW9uKHByb2Nlc3MpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByb2Nlc3MuZ2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTaGFwZU5hbWVzLmluZGV4T2YoY2hpbGQubmFtZSgpKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICBjaGlsZC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJhc2VMYXllckV2ZW50LnJlZ2lzdGVyKFwibW91c2Vtb3ZlLnNlbGVjdGlvblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWFya2luZ3Muc2VsZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzaGFwZXNWUEZhY3RvcnkuZHJhd1NoYXBlKFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCJncmFiYmVyXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB2bS5zZWxlY3RBbGxTaGFwZXMgPSBmdW5jdGlvbih0b2dnbGVWYWx1ZSkge1xuICAgICAgICB2YXIgYWxsU2hhcGVzID0gc2hhcGVzVlBGYWN0b3J5LmV4dHJhY3RBbGxTaGFwZXMoYmFzZUxheWVyKTtcbiAgICAgICAgaWYgKHRvZ2dsZVZhbHVlKSB7XG4gICAgICAgICAgc2VsZWN0aW9uU3RvcmUuc3RvcmUoYWxsU2hhcGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3Rpb25TdG9yZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxTaGFwZXMsIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICB4LnNlbGVjdGVkID0gdG9nZ2xlVmFsdWUgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdm0udG9nZ2xlU2hhcGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgc2hhcGUudmlzaWJsZSghc2hhcGUudmlzaWJsZSgpKTtcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmNhbGlicmF0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZHJhd1N0YXRlLnNldChcIm1lYXN1cmVtZW50LmNhbGlicmF0b3JcIik7XG4gICAgICAgIGNhbGlicmF0b3IgPSBzaGFwZXNWUEZhY3RvcnkuY2FsaWJyYXRvcihzdGFnZSwgYmFzZUxheWVyKTtcbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJjbGljay5jYWxpYnJhdG9yXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkcmF3U3RhdGUuY2hlY2soXCJtZWFzdXJlbWVudC5jYWxpYnJhdG9yXCIpKSB7XG4gICAgICAgICAgICBjYWxpYnJhdG9yKFxuICAgICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuZHJhZ09mZnNldChcbiAgICAgICAgICAgICAgICBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXIuc2NhbGUoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFzZUxheWVyRXZlbnQucmVnaXN0ZXIoXCJtb3VzZW1vdmUuY2FsaWJyYXRvclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZHJhd1N0YXRlLmNoZWNrKFwibWVhc3VyZW1lbnQuY2FsaWJyYXRvclwiKSkge1xuICAgICAgICAgICAgY2FsaWJyYXRvcihcbiAgICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmRyYWdPZmZzZXQoXG4gICAgICAgICAgICAgICAgc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgYmFzZUxheWVyLnNjYWxlKClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8qIENhbGlicmF0aW9uIGhhbmRsaW5nICovXG5cbiAgICAgICRzY29wZS4kb24oXCJjYWxpYnJhdGVkXCIsIGZ1bmN0aW9uKGUsIGNhbGlicmF0ZWRMaW5lKSB7XG4gICAgICAgIC8vIHZhciB2YWx1ZSA9IHdpbmRvdy5wcm9tcHQoJ1BsZWFzZSBlbnRlciBhIHNjYWxlJyk7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgJChcIiNjYWxpYnJhdGVNb2RhbFwiKS5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgLyogRGlzdGFuY2Ugb2YgdGhlIGxpbmUgKi9cbiAgICAgICAgdmFyIHBvaW50cyA9IGNhbGlicmF0ZWRMaW5lLnBvaW50cygpO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoXG4gICAgICAgICAgTWF0aC5wb3cocG9pbnRzWzBdIC0gcG9pbnRzWzJdLCAyKSArXG4gICAgICAgICAgICBNYXRoLnBvdyhwb2ludHNbMV0gLSBwb2ludHNbM10sIDIpXG4gICAgICAgICk7XG5cbiAgICAgICAgdm0uY2FsaWJyYXRpb25EaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgICB2bS5zYXZlQ2FsaWJyYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB2bS5jYWxpYnJhdGlvblNjYWxlLnZhbHVlO1xuXG4gICAgICAgICAgdmFyIHNjYWxlO1xuXG4gICAgICAgICAgc2NhbGUgPSBwYXJzZUludCh2YWx1ZSkgLyBkaXN0YW5jZTtcblxuICAgICAgICAgIC8qIFNldHRpbmcgY2FsaWJyYXRpb24gdmFsdWUgdG8gdGhhdCBpdCBjYW4gYmUgZmV0Y2hlZCBnbG9iYWxseSAqL1xuICAgICAgICAgIGNhbGlicmF0aW9uU3RhdGUuc2V0KHtcbiAgICAgICAgICAgIHZhbHVlOiBzY2FsZSxcbiAgICAgICAgICAgIHVuaXQ6IHZtLmNhbGlicmF0aW9uU2NhbGUudW5pdFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdm0uY2FsaWJyYXRpb25EYXRhID0gY2FsaWJyYXRpb25TdGF0ZS5nZXQoKTtcblxuICAgICAgICAgIHZtLnNob3dQYW5lbCA9IHRydWU7XG4gICAgICAgICAgdm0uc2hhcGVJbmZvID0gbWV0cmljcy5nZXRTaGFwZUluZm8oKTtcbiAgICAgICAgICBjYWxpYnJhdGVkTGluZS5kZXN0cm95KCk7XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcblxuICAgICAgICAgICQoXCIjY2FsaWJyYXRlTW9kYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgICQoXCIjY2FsaWJyYXRlTW9kYWxcIikub24oXCJoaWRlLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjYWxpYnJhdGVkTGluZS5kZXN0cm95KCk7XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdm0uZGVsZXRlU2hhcGUgPSBmdW5jdGlvbihzaGFwZU9iaikge1xuICAgICAgICB2YXIgc2hhcGUgPSBzaGFwZU9iaiA/IHNoYXBlT2JqIDogc2VsZWN0ZWRTaGFwZS5nZXQoKTtcbiAgICAgICAgaWYgKHNoYXBlKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICAgIHNoYXBlLmdldFBhcmVudCgpLFxuICAgICAgICAgICAgICBcImRlbGV0ZVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaGFwZS5yZW1vdmUoKTtcbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICAgIHZtLmNsb3NlSW5mb1dpZGdldCgpO1xuICAgICAgICAgIHZtLmNsb3NlVGV4dEluZm9XaWRnZXQoKTtcbiAgICAgICAgICBzZWxlY3RlZFNoYXBlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZtLm9wZW5JbmZvV2lkZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XG4gICAgICAgIHZtLmluZm9XaWRnZXRQcm9wcyA9IHtcbiAgICAgICAgICBuYW1lOiBzaGFwZS5uYW1lKCksXG4gICAgICAgICAgY29sb3JUeXBlOiBcInN0cm9rZVwiLFxuICAgICAgICAgIHN0cm9rZTogc2hhcGUuc3Ryb2tlKCksXG4gICAgICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxuICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXG4gICAgICAgIH07XG4gICAgICAgIHZtLnNoYXBlSW5mb1dpZGdldCA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICB2bS5jb2xvclR5cGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJTdHJva2VcIixcbiAgICAgICAgICB2YWx1ZTogXCJzdHJva2VcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJGaWxsXCIsXG4gICAgICAgICAgdmFsdWU6IFwiZmlsbFwiXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIHZtLnRleHRDb2xvclR5cGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJCYWNrZ3JvdW5kXCIsXG4gICAgICAgICAgdmFsdWU6IFwic3Ryb2tlXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiRm9udFwiLFxuICAgICAgICAgIHZhbHVlOiBcImZpbGxcIlxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICB2bS5mb250U3R5bGVzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJOb3JtYWxcIixcbiAgICAgICAgICB2YWx1ZTogXCJub3JtYWxcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJCb2xkXCIsXG4gICAgICAgICAgdmFsdWU6IFwiYm9sZFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcIkl0YWxpY1wiLFxuICAgICAgICAgIHZhbHVlOiBcIml0YWxpY1wiXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIHZtLndlYlNhZmVGb250cyA9IFtcbiAgICAgICAgXCJBcmlhbFwiLFxuICAgICAgICBcIkNhbGlicmlcIixcbiAgICAgICAgXCJIZWx2ZXRpY2FcIixcbiAgICAgICAgXCJUaW1lcyBOZXcgUm9tYW5cIixcbiAgICAgICAgXCJUaW1lc1wiLFxuICAgICAgICBcIkNvdXJpZXIgTmV3XCIsXG4gICAgICAgIFwiQ291cmllclwiLFxuICAgICAgICBcIlZlcmRhbmFcIixcbiAgICAgICAgXCJHZW9yZ2lhXCIsXG4gICAgICAgIFwiUGFsYXRpbm9cIixcbiAgICAgICAgXCJHYXJhbW9uZFwiLFxuICAgICAgICBcIkJvb2ttYW5cIixcbiAgICAgICAgXCJDb21pYyBTYW5zIE1TXCIsXG4gICAgICAgIFwiVHJlYnVjaGV0IE1TXCIsXG4gICAgICAgIFwiQXJpYWwgQmxhY2tcIixcbiAgICAgICAgXCJJbXBhY3RcIlxuICAgICAgXTtcblxuICAgICAgdm0ub3BlblRleHRJbmZvV2lkZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XG4gICAgICAgIHZtLnRleHRJbmZvV2lkZ2V0UHJvcHMgPSB7XG4gICAgICAgICAgY29sb3JUeXBlOiBcInN0cm9rZVwiLFxuICAgICAgICAgIHRleHQ6IHNoYXBlLnRleHQoKSxcbiAgICAgICAgICBmb250U2l6ZTogc2hhcGUuZm9udFNpemUoKSxcbiAgICAgICAgICBmb250U3R5bGU6IHNoYXBlLmZvbnRTdHlsZSgpLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IHNoYXBlLmZvbnRGYW1pbHkoKSxcbiAgICAgICAgICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxuICAgICAgICAgIGZpbGw6IHNoYXBlLmZpbGwoKSxcbiAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxuICAgICAgICB9O1xuICAgICAgICB2bS50ZXh0SW5mb1dpZGdldCA9IHRydWU7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmNoYW5nZVRleHRJbmZvID0gZnVuY3Rpb24ocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcbiAgICAgICAgc2hhcGVbcHJvcF0odmFsdWUpO1xuICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgfTtcblxuICAgICAgdm0uaW5mb1dpZGdldFN0cm9rZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xuICAgICAgICAvLyB2YXIgc3Ryb2tlSGlzdG9yeSA9IGNvbW1vblZQRmFjdG9yeS5zaGFwZVByb3BlcnR5SGlzdG9yeSgpXG4gICAgICAgIC8vIHZhciBwcm9wcyA9IHtcbiAgICAgICAgLy8gICBzdHJva2U6IHNoYXBlLnN0cm9rZSgpLFxuICAgICAgICAvLyAgIGZpbGw6IHNoYXBlLmZpbGwoKSxcbiAgICAgICAgLy8gICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxuICAgICAgICAvLyB9O1xuICAgICAgICAvLyBzdHJva2VIaXN0b3J5LmFkZChwcm9wcyk7XG4gICAgICAgIC8vIHZhciBkb25lID0gZmFsc2U7XG4gICAgICAgIC8vICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICBpZihkb25lKSB7XG4gICAgICAgIC8vICAgICByZXR1cm47XG4gICAgICAgIC8vICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIHZhciBlbmRQcm9wcyA9IHtcbiAgICAgICAgLy8gICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcbiAgICAgICAgLy8gICAgICAgZmlsbDogc2hhcGUuZmlsbCgpLFxuICAgICAgICAvLyAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxuICAgICAgICAvLyAgICAgfTtcbiAgICAgICAgLy8gICAgIGFjdGlvblN0YXRlcy5wdXNoKGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKHN0YWdlLCBzaGFwZSwgcHJvY2Vzc1N0b3JlLmdldEN1cnJlbnQoKSwgJ3NoYXBlUHJvcHMnLCBzdHJva2VIaXN0b3J5LmFkZChlbmRQcm9wcykpKTtcbiAgICAgICAgLy8gICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gfSwgMTAwMCk7XG5cbiAgICAgICAgc2hhcGUuc3Ryb2tlV2lkdGgodmFsKTtcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBzaGFwZVByb3BIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KCk7XG5cbiAgICAgIHZtLmluZm9XaWRnZXRFdmVudHMgPSB7XG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihhcGksIGNvbG9yLCAkZXZlbnQpIHtcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xuICAgICAgICAgIGlmICh2bS5pbmZvV2lkZ2V0UHJvcHMuY29sb3JUeXBlID09PSBcImZpbGxcIikge1xuICAgICAgICAgICAgc2hhcGUuZmlsbChjb2xvcik7XG4gICAgICAgICAgfSBlbHNlIGlmICh2bS5pbmZvV2lkZ2V0UHJvcHMuY29sb3JUeXBlID09PSBcInN0cm9rZVwiKSB7XG4gICAgICAgICAgICBzaGFwZS5zdHJva2UoY29sb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiYXNlTGF5ZXIuZHJhdygpO1xuICAgICAgICB9LFxuICAgICAgICAvKiBmb3Igc2hhcGUgdW5kbyBhbmQgcmVkbyAqL1xuICAgICAgICBvbk9wZW46IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xuICAgICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XG4gICAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcbiAgICAgICAgICAgIGZpbGw6IHNoYXBlLmZpbGwoKSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzaGFwZVByb3BIaXN0b3J5LmFkZChwcm9wcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKGFwaSwgY29sb3IsICRldmVudCkge1xuICAgICAgICAgIHZhciBzaGFwZSA9IHNlbGVjdGVkU2hhcGUuZ2V0KCk7XG4gICAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiBzaGFwZS5zdHJva2UoKSxcbiAgICAgICAgICAgIGZpbGw6IHNoYXBlLmZpbGwoKSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBhY3Rpb25TdGF0ZXMucHVzaChcbiAgICAgICAgICAgIGNvbW1vblZQRmFjdG9yeS5hY3Rpb25IYW5kbGVyKFxuICAgICAgICAgICAgICBzdGFnZSxcbiAgICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICAgIHByb2Nlc3NTdG9yZS5nZXRDdXJyZW50KCksXG4gICAgICAgICAgICAgIFwic2hhcGVQcm9wc1wiLFxuICAgICAgICAgICAgICBzaGFwZVByb3BIaXN0b3J5LmFkZChwcm9wcylcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIC8qIFJlc2V0IHNoYXBlIHByb3BzIGhpc3RvcnkgKi9cbiAgICAgICAgICBzaGFwZVByb3BIaXN0b3J5ID0gY29tbW9uVlBGYWN0b3J5LnNoYXBlUHJvcGVydHlIaXN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZtLnRleHRJbmZvV2lkZ2V0RXZlbnRzID0ge1xuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oYXBpLCBjb2xvciwgJGV2ZW50KSB7XG4gICAgICAgICAgdmFyIHNoYXBlID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcbiAgICAgICAgICBpZiAodm0udGV4dEluZm9XaWRnZXRQcm9wcy5jb2xvclR5cGUgPT09IFwiZmlsbFwiKSB7XG4gICAgICAgICAgICBzaGFwZS5maWxsKGNvbG9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnRleHRJbmZvV2lkZ2V0UHJvcHMuY29sb3JUeXBlID09PSBcInN0cm9rZVwiKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHNoYXBlLmdldFBhcmVudCgpLmZpbmQoXCJMaW5lXCIpO1xuICAgICAgICAgICAgd3JhcHBlci5maWxsKGNvbG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyogZm9yIHNoYXBlIHVuZG8gYW5kIHJlZG8gKi9cbiAgICAgICAgb25PcGVuOiBmdW5jdGlvbihhcGksIGNvbG9yLCAkZXZlbnQpIHtcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xuICAgICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICAgIHN0cm9rZTogc2hhcGUuc3Ryb2tlKCksXG4gICAgICAgICAgICBmaWxsOiBzaGFwZS5maWxsKCksXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxuICAgICAgICAgIH07XG4gICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeS5hZGQocHJvcHMpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbihhcGksIGNvbG9yLCAkZXZlbnQpIHtcbiAgICAgICAgICB2YXIgc2hhcGUgPSBzZWxlY3RlZFNoYXBlLmdldCgpO1xuICAgICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICAgIHN0cm9rZTogc2hhcGUuc3Ryb2tlKCksXG4gICAgICAgICAgICBmaWxsOiBzaGFwZS5maWxsKCksXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogc2hhcGUuc3Ryb2tlV2lkdGgoKVxuICAgICAgICAgIH07XG4gICAgICAgICAgYWN0aW9uU3RhdGVzLnB1c2goXG4gICAgICAgICAgICBjb21tb25WUEZhY3RvcnkuYWN0aW9uSGFuZGxlcihcbiAgICAgICAgICAgICAgc3RhZ2UsXG4gICAgICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgICAgICBwcm9jZXNzU3RvcmUuZ2V0Q3VycmVudCgpLFxuICAgICAgICAgICAgICBcInNoYXBlUHJvcHNcIixcbiAgICAgICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeS5hZGQocHJvcHMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvKiBSZXNldCBzaGFwZSBwcm9wcyBoaXN0b3J5ICovXG4gICAgICAgICAgc2hhcGVQcm9wSGlzdG9yeSA9IGNvbW1vblZQRmFjdG9yeS5zaGFwZVByb3BlcnR5SGlzdG9yeSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2bS5jbG9zZUluZm9XaWRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uc2hhcGVJbmZvV2lkZ2V0ID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICB2bS5jbG9zZVRleHRJbmZvV2lkZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gc2VsZWN0ZWRTaGFwZS5nZXQoKTtcbiAgICAgICAgaWYgKHRleHQgJiYgdGV4dC5uYW1lKCkgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgdmFyIGdyb3VwID0gdGV4dC5nZXRQYXJlbnQoKTtcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IGdyb3VwLmZpbmQoXCJMaW5lXCIpWzBdO1xuICAgICAgICAgIHdyYXBwZXIuc3Ryb2tlKG51bGwpO1xuICAgICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgfVxuICAgICAgICB2bS50ZXh0SW5mb1dpZGdldCA9IGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgLyogRW5kIG9mIHNoYXBlIGV2ZW50cyAqL1xuXG4gICAgICAvKiBQYW4gaW1hZ2UgKi9cbiAgICAgIHZtLmN1cnJlbnRQYW5TdGF0ZSA9IHRydWU7XG4gICAgICB2bS5wYW5JbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2bS5jdXJyZW50UGFuU3RhdGUgPSBiYXNlTGF5ZXIuZHJhZ2dhYmxlKCk7XG4gICAgICAgIHZtLmN1cnJlbnRQYW5TdGF0ZVxuICAgICAgICAgID8gKGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCIpXG4gICAgICAgICAgOiAoZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcIm1vdmVcIik7XG4gICAgICAgIGJhc2VMYXllci5kcmFnZ2FibGUoIXZtLmN1cnJlbnRQYW5TdGF0ZSk7XG4gICAgICAgIGJhc2VMYXllci5kcmF3KCk7XG4gICAgICB9O1xuXG4gICAgICAvKiBVbmRvL1JlZG8gKi9cblxuICAgICAgdm0udW5kb09yUmVkbyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgLyogdHlwZSAwIC0gdW5kbyAsIDEgLSByZWRvICovXG4gICAgICAgIHRyYW5zZm9ybWVyU3RvcmUucmVtb3ZlQWxsKCk7XG4gICAgICAgIHR5cGUgPT09IDEgPyBhY3Rpb25TdGF0ZXMucmVkbygpIDogYWN0aW9uU3RhdGVzLnVuZG8oKTtcbiAgICAgIH07XG5cbiAgICAgIC8qIERvd25sb2FkcyAqL1xuXG4gICAgICB2bS5kb3dubG9hZEltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkYXRhVVJMID0gc3RhZ2UudG9EYXRhVVJMKCk7XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBcInJvb2ZwbGFuX2ltYWdlX1wiICsgRGF0ZS5ub3coKTtcbiAgICAgICAgbGluay5ocmVmID0gZGF0YVVSTDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgfTtcblxuICAgICAgdm0uZG93bmxvYWRGaWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBqc29uID0gc3RhZ2UudG9KU09OKCk7XG4gICAgICAgIHZhciBmaWxlID0gbmV3IEJsb2IoW2pzb25dLCB7XG4gICAgICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBcInJvb2ZwbGFuX2pzb25fXCIgKyBEYXRlLm5vdygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICB9O1xuXG4gICAgICB2bS5zYXZlUm9vZlBsYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdmFyIGpzb24gPSBzdGFnZS50b0pTT04oKTtcblxuICAgICAgICAvKiBHZXQgYXNzb2NpYXRpb25zIGFuZCBwcm9jZXNzIHRoZW0gYmVmb3JlIHNhdmluZyAqL1xuXG4gICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAuc2F2ZVJvb2ZQbGFuKHJvb2ZQbGFuLl9pZCwge1xuICAgICAgICAgICAganNvblN0cmluZzoganNvbixcbiAgICAgICAgICAgIGNhbGlicmF0aW9uOiBjYWxpYnJhdGlvblN0YXRlLmdldCgpLFxuICAgICAgICAgICAgY291bnREYXRhOiBzaGFwZXNWUEZhY3RvcnkuZ2V0U2hhcGVJZCgpLFxuICAgICAgICAgICAgYXNzb2NpYXRpb25zOiB2bS5hc3NvY2lhdGlvbnMuZ2V0QXNzb2NpYXRpb25zRm9yU2F2ZSgpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHJlc3AuZGF0YS5tZXNzYWdlKTtcblxuICAgICAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgICAgICAuZ2V0UHJvamVjdFJvb2ZQbGFucyhsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldChcInJvb2ZQbGFuUHJvamVjdFwiKSlcbiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQoXCJyb29mUGxhbnNcIiwgcmVzcC5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvKiBQcm9jZXNzIG1ldGhvZHMgKi9cblxuICAgICAgdm0uaGlkZVByb2Nlc3MgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICB0cmFuc2Zvcm1lclN0b3JlLnJlbW92ZUFsbCgpO1xuICAgICAgICBwcm9jZXNzU3RvcmUuaGlkZVByb2Nlc3MoaW5kZXgpO1xuICAgICAgfTtcbiAgICAgIHZtLnNob3dQcm9jZXNzID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcHJvY2Vzc1N0b3JlLnNob3dQcm9jZXNzKGluZGV4KTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmFkZFByb2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvY2Vzc1N0b3JlLmNyZWF0ZVByb2Nlc3MoKTtcbiAgICAgICAgdm0ucHJvY2Vzc2VzID0gcHJvY2Vzc1N0b3JlLmdldFByb2Nlc3NlcygpO1xuICAgICAgfTtcblxuICAgICAgdm0uc2VsZWN0TGF5ZXIgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZtLnNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgICBwcm9jZXNzU3RvcmUuc2V0Q3VycmVudChpKTtcbiAgICAgIH07XG5cbiAgICAgIC8qIEluaXRpYWxseSBsb2FkIDFzdCBsYXllciAqL1xuICAgICAgdm0uc2VsZWN0TGF5ZXIoMCk7XG5cbiAgICAgIHZtLnNlbGVjdE9yVW5zZWxlY3QgPSBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICBzaGFwZS5zZWxlY3RlZFxuICAgICAgICAgID8gc2VsZWN0aW9uU3RvcmUucHVzaChzaGFwZSlcbiAgICAgICAgICA6IHNlbGVjdGlvblN0b3JlLnB1bGwoc2hhcGUubmFtZSgpKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmxheWVySWNvbk5hbWUgPSBmdW5jdGlvbihzaGFwZU5hbWUpIHtcbiAgICAgICAgaWYgKC9SZWN0Ki8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIFwic3F1YXJlXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9FbGxpcHNlKi8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIFwiY2lyY2xlXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9wb2x5Z29uKi8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIFwicG9seWdvblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvbGluZSovLnRlc3Qoc2hhcGVOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBcImxpbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoL3RleHRHcm91cCovLnRlc3Qoc2hhcGVOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBcInRleHRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoL2ZyZWVIYW5kKi8udGVzdChzaGFwZU5hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIFwicGVuY2lsXCI7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZtLmhpZGVTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkU2hhcGVzID0gc2VsZWN0aW9uU3RvcmUuZ2V0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkU2hhcGVzKTtcbiAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgIHNoYXBlLnZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmRlbGV0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRTaGFwZXMgPSBzZWxlY3Rpb25TdG9yZS5nZXQoKTtcbiAgICAgICAgdHJhbnNmb3JtZXJTdG9yZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU2hhcGVzLCBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgIGFjdGlvblN0YXRlcy5wdXNoKFxuICAgICAgICAgICAgY29tbW9uVlBGYWN0b3J5LmFjdGlvbkhhbmRsZXIoXG4gICAgICAgICAgICAgIHN0YWdlLFxuICAgICAgICAgICAgICBzaGFwZSxcbiAgICAgICAgICAgICAgc2hhcGUuZ2V0UGFyZW50KCksXG4gICAgICAgICAgICAgIFwiZGVsZXRlXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIHNoYXBlLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYmFzZUxheWVyLmRyYXcoKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmxvYWRNYXRlcmlhbCA9IHNoYXBlUHJvcCA9PiB7XG4gICAgICAgICQoXCIjbG9hZE1hdGVyaWFsXCIpLm1vZGFsKFwic2hvd1wiKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmNyZWF0ZUFzc29jaWF0aW9uID0gKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKSA9PiB7XG4gICAgICAgIHZtLmFzc29jaWF0aW9ucy5jcmVhdGVBc3NvY2lhdGlvbihzaGFwZUlkLCBlbnRpdHlJZCwgdHlwZSk7XG4gICAgICAgICQoXCIjbG9hZE1hdGVyaWFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS4kb24oXCJzZWxlY3RlZE1hdGVyaWFsXCIsIChlLCBkYXRhKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWRNYXRlcmlhbC0tLS1cIiwgZGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogXG4gICAgICAgICAgRW5kIG9mIHZpZXcgZnVuY3Rpb25zXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmNvbnRyb2xsZXIoXCJ3b3JraW5nSG91cnNDdHJsXCIsIHdvcmtpbmdIb3Vyc0N0cmwpO1xuXG4gIGZ1bmN0aW9uIHdvcmtpbmdIb3Vyc0N0cmwoXG4gICAgJHNjb3BlLFxuICAgICR0aW1lb3V0LFxuICAgIGF1dGhGYWN0b3J5LFxuICAgICRzdGF0ZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgIE5vdGlmaWNhdGlvbixcbiAgICBnbG9iYWxzLFxuICAgIE5nTWFwLFxuICAgIFVwbG9hZCxcbiAgICBtb21lbnQsXG4gICAgJGxvY2F0aW9uXG4gICkge1xuICAgIC8qIFJlcXVpcmluZyB2YXJzICovXG4gICAgbGV0IHZtID0gdGhpcztcbiAgICBjb25zdCB7IGxvZ291dCwgdXNlclN0b3JlLCBkZWJvdW5jZSB9ID0gZ2xvYmFscztcbiAgICBpZiAoIWF1dGhGYWN0b3J5LmNoZWNrVXNlcigpKSB7XG4gICAgICBsb2dvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBHZXQgcHJvamVjdCBsaXN0ICovXG4gICAgdm0udXNlckRhdGEgPSB1c2VyU3RvcmUuZ2V0KCk7XG5cbiAgICBjb25zb2xlLmxvZyh2bS51c2VyRGF0YSlcbiAgICB2bS5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICBsb2dvdXQoKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmFjdGl2ZUNsYXNzID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIHJldHVybiAoJGxvY2F0aW9uLnBhdGgoKSA9PT0gcGF0aCkgPyAnYWN0aXZlJyA6ICcnO1xuICAgIH1cblxuICB9XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZGlyZWN0aXZlKFwiY2FudmFzUGRmXCIsIGNhbnZhc1BkZik7XG5cbiAgZnVuY3Rpb24gY2FudmFzUGRmKCRyb290U2NvcGUsIGFwaUZhY3RvcnksICR0aW1lb3V0LCBnbG9iYWxzLCBOb3RpZmljYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgY3VycmVudDogXCI9XCJcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgIGdsb2JhbHMucmVuZGVyUGFnZSgkc2NvcGUuY3VycmVudCwgZWxlbVswXSk7XG4gICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5kaXJlY3RpdmUoXCJjaGF0TWVzc2FnZVwiLCBjaGF0TWVzc2FnZSk7XG5cbiAgZnVuY3Rpb24gY2hhdE1lc3NhZ2UoXG4gICAgJHJvb3RTY29wZSxcbiAgICBhcGlGYWN0b3J5LFxuICAgICR0aW1lb3V0LFxuICAgIGdsb2JhbHMsXG4gICAgTm90aWZpY2F0aW9uXG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICBzY29wZToge1xuICAgICAgICBtOiBcIj1cIixcbiAgICAgICAgdHlwZTogXCJAXCJcbiAgICAgIH0sXG4gICAgICB0ZW1wbGF0ZTogJzxuZy1pbmNsdWRlIHNyYz1cInR5cGVcIj48L25nLWluY2x1ZGU+JyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0U3RvcmUgfSA9IGdsb2JhbHM7XG4gICAgICAgICRzY29wZS5zaG93UHJldmlldyA9IGZvcm1hdCA9PiB7XG4gICAgICAgICAgcmV0dXJuIC9wbmd8anBlZ3xnaWZ8anBnLy50ZXN0KGZvcm1hdCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmRpcmVjdGl2ZShcImZpbGVQaWNrZXJcIiwgZmlsZVBpY2tlcik7XG5cbiAgZnVuY3Rpb24gZmlsZVBpY2tlcigkcm9vdFNjb3BlLCBhcGlGYWN0b3J5LCAkdGltZW91dCwgZ2xvYmFscywgTm90aWZpY2F0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgIHRlbXBsYXRlVXJsOiBcIi9wYXJ0aWFscy9maWxlUGlja2VyLmh0bWxcIixcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGZvbGRlcnM6IFwiPVwiLFxuICAgICAgICBvcHRpb25zOiBcIj1cIixcbiAgICAgICAgc291cmNlOiBcIj1cIixcbiAgICAgICAgc291cmNlZmlsZTogXCI9XCIsXG4gICAgICAgIHNvdXJjZWRpcjogXCI9XCJcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgIGxldCBmb2xkZXJQYXRocyA9IFtdO1xuICAgICAgICBjb25zdCB7IHByb2plY3RTdG9yZSB9ID0gZ2xvYmFscztcbiAgICAgICAgJHNjb3BlLmZpbGVzID0gW107XG4gICAgICAgICRzY29wZS5mb2xkZXJOYW1lID0gXCJSb290IEZvbGRlclwiO1xuICAgICAgICAkc2NvcGUuY3VycmVudEZvbGRlciA9IFwiXCI7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IG51bGw7XG4gICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xuXG4gICAgICAgICRzY29wZS52aWV3Rm9sZGVyID0gZm9sZGVyID0+IHtcbiAgICAgICAgICBsZXQgbmFtZSA9IGZvbGRlci5uYW1lO1xuICAgICAgICAgIGZvbGRlclBhdGhzLnB1c2goZm9sZGVyKTtcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRGb2xkZXI7XG4gICAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgICAgLnZpZXdIaWVyYXJjaHkoZm9sZGVyLl9pZClcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRGb2xkZXIgPSBmb2xkZXI7XG4gICAgICAgICAgICAgICRzY29wZS5jdXJyZW50Rm9sZGVyID0gZm9sZGVyLm5hbWU7XG4gICAgICAgICAgICAgICRzY29wZS5mb2xkZXJzID0gcmVzcC5kYXRhLmZvbGRlcnM7XG4gICAgICAgICAgICAgICRzY29wZS5maWxlcyA9IHJlc3AuZGF0YS5maWxlcztcbiAgICAgICAgICAgICAgJHNjb3BlLmJyZWFkQ3J1bWJzID0gcmVzcC5kYXRhLmJyZWFkY3J1bWJzO1xuICAgICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9sZGVyTmFtZSA9PSBcIlJvb3QgRm9sZGVyXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRzY29wZS5iYWNrQnRuVmlldyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZWxlY3RGaWxlID0gKGZpbGUsIGJyZWFkQ3J1bWJzKSA9PiB7XG4gICAgICAgICAgZmlsZS5icmVhZENydW1icyA9IGJyZWFkQ3J1bWJzO1xuICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChcImxvYWRlclwiLCB0cnVlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzZWxlY3RlZFJvb2ZQbGFuRG9jXCIsIGZpbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5iYWNrID0gKCkgPT4ge1xuICAgICAgICAgIGZvbGRlclBhdGhzLnBvcCgpO1xuXG4gICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBmb2xkZXJQYXRoc1tmb2xkZXJQYXRocy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBhcGlOYW1lID0gcHJldmlvdXMgPyBcInZpZXdIaWVyYXJjaHlcIiA6IFwiZ2V0SGllcmFyY2h5XCI7XG4gICAgICAgICAgY29uc3QgcGFyYW0gPSBwcmV2aW91cyA/IHByZXZpb3VzLl9pZCA6IHByb2plY3RTdG9yZS5nZXQoKS5faWQ7XG5cbiAgICAgICAgICBhcGlGYWN0b3J5W2FwaU5hbWVdKHBhcmFtKVxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEZvbGRlciA9IHByZXZpb3VzIHx8IG51bGw7XG4gICAgICAgICAgICAgICRzY29wZS5jdXJyZW50Rm9sZGVyID0gcHJldmlvdXMgPyBwcmV2aW91cy5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgJHNjb3BlLmZvbGRlcnMgPSBwcmV2aW91c1xuICAgICAgICAgICAgICAgID8gcmVzcC5kYXRhLmZvbGRlcnNcbiAgICAgICAgICAgICAgICA6IHJlc3AuZGF0YS5kYXRhLmhpZXJhcmNoaWVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZmlsZXMgPSBwcmV2aW91cyA/IHJlc3AuZGF0YS5maWxlcyA6IFtdO1xuICAgICAgICAgICAgICAkc2NvcGUuZm9sZGVyTmFtZSA9IHByZXZpb3VzID8gcHJldmlvdXMubmFtZSA6IFwiUm9vdCBGb2xkZXJcIjtcblxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbGRlck5hbWUgPT0gXCJSb290IEZvbGRlclwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmJhY2tCdG5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYmFja0J0blZpZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubW92ZVRvID0gKGZvbGRlciwgc291cmNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFmb2xkZXIpIHtcbiAgICAgICAgICAgIC8qIHJldHVybiBpZiBubyBmb2xkZXIgaXMgc2VsZWN0ZWQgKi9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGFzc2V0SWQ6ICRzY29wZS5zb3VyY2VmaWxlLl9pZCxcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2UuJG1vZGVsVmFsdWUuX2lkLFxuICAgICAgICAgICAgZGVzdElkOiBmb2xkZXIuX2lkXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvKiBTdGVwIDE6IE1vdmUgYXNzZXQgKi9cbiAgICAgICAgICBhcGlGYWN0b3J5XG4gICAgICAgICAgICAubW92ZUFzc2V0cyhwYXlsb2FkKVxuICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgIC8qIFN0ZXAgMjogcmVtb3ZlIGZpbGUgZnJvbSB0aGUgc291cmNlIGRpciBpZiBzdWNjZXNzZnVsICovXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuc291cmNlZGlyKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvdXJjZWRpciA9ICRzY29wZS5zb3VyY2VkaXIuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgeCA9PiB4Ll9pZCAhPT0gJHNjb3BlLnNvdXJjZWZpbGUuX2lkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uc3VjY2VzcyhcIkZpbGUgTW92ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgICAkKFwiI21vdmVUb1wiKS5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH1cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoJ2F1dG9Db21wbGV0ZScsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcbiAgICAgICAgaUVsZW1lbnQuYXV0b2NvbXBsZXRlKHtcbiAgICAgICAgICBzb3VyY2U6IHNjb3BlW2lBdHRycy51aUl0ZW1zXSxcbiAgICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlFbGVtZW50LnRyaWdnZXIoJ2lucHV0Jyk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfSkoKTtcbiAgXG4gICgoKSA9PiB7XG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnZXJyU3JjJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBlbGVtZW50LmJpbmQoJ2Vycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGF0dHJzLnNyYyAhPSBhdHRycy5lcnJTcmMpIHtcbiAgICAgICAgICAgIGF0dHJzLiRzZXQoJ3NyYycsIGF0dHJzLmVyclNyYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBcbn0pKCk7IiwiKCgpID0+IHtcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZGlyZWN0aXZlKFwibWF0ZXJpYWxQaWNrZXJcIiwgbWF0ZXJpYWxQaWNrZXIpO1xuXG4gIGZ1bmN0aW9uIG1hdGVyaWFsUGlja2VyKFxuICAgICRyb290U2NvcGUsXG4gICAgYXBpRmFjdG9yeSxcbiAgICAkdGltZW91dCxcbiAgICBnbG9iYWxzLFxuICAgIE5vdGlmaWNhdGlvblxuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgdGVtcGxhdGVVcmw6IFwiL3BhcnRpYWxzL21hdGVyaWFsUGlja2VyLmh0bWxcIixcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1hdGVyaWFsVHlwZTogXCI9XCIsXG4gICAgICAgIHNlbGVjdGVkTWF0ZXJpYWw6IFwiPVwiLFxuICAgICAgICBjdXJyZW50U2hhcGU6IFwiPVwiLFxuICAgICAgICBhc3NvY2lhdGlvbnM6IFwiPVwiXG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAvLyBsZXQgbWF0ZXJpYWxUeXBlID0gYW5ndWxhci5jb3B5KG1hdGVyaWFsVHlwZS50eXBlKTtcblxuICAgICAgICAvKiAkc2NvcGUuJHdhdGNoKCdtYXRlcmlhbFR5cGUnLChuZXdWYWwsIG9sZFZhbCkgPT4ge1xuICAgICAgICAgIGlmKG9sZFZhbC50eXBlID09PSBuZXdWYWwudHlwZSkgcmV0dXJuO1xuICAgICAgICAgIC8vIGdldCBNYXRlcmlhbCBMaXN0XG4gICAgICAgICAgaWYgKG5ld1ZhbC50eXBlID09ICdtYXRlcmlhbCcpIHtcbiAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbExpc3QgPSBbXVxuICAgICAgICAgICAgYXBpRmFjdG9yeS5saXN0QWxsTWF0ZXJpYWxzKCkudGhlbihyZXNwID0+IHtcbiAgICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7IH0pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdWYWwudHlwZSA9PSAnRENQJykge1xuICAgICAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IFtdXG4gICAgICAgICAgICBhcGlGYWN0b3J5Lmxpc3RBbGxDb21ib01hdGVyaWFscygpLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbExpc3QgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4geyB9KTtcblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gW11cbiAgICAgICAgICAgIGFwaUZhY3RvcnkubGlzdEFsbEVxdWlwbWVudHMoKS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICB9KS5jYXRjaChlID0+IHsgfSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpICovXG5cbiAgICAgICAgLy8gZ2V0IE1hdGVyaWFsIExpc3RcbiAgICAgICAgJHNjb3BlLm1hdGVyaWFsTGlzdCA9IFtdO1xuICAgICAgICAkc2NvcGUuZW50aXR5VHlwZSA9IDE7XG4gICAgICAgIGFwaUZhY3RvcnlcbiAgICAgICAgICAubGlzdEFsbE1hdGVyaWFscygpXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAkc2NvcGUubWF0ZXJpYWxMaXN0ID0gcmVzcC5kYXRhLmxpc3Q7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWF0ZXJpYWxMaXN0WzBdKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlID0+IHt9KTtcblxuICAgICAgICAvLyBnZXQgRENQIExpc3RcbiAgICAgICAgJHNjb3BlLmRjcExpc3QgPSBbXTtcbiAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgIC5saXN0QWxsQ29tYm9NYXRlcmlhbHMoKVxuICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgICAgJHNjb3BlLmRjcExpc3QgPSByZXNwLmRhdGEubGlzdDtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlID0+IHt9KTtcblxuICAgICAgICAvLyBnZXQgRXF1aW9tZW50IExpc3RcbiAgICAgICAgJHNjb3BlLmVxdWlwbWVudExpc3QgPSBbXTtcbiAgICAgICAgYXBpRmFjdG9yeVxuICAgICAgICAgIC5saXN0QWxsRXF1aXBtZW50cygpXG4gICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgICAkc2NvcGUuZXF1aXBtZW50TGlzdCA9IHJlc3AuZGF0YS5saXN0O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGUgPT4ge30pO1xuXG4gICAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsSW5mbyA9IG1hdGVyaWFsID0+IHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoXCJzZWxlY3RlZE1hdGVyaWFsXCIsIG1hdGVyaWFsKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhtYXRlcmlhbCk7XG4gICAgICAgICAgJHNjb3BlLm1hdGVyaWFsSW1hZ2VzID0gbWF0ZXJpYWw7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLm1hdGVyaWFsU2VsZWN0aW9uID0gaXRlbSA9PiB7XG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwgPSBpdGVtO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5yZXNldFNlbGVjdGVkTWF0ZXJpYWwgPSB2YWwgPT4ge1xuICAgICAgICAgIGlmICghJHNjb3BlLnNlbGVjdGVkTWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmN1cnJlbnRTaGFwZSk7XG4gICAgICAgICAgaWYgKHZhbCA9PSAwKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWF0ZXJpYWxMaXN0WzBdKTtcbiAgICAgICAgICAgICRzY29wZS5lbnRpdHlUeXBlID0gdmFsICsgMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PSAxKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXRlcmlhbCA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZGNwTGlzdFswXSk7XG4gICAgICAgICAgICAkc2NvcGUuZW50aXR5VHlwZSA9IHZhbCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hdGVyaWFsID0gYW5ndWxhci5jb3B5KCRzY29wZS5lcXVpcG1lbnRMaXN0WzBdKTtcbiAgICAgICAgICAgICRzY29wZS5lbnRpdHlUeXBlID0gdmFsICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFzc2lnbk1hdGVyaWFsID0gKHNoYXBlSWQsIGVudGl0eUlkLCB0eXBlKSA9PiB7XG4gICAgICAgICAgJChcIiNsb2FkTWF0ZXJpYWxcIikubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgICRzY29wZS5hc3NvY2lhdGlvbnMuY3JlYXRlQXNzb2NpYXRpb24oc2hhcGVJZCwgZW50aXR5SWQsIHR5cGUpO1xuICAgICAgICAgXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSkoKTtcbiIsIigoKSA9PiB7XHJcbiAgLyogQ3VycmVudHkgY29udmVydG9yICovXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmlsdGVyKFwiY29udmVydEN1cnJlbmN5XCIsIGNvbnZlcnRDdXJyZW5jeSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNvbnZlcnRDdXJyZW5jeSgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCwgY29udmVyc2lvblJhdGUpIHtcclxuICAgICAgaWYgKCFpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBpbnB1dCAqIGNvbnZlcnNpb25SYXRlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyogUm91bmQgbnVtYmVyICovXHJcblxyXG4gIGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIpLmZpbHRlcihcInJvdW5kTnVtXCIsIHJvdW5kTnVtKTtcclxuXHJcbiAgZnVuY3Rpb24gcm91bmROdW0oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHBsYWNlKSB7XHJcbiAgICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKGlucHV0KS50b0ZpeGVkKHBsYWNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qIFJvdW5kIG51bWJlciAqL1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5maWx0ZXIoXCJyb3VuZE51bWJcIiwgcm91bmROdW1iKTtcclxuXHJcbiAgZnVuY3Rpb24gcm91bmROdW1iKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBwbGFjZSkge1xyXG4gICAgICBpZiAoIWlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIE51bWJlcihpbnB1dCkudG9GaXhlZChwbGFjZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKiBGZXRjaCB0aHVtYm5haWwgKi9cclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmlsdGVyKFwiZmV0Y2hUaHVtYm5haWxcIiwgZmV0Y2hUaHVtYm5haWwpO1xyXG5cclxuICBmdW5jdGlvbiBmZXRjaFRodW1ibmFpbCgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xyXG4gICAgICBpZiAoIWlucHV0KSByZXR1cm47XHJcbiAgICAgIHJldHVybiAvY2xvdWRpbmFyeS8udGVzdChpbnB1dC5zZWN1cmVfdXJsKVxyXG4gICAgICAgID8gaW5wdXQuc2VjdXJlX3VybC5yZXBsYWNlKC9cXC5wZGYvLCBcIi5wbmdcIilcclxuICAgICAgICA6IGlucHV0LnRodW1ibmFpbDtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKiBQYXJzZSB0eXBpbmcgbWVtYmVycyAqL1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5maWx0ZXIoXCJwYXJzZVR5cGluZ01lbWJlcnNcIiwgcGFyc2VUeXBpbmdNZW1iZXJzKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VUeXBpbmdNZW1iZXJzKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XHJcbiAgICAgIGlmICghaW5wdXQgfHwgIWlucHV0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaW5wdXQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIHJldHVybiBgJHtpbnB1dC5sZW5ndGh9IHBlb3BsZSBhcmUgdHlwaW5nLi5gO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBgJHtpbnB1dFswXS5uaWNrbmFtZX0gaXMgdHlwaW5nLi5gO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLypzdW0gb2YgY29sdW1ucyovXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmlsdGVyKFwic3VtT2ZDb2x1bW5cIiwgc3VtT2ZDb2x1bW4pO1xyXG5cclxuICBmdW5jdGlvbiBzdW1PZkNvbHVtbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjb2x1bW4pIHtcclxuICAgICAgdmFyIHRvdGFsID0gMDtcclxuXHJcbiAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgdG90YWwgKz0gcGFyc2VJbnQoaXRlbVtjb2x1bW5dKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gdG90YWw7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLypBdXRvY29tcGxldGUgZmlsdGVyICovXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuZmlsdGVyKFwic2VhcmNoRm9yXCIsIHNlYXJjaEZvcik7XHJcblxyXG4gIGZ1bmN0aW9uIHNlYXJjaEZvcigpIHtcclxuICAgIC8vIEFsbCBmaWx0ZXJzIG11c3QgcmV0dXJuIGEgZnVuY3Rpb24uIFRoZSBmaXJzdCBwYXJhbWV0ZXJcclxuICAgIC8vIGlzIHRoZSBkYXRhIHRoYXQgaXMgdG8gYmUgZmlsdGVyZWQsIGFuZCB0aGUgc2Vjb25kIGlzIGFuXHJcbiAgICAvLyBhcmd1bWVudCB0aGF0IG1heSBiZSBwYXNzZWQgd2l0aCBhIGNvbG9uIChzZWFyY2hGb3I6c2VhcmNoU3RyaW5nKVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbihhcnIsIHNlYXJjaFN0cmluZykge1xyXG4gICAgICBpZiAoIXNlYXJjaFN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgIHNlYXJjaFN0cmluZyA9IHNlYXJjaFN0cmluZy50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgLy8gVXNpbmcgdGhlIGZvckVhY2ggaGVscGVyIG1ldGhvZCB0byBsb29wIHRocm91Z2ggdGhlIGFycmF5XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhcnIsIGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hTdHJpbmcpICE9PSAtMSkge1xyXG4gICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc3VsdC5wdXNoKHNlYXJjaFN0cmluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gIH1cclxufSkoKTtcclxuIl19
